/*! For license information please see main.0ef0e122.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},82:(e,t)=>{var n=60103,r=60106,i=60107,o=60108,a=60114,s=60109,l=60110,c=60112,u=60113,d=60120,h=60115,f=60116,p=60121,g=60122,m=60117,v=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),i=b("react.fragment"),o=b("react.strict_mode"),a=b("react.profiler"),s=b("react.provider"),l=b("react.context"),c=b("react.forward_ref"),u=b("react.suspense"),d=b("react.suspense_list"),h=b("react.memo"),f=b("react.lazy"),p=b("react.block"),g=b("react.server.block"),m=b("react.fundamental"),v=b("react.debug_trace_mode"),y=b("react.legacy_hidden")}function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case a:case o:case u:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case h:case s:return e;default:return t}}case r:return t}}}t.isContextConsumer=function(e){return w(e)===l}},86:(e,t,n)=>{e.exports=n(82)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,g(w,v.prototype),w.isPureReactComponent=!0;var A=Array.isArray,E=Object.prototype.hasOwnProperty,x={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,i)&&!I.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:x.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var D=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===o?"."+N(l,0):o,A(a)?(i="",null!=e&&(i=e.replace(D,"$&/")+"/"),T(a,t,i,"",(function(e){return e}))):null!=a&&(C(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(D,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",A(e))for(var c=0;c<e.length;c++){var u=o+N(s=e[c],c);l+=T(s,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=T(s=s.value,t,i,u=o+N(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function k(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},R={transition:null},_={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:R,ReactCurrentOwner:x};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:k,forEach:function(e,t,n){k(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return k(e,(function(){t++})),t},toArray:function(e){return k(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=x.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},219:(e,t,n)=>{var r=n(763),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var s=l(t),g=l(n),m=0;m<a.length;++m){var v=a[m];if(!o[v]&&(!r||!r[v])&&(!g||!g[v])&&(!s||!s[v])){var y=h(n,v);try{c(t,v,y)}catch(b){}}}}return t}},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function A(e){if(m=!1,w(e),!g)if(null!==r(c))g=!0,R(E);else{var t=r(u);null!==t&&_(A,t.startTime-e)}}function E(e,n){g=!1,m&&(m=!1,y(C),C=-1),p=!0;var o=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!T());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&_(A,d.startTime-n),l=!1}return l}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,I=!1,S=null,C=-1,D=5,N=-1;function T(){return!(t.unstable_now()-N<D)}function k(){if(null!==S){var e=t.unstable_now();N=e;var n=!0;try{n=S(!0,e)}finally{n?x():(I=!1,S=null)}}else I=!1}if("function"===typeof b)x=function(){b(k)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,P=O.port2;O.port1.onmessage=k,x=function(){P.postMessage(null)}}else x=function(){v(k,0)};function R(e){S=e,I||(I=!0,x())}function _(e,n){C=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,R(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(m?(y(C),C=-1):m=!0,_(A,o-a))):(e.sortIndex=s,n(c,e),g||p||(g=!0,R(E))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},237:(e,t,n)=>{n(365)},365:(e,t,n)=>{var r=n(43);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useSyncExternalStore,a=r.useRef,s=r.useEffect,l=r.useMemo,c=r.useDebugValue},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),i=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),E=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),D=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var _=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=_&&e[_]||e["@@iterator"])?e:null}var M,j=Object.assign;function B(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var F=!1;function U(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(Qo){var r=Qo}Reflect.construct(e,[],t)}else{try{t.call()}catch(Qo){r=Qo}e.call(t.prototype)}else{try{throw Error()}catch(Qo){r=Qo}e()}}catch(Qo){if(Qo&&r&&"string"===typeof Qo.stack){for(var i=Qo.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function G(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case E:return"Portal";case S:return"Profiler";case I:return"StrictMode";case T:return"Suspense";case k:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case D:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(cu){return e.body}}function Y(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function $(e,t){X(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function oe(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function Ae(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,xe=null,Ie=null;function Se(e){if(e=bi(e)){if("function"!==typeof Ee)throw Error(o(280));var t=e.stateNode;t&&(t=Ai(t),Ee(e.stateNode,e.type,t))}}function Ce(e){xe?Ie?Ie.push(e):Ie=[e]:xe=e}function De(){if(xe){var e=xe,t=Ie;if(Ie=xe=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ne(e,t){return e(t)}function Te(){}var ke=!1;function Oe(e,t,n){if(ke)return e(t,n);ke=!0;try{return Ne(e,t,n)}finally{ke=!1,(null!==xe||null!==Ie)&&(Te(),De())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=Ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Re=!1;if(u)try{var _e={};Object.defineProperty(_e,"passive",{get:function(){Re=!0}}),window.addEventListener("test",_e,_e),window.removeEventListener("test",_e,_e)}catch(ue){Re=!1}function Le(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,je=null,Be=!1,Fe=null,Ue={onError:function(e){Me=!0,je=e}};function Ge(e,t,n,r,i,o,a,s,l){Me=!1,je=null,Le.apply(Ue,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(ze(e)!==e)throw Error(o(188))}function He(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ve(i),e;if(a===r)return Ve(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),null!==e?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Qe=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Je=i.unstable_requestPaint,Xe=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=dt(s):0!==(o&=a)&&(r=dt(o))}else 0!==(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var At,Et,xt,It,St,Ct=!1,Dt=[],Nt=null,Tt=null,kt=null,Ot=new Map,Pt=new Map,Rt=[],_t="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":kt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void St(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ft(e,t,n){Bt(e)&&n.delete(t)}function Ut(){Ct=!1,null!==Nt&&Bt(Nt)&&(Nt=null),null!==Tt&&Bt(Tt)&&(Tt=null),null!==kt&&Bt(kt)&&(kt=null),Ot.forEach(Ft),Pt.forEach(Ft)}function Gt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return Gt(t,e)}if(0<Dt.length){Gt(Dt[0],e);for(var n=1;n<Dt.length;n++){var r=Dt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nt&&Gt(Nt,e),null!==Tt&&Gt(Tt,e),null!==kt&&Gt(kt,e),Ot.forEach(t),Pt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)jt(n),null===n.blockedOn&&Rt.shift()}var Wt=w.ReactCurrentBatchConfig,Vt=!0;function Ht(e,t,n,r){var i=bt,o=Wt.transition;Wt.transition=null;try{bt=1,Qt(e,t,n,r)}finally{bt=i,Wt.transition=o}}function qt(e,t,n,r){var i=bt,o=Wt.transition;Wt.transition=null;try{bt=4,Qt(e,t,n,r)}finally{bt=i,Wt.transition=o}}function Qt(e,t,n,r){if(Vt){var i=Yt(e,t,n,r);if(null===i)Vr(e,t,r,Kt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Nt=Mt(Nt,e,t,n,r,i),!0;case"dragenter":return Tt=Mt(Tt,e,t,n,r,i),!0;case"mouseover":return kt=Mt(kt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ot.set(o,Mt(Ot.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Pt.set(o,Mt(Pt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<_t.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&At(o),null===(o=Yt(e,t,n,r))&&Vr(e,t,r,Kt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var Kt=null;function Yt(e,t,n,r){if(Kt=null,null!==(e=yi(e=Ae(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,$t=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=$t,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=j({},cn,{view:0,detail:0}),hn=on(dn),fn=j({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(fn),gn=on(j({},fn,{dataTransfer:0})),mn=on(j({},dn,{relatedTarget:0})),vn=on(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),wn=on(j({},cn,{data:0})),An={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function Sn(){return In}var Cn=j({},dn,{key:function(e){if(e.key){var t=An[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Dn=on(Cn),Nn=on(j({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=on(j({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),kn=on(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=j({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=on(On),Rn=[9,13,27,32],_n=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Mn=u&&"TextEvent"in window&&!Ln,jn=u&&(!_n||Ln&&8<Ln&&11>=Ln),Bn=String.fromCharCode(32),Fn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ce(r),0<(t=qr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Qn=null;function Kn(e){Br(e,0)}function Yn(e){if(Q(wi(e)))return e}function Jn(e,t){if("change"===e)return t}var Xn=!1;if(u){var $n;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}$n=Zn}else $n=!1;Xn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Qn=qn=null)}function nr(e){if("value"===e.propertyName&&Yn(Qn)){var t=[];Hn(t,Qn,e,Ae(e)),Oe(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Qn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Qn)}function or(e,t){if("click"===e)return Yn(t)}function ar(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=u&&"documentMode"in document&&11>=document.documentMode,mr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==K(r)||("selectionStart"in(r=mr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=qr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function Ar(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:Ar("Animation","AnimationEnd"),animationiteration:Ar("Animation","AnimationIteration"),animationstart:Ar("Animation","AnimationStart"),transitionend:Ar("Transition","TransitionEnd")},xr={},Ir={};function Sr(e){if(xr[e])return xr[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return xr[e]=n[t];return e}u&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var Cr=Sr("animationend"),Dr=Sr("animationiteration"),Nr=Sr("animationstart"),Tr=Sr("transitionend"),kr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){kr.set(e,t),l(t,[e])}for(var Rr=0;Rr<Or.length;Rr++){var _r=Or[Rr];Pr(_r.toLowerCase(),"on"+(_r[0].toUpperCase()+_r.slice(1)))}Pr(Cr,"onAnimationEnd"),Pr(Dr,"onAnimationIteration"),Pr(Nr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,c){if(Ge.apply(this,arguments),Me){if(!Me)throw Error(o(198));var u=je;Me=!1,je=null,Be||(Be=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Br(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;jr(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;jr(i,s,c),o=l}}}if(Be)throw e=Fe,Be=!1,Fe=null,e}function Fr(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Gr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Gr]){e[Gr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Gr]||(t[Gr]=!0,Ur("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Jt(t)){case 1:var i=Ht;break;case 4:i=qt;break;default:i=Qt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=yi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Oe((function(){var r=o,i=Ae(n),a=[];e:{var s=kr.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Dn;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case Cr:case Dr:case Nr:l=vn;break;case Tr:l=kn;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Nn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==h&&(null!=(g=Pe(p,h))&&u.push(Hr(p,g,f)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,g="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Nn,g="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:wi(l),f=null==c?s:wi(c),(s=new u(g,p+"leave",l,n,i)).target=d,s.relatedTarget=f,g=null,yi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,g=u),d=g,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Qr(f))p++;for(f=0,g=h;g;g=Qr(g))f++;for(;0<p-f;)u=Qr(u),p--;for(;0<f-p;)h=Qr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Qr(u),h=Qr(h)}u=null}else u=null;null!==l&&Kr(a,s,l,u,!1),null!==c&&null!==d&&Kr(a,d,c,u,!0)}if("select"===(l=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Jn;else if(Vn(s))if(Xn)m=ar;else{m=ir;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=or);switch(m&&(m=m(e,r))?Hn(a,m,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?wi(r):window,e){case"focusin":(Vn(v)||"true"===v.contentEditable)&&(mr=v,vr=r,yr=null);break;case"focusout":yr=vr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":wr(a,n,i)}var y;if(_n)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(y=en()):($t="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(v=qr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=Gn(n))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Gn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Bn);case"textInput":return(e=t.data)===Bn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!_n&&Un(e,t)?(e=en(),Zt=$t=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Br(a,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Pe(e,n))&&r.unshift(Hr(e,o,i)),null!=(o=Pe(e,t))&&r.push(Hr(e,o,i))),e=e.return}return r}function Qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Pe(n,o))&&a.unshift(Hr(n,l,s)):i||null!=(l=Pe(n,o))&&a.push(Hr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Jr,"")}function $r(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,gi="__reactEvents$"+di,mi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Ai(e){return e[fi]||null}var Ei=[],xi=-1;function Ii(e){return{current:e}}function Si(e){0>xi||(e.current=Ei[xi],Ei[xi]=null,xi--)}function Ci(e,t){xi++,Ei[xi]=e.current,e.current=t}var Di={},Ni=Ii(Di),Ti=Ii(!1),ki=Di;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Di;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Si(Ti),Si(Ni)}function _i(e,t,n){if(Ni.current!==Di)throw Error(o(168));Ci(Ni,t),Ci(Ti,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,W(e)||"Unknown",i));return j({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Di,ki=Ni.current,Ci(Ni,e),Ci(Ti,Ti.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Li(e,t,ki),r.__reactInternalMemoizedMergedChildContext=e,Si(Ti),Si(Ni),Ci(Ni,e)):Si(Ti),Ci(Ti,n)}var Bi=null,Fi=!1,Ui=!1;function Gi(e){null===Bi?Bi=[e]:Bi.push(e)}function zi(){if(!Ui&&null!==Bi){Ui=!0;var e=0,t=bt;try{var n=Bi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Bi=null,Fi=!1}catch(i){throw null!==Bi&&(Bi=Bi.slice(e+1)),Qe(Ze,zi),i}finally{bt=t,Ui=!1}}return null}var Wi=[],Vi=0,Hi=null,qi=0,Qi=[],Ki=0,Yi=null,Ji=1,Xi="";function $i(e,t){Wi[Vi++]=qi,Wi[Vi++]=Hi,Hi=e,qi=t}function Zi(e,t,n){Qi[Ki++]=Ji,Qi[Ki++]=Xi,Qi[Ki++]=Yi,Yi=e;var r=Ji;e=Xi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ji=1<<32-at(t)+i|n<<i|r,Xi=o+e}else Ji=1<<o|n<<i|r,Xi=e}function eo(e){null!==e.return&&($i(e,1),Zi(e,1,0))}function to(e){for(;e===Hi;)Hi=Wi[--Vi],Wi[Vi]=null,qi=Wi[--Vi],Wi[Vi]=null;for(;e===Yi;)Yi=Qi[--Ki],Qi[Ki]=null,Xi=Qi[--Ki],Qi[Ki]=null,Ji=Qi[--Ki],Qi[Ki]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Mc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Ji,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Mc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function go(e){null===oo?oo=[e]:oo.push(e)}var mo=w.ReactCurrentBatchConfig;function vo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function yo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bo(e){return(0,e._init)(e._payload)}function wo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Bc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=zc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===x?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===P&&bo(o)===t.type)?((r=i(t,n.props)).ref=vo(e,t,n),r.return=e,r):((r=Fc(n.type,n.key,n.props,null,e.mode,r)).ref=vo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Wc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Uc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=zc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case A:return(n=Fc(t.type,t.key,t.props,null,e.mode,n)).ref=vo(e,null,t),n.return=e,n;case E:return(t=Wc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Uc(t,e.mode,n,null)).return=e,t;yo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case A:return n.key===i?c(e,t,n,r):null;case E:return n.key===i?u(e,t,n,r):null;case P:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:d(e,t,n,r,null);yo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case A:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,i,null);yo(t,r)}return null}function g(i,o,s,l){for(var c=null,u=null,d=o,g=o=0,m=null;null!==d&&g<s.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var v=f(i,d,s[g],l);if(null===v){null===d&&(d=m);break}e&&d&&null===v.alternate&&t(i,d),o=a(v,o,g),null===u?c=v:u.sibling=v,u=v,d=m}if(g===s.length)return n(i,d),io&&$i(i,g),c;if(null===d){for(;g<s.length;g++)null!==(d=h(i,s[g],l))&&(o=a(d,o,g),null===u?c=d:u.sibling=d,u=d);return io&&$i(i,g),c}for(d=r(i,d);g<s.length;g++)null!==(m=p(d,i,g,s[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),o=a(m,o,g),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach((function(e){return t(i,e)})),io&&$i(i,g),c}function m(i,s,l,c){var u=L(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,g=s,m=s=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=f(i,g,y.value,c);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&t(i,g),s=a(b,s,m),null===d?u=b:d.sibling=b,d=b,g=v}if(y.done)return n(i,g),io&&$i(i,m),u;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=h(i,y.value,c))&&(s=a(y,s,m),null===d?u=y:d.sibling=y,d=y);return io&&$i(i,m),u}for(g=r(i,g);!y.done;m++,y=l.next())null!==(y=p(g,i,m,y.value,c))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),s=a(y,s,m),null===d?u=y:d.sibling=y,d=y);return e&&g.forEach((function(e){return t(i,e)})),io&&$i(i,m),u}return function e(r,o,a,l){if("object"===typeof a&&null!==a&&a.type===x&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case A:e:{for(var c=a.key,u=o;null!==u;){if(u.key===c){if((c=a.type)===x){if(7===u.tag){n(r,u.sibling),(o=i(u,a.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&bo(c)===u.type){n(r,u.sibling),(o=i(u,a.props)).ref=vo(r,u,a),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===x?((o=Uc(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Fc(a.type,a.key,a.props,null,r.mode,l)).ref=vo(r,o,a),l.return=r,r=l)}return s(r);case E:e:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Wc(a,r.mode,l)).return=r,r=o}return s(r);case P:return e(r,o,(u=a._init)(a._payload),l)}if(te(a))return g(r,o,a,l);if(L(a))return m(r,o,a,l);yo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=zc(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var Ao=wo(!0),Eo=wo(!1),xo=Ii(null),Io=null,So=null,Co=null;function Do(){Co=So=Io=null}function No(e){var t=xo.current;Si(xo),e._currentValue=t}function To(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ko(e,t){Io=e,Co=So=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xs=!0),e.firstContext=null)}function Oo(e){var t=e._currentValue;if(Co!==e)if(e={context:e,memoizedValue:t,next:null},null===So){if(null===Io)throw Error(o(308));So=e,Io.dependencies={lanes:0,firstContext:e}}else So=So.next=e;return t}var Po=null;function Ro(e){null===Po?Po=[e]:Po.push(e)}function _o(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ro(t)):(n.next=i.next,i.next=n),t.interleaved=n,Lo(e,r)}function Lo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Mo=!1;function jo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Uo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Rl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Lo(e,n)}return null===(i=r.interleaved)?(t.next=t,Ro(r)):(t.next=i.next,i.next=t),r.interleaved=t,Lo(e,n)}function Go(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function zo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vo(e,t,n,r){var i=e.updateQueue;Mo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(a=0,u=c=l=null,s=o;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,g=s;switch(h=t,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=g.payload)?p.call(f,d,h):p)||void 0===h)break e;d=j({},d,h);break e;case 2:Mo=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Gl|=a,e.lanes=a,e.memoizedState=d}}function Ho(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var qo={},Ko=Ii(qo),Yo=Ii(qo),Jo=Ii(qo);function Xo(e){if(e===qo)throw Error(o(174));return e}function $o(e,t){switch(Ci(Jo,t),Ci(Yo,e),Ci(Ko,qo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Ko),Ci(Ko,t)}function Zo(){Si(Ko),Si(Yo),Si(Jo)}function ea(e){Xo(Jo.current);var t=Xo(Ko.current),n=le(t,e.type);t!==n&&(Ci(Yo,e),Ci(Ko,n))}function ta(e){Yo.current===e&&(Si(Ko),Si(Yo))}var ra=Ii(0);function ia(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var oa=[];function sa(){for(var e=0;e<oa.length;e++)oa[e]._workInProgressVersionPrimary=null;oa.length=0}var la=w.ReactCurrentDispatcher,ca=w.ReactCurrentBatchConfig,ua=0,da=null,ha=null,fa=null,pa=!1,ga=!1,ma=0,va=0;function ya(){throw Error(o(321))}function ba(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function wa(e,t,n,r,i,a){if(ua=a,da=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,la.current=null===e||null===e.memoizedState?rs:is,e=n(r,i),ga){a=0;do{if(ga=!1,ma=0,25<=a)throw Error(o(301));a+=1,fa=ha=null,t.updateQueue=null,la.current=os,e=n(r,i)}while(ga)}if(la.current=ns,t=null!==ha&&null!==ha.next,ua=0,fa=ha=da=null,pa=!1,t)throw Error(o(300));return e}function Aa(){var e=0!==ma;return ma=0,e}function Ea(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===fa?da.memoizedState=fa=e:fa=fa.next=e,fa}function xa(){if(null===ha){var e=da.alternate;e=null!==e?e.memoizedState:null}else e=ha.next;var t=null===fa?da.memoizedState:fa.next;if(null!==t)fa=t,ha=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ha=e).memoizedState,baseState:ha.baseState,baseQueue:ha.baseQueue,queue:ha.queue,next:null},null===fa?da.memoizedState=fa=e:fa=fa.next=e}return fa}function Ia(e,t){return"function"===typeof t?t(e):t}function Sa(e){var t=xa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ha,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((ua&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,da.lanes|=d,Gl|=d}u=u.next}while(null!==u&&u!==a);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(xs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,da.lanes|=a,Gl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ca(e){var t=xa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(xs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Da(){}function Na(e,t){var n=da,r=xa(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,xs=!0),r=r.queue,Ua(Oa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==fa&&1&fa.memoizedState.tag){if(n.flags|=2048,La(9,ka.bind(null,n,r,i,t),void 0,null),null===_l)throw Error(o(349));0!==(30&ua)||Ta(n,t,i)}return i}function Ta(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=da.updateQueue)?(t={lastEffect:null,stores:null},da.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ka(e,t,n,r){t.value=n,t.getSnapshot=r,Pa(t)&&Ra(e)}function Oa(e,t,n){return n((function(){Pa(t)&&Ra(e)}))}function Pa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Ra(e){var t=Lo(e,1);null!==t&&sc(t,e,1,-1)}function _a(e){var t=Ea();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:e},t.queue=e,e=e.dispatch=$a.bind(null,da,e),[t.memoizedState,e]}function La(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=da.updateQueue)?(t={lastEffect:null,stores:null},da.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ma(){return xa().memoizedState}function ja(e,t,n,r){var i=Ea();da.flags|=e,i.memoizedState=La(1|t,n,void 0,void 0===r?null:r)}function Ba(e,t,n,r){var i=xa();r=void 0===r?null:r;var o=void 0;if(null!==ha){var a=ha.memoizedState;if(o=a.destroy,null!==r&&ba(r,a.deps))return void(i.memoizedState=La(t,n,o,r))}da.flags|=e,i.memoizedState=La(1|t,n,o,r)}function Fa(e,t){return ja(8390656,8,e,t)}function Ua(e,t){return Ba(2048,8,e,t)}function Ga(e,t){return Ba(4,2,e,t)}function za(e,t){return Ba(4,4,e,t)}function Wa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Va(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4,4,Wa.bind(null,t,e),n)}function Ha(){}function qa(e,t){var n=xa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ba(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qa(e,t){var n=xa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ba(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ka(e,t,n){return 0===(21&ua)?(e.baseState&&(e.baseState=!1,xs=!0),e.memoizedState=n):(sr(n,t)||(n=gt(),da.lanes|=n,Gl|=n,e.baseState=!0),t)}function Ya(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ca.transition;ca.transition={};try{e(!1),t()}finally{bt=n,ca.transition=r}}function Ja(){return xa().memoizedState}function Xa(e,t,n){var r=ac(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Za(e))es(t,n);else if(null!==(n=_o(e,t,n,r))){sc(n,e,r,oc()),ts(n,t,r)}}function $a(e,t,n){var r=ac(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Za(e))es(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(i.next=i,Ro(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(Qo){}null!==(n=_o(e,t,i,r))&&(sc(n,e,r,i=oc()),ts(n,t,r))}}function Za(e){var t=e.alternate;return e===da||null!==t&&t===da}function es(e,t){ga=pa=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ts(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var ns={readContext:Oo,useCallback:ya,useContext:ya,useEffect:ya,useImperativeHandle:ya,useInsertionEffect:ya,useLayoutEffect:ya,useMemo:ya,useReducer:ya,useRef:ya,useState:ya,useDebugValue:ya,useDeferredValue:ya,useTransition:ya,useMutableSource:ya,useSyncExternalStore:ya,useId:ya,unstable_isNewReconciler:!1},rs={readContext:Oo,useCallback:function(e,t){return Ea().memoizedState=[e,void 0===t?null:t],e},useContext:Oo,useEffect:Fa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ja(4194308,4,Wa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ja(4194308,4,e,t)},useInsertionEffect:function(e,t){return ja(4,2,e,t)},useMemo:function(e,t){var n=Ea();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ea();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Xa.bind(null,da,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ea().memoizedState=e},useState:_a,useDebugValue:Ha,useDeferredValue:function(e){return Ea().memoizedState=e},useTransition:function(){var e=_a(!1),t=e[0];return e=Ya.bind(null,e[1]),Ea().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=da,i=Ea();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===_l)throw Error(o(349));0!==(30&ua)||Ta(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Fa(Oa.bind(null,r,a,e),[e]),r.flags|=2048,La(9,ka.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ea(),t=_l.identifierPrefix;if(io){var n=Xi;t=":"+t+"R"+(n=(Ji&~(1<<32-at(Ji)-1)).toString(32)+n),0<(n=ma++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=va++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},is={readContext:Oo,useCallback:qa,useContext:Oo,useEffect:Ua,useImperativeHandle:Va,useInsertionEffect:Ga,useLayoutEffect:za,useMemo:Qa,useReducer:Sa,useRef:Ma,useState:function(){return Sa(Ia)},useDebugValue:Ha,useDeferredValue:function(e){return Ka(xa(),ha.memoizedState,e)},useTransition:function(){return[Sa(Ia)[0],xa().memoizedState]},useMutableSource:Da,useSyncExternalStore:Na,useId:Ja,unstable_isNewReconciler:!1},os={readContext:Oo,useCallback:qa,useContext:Oo,useEffect:Ua,useImperativeHandle:Va,useInsertionEffect:Ga,useLayoutEffect:za,useMemo:Qa,useReducer:Ca,useRef:Ma,useState:function(){return Ca(Ia)},useDebugValue:Ha,useDeferredValue:function(e){var t=xa();return null===ha?t.memoizedState=e:Ka(t,ha.memoizedState,e)},useTransition:function(){return[Ca(Ia)[0],xa().memoizedState]},useMutableSource:Da,useSyncExternalStore:Na,useId:Ja,unstable_isNewReconciler:!1};function as(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ss(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ls={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=oc(),i=ac(e),o=Fo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Uo(e,o,i))&&(sc(t,e,i,r),Go(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=oc(),i=ac(e),o=Fo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Uo(e,o,i))&&(sc(t,e,i,r),Go(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=oc(),r=ac(e),i=Fo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Uo(e,i,r))&&(sc(t,e,r,n),Go(t,e,r))}};function cs(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function us(e,t,n){var r=!1,i=Di,o=t.contextType;return"object"===typeof o&&null!==o?o=Oo(o):(i=Pi(t)?ki:Ni.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Di),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ls,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ds(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ls.enqueueReplaceState(t,t.state,null)}function hs(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},jo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Oo(o):(o=Pi(t)?ki:Ni.current,i.context=Oi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(ss(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ls.enqueueReplaceState(i,i.state,null),Vo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function fs(e,t){try{var n="",r=t;do{n+=G(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ps(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function gs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ms="function"===typeof WeakMap?WeakMap:Map;function vs(e,t,n){(n=Fo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Yl||(Yl=!0,Jl=r),gs(0,t)},n}function ys(e,t,n){(n=Fo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){gs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){gs(0,t),"function"!==typeof r&&(null===Xl?Xl=new Set([this]):Xl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function bs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ms;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function ws(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function As(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fo(-1,1)).tag=2,Uo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var Es=w.ReactCurrentOwner,xs=!1;function Is(e,t,n,r){t.child=null===e?Eo(t,null,n,r):Ao(t,e.child,n,r)}function Ss(e,t,n,r,i){n=n.render;var o=t.ref;return ko(t,i),r=wa(e,t,n,r,o,i),n=Aa(),null===e||xs?(io&&n&&eo(t),t.flags|=1,Is(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ys(e,t,i))}function Cs(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||jc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Fc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ds(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Ys(e,t,i)}return t.flags|=1,(e=Bc(o,r)).ref=t.ref,e.return=t,t.child=e}function Ds(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(xs=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ys(e,t,i);0!==(131072&e.flags)&&(xs=!0)}}return Os(e,t,n,r,i)}function Ns(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Bl,jl),jl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Bl,jl),jl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ci(Bl,jl),jl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ci(Bl,jl),jl|=r;return Is(e,t,i,n),t.child}function ks(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Os(e,t,n,r,i){var o=Pi(n)?ki:Ni.current;return o=Oi(t,o),ko(t,i),n=wa(e,t,n,r,o,i),r=Aa(),null===e||xs?(io&&r&&eo(t),t.flags|=1,Is(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ys(e,t,i))}function Ps(e,t,n,r,i){if(Pi(n)){var o=!0;Mi(t)}else o=!1;if(ko(t,i),null===t.stateNode)Ks(e,t),us(t,n,r),hs(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Oo(c):c=Oi(t,c=Pi(n)?ki:Ni.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&ds(t,a,r,c),Mo=!1;var h=t.memoizedState;a.state=h,Vo(t,r,a,i),l=t.memoizedState,s!==r||h!==l||Ti.current||Mo?("function"===typeof u&&(ss(t,n,u,r),l=t.memoizedState),(s=Mo||cs(t,n,s,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Bo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:as(t.type,s),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Oo(l):l=Oi(t,l=Pi(n)?ki:Ni.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&ds(t,a,r,l),Mo=!1,h=t.memoizedState,a.state=h,Vo(t,r,a,i);var p=t.memoizedState;s!==d||h!==p||Ti.current||Mo?("function"===typeof f&&(ss(t,n,f,r),p=t.memoizedState),(c=Mo||cs(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Rs(e,t,n,r,o,i)}function Rs(e,t,n,r,i,o){ks(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&ji(t,n,!1),Ys(e,t,o);r=t.stateNode,Es.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Ao(t,e.child,null,o),t.child=Ao(t,null,s,o)):Is(e,t,s,o),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function _s(e){var t=e.stateNode;t.pendingContext?_i(0,t.pendingContext,t.pendingContext!==t.context):t.context&&_i(0,t.context,!1),$o(e,t.containerInfo)}function Ls(e,t,n,r,i){return po(),go(i),t.flags|=256,Is(e,t,n,r),t.child}var Ms,js,Bs,Fs,Us={dehydrated:null,treeContext:null,retryLane:0};function Gs(e){return{baseLanes:e,cachePool:null,transitions:null}}function zs(e,t,n){var r,i=t.pendingProps,a=ra.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ci(ra,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Gc(l,i,0,null),e=Uc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Gs(n),t.memoizedState=Us,e):Ws(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Vs(e,t,s,r=ps(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Gc({mode:"visible",children:r.children},i,0,null),(a=Uc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Ao(t,e.child,null,s),t.child.memoizedState=Gs(s),t.memoizedState=Us,a);if(0===(1&t.mode))return Vs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Vs(e,t,s,r=ps(a=Error(o(419)),r,void 0))}if(l=0!==(s&e.childLanes),xs||l){if(null!==(r=_l)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Lo(e,i),sc(r,e,i,-1))}return wc(),Vs(e,t,s,r=ps(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Pc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Qi[Ki++]=Ji,Qi[Ki++]=Xi,Qi[Ki++]=Yi,Ji=e.id,Xi=e.overflow,Yi=t),t=Ws(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(s){s=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Bc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Bc(r,s):(s=Uc(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Gs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Us,i}return e=(s=e.child).sibling,i=Bc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ws(e,t){return(t=Gc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vs(e,t,n,r){return null!==r&&go(r),Ao(t,e.child,null,n),(e=Ws(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Hs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),To(e.return,t,n)}function qs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Is(e,t,r.children,n),0!==(2&(r=ra.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Hs(e,n,t);else if(19===e.tag)Hs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(ra,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ia(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),qs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ia(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}qs(t,!0,n,null,o);break;case"together":qs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ks(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ys(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Gl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Bc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Bc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Js(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $s(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xs(t),null;case 1:case 17:return Pi(t.type)&&Ri(),Xs(t),null;case 3:return r=t.stateNode,Zo(),Si(Ti),Si(Ni),sa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(dc(oo),oo=null))),js(e,t),Xs(t),null;case 5:ta(t);var i=Xo(Jo.current);if(n=t.type,null!==e&&null!=t.stateNode)Bs(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Xs(t),null}if(e=Xo(Ko.current),ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Fr(Lr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":J(r,a),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Fr("invalid",r);break;case"textarea":ie(r,a),Fr("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":q(r),Z(r,a,!0);break;case"textarea":q(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Ms(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Fr(Lr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":J(e,r),i=Y(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?me(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Fr("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":q(e),Z(e,r,!1);break;case"textarea":q(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Xs(t),null;case 6:if(e&&null!=t.stateNode)Fs(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Xo(Jo.current),Xo(Ko.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Xs(t),null;case 13:if(Si(ra),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,a=!1;else if(a=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Xs(t),a=!1}else null!==oo&&(dc(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ra.current)?0===Fl&&(Fl=3):wc())),null!==t.updateQueue&&(t.flags|=4),Xs(t),null);case 4:return Zo(),js(e,t),null===e&&zr(t.stateNode.containerInfo),Xs(t),null;case 10:return No(t.type._context),Xs(t),null;case 19:if(Si(ra),null===(a=t.memoizedState))return Xs(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Js(a,!1);else{if(0!==Fl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ia(e))){for(t.flags|=128,Js(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(ra,1&ra.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>Ql&&(t.flags|=128,r=!0,Js(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ia(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Js(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return Xs(t),null}else 2*Xe()-a.renderingStartTime>Ql&&1073741824!==n&&(t.flags|=128,r=!0,Js(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=ra.current,Ci(ra,r?1&n|2:1&n),t):(Xs(t),null);case 22:case 23:return mc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&jl)&&(Xs(t),6&t.subtreeFlags&&(t.flags|=8192)):Xs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Zs(e,t){switch(to(t),t.tag){case 1:return Pi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Zo(),Si(Ti),Si(Ni),sa(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ta(t),null;case 13:if(Si(ra),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(ra),null;case 4:return Zo(),null;case 10:return No(t.type._context),null;case 22:case 23:return mc(),null;default:return null}}Ms=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},js=function(){},Bs=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Xo(Ko.current);var o,a=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),a=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Fs=function(e,t,n,r){n!==r&&(t.flags|=4)};var el=!1,tl=!1,nl="function"===typeof WeakSet?WeakSet:Set,rl=null;function il(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tc(e,t,r)}else n.current=null}function ol(e,t,n){try{n()}catch(r){Tc(e,t,r)}}var al=!1;function sl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&ol(t,n,o)}i=i.next}while(i!==r)}}function ll(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function cl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ul(e){var t=e.alternate;null!==t&&(e.alternate=null,ul(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[gi],delete t[mi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function dl(e){return 5===e.tag||3===e.tag||4===e.tag}function hl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||dl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function fl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(fl(e,t,n),e=e.sibling;null!==e;)fl(e,t,n),e=e.sibling}function pl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(pl(e,t,n),e=e.sibling;null!==e;)pl(e,t,n),e=e.sibling}var gl=null,ml=!1;function vl(e,t,n){for(n=n.child;null!==n;)yl(e,t,n),n=n.sibling}function yl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:tl||il(n,t);case 6:var r=gl,i=ml;gl=null,vl(e,t,n),ml=i,null!==(gl=r)&&(ml?(e=gl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):gl.removeChild(n.stateNode));break;case 18:null!==gl&&(ml?(e=gl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),zt(e)):li(gl,n.stateNode));break;case 4:r=gl,i=ml,gl=n.stateNode.containerInfo,ml=!0,vl(e,t,n),gl=r,ml=i;break;case 0:case 11:case 14:case 15:if(!tl&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&ol(n,t,a),i=i.next}while(i!==r)}vl(e,t,n);break;case 1:if(!tl&&(il(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Tc(n,t,s)}vl(e,t,n);break;case 21:vl(e,t,n);break;case 22:1&n.mode?(tl=(r=tl)||null!==n.memoizedState,vl(e,t,n),tl=r):vl(e,t,n);break;default:vl(e,t,n)}}function bl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new nl),t.forEach((function(t){var r=Rc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function wl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:gl=l.stateNode,ml=!1;break e;case 3:case 4:gl=l.stateNode.containerInfo,ml=!0;break e}l=l.return}if(null===gl)throw Error(o(160));yl(a,s,i),gl=null,ml=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(Qo){Tc(i,t,Qo)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)Al(t,e),t=t.sibling}function Al(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wl(t,e),El(e),4&r){try{sl(3,e,e.return),ll(3,e)}catch(m){Tc(e,e.return,m)}try{sl(5,e,e.return)}catch(m){Tc(e,e.return,m)}}break;case 1:wl(t,e),El(e),512&r&&null!==n&&il(n,n.return);break;case 5:if(wl(t,e),El(e),512&r&&null!==n&&il(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Tc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&X(i,a),be(l,s);var u=be(l,a);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?me(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":$(i,a);break;case"textarea":oe(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(m){Tc(e,e.return,m)}}break;case 6:if(wl(t,e),El(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(m){Tc(e,e.return,m)}}break;case 3:if(wl(t,e),El(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Tc(e,e.return,m)}break;case 4:default:wl(t,e),El(e);break;case 13:wl(t,e),El(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(ql=Xe())),4&r&&bl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(tl=(u=tl)||d,wl(t,e),tl=u):wl(t,e),El(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(rl=e,d=e.child;null!==d;){for(h=rl=d;null!==rl;){switch(p=(f=rl).child,f.tag){case 0:case 11:case 14:case 15:sl(4,f,f.return);break;case 1:il(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Tc(r,n,m)}}break;case 5:il(f,f.return);break;case 22:if(null!==f.memoizedState){Cl(h);continue}}null!==p?(p.return=f,rl=p):Cl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",s))}catch(m){Tc(e,e.return,m)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){Tc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:wl(t,e),El(e),4&r&&bl(e);case 21:}}function El(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(dl(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),pl(e,hl(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;fl(e,hl(e),a);break;default:throw Error(o(161))}}catch(Wo){Tc(e,e.return,Wo)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function xl(e,t,n){rl=e,Il(e,t,n)}function Il(e,t,n){for(var r=0!==(1&e.mode);null!==rl;){var i=rl,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||el;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||tl;s=el;var c=tl;if(el=a,(tl=l)&&!c)for(rl=i;null!==rl;)l=(a=rl).child,22===a.tag&&null!==a.memoizedState?Dl(i):null!==l?(l.return=a,rl=l):Dl(i);for(;null!==o;)rl=o,Il(o,t,n),o=o.sibling;rl=i,el=s,tl=c}Sl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,rl=o):Sl(e)}}function Sl(e){for(;null!==rl;){var t=rl;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:tl||ll(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!tl)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:as(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Ho(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ho(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(o(163))}tl||512&t.flags&&cl(t)}catch(na){Tc(t,t.return,na)}}if(t===e){rl=null;break}if(null!==(n=t.sibling)){n.return=t.return,rl=n;break}rl=t.return}}function Cl(e){for(;null!==rl;){var t=rl;if(t===e){rl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,rl=n;break}rl=t.return}}function Dl(e){for(;null!==rl;){var t=rl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ll(4,t)}catch(Wo){Tc(t,n,Wo)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(Wo){Tc(t,i,Wo)}}var o=t.return;try{cl(t)}catch(Wo){Tc(t,o,Wo)}break;case 5:var a=t.return;try{cl(t)}catch(Wo){Tc(t,a,Wo)}}}catch(Wo){Tc(t,t.return,Wo)}if(t===e){rl=null;break}var s=t.sibling;if(null!==s){s.return=t.return,rl=s;break}rl=t.return}}var Nl,Tl=Math.ceil,kl=w.ReactCurrentDispatcher,Ol=w.ReactCurrentOwner,Pl=w.ReactCurrentBatchConfig,Rl=0,_l=null,Ll=null,Ml=0,jl=0,Bl=Ii(0),Fl=0,Ul=null,Gl=0,zl=0,Wl=0,Vl=null,Hl=null,ql=0,Ql=1/0,Kl=null,Yl=!1,Jl=null,Xl=null,$l=!1,Zl=null,ec=0,tc=0,nc=null,rc=-1,ic=0;function oc(){return 0!==(6&Rl)?Xe():-1!==rc?rc:rc=Xe()}function ac(e){return 0===(1&e.mode)?1:0!==(2&Rl)&&0!==Ml?Ml&-Ml:null!==mo.transition?(0===ic&&(ic=gt()),ic):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function sc(e,t,n,r){if(50<tc)throw tc=0,nc=null,Error(o(185));vt(e,n,r),0!==(2&Rl)&&e===_l||(e===_l&&(0===(2&Rl)&&(zl|=n),4===Fl&&hc(e,Ml)),lc(e,r),1===n&&0===Rl&&0===(1&t.mode)&&(Ql=Xe()+500,Fi&&zi()))}function lc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=ft(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ht(e,e===_l?Ml:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Fi=!0,Gi(e)}(fc.bind(null,e)):Gi(fc.bind(null,e)),ai((function(){0===(6&Rl)&&zi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=_c(n,cc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function cc(e,t){if(rc=-1,ic=0,0!==(6&Rl))throw Error(o(327));var n=e.callbackNode;if(Dc()&&e.callbackNode!==n)return null;var r=ht(e,e===_l?Ml:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=Ac(e,r);else{t=r;var i=Rl;Rl|=2;var a=bc();for(_l===e&&Ml===t||(Kl=null,Ql=Xe()+500,vc(e,t));;)try{xc();break}catch(l){yc(e,l)}Do(),kl.current=a,Rl=i,null!==Ll?t=0:(_l=null,Ml=0,t=Fl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=uc(e,i))),1===t)throw n=Ul,vc(e,0),hc(e,r),lc(e,Xe()),n;if(6===t)hc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=Ac(e,r))&&(0!==(a=pt(e))&&(r=a,t=uc(e,a))),1===t))throw n=Ul,vc(e,0),hc(e,r),lc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Cc(e,Hl,Kl);break;case 3:if(hc(e,r),(130023424&r)===r&&10<(t=ql+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){oc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Cc.bind(null,e,Hl,Kl),t);break}Cc(e,Hl,Kl);break;case 4:if(hc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tl(r/1960))-r)){e.timeoutHandle=ri(Cc.bind(null,e,Hl,Kl),r);break}Cc(e,Hl,Kl);break;default:throw Error(o(329))}}}return lc(e,Xe()),e.callbackNode===n?cc.bind(null,e):null}function uc(e,t){var n=Vl;return e.current.memoizedState.isDehydrated&&(vc(e,t).flags|=256),2!==(e=Ac(e,t))&&(t=Hl,Hl=n,null!==t&&dc(t)),e}function dc(e){null===Hl?Hl=e:Hl.push.apply(Hl,e)}function hc(e,t){for(t&=~Wl,t&=~zl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function fc(e){if(0!==(6&Rl))throw Error(o(327));Dc();var t=ht(e,0);if(0===(1&t))return lc(e,Xe()),null;var n=Ac(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=uc(e,r))}if(1===n)throw n=Ul,vc(e,0),hc(e,t),lc(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cc(e,Hl,Kl),lc(e,Xe()),null}function pc(e,t){var n=Rl;Rl|=1;try{return e(t)}finally{0===(Rl=n)&&(Ql=Xe()+500,Fi&&zi())}}function gc(e){null!==Zl&&0===Zl.tag&&0===(6&Rl)&&Dc();var t=Rl;Rl|=1;var n=Pl.transition,r=bt;try{if(Pl.transition=null,bt=1,e)return e()}finally{bt=r,Pl.transition=n,0===(6&(Rl=t))&&zi()}}function mc(){jl=Bl.current,Si(Bl)}function vc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ll)for(n=Ll.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:Zo(),Si(Ti),Si(Ni),sa();break;case 5:ta(r);break;case 4:Zo();break;case 13:case 19:Si(ra);break;case 10:No(r.type._context);break;case 22:case 23:mc()}n=n.return}if(_l=e,Ll=e=Bc(e.current,null),Ml=jl=t,Fl=0,Ul=null,Wl=zl=Gl=0,Hl=Vl=null,null!==Po){for(t=0;t<Po.length;t++)if(null!==(r=(n=Po[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Po=null}return e}function yc(e,t){for(;;){var n=Ll;try{if(Do(),la.current=ns,pa){for(var r=da.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}pa=!1}if(ua=0,fa=ha=da=null,ga=!1,ma=0,Ol.current=null,null===n||null===n.return){Fl=1,Ul=t,Ll=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=Ml,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ws(s);if(null!==p){p.flags&=-257,As(p,s,l,0,t),1&p.mode&&bs(a,u,t),c=u;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(0===(1&t)){bs(a,u,t),wc();break e}c=Error(o(426))}else if(io&&1&l.mode){var v=ws(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),As(v,s,l,0,t),go(fs(c,l));break e}}a=c=fs(c,l),4!==Fl&&(Fl=2),null===Vl?Vl=[a]:Vl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,zo(a,vs(0,c,t));break e;case 1:l=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Xl||!Xl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,zo(a,ys(a,l,t));break e}}a=a.return}while(null!==a)}Sc(n)}catch(aa){t=aa,Ll===n&&null!==n&&(Ll=n=n.return);continue}break}}function bc(){var e=kl.current;return kl.current=ns,null===e?ns:e}function wc(){0!==Fl&&3!==Fl&&2!==Fl||(Fl=4),null===_l||0===(268435455&Gl)&&0===(268435455&zl)||hc(_l,Ml)}function Ac(e,t){var n=Rl;Rl|=2;var r=bc();for(_l===e&&Ml===t||(Kl=null,vc(e,t));;)try{Ec();break}catch(i){yc(e,i)}if(Do(),Rl=n,kl.current=r,null!==Ll)throw Error(o(261));return _l=null,Ml=0,Fl}function Ec(){for(;null!==Ll;)Ic(Ll)}function xc(){for(;null!==Ll&&!Ye();)Ic(Ll)}function Ic(e){var t=Nl(e.alternate,e,jl);e.memoizedProps=e.pendingProps,null===t?Sc(e):Ll=t,Ol.current=null}function Sc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=$s(n,t,jl)))return void(Ll=n)}else{if(null!==(n=Zs(n,t)))return n.flags&=32767,void(Ll=n);if(null===e)return Fl=6,void(Ll=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ll=t);Ll=t=e}while(null!==t);0===Fl&&(Fl=5)}function Cc(e,t,n){var r=bt,i=Pl.transition;try{Pl.transition=null,bt=1,function(e,t,n,r){do{Dc()}while(null!==Zl);if(0!==(6&Rl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===_l&&(Ll=_l=null,Ml=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||$l||($l=!0,_c(tt,(function(){return Dc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Pl.transition,Pl.transition=null;var s=bt;bt=1;var l=Rl;Rl|=4,Ol.current=null,function(e,t){if(ei=Vt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(Ts){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=s),f===a&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Vt=!1,rl=t;null!==rl;)if(e=(t=rl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,rl=e;else for(;null!==rl;){t=rl;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:as(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(Ts){Tc(t,t.return,Ts)}if(null!==(e=t.sibling)){e.return=t.return,rl=e;break}rl=t.return}g=al,al=!1}(e,n),Al(n,e),pr(ti),Vt=!!ei,ti=ei=null,e.current=n,xl(n,e,i),Je(),Rl=l,bt=s,Pl.transition=a}else e.current=n;if($l&&($l=!1,Zl=e,ec=i),a=e.pendingLanes,0===a&&(Xl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),lc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Yl)throw Yl=!1,e=Jl,Jl=null,e;0!==(1&ec)&&0!==e.tag&&Dc(),a=e.pendingLanes,0!==(1&a)?e===nc?tc++:(tc=0,nc=e):tc=0,zi()}(e,t,n,r)}finally{Pl.transition=i,bt=r}return null}function Dc(){if(null!==Zl){var e=wt(ec),t=Pl.transition,n=bt;try{if(Pl.transition=null,bt=16>e?16:e,null===Zl)var r=!1;else{if(e=Zl,Zl=null,ec=0,0!==(6&Rl))throw Error(o(331));var i=Rl;for(Rl|=4,rl=e.current;null!==rl;){var a=rl,s=a.child;if(0!==(16&rl.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(rl=u;null!==rl;){var d=rl;switch(d.tag){case 0:case 11:case 15:sl(8,d,a)}var h=d.child;if(null!==h)h.return=d,rl=h;else for(;null!==rl;){var f=(d=rl).sibling,p=d.return;if(ul(d),d===u){rl=null;break}if(null!==f){f.return=p,rl=f;break}rl=p}}}var g=a.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}rl=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,rl=s;else e:for(;null!==rl;){if(0!==(2048&(a=rl).flags))switch(a.tag){case 0:case 11:case 15:sl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,rl=y;break e}rl=a.return}}var b=e.current;for(rl=b;null!==rl;){var w=(s=rl).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,rl=w;else e:for(s=b;null!==rl;){if(0!==(2048&(l=rl).flags))try{switch(l.tag){case 0:case 11:case 15:ll(9,l)}}catch(aa){Tc(l,l.return,aa)}if(l===s){rl=null;break e}var A=l.sibling;if(null!==A){A.return=l.return,rl=A;break e}rl=l.return}}if(Rl=i,zi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(aa){}r=!0}return r}finally{bt=n,Pl.transition=t}}return!1}function Nc(e,t,n){e=Uo(e,t=vs(0,t=fs(n,t),1),1),t=oc(),null!==e&&(vt(e,1,t),lc(e,t))}function Tc(e,t,n){if(3===e.tag)Nc(e,e,n);else for(;null!==t;){if(3===t.tag){Nc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xl||!Xl.has(r))){t=Uo(t,e=ys(t,e=fs(n,e),1),1),e=oc(),null!==t&&(vt(t,1,e),lc(t,e));break}}t=t.return}}function kc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=oc(),e.pingedLanes|=e.suspendedLanes&n,_l===e&&(Ml&n)===n&&(4===Fl||3===Fl&&(130023424&Ml)===Ml&&500>Xe()-ql?vc(e,0):Wl|=n),lc(e,t)}function Oc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=oc();null!==(e=Lo(e,t))&&(vt(e,t,n),lc(e,n))}function Pc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Oc(e,n)}function Rc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Oc(e,n)}function _c(e,t){return Qe(e,t)}function Lc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mc(e,t,n,r){return new Lc(e,t,n,r)}function jc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Bc(e,t){var n=e.alternate;return null===n?((n=Mc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)jc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return Uc(n.children,i,a,t);case I:s=8,i|=8;break;case S:return(e=Mc(12,n,t,2|i)).elementType=S,e.lanes=a,e;case T:return(e=Mc(13,n,t,i)).elementType=T,e.lanes=a,e;case k:return(e=Mc(19,n,t,i)).elementType=k,e.lanes=a,e;case R:return Gc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case D:s=9;break e;case N:s=11;break e;case O:s=14;break e;case P:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Mc(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Uc(e,t,n,r){return(e=Mc(7,e,r,t)).lanes=n,e}function Gc(e,t,n,r){return(e=Mc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function zc(e,t,n){return(e=Mc(6,e,null,t)).lanes=n,e}function Wc(e,t,n){return(t=Mc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hc(e,t,n,r,i,o,a,s,l){return e=new Vc(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Mc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},jo(o),e}function qc(e){if(!e)return Di;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function Qc(e,t,n,r,i,o,a,s,l){return(e=Hc(n,r,!0,e,0,o,0,s,l)).context=qc(null),n=e.current,(o=Fo(r=oc(),i=ac(n))).callback=void 0!==t&&null!==t?t:null,Uo(n,o,i),e.current.lanes=i,vt(e,i,r),lc(e,r),e}function Kc(e,t,n,r){var i=t.current,o=oc(),a=ac(i);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Uo(i,t,a))&&(sc(e,i,a,o),Go(e,i,a)),a}function Yc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Jc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Xc(e,t){Jc(e,t),(e=e.alternate)&&Jc(e,t)}Nl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)xs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xs=!1,function(e,t,n){switch(t.tag){case 3:_s(t),po();break;case 5:ea(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:$o(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(xo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(ra,1&ra.current),t.flags|=128,null):0!==(n&t.child.childLanes)?zs(e,t,n):(Ci(ra,1&ra.current),null!==(e=Ys(e,t,n))?e.sibling:null);Ci(ra,1&ra.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(ra,ra.current),r)break;return null;case 22:case 23:return t.lanes=0,Ns(e,t,n)}return Ys(e,t,n)}(e,t,n);xs=0!==(131072&e.flags)}else xs=!1,io&&0!==(1048576&t.flags)&&Zi(t,qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ks(e,t),e=t.pendingProps;var i=Oi(t,Ni.current);ko(t,n),i=wa(null,t,r,e,i,n);var a=Aa();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(a=!0,Mi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,jo(t),i.updater=ls,t.stateNode=i,i._reactInternals=t,hs(t,r,e,n),t=Rs(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),Is(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ks(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return jc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===O)return 14}return 2}(r),e=as(r,e),i){case 0:t=Os(null,t,r,e,n);break e;case 1:t=Ps(null,t,r,e,n);break e;case 11:t=Ss(null,t,r,e,n);break e;case 14:t=Cs(null,t,r,as(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Os(e,t,r,i=t.elementType===r?i:as(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ps(e,t,r,i=t.elementType===r?i:as(r,i),n);case 3:e:{if(_s(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Bo(e,t),Vo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ls(e,t,r,n,i=fs(Error(o(423)),t));break e}if(r!==i){t=Ls(e,t,r,n,i=fs(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Eo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Ys(e,t,n);break e}Is(e,t,r,n)}t=t.child}return t;case 5:return ea(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),ks(e,t),Is(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return zs(e,t,n);case 4:return $o(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ao(t,null,r,n):Is(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ss(e,t,r,i=t.elementType===r?i:as(r,i),n);case 7:return Is(e,t,t.pendingProps,n),t.child;case 8:case 12:return Is(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ci(xo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ti.current){t=Ys(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Fo(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),To(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),To(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}Is(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ko(t,n),r=r(i=Oo(i)),t.flags|=1,Is(e,t,r,n),t.child;case 14:return i=as(r=t.type,t.pendingProps),Cs(e,t,r,i=as(r.type,i),n);case 15:return Ds(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:as(r,i),Ks(e,t),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,ko(t,n),us(t,r,i),hs(t,r,i,n),Rs(null,t,r,!0,e,n);case 19:return Qs(e,t,n);case 22:return Ns(e,t,n)}throw Error(o(156,t.tag))};var $c="function"===typeof reportError?reportError:function(e){console.error(e)};function Zc(e){this._internalRoot=e}function eu(e){this._internalRoot=e}function tu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function nu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ru(){}function iu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Yc(a);s.call(e)}}Kc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Yc(a);o.call(e)}}var a=Qc(t,r,e,0,null,!1,0,"",ru);return e._reactRootContainer=a,e[pi]=a.current,zr(8===e.nodeType?e.parentNode:e),gc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Yc(l);s.call(e)}}var l=Hc(e,0,!1,null,0,!1,0,"",ru);return e._reactRootContainer=l,e[pi]=l.current,zr(8===e.nodeType?e.parentNode:e),gc((function(){Kc(t,l,n,r)})),l}(n,t,e,i,r);return Yc(a)}eu.prototype.render=Zc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Kc(e,t,null,null)},eu.prototype.unmount=Zc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;gc((function(){Kc(null,e,null,null)})),t[pi]=null}},eu.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&jt(e)}},At=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),lc(t,Xe()),0===(6&Rl)&&(Ql=Xe()+500,zi()))}break;case 13:gc((function(){var t=Lo(e,1);if(null!==t){var n=oc();sc(t,e,1,n)}})),Xc(e,1)}},Et=function(e){if(13===e.tag){var t=Lo(e,134217728);if(null!==t)sc(t,e,134217728,oc());Xc(e,134217728)}},xt=function(e){if(13===e.tag){var t=ac(e),n=Lo(e,t);if(null!==n)sc(n,e,t,oc());Xc(e,t)}},It=function(){return bt},St=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ee=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ai(r);if(!i)throw Error(o(90));Q(r),$(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=pc,Te=gc;var ou={usingClientEntryPoint:!1,Events:[bi,wi,Ai,Ce,De,pc]},au={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},su={bundleType:au.bundleType,version:au.version,rendererPackageName:au.rendererPackageName,rendererConfig:au.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:au.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lu.isDisabled&&lu.supportsFiber)try{it=lu.inject(su),ot=lu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ou,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!tu(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!tu(e))throw Error(o(299));var n=!1,r="",i=$c;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Hc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Zc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return gc(e)},t.hydrate=function(e,t,n){if(!nu(t))throw Error(o(200));return iu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!tu(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=$c;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Qc(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new eu(t)},t.render=function(e,t,n){if(!nu(t))throw Error(o(200));return iu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nu(e))throw Error(o(40));return!!e._reactRootContainer&&(gc((function(){iu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=pc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nu(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return iu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},763:(e,t,n)=>{e.exports=n(983)},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},983:(e,t)=>{var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function A(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case s:case a:case f:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case g:case l:return e;default:return t}}case i:return t}}}function E(e){return A(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=m,t.Memo=g,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=f,t.isAsyncMode=function(e){return E(e)||A(e)===u},t.isConcurrentMode=E,t.isContextConsumer=function(e){return A(e)===c},t.isContextProvider=function(e){return A(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return A(e)===h},t.isFragment=function(e){return A(e)===o},t.isLazy=function(e){return A(e)===m},t.isMemo=function(e){return A(e)===g},t.isPortal=function(e){return A(e)===i},t.isProfiler=function(e){return A(e)===s},t.isStrictMode=function(e){return A(e)===a},t.isSuspense=function(e){return A(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===s||e===a||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===g||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===v)},t.typeOf=A}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(o,a),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/";var r,i=n(43),o=n.t(i,2),a=n(391),s=n(950),l=n.t(s,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const u="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function f(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function g(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function v(e,t,n,i){void 0===i&&(i={});let{window:o=document.defaultView,v5Compat:a=!1}=i,s=o.history,l=r.Pop,h=null,m=v();function v(){return(s.state||{idx:null}).idx}function y(){l=r.Pop;let e=v(),t=null==e?null:e-m;m=e,h&&h({action:l,location:w.location,delta:t})}function b(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:g(e);return n=n.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==m&&(m=0,s.replaceState(c({},s.state,{idx:m}),""));let w={get action(){return l},get location(){return e(o,s)},listen(e){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(u,y),h=e,()=>{o.removeEventListener(u,y),h=null}},createHref:e=>t(o,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=r.Push;let i=p(w.location,e,t);n&&n(i,e),m=v()+1;let c=f(i,m),u=w.createHref(i);try{s.pushState(c,"",u)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;o.location.assign(u)}a&&h&&h({action:l,location:w.location,delta:1})},replace:function(e,t){l=r.Replace;let i=p(w.location,e,t);n&&n(i,e),m=v();let o=f(i,m),c=w.createHref(i);s.replaceState(o,"",c),a&&h&&h({action:l,location:w.location,delta:0})},go:e=>s.go(e)};return w}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function b(e,t,n){return void 0===n&&(n="/"),w(e,t,n,!1)}function w(e,t,n,r){let i=_(("string"===typeof t?m(t):t).pathname||"/",n);if(null==i)return null;let o=A(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let a=null;for(let s=0;null==a&&s<o.length;++s){let e=R(i);a=O(o[s],e,r)}return a}function A(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(d(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=F([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),A(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:k(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of E(e.path))i(e,t,r);else i(e,t)})),t}function E(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=E(r.join("/")),s=[];return s.push(...a.map((e=>""===e?o:[o,e].join("/")))),i&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const x=/^:[\w-]+$/,I=3,S=2,C=1,D=10,N=-2,T=e=>"*"===e;function k(e,t){let n=e.split("/"),r=n.length;return n.some(T)&&(r+=N),t&&(r+=S),n.filter((e=>!T(e))).reduce(((e,t)=>e+(x.test(t)?I:""===t?C:D)),r)}function O(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},o="/",a=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:F([o,u.pathname]),pathnameBase:U(F([o,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(o=F([o,u.pathnameBase]))}return a}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:o,pathnameBase:a,pattern:e}}function R(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function _(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function L(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function M(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function j(e,t){let n=M(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function B(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=m(e):(i=c({},e),d(!i.pathname||!i.pathname.includes("?"),L("?","pathname","search",i)),d(!i.pathname||!i.pathname.includes("#"),L("#","pathname","hash",i)),d(!i.search||!i.search.includes("#"),L("#","search","hash",i)));let o,a=""===e||""===i.pathname,s=a?"/":i.pathname;if(null==s)o=n;else{let e=t.length-1;if(!r&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?m(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:G(r),hash:z(i)}}(i,o),u=s&&"/"!==s&&s.endsWith("/"),h=(a||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!h||(l.pathname+="/"),l}const F=e=>e.join("/").replace(/\/\/+/g,"/"),U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),G=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function W(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const V=["post","put","patch","delete"],H=(new Set(V),["get",...V]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}const Q=i.createContext(null);const K=i.createContext(null);const Y=i.createContext(null);const J=i.createContext(null);const X=i.createContext({outlet:null,matches:[],isDataRoute:!1});const $=i.createContext(null);function Z(){return null!=i.useContext(J)}function ee(){return Z()||d(!1),i.useContext(J).location}function te(e){i.useContext(Y).static||i.useLayoutEffect(e)}function ne(){let{isDataRoute:e}=i.useContext(X);return e?function(){let{router:e}=fe(de.UseNavigateStable),t=ge(he.UseNavigateStable),n=i.useRef(!1);te((()=>{n.current=!0}));let r=i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,q({fromRouteId:t},i)))}),[e,t]);return r}():function(){Z()||d(!1);let e=i.useContext(Q),{basename:t,future:n,navigator:r}=i.useContext(Y),{matches:o}=i.useContext(X),{pathname:a}=ee(),s=JSON.stringify(j(o,n.v7_relativeSplatPath)),l=i.useRef(!1);te((()=>{l.current=!0}));let c=i.useCallback((function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let o=B(n,JSON.parse(s),a,"path"===i.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:F([t,o.pathname])),(i.replace?r.replace:r.push)(o,i.state,i)}),[t,r,s,a,e]);return c}()}function re(){let{matches:e}=i.useContext(X),t=e[e.length-1];return t?t.params:{}}function ie(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(Y),{matches:o}=i.useContext(X),{pathname:a}=ee(),s=JSON.stringify(j(o,r.v7_relativeSplatPath));return i.useMemo((()=>B(e,JSON.parse(s),a,"path"===n)),[e,s,a,n])}function oe(e,t,n,o){Z()||d(!1);let{navigator:a,static:s}=i.useContext(Y),{matches:l}=i.useContext(X),c=l[l.length-1],u=c?c.params:{},h=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let f,p=ee();if(t){var g;let e="string"===typeof t?m(t):t;"/"===h||(null==(g=e.pathname)?void 0:g.startsWith(h))||d(!1),f=e}else f=p;let v=f.pathname||"/",y=v;if("/"!==h){let e=h.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=!s&&n&&n.matches&&n.matches.length>0?n.matches:b(e,{pathname:y});let A=ue(w&&w.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:F([h,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:F([h,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,n,o);return t&&A?i.createElement(J.Provider,{value:{location:q({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:r.Pop}},A):A}function ae(){let e=function(){var e;let t=i.useContext($),n=pe(he.UseRouteError),r=ge(he.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=W(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:o},n):null,null)}const se=i.createElement(ae,null);class le extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(X.Provider,{value:this.props.routeContext},i.createElement($.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ce(e){let{routeContext:t,match:n,children:r}=e,o=i.useContext(Q);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(X.Provider,{value:t},r)}function ue(e,t,n,r){var o;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=r)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let s=e,l=null==(o=n)?void 0:o.errors;if(null!=l){let e=s.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||d(!1),s=s.slice(0,Math.min(s.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<s.length;i++){let e=s[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,s=u>=0?s.slice(0,u+1):[s[0]];break}}}return s.reduceRight(((e,r,o)=>{let a,d=!1,h=null,f=null;var p;n&&(a=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||se,c&&(u<0&&0===o?(p="route-fallback",!1||me[p]||(me[p]=!0),d=!0,f=null):u===o&&(d=!0,f=r.route.hydrateFallbackElement||null)));let g=t.concat(s.slice(0,o+1)),m=()=>{let t;return t=a?h:d?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(ce,{match:r,routeContext:{outlet:e,matches:g,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===o)?i.createElement(le,{location:n.location,revalidation:n.revalidation,component:h,error:a,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()}),null)}var de=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(de||{}),he=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(he||{});function fe(e){let t=i.useContext(Q);return t||d(!1),t}function pe(e){let t=i.useContext(K);return t||d(!1),t}function ge(e){let t=function(){let e=i.useContext(X);return e||d(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||d(!1),n.route.id}const me={};function ve(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}o.startTransition;function ye(e){let{to:t,replace:n,state:r,relative:o}=e;Z()||d(!1);let{future:a,static:s}=i.useContext(Y),{matches:l}=i.useContext(X),{pathname:c}=ee(),u=ne(),h=B(t,j(l,a.v7_relativeSplatPath),c,"path"===o),f=JSON.stringify(h);return i.useEffect((()=>u(JSON.parse(f),{replace:n,state:r,relative:o})),[u,f,o,n,r]),null}function be(e){d(!1)}function we(e){let{basename:t="/",children:n=null,location:o,navigationType:a=r.Pop,navigator:s,static:l=!1,future:c}=e;Z()&&d(!1);let u=t.replace(/^\/*/,"/"),h=i.useMemo((()=>({basename:u,navigator:s,static:l,future:q({v7_relativeSplatPath:!1},c)})),[u,c,s,l]);"string"===typeof o&&(o=m(o));let{pathname:f="/",search:p="",hash:g="",state:v=null,key:y="default"}=o,b=i.useMemo((()=>{let e=_(f,u);return null==e?null:{location:{pathname:e,search:p,hash:g,state:v,key:y},navigationType:a}}),[u,f,p,g,v,y,a]);return null==b?null:i.createElement(Y.Provider,{value:h},i.createElement(J.Provider,{children:n,value:b}))}function Ae(e){let{children:t,location:n}=e;return oe(Ee(t),n)}new Promise((()=>{}));i.Component;function Ee(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let o=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,Ee(e.props.children,o));e.type!==be&&d(!1),e.props.index&&e.props.children&&d(!1);let a={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=Ee(e.props.children,o)),n.push(a)})),n}function xe(){return xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xe.apply(this,arguments)}function Ie(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function Se(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map((e=>[n,e])):[[n,r]])}),[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ce=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(YP){}new Map;const De=o.startTransition;l.flushSync,o.useId;function Ne(e){let{basename:t,children:n,future:r,window:o}=e,a=i.useRef();var s;null==a.current&&(a.current=(void 0===(s={window:o,v5Compat:!0})&&(s={}),v((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return p("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:g(t)}),null,s)));let l=a.current,[c,u]=i.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},h=i.useCallback((e=>{d&&De?De((()=>u(e))):u(e)}),[u,d]);return i.useLayoutEffect((()=>l.listen(h)),[l,h]),i.useEffect((()=>ve(r)),[r]),i.createElement(we,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const Te="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,ke=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oe=i.forwardRef((function(e,t){let n,{onClick:r,relative:o,reloadDocument:a,replace:s,state:l,target:c,to:u,preventScrollReset:h,viewTransition:f}=e,p=Ie(e,Ce),{basename:m}=i.useContext(Y),v=!1;if("string"===typeof u&&ke.test(u)&&(n=u,Te))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=_(t.pathname,m);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:v=!0}catch(YP){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;Z()||d(!1);let{basename:r,navigator:o}=i.useContext(Y),{hash:a,pathname:s,search:l}=ie(e,{relative:n}),c=s;return"/"!==r&&(c="/"===s?r:F([r,s])),o.createHref({pathname:c,search:l,hash:a})}(u,{relative:o}),b=function(e,t){let{target:n,replace:r,state:o,preventScrollReset:a,relative:s,viewTransition:l}=void 0===t?{}:t,c=ne(),u=ee(),d=ie(e,{relative:s});return i.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:g(u)===g(d);c(e,{replace:n,state:o,preventScrollReset:a,relative:s,viewTransition:l})}}),[u,c,d,r,o,n,e,a,s,l])}(u,{replace:s,state:l,target:c,preventScrollReset:h,relative:o,viewTransition:f});return i.createElement("a",xe({},p,{href:n||y,onClick:v||a?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:c}))}));var Pe,Re;function _e(e){let t=i.useRef(Se(e)),n=i.useRef(!1),r=ee(),o=i.useMemo((()=>function(e,t){let n=Se(e);return t&&t.forEach(((e,r)=>{n.has(r)||t.getAll(r).forEach((e=>{n.append(r,e)}))})),n}(r.search,n.current?null:t.current)),[r.search]),a=ne(),s=i.useCallback(((e,t)=>{const r=Se("function"===typeof e?e(o):e);n.current=!0,a("?"+r,t)}),[a,o]);return[o,s]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Pe||(Pe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Re||(Re={}));var Le=n(579);const Me=(0,i.createContext)();function je(e){let{children:t}=e;const[n,r]=(0,i.useState)((()=>"true"===localStorage.getItem("darkMode")));(0,i.useEffect)((()=>{localStorage.setItem("darkMode",n),document.body.classList.toggle("dark-mode",n)}),[n]);return(0,Le.jsx)(Me.Provider,{value:{isDarkMode:n,toggleDarkMode:()=>{r((e=>!e))}},children:t})}function Be(){return(0,i.useContext)(Me)}const Fe=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ue={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,a=o?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;s||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Fe(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const s=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==a||null==s)throw new Ge;const l=t<<2|o>>4;if(r.push(l),64!==a){const e=o<<4&240|a>>2;if(r.push(e),64!==s){const e=a<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ge extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ze=function(e){return function(e){const t=Fe(e);return Ue.encodeByteArray(t,!0)}(e).replace(/\./g,"")},We=function(e){try{return Ue.decodeString(e,!0)}catch(YP){console.error("base64Decode failed: ",YP)}return null};const Ve=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,He=()=>{try{return Ve()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyD73uU5AWIeWZ_SQU9vRRLExil7ctKqa3U",REACT_APP_FIREBASE_AUTH_DOMAIN:"client-portal-2025.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"client-portal-2025",REACT_APP_FIREBASE_STORAGE_BUCKET:"client-portal-2025.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"941830572273",REACT_APP_FIREBASE_APP_ID:"1:941830572273:web:52299f1989bab446f38150"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(YP){return}const t=e&&We(e[1]);return t&&JSON.parse(t)})()}catch(YP){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${YP}`)}},qe=e=>{var t,n;return null===(n=null===(t=He())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Qe=e=>{const t=qe(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Ke=()=>{var e;return null===(e=He())||void 0===e?void 0:e.config},Ye=e=>{var t;return null===(t=He())||void 0===t?void 0:t[`_${e}`]};class Je{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Xe(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ze(JSON.stringify({alg:"none",type:"JWT"})),ze(JSON.stringify(o)),""].join(".")}function $e(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ze(){var e;const t=null===(e=He())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(YP){return!1}}function et(){try{return"object"===typeof indexedDB}catch(YP){return!1}}class tt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,tt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nt.prototype.create)}}class nt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(rt,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",o=`${this.serviceName}: ${i} (${n}).`;return new tt(n,o,t)}}const rt=/\{\$([^}]+)}/g;function it(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(ot(n)&&ot(o)){if(!it(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ot(e){return null!==e&&"object"===typeof e}function at(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function st(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function lt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class ct{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=ut),void 0===r.error&&(r.error=ut),void 0===r.complete&&(r.complete=ut);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(YP){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(YP){"undefined"!==typeof console&&console.error&&console.error(YP)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function ut(){}function dt(e){return e&&e._delegate?e._delegate:e}class ht{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ft="[DEFAULT]";class pt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Je;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(YP){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(YP){if(r)return null;throw YP}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ft})}catch(YP){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(YP){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===ft?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft;return this.component?this.component.multipleInstances?e:ft:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class gt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new pt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const mt=[];var vt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(vt||(vt={}));const yt={debug:vt.DEBUG,verbose:vt.VERBOSE,info:vt.INFO,warn:vt.WARN,error:vt.ERROR,silent:vt.SILENT},bt=vt.INFO,wt={[vt.DEBUG]:"log",[vt.VERBOSE]:"log",[vt.INFO]:"info",[vt.WARN]:"warn",[vt.ERROR]:"error"},At=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=wt[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];console[r](`[${n}]  ${e.name}:`,...o)};class Et{constructor(e){this.name=e,this._logLevel=bt,this._logHandler=At,this._userLogHandler=null,mt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in vt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?yt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,vt.DEBUG,...t),this._logHandler(this,vt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,vt.VERBOSE,...t),this._logHandler(this,vt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,vt.INFO,...t),this._logHandler(this,vt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,vt.WARN,...t),this._logHandler(this,vt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,vt.ERROR,...t),this._logHandler(this,vt.ERROR,...t)}}let xt,It;const St=new WeakMap,Ct=new WeakMap,Dt=new WeakMap,Nt=new WeakMap,Tt=new WeakMap;let kt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ct.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Dt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Ot(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(It||(It=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(_t(this),n),Rt(St.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Rt(e.apply(_t(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(_t(this),t,...r);return Dt.set(o,t.sort?t.sort():[t]),Rt(o)}}function Pt(e){return"function"===typeof e?Ot(e):(e instanceof IDBTransaction&&function(e){if(Ct.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));Ct.set(e,t)}(e),t=e,(xt||(xt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,kt):e);var t}function Rt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Rt(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&St.set(t,e)})).catch((()=>{})),Tt.set(t,e),t}(e);if(Nt.has(e))return Nt.get(e);const t=Pt(e);return t!==e&&(Nt.set(e,t),Tt.set(t,e)),t}const _t=e=>Tt.get(e);const Lt=["get","getKey","getAll","getAllKeys","count"],Mt=["put","add","delete","clear"],jt=new Map;function Bt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(jt.get(t))return jt.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Mt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Lt.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];return r&&(o=o.index(s.shift())),(await Promise.all([o[n](...s),i&&t.done]))[0]};return jt.set(t,o),o}kt=(e=>({...e,get:(t,n,r)=>Bt(t,n)||e.get(t,n,r),has:(t,n)=>!!Bt(t,n)||e.has(t,n)}))(kt);class Ft{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Ut="@firebase/app",Gt="0.9.13",zt=new Et("@firebase/app"),Wt="@firebase/app-compat",Vt="@firebase/analytics-compat",Ht="@firebase/analytics",qt="@firebase/app-check-compat",Qt="@firebase/app-check",Kt="@firebase/auth",Yt="@firebase/auth-compat",Jt="@firebase/database",Xt="@firebase/database-compat",$t="@firebase/functions",Zt="@firebase/functions-compat",en="@firebase/installations",tn="@firebase/installations-compat",nn="@firebase/messaging",rn="@firebase/messaging-compat",on="@firebase/performance",an="@firebase/performance-compat",sn="@firebase/remote-config",ln="@firebase/remote-config-compat",cn="@firebase/storage",un="@firebase/storage-compat",dn="@firebase/firestore",hn="@firebase/firestore-compat",fn="firebase",pn="[DEFAULT]",gn={[Ut]:"fire-core",[Wt]:"fire-core-compat",[Ht]:"fire-analytics",[Vt]:"fire-analytics-compat",[Qt]:"fire-app-check",[qt]:"fire-app-check-compat",[Kt]:"fire-auth",[Yt]:"fire-auth-compat",[Jt]:"fire-rtdb",[Xt]:"fire-rtdb-compat",[$t]:"fire-fn",[Zt]:"fire-fn-compat",[en]:"fire-iid",[tn]:"fire-iid-compat",[nn]:"fire-fcm",[rn]:"fire-fcm-compat",[on]:"fire-perf",[an]:"fire-perf-compat",[sn]:"fire-rc",[ln]:"fire-rc-compat",[cn]:"fire-gcs",[un]:"fire-gcs-compat",[dn]:"fire-fst",[hn]:"fire-fst-compat","fire-js":"fire-js",[fn]:"fire-js-all"},mn=new Map,vn=new Map;function yn(e,t){try{e.container.addComponent(t)}catch(YP){zt.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,YP)}}function bn(e){const t=e.name;if(vn.has(t))return zt.debug(`There were multiple attempts to register component ${t}.`),!1;vn.set(t,e);for(const n of mn.values())yn(n,e);return!0}function wn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const An=new nt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class En{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ht("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw An.create("app-deleted",{appName:this._name})}}const xn="9.23.0";function In(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:pn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw An.create("bad-app-name",{appName:String(i)});if(n||(n=Ke()),!n)throw An.create("no-options");const o=mn.get(i);if(o){if(it(n,o.options)&&it(r,o.config))return o;throw An.create("duplicate-app",{appName:i})}const a=new gt(i);for(const l of vn.values())a.addComponent(l);const s=new En(n,r,a);return mn.set(i,s),s}function Sn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn;const t=mn.get(e);if(!t&&e===pn&&Ke())return In();if(!t)throw An.create("no-app",{appName:e});return t}function Cn(e,t,n){var r;let i=null!==(r=gn[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void zt.warn(e.join(" "))}bn(new ht(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const Dn="firebase-heartbeat-store";let Nn=null;function Tn(){return Nn||(Nn=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),s=Rt(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(Rt(a.result),e.oldVersion,e.newVersion,Rt(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),s.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Dn)}}).catch((e=>{throw An.create("idb-open",{originalErrorMessage:e.message})}))),Nn}async function kn(e,t){try{const n=(await Tn()).transaction(Dn,"readwrite"),r=n.objectStore(Dn);await r.put(t,On(e)),await n.done}catch(YP){if(YP instanceof tt)zt.warn(YP.message);else{const t=An.create("idb-set",{originalErrorMessage:null===YP||void 0===YP?void 0:YP.message});zt.warn(t.message)}}}function On(e){return`${e.name}!${e.options.appId}`}class Pn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new _n(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=Rn();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=Rn(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Ln(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ln(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=ze(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Rn(){return(new Date).toISOString().substring(0,10)}class _n{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!et()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await Tn();return await t.transaction(Dn).objectStore(Dn).get(On(e))}catch(YP){if(YP instanceof tt)zt.warn(YP.message);else{const t=An.create("idb-get",{originalErrorMessage:null===YP||void 0===YP?void 0:YP.message});zt.warn(t.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return kn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return kn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Ln(e){return ze(JSON.stringify({version:2,heartbeats:e})).length}var Mn;Mn="",bn(new ht("platform-logger",(e=>new Ft(e)),"PRIVATE")),bn(new ht("heartbeat",(e=>new Pn(e)),"PRIVATE")),Cn(Ut,Gt,Mn),Cn(Ut,Gt,"esm2017"),Cn("fire-js","");Cn("firebase","9.23.0","app");function jn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Bn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Fn=Bn,Un=new nt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Gn=new Et("@firebase/auth");function zn(e){if(Gn.logLevel<=vt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Gn.error(`Auth (${xn}): ${e}`,...n)}}function Wn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw qn(e,...n)}function Vn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return qn(e,...n)}function Hn(e,t,n){const r=Object.assign(Object.assign({},Fn()),{[t]:n});return new nt("auth","Firebase",r).create(t,{appName:e.name})}function qn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Un.create(e,...n)}function Qn(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw qn(t,...r)}}function Kn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw zn(t),new Error(t)}function Yn(e,t){e||Kn(t)}function Jn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Xn(){return"http:"===$n()||"https:"===$n()}function $n(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Zn(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Xn()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class er{constructor(e,t){this.shortDelay=e,this.longDelay=t,Yn(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Zn()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function tr(e,t){Yn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class nr{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Kn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Kn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Kn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ir=new er(3e4,6e4);function or(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function ar(e,t,n,r){return sr(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=at(Object.assign({key:e.config.apiKey},o)).slice(1),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode),nr.fetch()(cr(e,e.config.apiHost,n,a),Object.assign({method:t,headers:s,referrerPolicy:"no-referrer"},i))}))}async function sr(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},rr),t);try{const t=new ur(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw dr(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw dr(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw dr(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw dr(e,"user-disabled",o);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Hn(e,s,a);Wn(e,s)}}catch(YP){if(YP instanceof tt)throw YP;Wn(e,"network-request-failed",{message:String(YP)})}}async function lr(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await ar(e,t,n,r,i);return"mfaPendingCredential"in o&&Wn(e,"multi-factor-auth-required",{_serverResponse:o}),o}function cr(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?tr(e.config,i):`${e.config.apiScheme}://${i}`}class ur{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Vn(this.auth,"network-request-failed"))),ir.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function dr(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Vn(e,t,r);return i.customData._tokenResponse=n,i}function hr(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(YP){}}function fr(e){return 1e3*Number(e)}function pr(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return zn("JWT malformed, contained fewer than 3 sections"),null;try{const e=We(n);return e?JSON.parse(e):(zn("Failed to decode base64 JWT payload"),null)}catch(YP){return zn("Caught error parsing JWT payload as JSON",null===YP||void 0===YP?void 0:YP.toString()),null}}async function gr(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(YP){throw YP instanceof tt&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(YP)&&e.auth.currentUser===e&&await e.auth.signOut(),YP}}class mr{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(YP){return void("auth/network-request-failed"===(null===YP||void 0===YP?void 0:YP.code)&&this.schedule(!0))}this.schedule()}}class vr{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=hr(this.lastLoginAt),this.creationTime=hr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function yr(e){var t;const n=e.auth,r=await e.getIdToken(),i=await gr(e,async function(e,t){return ar(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Qn(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map((e=>{var{providerId:t}=e,n=jn(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const s=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),h=!!u&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new vr(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}class br{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Qn(e.idToken,"internal-error"),Qn("undefined"!==typeof e.idToken,"internal-error"),Qn("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=pr(e);return Qn(t,"internal-error"),Qn("undefined"!==typeof t.exp,"internal-error"),Qn("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Qn(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await sr(e,{},(async()=>{const n=at({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=cr(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",nr.fetch()(o,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new br;return n&&(Qn("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(Qn("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(Qn("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new br,this.toJSON())}_performRefresh(){return Kn("not implemented")}}function wr(e,t){Qn("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Ar{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=jn(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new vr(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await gr(this,this.stsTokenManager.getToken(this.auth,e));return Qn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=dt(e),r=await n.getIdToken(t),i=pr(r);Qn(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,a=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:hr(fr(i.auth_time)),issuedAtTime:hr(fr(i.iat)),expirationTime:hr(fr(i.exp)),signInProvider:a||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=dt(e);await yr(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Qn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ar(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Qn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await yr(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await gr(this,async function(e,t){return ar(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,a,s,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,g=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,m=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:A,stsTokenManager:E}=t;Qn(y&&E,e,"internal-error");const x=br.fromJSON(this.name,E);Qn("string"===typeof y,e,"internal-error"),wr(u,e.name),wr(d,e.name),Qn("boolean"===typeof b,e,"internal-error"),Qn("boolean"===typeof w,e,"internal-error"),wr(h,e.name),wr(f,e.name),wr(p,e.name),wr(g,e.name),wr(m,e.name),wr(v,e.name);const I=new Ar({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:x,createdAt:m,lastLoginAt:v});return A&&Array.isArray(A)&&(I.providerData=A.map((e=>Object.assign({},e)))),g&&(I._redirectEventId=g),I}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new br;r.updateFromServerResponse(t);const i=new Ar({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await yr(i),i}}const Er=new Map;function xr(e){Yn(e instanceof Function,"Expected a class definition");let t=Er.get(e);return t?(Yn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Er.set(e,t),t)}class Ir{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ir.type="NONE";const Sr=Ir;function Cr(e,t,n){return`firebase:${e}:${t}:${n}`}class Dr{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Cr(this.userKey,r.apiKey,i),this.fullPersistenceKey=Cr("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ar._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Dr(xr(Sr),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||xr(Sr);const o=Cr(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(o);if(t){const n=Ar._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const s=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&s.length?(i=s[0],a&&await i._set(o,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(l){}}))),new Dr(i,e,n)):new Dr(i,e,n)}}function Nr(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Pr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Tr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(_r(t))return"Blackberry";if(Lr(t))return"Webos";if(kr(t))return"Safari";if((t.includes("chrome/")||Or(t))&&!t.includes("edge/"))return"Chrome";if(Rr(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Tr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e();return/firefox\//i.test(e)}function kr(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Or(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e();return/crios\//i.test(e)}function Pr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e();return/iemobile/i.test(e)}function Rr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e();return/android/i.test(e)}function _r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e();return/blackberry/i.test(e)}function Lr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e();return/webos/i.test(e)}function Mr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function jr(){return function(){const e=$e();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Br(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e();return Mr(e)||Rr(e)||Lr(e)||_r(e)||/windows phone/i.test(e)||Pr(e)}function Fr(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Nr($e());break;case"Worker":t=`${Nr($e())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${xn}/${r}`}async function Ur(e,t){return ar(e,"GET","/v2/recaptchaConfig",or(e,t))}function Gr(e){return void 0!==e&&void 0!==e.enterprise}class zr{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some((e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState))}}function Wr(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Vn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Vr(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Hr{constructor(e){this.type="recaptcha-enterprise",this.auth=Yr(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Gr(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Ur(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new zr(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Gr(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));Wr("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function qr(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Hr(e);let o;try{o=await i.verify(n)}catch(s){o=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}class Qr{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(YP){r(YP)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(YP){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===YP||void 0===YP?void 0:YP.message})}}}class Kr{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jr(this),this.idTokenSubscription=new Jr(this),this.beforeStateQueue=new Qr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Un,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=xr(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Dr.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(YP){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==o||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(YP){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(YP)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Qn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(YP){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await yr(e)}catch(YP){if("auth/network-request-failed"!==(null===YP||void 0===YP?void 0:YP.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?dt(e):null;return t&&Qn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Qn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(xr(e))}))}async initializeRecaptchaConfig(){const e=await Ur(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new zr(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new Hr(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new nt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&xr(e)||this._popupRedirectResolver;Qn(t,this,"argument-error"),this.redirectPersistenceManager=await Dr.create(this,[xr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Qn(o,this,"internal-error"),o.then((()=>i(this.currentUser))),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Qn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Fr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Gn.logLevel<=vt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Gn.warn(`Auth (${xn}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function Yr(e){return dt(e)}class Jr{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new ct(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Qn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Xr(e,t,n){const r=Yr(e);Qn(r._canInitEmulator,r,"emulator-config-failed"),Qn(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=$r(t),{host:a,port:s}=function(e){const t=$r(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Zr(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Zr(t)}}}(t),l=null===s?"":`:${s}`;r.config.emulator={url:`${o}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function $r(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Zr(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class ei{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Kn("not implemented")}_getIdTokenResponse(e){return Kn("not implemented")}_linkToIdToken(e,t){return Kn("not implemented")}_getReauthenticationResolver(e){return Kn("not implemented")}}async function ti(e,t){return ar(e,"POST","/v1/accounts:update",t)}async function ni(e,t){return lr(e,"POST","/v1/accounts:signInWithPassword",or(e,t))}async function ri(e,t){return ar(e,"POST","/v1/accounts:sendOobCode",or(e,t))}async function ii(e,t){return ri(e,t)}class oi extends ei{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new oi(e,t,"password")}static _fromEmailAndCode(e,t){return new oi(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await qr(e,n,"signInWithPassword");return ni(e,t)}return ni(e,n).catch((async t=>{if("auth/missing-recaptcha-token"===t.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await qr(e,n,"signInWithPassword");return ni(e,t)}return Promise.reject(t)}));case"emailLink":return async function(e,t){return lr(e,"POST","/v1/accounts:signInWithEmailLink",or(e,t))}(e,{email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ti(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return lr(e,"POST","/v1/accounts:signInWithEmailLink",or(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ai(e,t){return lr(e,"POST","/v1/accounts:signInWithIdp",or(e,t))}class si extends ei{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new si(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Wn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=jn(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new si(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return ai(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ai(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ai(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=at(t)}return e}}const li={USER_NOT_FOUND:"user-not-found"};class ci extends ei{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ci({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ci({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return lr(e,"POST","/v1/accounts:signInWithPhoneNumber",or(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await lr(e,"POST","/v1/accounts:signInWithPhoneNumber",or(e,t));if(n.temporaryProof)throw dr(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return lr(e,"POST","/v1/accounts:signInWithPhoneNumber",or(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),li)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new ci({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class ui{constructor(e){var t,n,r,i,o,a;const s=st(lt(e)),l=null!==(t=s.apiKey)&&void 0!==t?t:null,c=null!==(n=s.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);Qn(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=s.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=st(lt(e)).link,n=t?st(lt(t)).deep_link_id:null,r=st(lt(e)).deep_link_id;return(r?st(lt(r)).link:null)||r||n||t||e}(e);try{return new ui(t)}catch(n){return null}}}class di{constructor(){this.providerId=di.PROVIDER_ID}static credential(e,t){return oi._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ui.parseLink(t);return Qn(n,"argument-error"),oi._fromEmailAndCode(e,n.code,n.tenantId)}}di.PROVIDER_ID="password",di.EMAIL_PASSWORD_SIGN_IN_METHOD="password",di.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class hi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class fi extends hi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class pi extends fi{constructor(){super("facebook.com")}static credential(e){return si._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return pi.credential(t.oauthAccessToken)}catch(n){return null}}}pi.FACEBOOK_SIGN_IN_METHOD="facebook.com",pi.PROVIDER_ID="facebook.com";class gi extends fi{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return si._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return gi.credential(n,r)}catch(i){return null}}}gi.GOOGLE_SIGN_IN_METHOD="google.com",gi.PROVIDER_ID="google.com";class mi extends fi{constructor(){super("github.com")}static credential(e){return si._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return mi.credential(t.oauthAccessToken)}catch(n){return null}}}mi.GITHUB_SIGN_IN_METHOD="github.com",mi.PROVIDER_ID="github.com";class vi extends fi{constructor(){super("twitter.com")}static credential(e,t){return si._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return vi.credential(n,r)}catch(i){return null}}}async function yi(e,t){return lr(e,"POST","/v1/accounts:signUp",or(e,t))}vi.TWITTER_SIGN_IN_METHOD="twitter.com",vi.PROVIDER_ID="twitter.com";class bi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Ar._fromIdTokenResponse(e,n,r),o=wi(n);return new bi({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=wi(n);return new bi({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function wi(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Ai extends tt{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Ai.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Ai(e,t,n,r)}}function Ei(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Ai._fromErrorAndOperation(e,n,t,r);throw n}))}async function xi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await gr(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return bi._forOperation(e,"link",r)}async function Ii(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const o=await gr(e,Ei(r,i,t,e),n);Qn(o.idToken,r,"internal-error");const a=pr(o.idToken);Qn(a,r,"internal-error");const{sub:s}=a;return Qn(e.uid===s,r,"user-mismatch"),bi._forOperation(e,i,o)}catch(YP){throw"auth/user-not-found"===(null===YP||void 0===YP?void 0:YP.code)&&Wn(r,"user-mismatch"),YP}}async function Si(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await Ei(e,r,t),o=await bi._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function Ci(e,t){return Si(Yr(e),t)}function Di(e,t,n){var r;Qn((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Qn("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Qn(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Qn(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}new WeakMap;const Ni="__sak";class Ti{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ni,"1"),this.storage.removeItem(Ni),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ki extends Ti{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=$e();return kr(e)||Mr(e)}()&&function(){try{return!(!window||window===window.top)}catch(YP){return!1}}(),this.fallbackToPolling=Br(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);jr()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ki.type="LOCAL";const Oi=ki;class Pi extends Ti{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Pi.type="SESSION";const Ri=Pi;class _i{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new _i(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(o).map((async e=>e(t.origin,i))),s=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Li(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}_i.receivers=[];class Mi{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((a,s)=>{const l=Li("",20);r.port1.start();const c=setTimeout((()=>{s(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function ji(){return window}function Bi(){return"undefined"!==typeof ji().WorkerGlobalScope&&"function"===typeof ji().importScripts}const Fi="firebaseLocalStorageDb",Ui="firebaseLocalStorage",Gi="fbase_key";class zi{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Wi(e,t){return e.transaction([Ui],t?"readwrite":"readonly").objectStore(Ui)}function Vi(){const e=indexedDB.open(Fi,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Ui,{keyPath:Gi})}catch(YP){n(YP)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Ui)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Fi);return new zi(e).toPromise()}(),t(await Vi()))}))}))}async function Hi(e,t,n){const r=Wi(e,!0).put({[Gi]:t,value:n});return new zi(r).toPromise()}function qi(e,t){const n=Wi(e,!0).delete(t);return new zi(n).toPromise()}class Qi{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Vi()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(YP){if(t++>3)throw YP;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Bi()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_i._getInstance(Bi()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Mi(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vi();return await Hi(e,Ni,"1"),await qi(e,Ni),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Hi(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Wi(e,!1).get(t),r=await new zi(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>qi(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Wi(e,!1).getAll();return new zi(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Qi.type="LOCAL";const Ki=Qi;Vr("rcb"),new er(3e4,6e4);const Yi="recaptcha";async function Ji(e,t,n){var r;const i=await n.verify();try{let o;if(Qn("string"===typeof i,e,"argument-error"),Qn(n.type===Yi,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){Qn("enroll"===t.type,e,"internal-error");const n=await function(e,t){return ar(e,"POST","/v2/accounts/mfaEnrollment:start",or(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Qn("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;Qn(n,e,"missing-multi-factor-info");const a=await function(e,t){return ar(e,"POST","/v2/accounts/mfaSignIn:start",or(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return ar(e,"POST","/v1/accounts:sendVerificationCode",or(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Xi{constructor(e){this.providerId=Xi.PROVIDER_ID,this.auth=Yr(e)}verifyPhoneNumber(e,t){return Ji(this.auth,e,dt(t))}static credential(e,t){return ci._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Xi.credentialFromTaggedObject(t)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?ci._fromTokenResponse(n,r):null}}function $i(e,t){return t?xr(t):(Qn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Xi.PROVIDER_ID="phone",Xi.PHONE_SIGN_IN_METHOD="phone";class Zi extends ei{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ai(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ai(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ai(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function eo(e){return Si(e.auth,new Zi(e),e.bypassAuthState)}function to(e){const{auth:t,user:n}=e;return Qn(n,t,"internal-error"),Ii(n,new Zi(e),e.bypassAuthState)}async function no(e){const{auth:t,user:n}=e;return Qn(n,t,"internal-error"),xi(n,new Zi(e),e.bypassAuthState)}class ro{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(YP){this.reject(YP)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:a}=e;if(o)return void this.reject(o);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch(YP){this.reject(YP)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eo;case"linkViaPopup":case"linkViaRedirect":return no;case"reauthViaPopup":case"reauthViaRedirect":return to;default:Wn(this.auth,"internal-error")}}resolve(e){Yn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const io=new er(2e3,1e4);class oo extends ro{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,oo.currentPopupAction&&oo.currentPopupAction.cancel(),oo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Qn(e,this.auth,"internal-error"),e}async onExecution(){Yn(1===this.filter.length,"Popup operations only handle one event");const e=Li();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Vn(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Vn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Vn(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,io.get())};e()}}oo.currentPopupAction=null;const ao=new Map;class so extends ro{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=ao.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=uo(t),r=co(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(YP){e=()=>Promise.reject(YP)}ao.set(this.auth._key(),e)}return this.bypassAuthState||ao.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function lo(e,t){ao.set(e._key(),t)}function co(e){return xr(e._redirectPersistence)}function uo(e){return Cr("pendingRedirect",e.config.apiKey,e.name)}async function ho(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Yr(e),i=$i(r,t),o=new so(r,i,n),a=await o.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class fo{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return go(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!go(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Vn(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(po(e))}saveEventToCache(e){this.cachedEventUids.add(po(e)),this.lastProcessedEventTime=Date.now()}}function po(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function go(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const mo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vo=/^https?/;async function yo(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return ar(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(bo(r))return}catch(n){}Wn(e,"unauthorized-domain")}function bo(e){const t=Jn(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!vo.test(n))return!1;if(mo.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const wo=new er(3e4,6e4);function Ao(){const e=ji().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Eo=null;function xo(e){return Eo=Eo||function(e){return new Promise(((t,n)=>{var r,i,o;function a(){Ao(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ao(),n(Vn(e,"network-request-failed"))},timeout:wo.get()})}if(null===(i=null===(r=ji().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=ji().gapi)||void 0===o?void 0:o.load)){const t=Vr("iframefcb");return ji()[t]=()=>{gapi.load?a():n(Vn(e,"network-request-failed"))},Wr(`https://apis.google.com/js/api.js?onload=${t}`).catch((e=>n(e)))}a()}})).catch((e=>{throw Eo=null,e}))}(e),Eo}const Io=new er(5e3,15e3),So={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Co=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Do(e){const t=e.config;Qn(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?tr(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:xn},i=Co.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${at(r).slice(1)}`}const No={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class To{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(YP){}}}function ko(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},No),{width:r.toString(),height:i.toString(),top:o,left:a}),c=$e().toLowerCase();n&&(s=Or(c)?"_blank":n),Tr(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return Mr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new To(null);const d=window.open(t||"",s,u);Qn(d,e,"popup-blocked");try{d.focus()}catch(YP){}return new To(d)}const Oo="__/auth/handler",Po="emulator/auth/handler",Ro=encodeURIComponent("fac");async function _o(e,t,n,r,i,o){Qn(e.config.authDomain,e,"auth-domain-config-required"),Qn(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:xn,eventId:i};if(t instanceof hi){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))a[e]=t}if(t instanceof fi){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const s=a;for(const u of Object.keys(s))void 0===s[u]&&delete s[u];const l=await e._getAppCheckToken(),c=l?`#${Ro}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${Oo}`;return tr(t,Po)}(e)}?${at(s).slice(1)}${c}`}const Lo="webStorageSupport";const Mo=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ri,this._completeRedirectFn=ho,this._overrideRedirectResult=lo}async _openPopup(e,t,n,r){var i;Yn(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return ko(e,await _o(e,t,n,Jn(),r),Li())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){ji().location.href=e}(await _o(e,t,n,Jn(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Yn(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await xo(e),n=ji().gapi;return Qn(n,e,"internal-error"),t.open({where:document.body,url:Do(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:So,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Vn(e,"network-request-failed"),o=ji().setTimeout((()=>{r(i)}),Io.get());function a(){ji().clearTimeout(o),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}(e),n=new fo(e);return t.register("authEvent",(t=>{Qn(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Lo,{type:Lo},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Lo];void 0!==i&&t(!!i),Wn(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=yo(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Br()||kr()||Mr()}};var jo="@firebase/auth",Bo="0.23.2";class Fo{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Qn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Uo=Ye("authIdTokenMaxAge")||300;let Go=null;var zo;zo="Browser",bn(new ht("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;Qn(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:zo,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fr(zo)},c=new Kr(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(xr);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),bn(new ht("auth-internal",(e=>(e=>new Fo(e))(Yr(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Cn(jo,Bo,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(zo)),Cn(jo,Bo,"esm2017");var Wo,Vo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ho={},qo=qo||{},Qo=Vo||self;function Ko(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Yo(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Jo="closure_uid_"+(1e9*Math.random()>>>0),Xo=0;function $o(e,t,n){return e.call.apply(e.bind,arguments)}function Zo(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function ea(e,t,n){return(ea=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?$o:Zo).apply(null,arguments)}function ta(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function na(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function ra(){this.s=this.s,this.o=this.o}ra.prototype.s=!1,ra.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Jo)&&e[Jo]||(e[Jo]=++Xo))},ra.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ia=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function oa(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function aa(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Ko(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function sa(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}sa.prototype.h=function(){this.defaultPrevented=!0};var la=function(){if(!Qo.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Qo.addEventListener("test",(()=>{}),t),Qo.removeEventListener("test",(()=>{}),t)}catch(n){}return e}();function ca(e){return/^[\s\xa0]*$/.test(e)}function ua(){var e=Qo.navigator;return e&&(e=e.userAgent)?e:""}function da(e){return-1!=ua().indexOf(e)}function ha(e){return ha[" "](e),e}ha[" "]=function(){};var fa,pa,ga=da("Opera"),ma=da("Trident")||da("MSIE"),va=da("Edge"),ya=va||ma,ba=da("Gecko")&&!(-1!=ua().toLowerCase().indexOf("webkit")&&!da("Edge"))&&!(da("Trident")||da("MSIE"))&&!da("Edge"),wa=-1!=ua().toLowerCase().indexOf("webkit")&&!da("Edge");function Aa(){var e=Qo.document;return e?e.documentMode:void 0}e:{var Ea="",xa=function(){var e=ua();return ba?/rv:([^\);]+)(\)|;)/.exec(e):va?/Edge\/([\d\.]+)/.exec(e):ma?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):wa?/WebKit\/(\S+)/.exec(e):ga?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(xa&&(Ea=xa?xa[1]:""),ma){var Ia=Aa();if(null!=Ia&&Ia>parseFloat(Ea)){fa=String(Ia);break e}}fa=Ea}if(Qo.document&&ma){var Sa=Aa();pa=Sa||(parseInt(fa,10)||void 0)}else pa=void 0;var Ca=pa;function Da(e,t){if(sa.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ba){e:{try{ha(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Na[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Da.$.h.call(this)}}na(Da,sa);var Na={2:"touch",3:"pen",4:"mouse"};Da.prototype.h=function(){Da.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ta="closure_listenable_"+(1e6*Math.random()|0),ka=0;function Oa(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++ka,this.fa=this.ia=!1}function Pa(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Ra(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function _a(e){const t={};for(const n in e)t[n]=e[n];return t}const La="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ma(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<La.length;t++)n=La[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ja(e){this.src=e,this.g={},this.h=0}function Ba(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=ia(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Pa(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Fa(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}ja.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=Fa(e,t,r,i);return-1<a?(t=e[a],n||(t.ia=!1)):((t=new Oa(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var Ua="closure_lm_"+(1e6*Math.random()|0),Ga={};function za(e,t,n,r,i){if(r&&r.once)return Va(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)za(e,t[o],n,r,i);return null}return n=Xa(n),e&&e[Ta]?e.O(t,n,Yo(r)?!!r.capture:!!r,i):Wa(e,t,n,!1,r,i)}function Wa(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=Yo(i)?!!i.capture:!!i,s=Ya(e);if(s||(e[Ua]=s=new ja(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Ka;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)la||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Qa(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Va(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Va(e,t[o],n,r,i);return null}return n=Xa(n),e&&e[Ta]?e.P(t,n,Yo(r)?!!r.capture:!!r,i):Wa(e,t,n,!0,r,i)}function Ha(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Ha(e,t[o],n,r,i);else r=Yo(r)?!!r.capture:!!r,n=Xa(n),e&&e[Ta]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Fa(o=e.g[t],n,r,i))&&(Pa(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Ya(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Fa(t,n,r,i)),(n=-1<e?t[e]:null)&&qa(n))}function qa(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Ta])Ba(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Qa(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ya(t))?(Ba(n,e),0==n.h&&(n.src=null,t[Ua]=null)):Pa(e)}}}function Qa(e){return e in Ga?Ga[e]:Ga[e]="on"+e}function Ka(e,t){if(e.fa)e=!0;else{t=new Da(t,this);var n=e.listener,r=e.la||e.src;e.ia&&qa(e),e=n.call(r,t)}return e}function Ya(e){return(e=e[Ua])instanceof ja?e:null}var Ja="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xa(e){return"function"===typeof e?e:(e[Ja]||(e[Ja]=function(t){return e.handleEvent(t)}),e[Ja])}function $a(){ra.call(this),this.i=new ja(this),this.S=this,this.J=null}function Za(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new sa(t,e);else if(t instanceof sa)t.target=t.target||e;else{var i=t;Ma(t=new sa(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=es(a,r,!0,t)&&i}if(i=es(a=t.g=e,r,!0,t)&&i,i=es(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=es(a=t.g=n[o],r,!1,t)&&i}function es(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.fa&&a.capture==n){var s=a.listener,l=a.la||a.src;a.ia&&Ba(e.i,a),i=!1!==s.call(l,r)&&i}}return i&&!r.defaultPrevented}na($a,ra),$a.prototype[Ta]=!0,$a.prototype.removeEventListener=function(e,t,n,r){Ha(this,e,t,n,r)},$a.prototype.N=function(){if($a.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Pa(n[r]);delete t.g[e],t.h--}}this.J=null},$a.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},$a.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ts=Qo.JSON.stringify;function ns(){var e=cs;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var rs=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new is),(e=>e.reset()));class is{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function os(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function as(e){Qo.setTimeout((()=>{throw e}),0)}let ss,ls=!1,cs=new class{constructor(){this.h=this.g=null}add(e,t){const n=rs.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},us=()=>{const e=Qo.Promise.resolve(void 0);ss=()=>{e.then(ds)}};var ds=()=>{for(var e;e=ns();){try{e.h.call(e.g)}catch(n){as(n)}var t=rs;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ls=!1};function hs(e,t){$a.call(this),this.h=e||1,this.g=t||Qo,this.j=ea(this.qb,this),this.l=Date.now()}function fs(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function ps(e,t,n){if("function"===typeof e)n&&(e=ea(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=ea(e.handleEvent,e)}return 2147483647<Number(t)?-1:Qo.setTimeout(e,t||0)}function gs(e){e.g=ps((()=>{e.g=null,e.i&&(e.i=!1,gs(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}na(hs,$a),(Wo=hs.prototype).ga=!1,Wo.T=null,Wo.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Za(this,"tick"),this.ga&&(fs(this),this.start()))}},Wo.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Wo.N=function(){hs.$.N.call(this),fs(this),delete this.g};class ms extends ra{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:gs(this)}N(){super.N(),this.g&&(Qo.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vs(e){ra.call(this),this.h=e,this.g={}}na(vs,ra);var ys=[];function bs(e,t,n,r){Array.isArray(n)||(n&&(ys[0]=n.toString()),n=ys);for(var i=0;i<n.length;i++){var o=za(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function ws(e){Ra(e.g,(function(e,t){this.g.hasOwnProperty(t)&&qa(e)}),e),e.g={}}function As(){this.g=!0}function Es(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return ts(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}vs.prototype.N=function(){vs.$.N.call(this),ws(this)},vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},As.prototype.Ea=function(){this.g=!1},As.prototype.info=function(){};var xs={},Is=null;function Ss(){return Is=Is||new $a}function Cs(e){sa.call(this,xs.Ta,e)}function Ds(e){const t=Ss();Za(t,new Cs(t))}function Ns(e,t){sa.call(this,xs.STAT_EVENT,e),this.stat=t}function Ts(e){const t=Ss();Za(t,new Ns(t,e))}function ks(e,t){sa.call(this,xs.Ua,e),this.size=t}function Os(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Qo.setTimeout((function(){e()}),t)}xs.Ta="serverreachability",na(Cs,sa),xs.STAT_EVENT="statevent",na(Ns,sa),xs.Ua="timingevent",na(ks,sa);var Ps={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Rs={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function _s(){}function Ls(e){return e.h||(e.h=e.i())}function Ms(){}_s.prototype.h=null;var js,Bs={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Fs(){sa.call(this,"d")}function Us(){sa.call(this,"c")}function Gs(){}function zs(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new vs(this),this.P=Vs,e=ya?125:void 0,this.V=new hs(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ws}function Ws(){this.i=null,this.g="",this.h=!1}na(Fs,sa),na(Us,sa),na(Gs,_s),Gs.prototype.g=function(){return new XMLHttpRequest},Gs.prototype.i=function(){return{}},js=new Gs;var Vs=45e3,Hs={},qs={};function Qs(e,t,n){e.L=1,e.v=hl(sl(t)),e.s=n,e.S=!0,Ks(e,null)}function Ks(e,t){e.G=Date.now(),$s(e),e.A=sl(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Sl(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Ws,e.g=Cc(e.l,n?t:null,!e.s),0<e.O&&(e.M=new ms(ea(e.Pa,e,e.g),e.O)),bs(e.U,e.g,"readystatechange",e.nb),t=e.I?_a(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Ds(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Ys(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Js(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=Xs(e,n),r==qs){4==t&&(e.o=4,Ts(14),i=!1),Es(e.j,e.m,null,"[Incomplete Response]");break}if(r==Hs){e.o=4,Ts(15),Es(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Es(e.j,e.m,r,null),rl(e,r)}Ys(e)&&r!=qs&&r!=Hs&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ts(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),yc(t),t.M=!0,Ts(11))):(Es(e.j,e.m,n,"[Invalid Chunked Response]"),nl(e),tl(e))}function Xs(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?qs:(n=Number(t.substring(n,r)),isNaN(n)?Hs:(r+=1)+n>t.length?qs:(t=t.slice(r,r+n),e.C=r+n,t))}function $s(e){e.Y=Date.now()+e.P,Zs(e,e.P)}function Zs(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Os(ea(e.lb,e),t)}function el(e){e.B&&(Qo.clearTimeout(e.B),e.B=null)}function tl(e){0==e.l.H||e.J||Ac(e.l,e)}function nl(e){el(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,fs(e.V),ws(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function rl(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Pl(n.i,e)))if(!e.K&&Pl(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;wc(n),uc(n)}vc(n),Ts(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Os(ea(n.ib,n),6e3));if(1>=Ol(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else xc(n,11)}else if((e.K||n.g==e)&&wc(n),!ca(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Rl(o,o.h),o.h=null))}if(r.F){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,dl(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var a=e;if((r=n).wa=Sc(r,r.J?r.pa:null,r.Y),a.K){_l(r.i,a);var s=a,l=r.L;l&&s.setTimeout(l),s.B&&(el(s),$s(s)),r.g=a}else mc(r);0<n.j.length&&hc(n)}else"stop"!=c[0]&&"close"!=c[0]||xc(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?xc(n,7):cc(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Ds()}catch(c){}}function il(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Ko(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Ko(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Ko(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(Wo=zs.prototype).setTimeout=function(e){this.P=e},Wo.nb=function(e){e=e.target;const t=this.M;t&&3==rc(e)?t.l():this.Pa(e)},Wo.Pa=function(e){try{if(e==this.g)e:{const u=rc(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||ya||this.g&&(this.h.h||this.g.ja()||ic(this.g)))){this.J||4!=u||7==t||Ds(),el(this);var n=this.g.da();this.ca=n;t:if(Ys(this)){var r=ic(this.g);e="";var i=r.length,o=4==rc(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){nl(this),tl(this);var a="";break t}this.h.i=new Qo.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var s,l=this.g;if((s=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ca(s)){var c=s;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Ts(12),nl(this),tl(this);break e}Es(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rl(this,n)}this.S?(Js(this,u,a),ya&&this.i&&3==u&&(bs(this.U,this.V,"tick",this.mb),this.V.start())):(Es(this.j,this.m,a,null),rl(this,a)),4==u&&nl(this),this.i&&!this.J&&(4==u?Ac(this.l,this):(this.i=!1,$s(this)))}else(function(e){const t={};e=(e.g&&2<=rc(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(ca(e[r]))continue;var n=os(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.o=3,Ts(12)):(this.o=0,Ts(13)),nl(this),tl(this)}}}catch(u){}},Wo.mb=function(){if(this.g){var e=rc(this.g),t=this.g.ja();this.C<t.length&&(el(this),Js(this,e,t),this.i&&4!=e&&$s(this))}},Wo.cancel=function(){this.J=!0,nl(this)},Wo.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(Ds(),Ts(17)),nl(this),this.o=2,tl(this)):Zs(this,this.Y-e)};var ol=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function al(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof al){this.h=e.h,ll(this,e.j),this.s=e.s,this.g=e.g,cl(this,e.m),this.l=e.l;var t=e.i,n=new Al;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ul(this,n),this.o=e.o}else e&&(t=String(e).match(ol))?(this.h=!1,ll(this,t[1]||"",!0),this.s=fl(t[2]||""),this.g=fl(t[3]||"",!0),cl(this,t[4]),this.l=fl(t[5]||"",!0),ul(this,t[6]||"",!0),this.o=fl(t[7]||"")):(this.h=!1,this.i=new Al(null,this.h))}function sl(e){return new al(e)}function ll(e,t,n){e.j=n?fl(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function cl(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function ul(e,t,n){t instanceof Al?(e.i=t,function(e,t){t&&!e.j&&(El(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(xl(this,t),Sl(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=pl(t,bl)),e.i=new Al(t,e.h))}function dl(e,t,n){e.i.set(t,n)}function hl(e){return dl(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function fl(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function pl(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,gl),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function gl(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}al.prototype.toString=function(){var e=[],t=this.j;t&&e.push(pl(t,ml,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(pl(t,ml,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(pl(n,"/"==n.charAt(0)?yl:vl,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",pl(n,wl)),e.join("")};var ml=/[#\/\?@]/g,vl=/[#\?:]/g,yl=/[#\?]/g,bl=/[#\?@]/g,wl=/#/g;function Al(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function El(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function xl(e,t){El(e),t=Cl(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Il(e,t){return El(e),t=Cl(e,t),e.g.has(t)}function Sl(e,t,n){xl(e,t),0<n.length&&(e.i=null,e.g.set(Cl(e,t),oa(n)),e.h+=n.length)}function Cl(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Wo=Al.prototype).add=function(e,t){El(this),this.i=null,e=Cl(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Wo.forEach=function(e,t){El(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Wo.ta=function(){El(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Wo.Z=function(e){El(this);let t=[];if("string"===typeof e)Il(this,e)&&(t=t.concat(this.g.get(Cl(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Wo.set=function(e,t){return El(this),this.i=null,Il(this,e=Cl(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Wo.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Wo.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=o;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")};var Dl=class{constructor(e,t){this.g=e,this.map=t}};function Nl(e){this.l=e||Tl,Qo.PerformanceNavigationTiming?e=0<(e=Qo.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Qo.g&&Qo.g.Ka&&Qo.g.Ka()&&Qo.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Tl=10;function kl(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ol(e){return e.h?1:e.g?e.g.size:0}function Pl(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Rl(e,t){e.g?e.g.add(t):e.h=t}function _l(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ll(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return oa(e.i)}Nl.prototype.cancel=function(){if(this.i=Ll(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Ml,jl=class{stringify(e){return Qo.JSON.stringify(e,void 0)}parse(e){return Qo.JSON.parse(e,void 0)}};function Bl(){this.g=new jl}function Fl(e,t,n){const r=n||"";try{il(e,(function(e,n){let i=e;Yo(e)&&(i=ts(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(YP){throw t.push(r+"type="+encodeURIComponent("_badmap")),YP}}function Ul(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function Gl(e){this.l=e.fc||null,this.j=e.ob||!1}function zl(e,t){$a.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Wl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}na(Gl,_s),Gl.prototype.g=function(){return new zl(this.l,this.j)},Gl.prototype.i=(Ml={},function(){return Ml}),na(zl,$a);var Wl=0;function Vl(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Hl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ql(e)}function ql(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Wo=zl.prototype).open=function(e,t){if(this.readyState!=Wl)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ql(this)},Wo.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Qo).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Wo.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Hl(this)),this.readyState=Wl},Wo.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ql(this)),this.g&&(this.readyState=3,ql(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Qo.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Vl(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Wo.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Hl(this):ql(this),3==this.readyState&&Vl(this)}},Wo.Za=function(e){this.g&&(this.response=this.responseText=e,Hl(this))},Wo.Ya=function(e){this.g&&(this.response=e,Hl(this))},Wo.ka=function(){this.g&&Hl(this)},Wo.setRequestHeader=function(e,t){this.v.append(e,t)},Wo.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Wo.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(zl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Ql=Qo.JSON.parse;function Kl(e){$a.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Yl,this.L=this.M=!1}na(Kl,$a);var Yl="",Jl=/^https?$/i,Xl=["POST","PUT"];function $l(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Zl(e),tc(e)}function Zl(e){e.F||(e.F=!0,Za(e,"complete"),Za(e,"error"))}function ec(e){if(e.h&&"undefined"!=typeof qo&&(!e.C[1]||4!=rc(e)||2!=e.da()))if(e.v&&4==rc(e))ps(e.La,0,e);else if(Za(e,"readystatechange"),4==rc(e)){e.h=!1;try{const s=e.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===s){var i=String(e.I).match(ol)[1]||null;!i&&Qo.self&&Qo.self.location&&(i=Qo.self.location.protocol.slice(0,-1)),r=!Jl.test(i?i.toLowerCase():"")}n=r}if(n)Za(e,"complete"),Za(e,"success");else{e.m=6;try{var o=2<rc(e)?e.g.statusText:""}catch(a){o=""}e.j=o+" ["+e.da()+"]",Zl(e)}}finally{tc(e)}}}function tc(e,t){if(e.g){nc(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Za(e,"ready");try{n.onreadystatechange=r}catch(YP){}}}function nc(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Qo.clearTimeout(e.A),e.A=null)}function rc(e){return e.g?e.g.readyState:0}function ic(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Yl:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(cu){return null}}function oc(e){let t="";return Ra(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function ac(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=oc(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):dl(e,t,n))}function sc(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function lc(e){this.Ga=0,this.j=[],this.l=new As,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=sc("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=sc("baseRetryDelayMs",5e3,e),this.hb=sc("retryDelaySeedMs",1e4,e),this.eb=sc("forwardChannelMaxRetries",2,e),this.xa=sc("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Nl(e&&e.concurrentRequestLimit),this.Ja=new Bl,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function cc(e){if(dc(e),3==e.H){var t=e.W++,n=sl(e.I);if(dl(n,"SID",e.K),dl(n,"RID",t),dl(n,"TYPE","terminate"),pc(e,n),(t=new zs(e,e.l,t)).L=2,t.v=hl(sl(n)),n=!1,Qo.navigator&&Qo.navigator.sendBeacon)try{n=Qo.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&Qo.Image&&((new Image).src=t.v,n=!0),n||(t.g=Cc(t.l,null),t.g.ha(t.v)),t.G=Date.now(),$s(t)}Ic(e)}function uc(e){e.g&&(yc(e),e.g.cancel(),e.g=null)}function dc(e){uc(e),e.u&&(Qo.clearTimeout(e.u),e.u=null),wc(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Qo.clearTimeout(e.m),e.m=null)}function hc(e){if(!kl(e.i)&&!e.m){e.m=!0;var t=e.Na;ss||us(),ls||(ss(),ls=!0),cs.add(t,e),e.C=0}}function fc(e,t){var n;n=t?t.m:e.W++;const r=sl(e.I);dl(r,"SID",e.K),dl(r,"RID",n),dl(r,"AID",e.V),pc(e,r),e.o&&e.s&&ac(r,e.o,e.s),n=new zs(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=gc(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Rl(e.i,n),Qs(n,r,t)}function pc(e,t){e.na&&Ra(e.na,(function(e,n){dl(t,n,e)})),e.h&&il({},(function(e,n){dl(t,n,e)}))}function gc(e,t,n){n=Math.min(e.j.length,n);var r=e.h?ea(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=i[a].g;const s=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),o=!1;else try{Fl(s,e,"req"+n+"_")}catch(wu){r&&r(s)}}if(o){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function mc(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;ss||us(),ls||(ss(),ls=!0),cs.add(t,e),e.A=0}}function vc(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Os(ea(e.Ma,e),Ec(e,e.A)),e.A++,!0)}function yc(e){null!=e.B&&(Qo.clearTimeout(e.B),e.B=null)}function bc(e){e.g=new zs(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=sl(e.wa);dl(t,"RID","rpc"),dl(t,"SID",e.K),dl(t,"AID",e.V),dl(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&dl(t,"TO",e.qa),dl(t,"TYPE","xmlhttp"),pc(e,t),e.o&&e.s&&ac(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=hl(sl(t)),n.s=null,n.S=!0,Ks(n,e)}function wc(e){null!=e.v&&(Qo.clearTimeout(e.v),e.v=null)}function Ac(e,t){var n=null;if(e.g==t){wc(e),yc(e),e.g=null;var r=2}else{if(!Pl(e.i,t))return;n=t.F,_l(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Za(r=Ss(),new ks(r,n)),hc(e)}else mc(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Ol(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Os(ea(e.Na,e,t),Ec(e,e.C)),e.C++,!0))}(e,t)||2==r&&vc(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:xc(e,5);break;case 4:xc(e,10);break;case 3:xc(e,6);break;default:xc(e,2)}}function Ec(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function xc(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=ea(e.pb,e);n||(n=new al("//www.google.com/images/cleardot.gif"),Qo.location&&"http"==Qo.location.protocol||ll(n,"https"),hl(n)),function(e,t){const n=new As;if(Qo.Image){const r=new Image;r.onload=ta(Ul,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ta(Ul,n,r,"TestLoadImage: error",!1,t),r.onabort=ta(Ul,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ta(Ul,n,r,"TestLoadImage: timeout",!1,t),Qo.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ts(2);e.H=0,e.h&&e.h.za(t),Ic(e),dc(e)}function Ic(e){if(e.H=0,e.ma=[],e.h){const t=Ll(e.i);0==t.length&&0==e.j.length||(aa(e.ma,t),aa(e.ma,e.j),e.i.i.length=0,oa(e.j),e.j.length=0),e.h.ya()}}function Sc(e,t,n){var r=n instanceof al?sl(n):new al(n);if(""!=r.g)t&&(r.g=t+"."+r.g),cl(r,r.m);else{var i=Qo.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new al(null);r&&ll(o,r),t&&(o.g=t),i&&cl(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&dl(r,n,t),dl(r,"VER",e.ra),pc(e,r),r}function Cc(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Kl(new Gl({ob:!0})):new Kl(e.va)).Oa(e.J),t}function Dc(){}function Nc(){if(ma&&!(10<=Number(Ca)))throw Error("Environmental error: no available transport.")}function Tc(e,t){$a.call(this),this.g=new lc(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!ca(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ca(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Pc(this)}function kc(e){Fs.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Oc(){Us.call(this),this.status=1}function Pc(e){this.g=e}function Rc(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function _c(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],a=t+(o^n&(i^o))+r[0]+3614090360&4294967295;a=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(a<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((o=(t=n+((a=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=o+((a=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function Lc(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(Wo=Kl.prototype).Oa=function(e){this.M=e},Wo.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():js.g(),this.C=this.u?Ls(this.u):Ls(js),this.g.onreadystatechange=ea(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){return void $l(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=Qo.FormData&&e instanceof Qo.FormData,!(0<=ia(Xl,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,s]of n)this.g.setRequestHeader(a,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{nc(this),0<this.B&&((this.L=function(e){return ma&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ea(this.ua,this)):this.A=ps(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){$l(this,o)}},Wo.ua=function(){"undefined"!=typeof qo&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Za(this,"timeout"),this.abort(8))},Wo.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Za(this,"complete"),Za(this,"abort"),tc(this))},Wo.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),tc(this,!0)),Kl.$.N.call(this)},Wo.La=function(){this.s||(this.G||this.v||this.l?ec(this):this.kb())},Wo.kb=function(){ec(this)},Wo.isActive=function(){return!!this.g},Wo.da=function(){try{return 2<rc(this)?this.g.status:-1}catch(Ml){return-1}},Wo.ja=function(){try{return this.g?this.g.responseText:""}catch(Ml){return""}},Wo.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ql(t)}},Wo.Ia=function(){return this.m},Wo.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Wo=lc.prototype).ra=8,Wo.H=1,Wo.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new zs(this,this.l,e);let o=this.s;if(this.U&&(o?(o=_a(o),Ma(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=gc(this,i,t),dl(n=sl(this.I),"RID",e),dl(n,"CVER",22),this.F&&dl(n,"X-HTTP-Session-Id",this.F),pc(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(oc(o)))+"&"+t:this.o&&ac(n,this.o,o)),Rl(this.i,i),this.bb&&dl(n,"TYPE","init"),this.P?(dl(n,"$req",t),dl(n,"SID","null"),i.aa=!0,Qs(i,n,null)):Qs(i,n,t),this.H=2}}else 3==this.H&&(e?fc(this,e):0==this.j.length||kl(this.i)||fc(this))},Wo.Ma=function(){if(this.u=null,bc(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Os(ea(this.jb,this),e)}},Wo.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ts(10),uc(this),bc(this))},Wo.ib=function(){null!=this.v&&(this.v=null,uc(this),vc(this),Ts(19))},Wo.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Ts(2)):(this.l.info("Failed to ping google.com"),Ts(1))},Wo.isActive=function(){return!!this.h&&this.h.isActive(this)},(Wo=Dc.prototype).Ba=function(){},Wo.Aa=function(){},Wo.za=function(){},Wo.ya=function(){},Wo.isActive=function(){return!0},Wo.Va=function(){},Nc.prototype.g=function(e,t){return new Tc(e,t)},na(Tc,$a),Tc.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Ts(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Sc(e,null,e.Y),hc(e)},Tc.prototype.close=function(){cc(this.g)},Tc.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ts(e),e=n);t.j.push(new Dl(t.fb++,e)),3==t.H&&hc(t)},Tc.prototype.N=function(){this.g.h=null,delete this.j,cc(this.g),delete this.g,Tc.$.N.call(this)},na(kc,Fs),na(Oc,Us),na(Pc,Dc),Pc.prototype.Ba=function(){Za(this.g,"a")},Pc.prototype.Aa=function(e){Za(this.g,new kc(e))},Pc.prototype.za=function(e){Za(this.g,new Oc)},Pc.prototype.ya=function(){Za(this.g,"b")},na(Rc,(function(){this.blockSize=-1})),Rc.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Rc.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)_c(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){_c(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){_c(this,r),i=0;break}}this.h=i,this.i+=t},Rc.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Mc={};function jc(e){return-128<=e&&128>e?function(e,t){var n=Mc;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Lc([0|e],0>e?-1:0)})):new Lc([0|e],0>e?-1:0)}function Bc(e){if(isNaN(e)||!isFinite(e))return Uc;if(0>e)return Hc(Bc(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Fc;return new Lc(t,0)}var Fc=4294967296,Uc=jc(0),Gc=jc(1),zc=jc(16777216);function Wc(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Vc(e){return-1==e.h}function Hc(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Lc(n,~e.h).add(Gc)}function qc(e,t){return e.add(Hc(t))}function Qc(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Kc(e,t){this.g=e,this.h=t}function Yc(e,t){if(Wc(t))throw Error("division by zero");if(Wc(e))return new Kc(Uc,Uc);if(Vc(e))return t=Yc(Hc(e),t),new Kc(Hc(t.g),Hc(t.h));if(Vc(t))return t=Yc(e,Hc(t)),new Kc(Hc(t.g),t.h);if(30<e.g.length){if(Vc(e)||Vc(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Gc,r=t;0>=r.X(e);)n=Jc(n),r=Jc(r);var i=Xc(n,1),o=Xc(r,1);for(r=Xc(r,2),n=Xc(n,2);!Wc(r);){var a=o.add(r);0>=a.X(e)&&(i=i.add(n),o=a),r=Xc(r,1),n=Xc(n,1)}return t=qc(e,i.R(t)),new Kc(i,t)}for(i=Uc;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(o=Bc(n)).R(t);Vc(a)||0<a.X(e);)a=(o=Bc(n-=r)).R(t);Wc(o)&&(o=Gc),i=i.add(o),e=qc(e,a)}return new Kc(i,e)}function Jc(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Lc(n,e.h)}function Xc(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new Lc(i,e.h)}(Wo=Lc.prototype).ea=function(){if(Vc(this))return-Hc(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Fc+r)*t,t*=Fc}return e},Wo.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Wc(this))return"0";if(Vc(this))return"-"+Hc(this).toString(e);for(var t=Bc(Math.pow(e,6)),n=this,r="";;){var i=Yc(n,t).g,o=((0<(n=qc(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Wc(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},Wo.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Wo.X=function(e){return Vc(e=qc(this,e))?-1:Wc(e)?0:1},Wo.abs=function(){return Vc(this)?Hc(this):this},Wo.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),a=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=a>>>16,o&=65535,a&=65535,n[i]=a<<16|o}return new Lc(n,-2147483648&n[n.length-1]?-1:0)},Wo.R=function(e){if(Wc(this)||Wc(e))return Uc;if(Vc(this))return Vc(e)?Hc(this).R(Hc(e)):Hc(Hc(this).R(e));if(Vc(e))return Hc(this.R(Hc(e)));if(0>this.X(zc)&&0>e.X(zc))return Bc(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,a=65535&this.D(r),s=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=a*l,Qc(n,2*r+2*i),n[2*r+2*i+1]+=o*l,Qc(n,2*r+2*i+1),n[2*r+2*i+1]+=a*s,Qc(n,2*r+2*i+1),n[2*r+2*i+2]+=o*s,Qc(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Lc(n,0)},Wo.gb=function(e){return Yc(this,e).h},Wo.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Lc(n,this.h&e.h)},Wo.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Lc(n,this.h|e.h)},Wo.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Lc(n,this.h^e.h)},Nc.prototype.createWebChannel=Nc.prototype.g,Tc.prototype.send=Tc.prototype.u,Tc.prototype.open=Tc.prototype.m,Tc.prototype.close=Tc.prototype.close,Ps.NO_ERROR=0,Ps.TIMEOUT=8,Ps.HTTP_ERROR=6,Rs.COMPLETE="complete",Ms.EventType=Bs,Bs.OPEN="a",Bs.CLOSE="b",Bs.ERROR="c",Bs.MESSAGE="d",$a.prototype.listen=$a.prototype.O,Kl.prototype.listenOnce=Kl.prototype.P,Kl.prototype.getLastError=Kl.prototype.Sa,Kl.prototype.getLastErrorCode=Kl.prototype.Ia,Kl.prototype.getStatus=Kl.prototype.da,Kl.prototype.getResponseJson=Kl.prototype.Wa,Kl.prototype.getResponseText=Kl.prototype.ja,Kl.prototype.send=Kl.prototype.ha,Kl.prototype.setWithCredentials=Kl.prototype.Oa,Rc.prototype.digest=Rc.prototype.l,Rc.prototype.reset=Rc.prototype.reset,Rc.prototype.update=Rc.prototype.j,Lc.prototype.add=Lc.prototype.add,Lc.prototype.multiply=Lc.prototype.R,Lc.prototype.modulo=Lc.prototype.gb,Lc.prototype.compare=Lc.prototype.X,Lc.prototype.toNumber=Lc.prototype.ea,Lc.prototype.toString=Lc.prototype.toString,Lc.prototype.getBits=Lc.prototype.D,Lc.fromNumber=Bc,Lc.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Hc(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Bc(Math.pow(n,8)),i=Uc,o=0;o<t.length;o+=8){var a=Math.min(8,t.length-o),s=parseInt(t.substring(o,o+a),n);8>a?(a=Bc(Math.pow(n,a)),i=i.R(a).add(Bc(s))):i=(i=i.R(r)).add(Bc(s))}return i};var $c=Ho.createWebChannelTransport=function(){return new Nc},Zc=Ho.getStatEventTarget=function(){return Ss()},eu=Ho.ErrorCode=Ps,tu=Ho.EventType=Rs,nu=Ho.Event=xs,ru=Ho.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},iu=Ho.FetchXmlHttpFactory=Gl,ou=Ho.WebChannel=Ms,au=Ho.XhrIo=Kl,su=Ho.Md5=Rc,lu=Ho.Integer=Lc;const cu="@firebase/firestore";class uu{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}uu.UNAUTHENTICATED=new uu(null),uu.GOOGLE_CREDENTIALS=new uu("google-credentials-uid"),uu.FIRST_PARTY=new uu("first-party-uid"),uu.MOCK_USER=new uu("mock-user");let du="9.23.0";const hu=new Et("@firebase/firestore");function fu(){return hu.logLevel}function pu(e){if(hu.logLevel<=vt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(vu);hu.debug(`Firestore (${du}): ${e}`,...i)}}function gu(e){if(hu.logLevel<=vt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(vu);hu.error(`Firestore (${du}): ${e}`,...i)}}function mu(e){if(hu.logLevel<=vt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(vu);hu.warn(`Firestore (${du}): ${e}`,...i)}}function vu(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function yu(){const e=`FIRESTORE (${du}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw gu(e),new Error(e)}function bu(e,t){e||yu()}function wu(e,t){return e}const Au={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Eu extends tt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xu{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Iu{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Su{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(uu.UNAUTHENTICATED)))}shutdown(){}}class Cu{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Du{constructor(e){this.t=e,this.currentUser=uu.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new xu;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new xu,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{pu("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(pu("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new xu)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(pu("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(bu("string"==typeof t.accessToken),new Iu(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return bu(null===e||"string"==typeof e),new uu(e)}}class Nu{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=uu.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Tu{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Nu(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(uu.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ku{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ou{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&pu("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.T;return this.T=e.token,pu("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{pu("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):pu("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(bu("string"==typeof e.token),this.T=e.token,new ku(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Pu(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Ru{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Pu(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function _u(e,t){return e<t?-1:e>t?1:0}function Lu(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Mu{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Eu(Au.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Eu(Au.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Eu(Au.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Eu(Au.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Mu.fromMillis(Date.now())}static fromDate(e){return Mu.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Mu(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_u(this.nanoseconds,e.nanoseconds):_u(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ju{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ju(e)}static min(){return new ju(new Mu(0,0))}static max(){return new ju(new Mu(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Bu{constructor(e,t,n){void 0===t?t=0:t>e.length&&yu(),void 0===n?n=e.length-t:n>e.length-t&&yu(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Bu.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Bu?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Fu extends Bu{construct(e,t,n){return new Fu(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Eu(Au.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new Fu(e)}static emptyPath(){return new Fu([])}}const Uu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gu extends Bu{construct(e,t,n){return new Gu(e,t,n)}static isValidIdentifier(e){return Uu.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gu.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Gu(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Eu(Au.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Eu(Au.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Eu(Au.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Eu(Au.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gu(t)}static emptyPath(){return new Gu([])}}class zu{constructor(e){this.path=e}static fromPath(e){return new zu(Fu.fromString(e))}static fromName(e){return new zu(Fu.fromString(e).popFirst(5))}static empty(){return new zu(Fu.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Fu.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Fu.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new zu(new Fu(e.slice()))}}class Wu{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Wu.UNKNOWN_ID=-1;function Vu(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ju.fromTimestamp(1e9===r?new Mu(n+1,0):new Mu(n,r));return new qu(i,zu.empty(),t)}function Hu(e){return new qu(e.readTime,e.key,-1)}class qu{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new qu(ju.min(),zu.empty(),-1)}static max(){return new qu(ju.max(),zu.empty(),-1)}}function Qu(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=zu.comparator(e.documentKey,t.documentKey),0!==n?n:_u(e.largestBatchId,t.largestBatchId))}const Ku="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Yu{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ju(e){if(e.code!==Au.FAILED_PRECONDITION||e.message!==Ku)throw e;pu("LocalStore","Unexpectedly lost primary lease")}class Xu{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&yu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Xu(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Xu?t:Xu.resolve(t)}catch(e){return Xu.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Xu.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Xu.reject(t)}static resolve(e){return new Xu(((t,n)=>{t(e)}))}static reject(e){return new Xu(((t,n)=>{n(e)}))}static waitFor(e){return new Xu(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=Xu.resolve(!1);for(const n of e)t=t.next((e=>e?Xu.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Xu(((n,r)=>{const i=e.length,o=new Array(i);let a=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next((e=>{o[l]=e,++a,a===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new Xu(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function $u(e){return"IndexedDbTransactionError"===e.name}class Zu{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function ed(e){return null==e}function td(e){return 0===e&&1/e==-1/0}function nd(e){return"number"==typeof e&&Number.isInteger(e)&&!td(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Zu.ct=-1;const rd=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],id=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],od=id;function ad(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function sd(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ld(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class cd{constructor(e,t){this.comparator=e,this.root=t||dd.EMPTY}insert(e,t){return new cd(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,dd.BLACK,null,null))}remove(e){return new cd(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dd.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ud(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ud(this.root,e,this.comparator,!1)}getReverseIterator(){return new ud(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ud(this.root,e,this.comparator,!0)}}class ud{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dd{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:dd.RED,this.left=null!=r?r:dd.EMPTY,this.right=null!=i?i:dd.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new dd(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return dd.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return dd.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dd.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dd.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yu();if(this.right.isRed())throw yu();const e=this.left.check();if(e!==this.right.check())throw yu();return e+(this.isRed()?0:1)}}dd.EMPTY=null,dd.RED=!0,dd.BLACK=!1,dd.EMPTY=new class{constructor(){this.size=0}get key(){throw yu()}get value(){throw yu()}get color(){throw yu()}get left(){throw yu()}get right(){throw yu()}copy(e,t,n,r,i){return this}insert(e,t,n){return new dd(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class hd{constructor(e){this.comparator=e,this.data=new cd(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new fd(this.data.getIterator())}getIteratorFrom(e){return new fd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof hd))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new hd(this.comparator);return t.data=e,t}}class fd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class pd{constructor(e){this.fields=e,e.sort(Gu.comparator)}static empty(){return new pd([])}unionWith(e){let t=new hd(Gu.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new pd(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Lu(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class gd extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class md{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new gd("Invalid base64 string: "+e):e}}(e);return new md(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new md(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _u(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}md.EMPTY_BYTE_STRING=new md("");const vd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yd(e){if(bu(!!e),"string"==typeof e){let t=0;const n=vd.exec(e);if(bu(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:bd(e.seconds),nanos:bd(e.nanos)}}function bd(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function wd(e){return"string"==typeof e?md.fromBase64String(e):md.fromUint8Array(e)}function Ad(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ed(e){const t=e.mapValue.fields.__previous_value__;return Ad(t)?Ed(t):t}function xd(e){const t=yd(e.mapValue.fields.__local_write_time__.timestampValue);return new Mu(t.seconds,t.nanos)}class Id{constructor(e,t,n,r,i,o,a,s,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=s,this.useFetchStreams=l}}class Sd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Sd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Sd&&e.projectId===this.projectId&&e.database===this.database}}const Cd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Dd(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ad(e)?4:Gd(e)?9007199254740991:10:yu()}function Nd(e,t){if(e===t)return!0;const n=Dd(e);if(n!==Dd(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return xd(e).isEqual(xd(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=yd(e.timestampValue),r=yd(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return wd(e.bytesValue).isEqual(wd(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return bd(e.geoPointValue.latitude)===bd(t.geoPointValue.latitude)&&bd(e.geoPointValue.longitude)===bd(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return bd(e.integerValue)===bd(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=bd(e.doubleValue),r=bd(t.doubleValue);return n===r?td(n)===td(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Lu(e.arrayValue.values||[],t.arrayValue.values||[],Nd);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ad(n)!==ad(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Nd(n[i],r[i])))return!1;return!0}(e,t);default:return yu()}}function Td(e,t){return void 0!==(e.values||[]).find((e=>Nd(e,t)))}function kd(e,t){if(e===t)return 0;const n=Dd(e),r=Dd(t);if(n!==r)return _u(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _u(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=bd(e.integerValue||e.doubleValue),r=bd(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Od(e.timestampValue,t.timestampValue);case 4:return Od(xd(e),xd(t));case 5:return _u(e.stringValue,t.stringValue);case 6:return function(e,t){const n=wd(e),r=wd(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=_u(n[i],r[i]);if(0!==e)return e}return _u(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=_u(bd(e.latitude),bd(t.latitude));return 0!==n?n:_u(bd(e.longitude),bd(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=kd(n[i],r[i]);if(e)return e}return _u(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Cd.mapValue&&t===Cd.mapValue)return 0;if(e===Cd.mapValue)return 1;if(t===Cd.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let a=0;a<r.length&&a<o.length;++a){const e=_u(r[a],o[a]);if(0!==e)return e;const t=kd(n[r[a]],i[o[a]]);if(0!==t)return t}return _u(r.length,o.length)}(e.mapValue,t.mapValue);default:throw yu()}}function Od(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return _u(e,t);const n=yd(e),r=yd(t),i=_u(n.seconds,r.seconds);return 0!==i?i:_u(n.nanos,r.nanos)}function Pd(e){return Rd(e)}function Rd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=yd(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?wd(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,zu.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Rd(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Rd(e.fields[i])}`;return n+"}"}(e.mapValue):yu();var t,n}function _d(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Ld(e){return!!e&&"integerValue"in e}function Md(e){return!!e&&"arrayValue"in e}function jd(e){return!!e&&"nullValue"in e}function Bd(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Fd(e){return!!e&&"mapValue"in e}function Ud(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return sd(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Ud(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ud(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Gd(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class zd{constructor(e){this.value=e}static empty(){return new zd({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Fd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ud(t)}setAll(e){let t=Gu.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Ud(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Fd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Nd(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Fd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){sd(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new zd(Ud(this.value))}}function Wd(e){const t=[];return sd(e.fields,((e,n)=>{const r=new Gu([e]);if(Fd(n)){const e=Wd(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new pd(t)}class Vd{constructor(e,t,n,r,i,o,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Vd(e,0,ju.min(),ju.min(),ju.min(),zd.empty(),0)}static newFoundDocument(e,t,n,r){return new Vd(e,1,t,ju.min(),n,r,0)}static newNoDocument(e,t){return new Vd(e,2,t,ju.min(),ju.min(),zd.empty(),0)}static newUnknownDocument(e,t){return new Vd(e,3,t,ju.min(),ju.min(),zd.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ju.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zd.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zd.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ju.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Vd&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vd(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Hd{constructor(e,t){this.position=e,this.inclusive=t}}function qd(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],a=e.position[i];if(r=o.field.isKeyField()?zu.comparator(zu.fromName(a.referenceValue),n.key):kd(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Qd(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Nd(e.position[n],t.position[n]))return!1;return!0}class Kd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Yd(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Jd{}class Xd extends Jd{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new oh(e,t,n):"array-contains"===t?new ch(e,n):"in"===t?new uh(e,n):"not-in"===t?new dh(e,n):"array-contains-any"===t?new hh(e,n):new Xd(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new ah(e,n):new sh(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(kd(t,this.value)):null!==t&&Dd(this.value)===Dd(t)&&this.matchesComparison(kd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return yu()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class $d extends Jd{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new $d(e,t)}matches(e){return Zd(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft((e=>e.isInequality()));return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Zd(e){return"and"===e.op}function eh(e){return th(e)&&Zd(e)}function th(e){for(const t of e.filters)if(t instanceof $d)return!1;return!0}function nh(e){if(e instanceof Xd)return e.field.canonicalString()+e.op.toString()+Pd(e.value);if(eh(e))return e.filters.map((e=>nh(e))).join(",");{const t=e.filters.map((e=>nh(e))).join(",");return`${e.op}(${t})`}}function rh(e,t){return e instanceof Xd?function(e,t){return t instanceof Xd&&e.op===t.op&&e.field.isEqual(t.field)&&Nd(e.value,t.value)}(e,t):e instanceof $d?function(e,t){return t instanceof $d&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&rh(n,t.filters[r])),!0)}(e,t):void yu()}function ih(e){return e instanceof Xd?function(e){return`${e.field.canonicalString()} ${e.op} ${Pd(e.value)}`}(e):e instanceof $d?function(e){return e.op.toString()+" {"+e.getFilters().map(ih).join(" ,")+"}"}(e):"Filter"}class oh extends Xd{constructor(e,t,n){super(e,t,n),this.key=zu.fromName(n.referenceValue)}matches(e){const t=zu.comparator(e.key,this.key);return this.matchesComparison(t)}}class ah extends Xd{constructor(e,t){super(e,"in",t),this.keys=lh("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class sh extends Xd{constructor(e,t){super(e,"not-in",t),this.keys=lh("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function lh(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>zu.fromName(e.referenceValue)))}class ch extends Xd{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Md(t)&&Td(t.arrayValue,this.value)}}class uh extends Xd{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Td(this.value.arrayValue,t)}}class dh extends Xd{constructor(e,t){super(e,"not-in",t)}matches(e){if(Td(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Td(this.value.arrayValue,t)}}class hh extends Xd{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Md(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Td(this.value.arrayValue,e)))}}class fh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.dt=null}}function ph(e){return new fh(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function gh(e){const t=wu(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>nh(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),ed(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Pd(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Pd(e))).join(",")),t.dt=e}return t.dt}function mh(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Yd(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!rh(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Qd(e.startAt,t.startAt)&&Qd(e.endAt,t.endAt)}function vh(e){return zu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class yh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.wt=null,this._t=null,this.startAt,this.endAt}}function bh(e,t,n,r,i,o,a,s){return new yh(e,t,n,r,i,o,a,s)}function wh(e){return new yh(e)}function Ah(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Eh(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function xh(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function Ih(e){return null!==e.collectionGroup}function Sh(e){const t=wu(e);if(null===t.wt){t.wt=[];const e=xh(t),n=Eh(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new Kd(e)),t.wt.push(new Kd(Gu.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Kd(Gu.keyField(),e))}}}return t.wt}function Ch(e){const t=wu(e);if(!t._t)if("F"===t.limitType)t._t=ph(t.path,t.collectionGroup,Sh(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of Sh(t)){const t="desc"===i.dir?"asc":"desc";e.push(new Kd(i.field,t))}const n=t.endAt?new Hd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Hd(t.startAt.position,t.startAt.inclusive):null;t._t=ph(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function Dh(e,t){t.getFirstInequalityField(),xh(e);const n=e.filters.concat([t]);return new yh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Nh(e,t,n){return new yh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Th(e,t){return mh(Ch(e),Ch(t))&&e.limitType===t.limitType}function kh(e){return`${gh(Ch(e))}|lt:${e.limitType}`}function Oh(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>ih(e))).join(", ")}]`),ed(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Pd(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Pd(e))).join(",")),`Target(${t})`}(Ch(e))}; limitType=${e.limitType})`}function Ph(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):zu.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Sh(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=qd(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Sh(e),t))&&!(e.endAt&&!function(e,t,n){const r=qd(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Sh(e),t))}(e,t)}function Rh(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function _h(e){return(t,n)=>{let r=!1;for(const i of Sh(e)){const e=Lh(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Lh(e,t,n){const r=e.field.isKeyField()?zu.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?kd(r,i):yu()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return yu()}}class Mh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){sd(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return ld(this.inner)}size(){return this.innerSize}}const jh=new cd(zu.comparator);function Bh(){return jh}const Fh=new cd(zu.comparator);function Uh(){let e=Fh;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Gh(e){let t=Fh;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function zh(){return Vh()}function Wh(){return Vh()}function Vh(){return new Mh((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Hh=new cd(zu.comparator),qh=new hd(zu.comparator);function Qh(){let e=qh;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Kh=new hd(_u);function Yh(){return Kh}function Jh(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:td(t)?"-0":t}}function Xh(e){return{integerValue:""+e}}function $h(e,t){return nd(t)?Xh(t):Jh(e,t)}class Zh{constructor(){this._=void 0}}function ef(e,t,n){return e instanceof rf?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Ad(t)&&(t=Ed(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof of?af(e,t):e instanceof sf?lf(e,t):function(e,t){const n=nf(e,t),r=uf(n)+uf(e.gt);return Ld(n)&&Ld(e.gt)?Xh(r):Jh(e.serializer,r)}(e,t)}function tf(e,t,n){return e instanceof of?af(e,t):e instanceof sf?lf(e,t):n}function nf(e,t){return e instanceof cf?Ld(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class rf extends Zh{}class of extends Zh{constructor(e){super(),this.elements=e}}function af(e,t){const n=df(t);for(const r of e.elements)n.some((e=>Nd(e,r)))||n.push(r);return{arrayValue:{values:n}}}class sf extends Zh{constructor(e){super(),this.elements=e}}function lf(e,t){let n=df(t);for(const r of e.elements)n=n.filter((e=>!Nd(e,r)));return{arrayValue:{values:n}}}class cf extends Zh{constructor(e,t){super(),this.serializer=e,this.gt=t}}function uf(e){return bd(e.integerValue||e.doubleValue)}function df(e){return Md(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class hf{constructor(e,t){this.field=e,this.transform=t}}class ff{constructor(e,t){this.version=e,this.transformResults=t}}class pf{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new pf}static exists(e){return new pf(void 0,e)}static updateTime(e){return new pf(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gf(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class mf{}function vf(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Df(e.key,pf.none()):new Ef(e.key,e.data,pf.none());{const n=e.data,r=zd.empty();let i=new hd(Gu.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new xf(e.key,r,new pd(i.toArray()),pf.none())}}function yf(e,t,n){e instanceof Ef?function(e,t,n){const r=e.value.clone(),i=Sf(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof xf?function(e,t,n){if(!gf(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Sf(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(If(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function bf(e,t,n,r){return e instanceof Ef?function(e,t,n,r){if(!gf(e.precondition,t))return n;const i=e.value.clone(),o=Cf(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof xf?function(e,t,n,r){if(!gf(e.precondition,t))return n;const i=Cf(e.fieldTransforms,r,t),o=t.data;return o.setAll(If(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return gf(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function wf(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=nf(r.transform,e||null);null!=i&&(null===n&&(n=zd.empty()),n.set(r.field,i))}return n||null}function Af(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Lu(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof of&&t instanceof of||e instanceof sf&&t instanceof sf?Lu(e.elements,t.elements,Nd):e instanceof cf&&t instanceof cf?Nd(e.gt,t.gt):e instanceof rf&&t instanceof rf}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ef extends mf{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class xf extends mf{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function If(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Sf(e,t,n){const r=new Map;bu(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,tf(a,s,n[i]))}return r}function Cf(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,ef(e,o,t))}return r}class Df extends mf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Nf extends mf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Tf{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&yf(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=bf(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=bf(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Wh();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=t.has(r.key)?null:a;const s=vf(o,a);null!==s&&n.set(r.key,s),o.isValidDocument()||o.convertToNoDocument(ju.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Qh())}isEqual(e){return this.batchId===e.batchId&&Lu(this.mutations,e.mutations,((e,t)=>Af(e,t)))&&Lu(this.baseMutations,e.baseMutations,((e,t)=>Af(e,t)))}}class kf{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){bu(e.mutations.length===n.length);let r=Hh;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new kf(e,t,n,r)}}class Of{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Pf{constructor(e,t){this.count=e,this.unchangedNames=t}}var Rf,_f;function Lf(e){switch(e){default:return yu();case Au.CANCELLED:case Au.UNKNOWN:case Au.DEADLINE_EXCEEDED:case Au.RESOURCE_EXHAUSTED:case Au.INTERNAL:case Au.UNAVAILABLE:case Au.UNAUTHENTICATED:return!1;case Au.INVALID_ARGUMENT:case Au.NOT_FOUND:case Au.ALREADY_EXISTS:case Au.PERMISSION_DENIED:case Au.FAILED_PRECONDITION:case Au.ABORTED:case Au.OUT_OF_RANGE:case Au.UNIMPLEMENTED:case Au.DATA_LOSS:return!0}}function Mf(e){if(void 0===e)return gu("GRPC error has no .code"),Au.UNKNOWN;switch(e){case Rf.OK:return Au.OK;case Rf.CANCELLED:return Au.CANCELLED;case Rf.UNKNOWN:return Au.UNKNOWN;case Rf.DEADLINE_EXCEEDED:return Au.DEADLINE_EXCEEDED;case Rf.RESOURCE_EXHAUSTED:return Au.RESOURCE_EXHAUSTED;case Rf.INTERNAL:return Au.INTERNAL;case Rf.UNAVAILABLE:return Au.UNAVAILABLE;case Rf.UNAUTHENTICATED:return Au.UNAUTHENTICATED;case Rf.INVALID_ARGUMENT:return Au.INVALID_ARGUMENT;case Rf.NOT_FOUND:return Au.NOT_FOUND;case Rf.ALREADY_EXISTS:return Au.ALREADY_EXISTS;case Rf.PERMISSION_DENIED:return Au.PERMISSION_DENIED;case Rf.FAILED_PRECONDITION:return Au.FAILED_PRECONDITION;case Rf.ABORTED:return Au.ABORTED;case Rf.OUT_OF_RANGE:return Au.OUT_OF_RANGE;case Rf.UNIMPLEMENTED:return Au.UNIMPLEMENTED;case Rf.DATA_LOSS:return Au.DATA_LOSS;default:return yu()}}(_f=Rf||(Rf={}))[_f.OK=0]="OK",_f[_f.CANCELLED=1]="CANCELLED",_f[_f.UNKNOWN=2]="UNKNOWN",_f[_f.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_f[_f.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_f[_f.NOT_FOUND=5]="NOT_FOUND",_f[_f.ALREADY_EXISTS=6]="ALREADY_EXISTS",_f[_f.PERMISSION_DENIED=7]="PERMISSION_DENIED",_f[_f.UNAUTHENTICATED=16]="UNAUTHENTICATED",_f[_f.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_f[_f.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_f[_f.ABORTED=10]="ABORTED",_f[_f.OUT_OF_RANGE=11]="OUT_OF_RANGE",_f[_f.UNIMPLEMENTED=12]="UNIMPLEMENTED",_f[_f.INTERNAL=13]="INTERNAL",_f[_f.UNAVAILABLE=14]="UNAVAILABLE",_f[_f.DATA_LOSS=15]="DATA_LOSS";class jf{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Bf}static getOrCreateInstance(){return null===Bf&&(Bf=new jf),Bf}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach((t=>t(e)))}}let Bf=null;function Ff(){return new TextEncoder}const Uf=new lu([4294967295,4294967295],0);function Gf(e){const t=Ff().encode(e),n=new su;return n.update(t),new Uint8Array(n.digest())}function zf(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new lu([n,r],0),new lu([i,o],0)]}class Wf{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Vf(`Invalid padding: ${t}`);if(n<0)throw new Vf(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Vf(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Vf(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=lu.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(lu.fromNumber(n)));return 1===r.compare(Uf)&&(r=new lu([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Gf(e),[n,r]=zf(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);if(!this.At(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Wf(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.It)return;const t=Gf(e),[n,r]=zf(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Vf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Hf{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,qf.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Hf(ju.min(),r,new cd(_u),Bh(),Qh())}}class qf{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new qf(n,t,Qh(),Qh(),Qh())}}class Qf{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class Kf{constructor(e,t){this.targetId=e,this.Vt=t}}class Yf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:md.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Jf{constructor(){this.St=0,this.Dt=Zf(),this.Ct=md.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Qh(),t=Qh(),n=Qh();return this.Dt.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:yu()}})),new qf(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=Zf()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Xf{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Bh(),this.zt=$f(),this.Wt=new cd(_u)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,(t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:yu()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach(((e,n)=>{this.te(n)&&t(n)}))}ne(e){var t;const n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){const o=i.target;if(vh(o))if(0===r){const e=new zu(o.path);this.Yt(n,e,Vd.newNoDocument(e,ju.min()))}else bu(1===r);else{const i=this.ie(n);if(i!==r){const r=this.re(e,i);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=jf.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,o,a,s,l;const c={localCacheCount:t,existenceFilterCount:n.count},u=n.unchangedNames;return u&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==u?void 0:u.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(a=null===(o=null===(i=null==u?void 0:u.bits)||void 0===i?void 0:i.bitmap)||void 0===o?void 0:o.length)&&void 0!==a?a:0,padding:null!==(l=null===(s=null==u?void 0:u.bits)||void 0===s?void 0:s.padding)&&void 0!==l?l:0}),c}(r,i,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=n;let s,l;try{s=wd(i).toUint8Array()}catch(e){if(e instanceof gd)return mu("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new Wf(s,o,a)}catch(e){return mu(e instanceof Vf?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach((n=>{const i=this.Gt.ue(),o=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;t.vt(o)||(this.Yt(e,n,null),r++)})),r}ce(e){const t=new Map;this.Qt.forEach(((n,r)=>{const i=this.se(r);if(i){if(n.current&&vh(i.target)){const t=new zu(i.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,Vd.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}}));let n=Qh();this.zt.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.jt.forEach(((t,n)=>n.setReadTime(e)));const r=new Hf(e,t,this.Wt,this.jt,n);return this.jt=Bh(),this.zt=$f(),this.Wt=new cd(_u),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Jf,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new hd(_u),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||pu("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Jf),this.Gt.getRemoteKeysForTarget(e).forEach((t=>{this.Yt(e,t,null)}))}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function $f(){return new cd(zu.comparator)}function Zf(){return new cd(zu.comparator)}const ep={asc:"ASCENDING",desc:"DESCENDING"},tp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},np={and:"AND",or:"OR"};class rp{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ip(e,t){return e.useProto3Json||ed(t)?t:{value:t}}function op(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ap(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function sp(e,t){return op(e,t.toTimestamp())}function lp(e){return bu(!!e),ju.fromTimestamp(function(e){const t=yd(e);return new Mu(t.seconds,t.nanos)}(e))}function cp(e,t){return function(e){return new Fu(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function up(e){const t=Fu.fromString(e);return bu(kp(t)),t}function dp(e,t){return cp(e.databaseId,t.path)}function hp(e,t){const n=up(t);if(n.get(1)!==e.databaseId.projectId)throw new Eu(Au.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Eu(Au.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new zu(mp(n))}function fp(e,t){return cp(e.databaseId,t)}function pp(e){const t=up(e);return 4===t.length?Fu.emptyPath():mp(t)}function gp(e){return new Fu(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function mp(e){return bu(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function vp(e,t,n){return{name:dp(e,t),fields:n.value.mapValue.fields}}function yp(e,t){let n;if(t instanceof Ef)n={update:vp(e,t.key,t.value)};else if(t instanceof Df)n={delete:dp(e,t.key)};else if(t instanceof xf)n={update:vp(e,t.key,t.data),updateMask:Tp(t.fieldMask)};else{if(!(t instanceof Nf))return yu();n={verify:dp(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof rf)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof of)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof sf)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof cf)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw yu()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:sp(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:yu()}(e,t.precondition)),n}function bp(e,t){return{documents:[fp(e,t.path)]}}function wp(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=fp(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=fp(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return Np($d.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Cp(e.field),direction:xp(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=ip(e,t.limit);var s;return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt={before:(s=t.startAt).inclusive,values:s.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Ap(e){let t=pp(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){bu(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=Ep(e);return t instanceof $d&&eh(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map((e=>function(e){return new Kd(Dp(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,ed(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Hd(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Hd(n,t)}(n.endAt)),bh(t,i,a,o,s,"F",l,c)}function Ep(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Dp(e.unaryFilter.field);return Xd.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Dp(e.unaryFilter.field);return Xd.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Dp(e.unaryFilter.field);return Xd.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Dp(e.unaryFilter.field);return Xd.create(i,"!=",{nullValue:"NULL_VALUE"});default:return yu()}}(e):void 0!==e.fieldFilter?function(e){return Xd.create(Dp(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yu()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return $d.create(e.compositeFilter.filters.map((e=>Ep(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return yu()}}(e.compositeFilter.op))}(e):yu()}function xp(e){return ep[e]}function Ip(e){return tp[e]}function Sp(e){return np[e]}function Cp(e){return{fieldPath:e.canonicalString()}}function Dp(e){return Gu.fromServerFormat(e.fieldPath)}function Np(e){return e instanceof Xd?function(e){if("=="===e.op){if(Bd(e.value))return{unaryFilter:{field:Cp(e.field),op:"IS_NAN"}};if(jd(e.value))return{unaryFilter:{field:Cp(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Bd(e.value))return{unaryFilter:{field:Cp(e.field),op:"IS_NOT_NAN"}};if(jd(e.value))return{unaryFilter:{field:Cp(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cp(e.field),op:Ip(e.op),value:e.value}}}(e):e instanceof $d?function(e){const t=e.getFilters().map((e=>Np(e)));return 1===t.length?t[0]:{compositeFilter:{op:Sp(e.op),filters:t}}}(e):yu()}function Tp(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function kp(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Op{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ju.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ju.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:md.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=s}withSequenceNumber(e){return new Op(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Op(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Op(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Op(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Pp{constructor(e){this.fe=e}}function Rp(e){const t=Ap({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Nh(t,t.limit,"L"):t}class _p{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(bd(e.integerValue));else if("doubleValue"in e){const n=bd(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),td(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie(`${n.seconds||""}`),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(wd(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?Gd(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):yu()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const r of Object.keys(n))this.Te(r,t),this.me(n[r],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const r of n)this.me(r,t)}ve(e,t){this.ye(t,37),zu.fromName(e).path.forEach((e=>{this.ye(t,60),this.be(e,t)}))}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}_p.Ve=new _p;class Lp{constructor(){this.rn=new Mp}addToCollectionParentIndex(e,t){return this.rn.add(t),Xu.resolve()}getCollectionParents(e,t){return Xu.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Xu.resolve()}deleteFieldIndex(e,t){return Xu.resolve()}getDocumentsMatchingTarget(e,t){return Xu.resolve(null)}getIndexType(e,t){return Xu.resolve(0)}getFieldIndexes(e,t){return Xu.resolve([])}getNextCollectionGroupToUpdate(e){return Xu.resolve(null)}getMinOffset(e,t){return Xu.resolve(qu.min())}getMinOffsetFromCollectionGroup(e,t){return Xu.resolve(qu.min())}updateCollectionGroup(e,t,n){return Xu.resolve()}updateIndexEntries(e,t){return Xu.resolve()}}class Mp{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new hd(Fu.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new hd(Fu.comparator)).toArray()}}new Uint8Array(0);class jp{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new jp(e,jp.DEFAULT_COLLECTION_PERCENTILE,jp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}jp.DEFAULT_COLLECTION_PERCENTILE=10,jp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jp.DEFAULT=new jp(41943040,jp.DEFAULT_COLLECTION_PERCENTILE,jp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jp.DISABLED=new jp(-1,0,0);class Bp{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Bp(0)}static Mn(){return new Bp(-1)}}class Fp{constructor(){this.changes=new Mh((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Vd.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Xu.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Up{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Gp{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&bf(n.mutation,e,pd.empty(),Mu.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Qh()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qh();const r=zh();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Uh();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=zh();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Qh())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Bh();const o=Vh(),a=Vh();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof xf)?i=i.insert(t.key,t):void 0!==a?(o.set(t.key,a.mutation.getFieldMask()),bf(a.mutation,t,a.mutation.getFieldMask(),Mu.now())):o.set(t.key,pd.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new Up(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=Vh();let r=new cd(((e,t)=>e-t)),i=Qh();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let a=n.get(e)||pd.empty();a=i.applyToLocalView(o,a),n.set(e,a);const s=(r.get(i.batchId)||Qh()).add(e);r=r.insert(i.batchId,s)}))})).next((()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),s=r.key,l=r.value,c=Wh();l.forEach((e=>{if(!i.has(e)){const r=vf(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,s,c))}return Xu.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n){return function(e){return zu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ih(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Xu.resolve(zh());let a=-1,s=i;return o.next((t=>Xu.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Xu.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{s=s.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,s,t,Qh()))).next((e=>({batchId:a,changes:Gh(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new zu(t)).next((e=>{let t=Uh();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=Uh();return this.indexManager.getCollectionParents(e,r).next((o=>Xu.forEach(o,(o=>{const a=function(e,t){return new yh(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(r));return this.getDocumentsMatchingCollectionQuery(e,a,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)))).next((e=>{r.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Vd.newInvalidDocument(r)))}));let n=Uh();return e.forEach(((e,i)=>{const o=r.get(e);void 0!==o&&bf(o.mutation,i,pd.empty(),Mu.now()),Ph(t,i)&&(n=n.insert(e,i))})),n}))}}class zp{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Xu.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:lp(n.createTime)}),Xu.resolve()}getNamedQuery(e,t){return Xu.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:Rp(e.bundledQuery),readTime:lp(e.readTime)}}(t)),Xu.resolve()}}class Wp{constructor(){this.overlays=new cd(zu.comparator),this.ls=new Map}getOverlay(e,t){return Xu.resolve(this.overlays.get(t))}getOverlays(e,t){const n=zh();return Xu.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.we(e,t,r)})),Xu.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.ls.delete(n)),Xu.resolve()}getOverlaysForCollection(e,t,n){const r=zh(),i=t.length+1,o=new zu(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const e=a.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Xu.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new cd(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=zh(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=zh(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return Xu.resolve(a)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Of(t,n));let i=this.ls.get(t);void 0===i&&(i=Qh(),this.ls.set(t,i)),this.ls.set(t,i.add(n.key))}}class Vp{constructor(){this.fs=new hd(Hp.ds),this.ws=new hd(Hp._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new Hp(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.ys(new Hp(e,t))}ps(e,t){e.forEach((e=>this.removeReference(e,t)))}Is(e){const t=new zu(new Fu([])),n=new Hp(t,e),r=new Hp(t,e+1),i=[];return this.ws.forEachInRange([n,r],(e=>{this.ys(e),i.push(e.key)})),i}Ts(){this.fs.forEach((e=>this.ys(e)))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new zu(new Fu([])),n=new Hp(t,e),r=new Hp(t,e+1);let i=Qh();return this.ws.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Hp(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Hp{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return zu.comparator(e.key,t.key)||_u(e.As,t.As)}static _s(e,t){return _u(e.As,t.As)||zu.comparator(e.key,t.key)}}class qp{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new hd(Hp.ds)}checkEmpty(e){return Xu.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Tf(i,t,n,r);this.mutationQueue.push(o);for(const a of r)this.Rs=this.Rs.add(new Hp(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Xu.resolve(o)}lookupMutationBatch(e,t){return Xu.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),i=r<0?0:r;return Xu.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Xu.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Xu.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Hp(t,0),r=new Hp(t,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],(e=>{const t=this.Ps(e.As);i.push(t)})),Xu.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new hd(_u);return t.forEach((e=>{const t=new Hp(e,0),r=new Hp(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],(e=>{n=n.add(e.As)}))})),Xu.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;zu.isDocumentKey(i)||(i=i.child(""));const o=new Hp(new zu(i),0);let a=new hd(_u);return this.Rs.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.As)),!0)}),o),Xu.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach((e=>{const n=this.Ps(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){bu(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return Xu.forEach(t.mutations,(r=>{const i=new Hp(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Rs=n}))}Cn(e){}containsKey(e,t){const n=new Hp(t,0),r=this.Rs.firstAfterOrEqual(n);return Xu.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Xu.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Qp{constructor(e){this.Ds=e,this.docs=new cd(zu.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Xu.resolve(n?n.document.mutableCopy():Vd.newInvalidDocument(t))}getEntries(e,t){let n=Bh();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Vd.newInvalidDocument(e))})),Xu.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Bh();const o=t.path,a=new zu(o.child("")),s=this.docs.getIteratorFrom(a);for(;s.hasNext();){const{key:e,value:{document:a}}=s.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||Qu(Hu(a),n)<=0||(r.has(a.key)||Ph(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Xu.resolve(i)}getAllFromCollectionGroup(e,t,n,r){yu()}Cs(e,t){return Xu.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Kp(this)}getSize(e){return Xu.resolve(this.size)}}class Kp extends Fp{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)})),Xu.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Yp{constructor(e){this.persistence=e,this.xs=new Mh((e=>gh(e)),mh),this.lastRemoteSnapshotVersion=ju.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Vp,this.targetCount=0,this.Ms=Bp.kn()}forEachTarget(e,t){return this.xs.forEach(((e,n)=>t(n))),Xu.resolve()}getLastRemoteSnapshotVersion(e){return Xu.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Xu.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Xu.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),Xu.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Bp(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Xu.resolve()}updateTargetData(e,t){return this.Fn(t),Xu.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Xu.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.xs.forEach(((o,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.xs.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),Xu.waitFor(i).next((()=>r))}getTargetCount(e){return Xu.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return Xu.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),Xu.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Xu.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Xu.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return Xu.resolve(n)}containsKey(e,t){return Xu.resolve(this.ks.containsKey(t))}}class Jp{constructor(e,t){this.$s={},this.overlays={},this.Os=new Zu(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Yp(this),this.indexManager=new Lp,this.remoteDocumentCache=function(e){return new Qp(e)}((e=>this.referenceDelegate.Ls(e))),this.serializer=new Pp(t),this.qs=new zp(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Wp,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new qp(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){pu("MemoryPersistence","Starting transaction:",e);const r=new Xp(this.Os.next());return this.referenceDelegate.Us(),n(r).next((e=>this.referenceDelegate.Ks(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gs(e,t){return Xu.or(Object.values(this.$s).map((n=>()=>n.containsKey(e,t))))}}class Xp extends Yu{constructor(e){super(),this.currentSequenceNumber=e}}class $p{constructor(e){this.persistence=e,this.Qs=new Vp,this.js=null}static zs(e){return new $p(e)}get Ws(){if(this.js)return this.js;throw yu()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),Xu.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),Xu.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Xu.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach((e=>this.Ws.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Ws.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Xu.forEach(this.Ws,(n=>{const r=zu.fromPath(n);return this.Hs(e,r).next((e=>{e||t.removeEntry(r,ju.min())}))})).next((()=>(this.js=null,t.apply(e))))}updateLimboDocument(e,t){return this.Hs(e,t).next((e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())}))}Ls(e){return 0}Hs(e,t){return Xu.or([()=>Xu.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Zp{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=Qh(),r=Qh();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Zp(e,t.fromCache,n,r)}}class eg{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next((i=>i||this.Gi(e,t,r,n))).next((n=>n||this.Qi(e,t)))}Ki(e,t){if(Ah(t))return Xu.resolve(null);let n=Ch(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Nh(t,null,"F"),n=Ch(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Qh(...r);return this.Ui.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.ji(t,r);return this.zi(t,o,i,n.readTime)?this.Ki(e,Nh(t,null,"F")):this.Wi(e,o,t,n)}))))})))))}Gi(e,t,n,r){return Ah(t)||r.isEqual(ju.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((i=>{const o=this.ji(t,i);return this.zi(t,o,n,r)?this.Qi(e,t):(fu()<=vt.DEBUG&&pu("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Oh(t)),this.Wi(e,o,t,Vu(r,-1)))}))}ji(e,t){let n=new hd(_h(e));return t.forEach(((t,r)=>{Ph(e,r)&&(n=n.add(r))})),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,t){return fu()<=vt.DEBUG&&pu("QueryEngine","Using full collection scan to execute query:",Oh(t)),this.Ui.getDocumentsMatchingQuery(e,t,qu.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class tg{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new cd(_u),this.Yi=new Mh((e=>gh(e)),mh),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Gp(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ji)))}}function ng(e,t,n,r){return new tg(e,t,n,r)}async function rg(e,t){const n=wu(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.tr(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let a=Qh();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({er:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function ig(e){const t=wu(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Bs.getLastRemoteSnapshotVersion(e)))}function og(e,t,n){let r=Qh(),i=Qh();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Bh();return n.forEach(((n,o)=>{const a=e.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(ju.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):pu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),{nr:r,sr:i}}))}function ag(e,t){const n=wu(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function sg(e,t){const n=wu(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Bs.getTargetData(e,t).next((i=>i?(r=i,Xu.resolve(r)):n.Bs.allocateTargetId(e).next((i=>(r=new Op(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}async function lg(e,t,n){const r=wu(e),i=r.Ji.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!$u(e))throw e;pu("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function cg(e,t,n){const r=wu(e);let i=ju.min(),o=Qh();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=wu(e),i=r.Yi.get(n);return void 0!==i?Xu.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,Ch(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.Hi.getDocumentsMatchingQuery(e,t,n?i:ju.min(),n?o:Qh()))).next((e=>(ug(r,Rh(t),e),{documents:e,ir:o})))))}function ug(e,t,n){let r=e.Xi.get(t)||ju.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}class dg{constructor(){this.activeTargetIds=Yh()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hg{constructor(){this.Hr=new dg,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new dg,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class fg{Yr(e){}shutdown(){}}class pg{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){pu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){pu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let gg=null;function mg(){return null===gg?gg=268435456+Math.round(2147483648*Math.random()):gg++,"0x"+gg.toString(16)}const vg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yg{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const bg="WebChannelConnection";class wg extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,i){const o=mg(),a=this.To(e,t);pu("RestConnection",`Sending RPC '${e}' ${o}:`,a,n);const s={};return this.Eo(s,r,i),this.Ao(e,a,s,n).then((t=>(pu("RestConnection",`Received RPC '${e}' ${o}: `,t),t)),(t=>{throw mu("RestConnection",`RPC '${e}' ${o} failed with error: `,t,"url: ",a,"request:",n),t}))}vo(e,t,n,r,i,o){return this.Io(e,t,n,r,i)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+du,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}To(e,t){const n=vg[e];return`${this.mo}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const i=mg();return new Promise(((o,a)=>{const s=new au;s.setWithCredentials(!0),s.listenOnce(tu.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case eu.NO_ERROR:const t=s.getResponseJson();pu(bg,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),o(t);break;case eu.TIMEOUT:pu(bg,`RPC '${e}' ${i} timed out`),a(new Eu(Au.DEADLINE_EXCEEDED,"Request time out"));break;case eu.HTTP_ERROR:const n=s.getStatus();if(pu(bg,`RPC '${e}' ${i} failed with status:`,n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Au).indexOf(t)>=0?t:Au.UNKNOWN}(t.status);a(new Eu(e,t.message))}else a(new Eu(Au.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new Eu(Au.UNAVAILABLE,"Connection failed."));break;default:yu()}}finally{pu(bg,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);pu(bg,`RPC '${e}' ${i} sending request:`,r),s.send(t,"POST",l,n,15)}))}Ro(e,t,n){const r=mg(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=$c(),a=Zc(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.xmlHttpFactory=new iu({})),this.Eo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=i.join("");pu(bg,`Creating RPC '${e}' stream ${r}: ${c}`,s);const u=o.createWebChannel(c,s);let d=!1,h=!1;const f=new yg({ro:t=>{h?pu(bg,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(pu(bg,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),pu(bg,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},oo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,ou.EventType.OPEN,(()=>{h||pu(bg,`RPC '${e}' stream ${r} transport opened.`)})),p(u,ou.EventType.CLOSE,(()=>{h||(h=!0,pu(bg,`RPC '${e}' stream ${r} transport closed`),f.wo())})),p(u,ou.EventType.ERROR,(t=>{h||(h=!0,mu(bg,`RPC '${e}' stream ${r} transport errored:`,t),f.wo(new Eu(Au.UNAVAILABLE,"The operation could not be completed")))})),p(u,ou.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];bu(!!i);const o=i,a=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(a){pu(bg,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=Rf[e];if(void 0!==t)return Mf(t)}(t),i=a.message;void 0===n&&(n=Au.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.wo(new Eu(n,i)),u.close()}else pu(bg,`RPC '${e}' stream ${r} received:`,i),f._o(i)}})),p(a,nu.STAT_EVENT,(t=>{t.stat===ru.PROXY?pu(bg,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===ru.NOPROXY&&pu(bg,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.fo()}),0),f}}function Ag(){return"undefined"!=typeof document?document:null}function Eg(e){return new rp(e,!0)}class xg{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&pu("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,(()=>(this.Co=Date.now(),e()))),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Ig{constructor(e,t,n,r,i,o,a,s){this.ii=e,this.$o=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=s,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new xg(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(()=>this.zo())))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===Au.RESOURCE_EXHAUSTED?(gu(t.toString()),gu("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===Au.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Fo===t&&this.Zo(n,r)}),(t=>{e((()=>{const e=new Eu(Au.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)}))}))}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((()=>{n((()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,(()=>(this.Ko()&&(this.state=3),Promise.resolve()))),this.listener.uo())))})),this.stream.ao((e=>{n((()=>this.tu(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Go(){this.state=5,this.qo.No((async()=>{this.state=0,this.start()}))}tu(e){return pu("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget((()=>this.Fo===e?t():(pu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Sg extends Ig{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:yu()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(bu(void 0===t||"string"==typeof t),md.fromBase64String(t||"")):(bu(void 0===t||t instanceof Uint8Array),md.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(e){const t=void 0===e.code?Au.UNKNOWN:Mf(e.code);return new Eu(t,e.message||"")}(a);n=new Yf(r,i,o,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=hp(e,r.document.name),o=lp(r.document.updateTime),a=r.document.createTime?lp(r.document.createTime):ju.min(),s=new zd({mapValue:{fields:r.document.fields}}),l=Vd.newFoundDocument(i,o,a,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Qf(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=hp(e,r.document),o=r.readTime?lp(r.readTime):ju.min(),a=Vd.newNoDocument(i,o),s=r.removedTargetIds||[];n=new Qf([],s,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=hp(e,r.document),o=r.removedTargetIds||[];n=new Qf([],o,i,null)}else{if(!("filter"in t))return yu();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new Pf(r,i),a=e.targetId;n=new Kf(a,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return ju.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ju.min():t.readTime?lp(t.readTime):ju.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=gp(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=vh(r)?{documents:bp(e,r)}:{query:wp(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=ap(e,t.resumeToken);const r=ip(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(ju.min())>0){n.readTime=op(e,t.snapshotVersion.toTimestamp());const r=ip(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yu()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=gp(this.serializer),t.removeTarget=e,this.Wo(t)}}class Cg extends Ig{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(bu(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(bu(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?lp(e.updateTime):lp(t);return n.isEqual(ju.min())&&(n=lp(t)),new ff(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=lp(e.commitTime);return this.listener.cu(n,t)}return bu(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=gp(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>yp(this.serializer,e)))};this.Wo(t)}}class Dg extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Eu(Au.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,o]=r;return this.connection.Io(e,t,n,i,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Au.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Eu(Au.UNKNOWN,e.toString())}))}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,a]=i;return this.connection.vo(e,t,n,o,a,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Au.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Eu(Au.UNKNOWN,e.toString())}))}terminate(){this.lu=!0}}class Ng{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve()))))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(gu(t),this.mu=!1):pu("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Tg{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr((e=>{n.enqueueAndForget((async()=>{Bg(this)&&(pu("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=wu(e);t.vu.add(4),await Og(t),t.bu.set("Unknown"),t.vu.delete(4),await kg(t)}(this))}))})),this.bu=new Ng(n,r)}}async function kg(e){if(Bg(e))for(const t of e.Ru)await t(!0)}async function Og(e){for(const t of e.Ru)await t(!1)}function Pg(e,t){const n=wu(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),jg(n)?Mg(n):nm(n).Ko()&&_g(n,t))}function Rg(e,t){const n=wu(e),r=nm(n);n.Au.delete(t),r.Ko()&&Lg(n,t),0===n.Au.size&&(r.Ko()?r.jo():Bg(n)&&n.bu.set("Unknown"))}function _g(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ju.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}nm(e).su(t)}function Lg(e,t){e.Vu.qt(t),nm(e).iu(t)}function Mg(e){e.Vu=new Xf({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),nm(e).start(),e.bu.gu()}function jg(e){return Bg(e)&&!nm(e).Uo()&&e.Au.size>0}function Bg(e){return 0===wu(e).vu.size}function Fg(e){e.Vu=void 0}async function Ug(e){e.Au.forEach(((t,n)=>{_g(e,t)}))}async function Gg(e,t){Fg(e),jg(e)?(e.bu.Iu(t),Mg(e)):e.bu.set("Unknown")}async function zg(e,t,n){if(e.bu.set("Online"),t instanceof Yf&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){pu("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Wg(e,n)}else if(t instanceof Qf?e.Vu.Ht(t):t instanceof Kf?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(ju.min()))try{const t=await ig(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(md.EMPTY_BYTE_STRING,r.snapshotVersion)),Lg(e,t);const i=new Op(r.target,t,n,r.sequenceNumber);_g(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){pu("RemoteStore","Failed to raise snapshot:",t),await Wg(e,t)}}async function Wg(e,t,n){if(!$u(t))throw t;e.vu.add(1),await Og(e),e.bu.set("Offline"),n||(n=()=>ig(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{pu("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await kg(e)}))}function Vg(e,t){return t().catch((n=>Wg(e,n,t)))}async function Hg(e){const t=wu(e),n=rm(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;qg(t);)try{const e=await ag(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,Qg(t,e)}catch(e){await Wg(t,e)}Kg(t)&&Yg(t)}function qg(e){return Bg(e)&&e.Eu.length<10}function Qg(e,t){e.Eu.push(t);const n=rm(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function Kg(e){return Bg(e)&&!rm(e).Uo()&&e.Eu.length>0}function Yg(e){rm(e).start()}async function Jg(e){rm(e).hu()}async function Xg(e){const t=rm(e);for(const n of e.Eu)t.uu(n.mutations)}async function $g(e,t,n){const r=e.Eu.shift(),i=kf.from(r,t,n);await Vg(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Hg(e)}async function Zg(e,t){t&&rm(e).ou&&await async function(e,t){if(Lf(n=t.code)&&n!==Au.ABORTED){const n=e.Eu.shift();rm(e).Qo(),await Vg(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Hg(e)}var n}(e,t),Kg(e)&&Yg(e)}async function em(e,t){const n=wu(e);n.asyncQueue.verifyOperationInProgress(),pu("RemoteStore","RemoteStore received new credentials");const r=Bg(n);n.vu.add(3),await Og(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await kg(n)}async function tm(e,t){const n=wu(e);t?(n.vu.delete(2),await kg(n)):t||(n.vu.add(2),await Og(n),n.bu.set("Unknown"))}function nm(e){return e.Su||(e.Su=function(e,t,n){const r=wu(e);return r.fu(),new Sg(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Ug.bind(null,e),ao:Gg.bind(null,e),nu:zg.bind(null,e)}),e.Ru.push((async t=>{t?(e.Su.Qo(),jg(e)?Mg(e):e.bu.set("Unknown")):(await e.Su.stop(),Fg(e))}))),e.Su}function rm(e){return e.Du||(e.Du=function(e,t,n){const r=wu(e);return r.fu(),new Cg(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Jg.bind(null,e),ao:Zg.bind(null,e),au:Xg.bind(null,e),cu:$g.bind(null,e)}),e.Ru.push((async t=>{t?(e.Du.Qo(),await Hg(e)):(await e.Du.stop(),e.Eu.length>0&&(pu("RemoteStore",`Stopping write stream with ${e.Eu.length} pending writes`),e.Eu=[]))}))),e.Du}class im{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new xu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,a=new im(e,t,o,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Eu(Au.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function om(e,t){if(gu("AsyncQueue",`${t}: ${e}`),$u(e))return new Eu(Au.UNAVAILABLE,`${t}: ${e}`);throw e}class am{constructor(e){this.comparator=e?(t,n)=>e(t,n)||zu.comparator(t.key,n.key):(e,t)=>zu.comparator(e.key,t.key),this.keyedMap=Uh(),this.sortedSet=new cd(this.comparator)}static emptySet(e){return new am(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof am))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new am;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class sm{constructor(){this.Cu=new cd(zu.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):yu():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal(((t,n)=>{e.push(n)})),e}}class lm{constructor(e,t,n,r,i,o,a,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new lm(e,t,am.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Th(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class cm{constructor(){this.Nu=void 0,this.listeners=[]}}class um{constructor(){this.queries=new Mh((e=>kh(e)),Th),this.onlineState="Unknown",this.ku=new Set}}async function dm(e,t){const n=wu(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new cm),i)try{o.Nu=await n.onListen(r)}catch(e){const n=om(e,`Initialization of query '${Oh(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,o),o.listeners.push(t),t.Mu(n.onlineState),o.Nu&&t.$u(o.Nu)&&gm(n)}async function hm(e,t){const n=wu(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function fm(e,t){const n=wu(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(i)&&(r=!0);t.Nu=i}}r&&gm(n)}function pm(e,t,n){const r=wu(e),i=r.queries.get(t);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(t)}function gm(e){e.ku.forEach((e=>{e.next()}))}class mm{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new lm(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=lm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class vm{constructor(e){this.key=e}}class ym{constructor(e){this.key=e}}class bm{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Qh(),this.mutatedKeys=Qh(),this.tc=_h(e),this.ec=new am(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new sm,r=t?t.ec:this.ec;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Ph(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.rc(c,u)||(n.track({type:2,doc:u}),f=!0,(s&&this.tc(u,s)>0||l&&this.tc(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(s||l)&&(a=!0)),f&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ec:o,ic:n,zi:a,mutatedKeys:i}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yu()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc))),this.oc(n);const o=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,s=a!==this.Xu;return this.Xu=a,0!==i.length||s?{snapshot:new lm(this.query,e.ec,r,i,e.mutatedKeys,0===a,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new sm,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach((e=>this.Yu=this.Yu.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Yu=this.Yu.delete(e))),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Qh(),this.ec.forEach((e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))}));const t=[];return e.forEach((e=>{this.Zu.has(e)||t.push(new ym(e))})),this.Zu.forEach((n=>{e.has(n)||t.push(new vm(n))})),t}hc(e){this.Yu=e.ir,this.Zu=Qh();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return lm.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class wm{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Am{constructor(e){this.key=e,this.fc=!1}}class Em{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Mh((e=>kh(e)),Th),this._c=new Map,this.mc=new Set,this.gc=new cd(zu.comparator),this.yc=new Map,this.Ic=new Vp,this.Tc={},this.Ec=new Map,this.Ac=Bp.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function xm(e,t){const n=Gm(e);let r,i;const o=n.wc.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.lc();else{const e=await sg(n.localStore,Ch(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await Im(n,t,r,"current"===o,e.resumeToken),n.isPrimaryClient&&Pg(n.remoteStore,e)}return i}async function Im(e,t,n,r,i){e.Rc=(t,n,r)=>async function(e,t,n,r){let i=t.view.sc(n);i.zi&&(i=await cg(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.sc(n,i)})));const o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o);return Lm(e,t.targetId,a.cc),a.snapshot}(e,t,n,r);const o=await cg(e.localStore,t,!0),a=new bm(t,o.ir),s=a.sc(o.documents),l=qf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(s,e.isPrimaryClient,l);Lm(e,n,c.cc);const u=new wm(t,n,a);return e.wc.set(t,u),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),c.snapshot}async function Sm(e,t){const n=wu(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter((e=>!Th(e,t)))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await lg(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),Rg(n.remoteStore,r.targetId),Rm(n,r.targetId)})).catch(Ju)):(Rm(n,r.targetId),await lg(n.localStore,r.targetId,!0))}async function Cm(e,t){const n=wu(e);try{const e=await function(e,t){const n=wu(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];t.targetChanges.forEach(((o,s)=>{const l=i.get(s);if(!l)return;a.push(n.Bs.removeMatchingKeys(e,o.removedDocuments,s).next((()=>n.Bs.addMatchingKeys(e,o.addedDocuments,s))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(md.EMPTY_BYTE_STRING,ju.min()).withLastLimboFreeSnapshotVersion(ju.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&a.push(n.Bs.updateTargetData(e,c))}));let s=Bh(),l=Qh();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(og(e,o,t.documentUpdates).next((e=>{s=e.nr,l=e.sr}))),!r.isEqual(ju.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next((t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return Xu.waitFor(a).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,s,l))).next((()=>s))})).then((e=>(n.Ji=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.yc.get(t);r&&(bu(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?bu(r.fc):e.removedDocuments.size>0&&(bu(r.fc),r.fc=!1))})),await Bm(n,e,t)}catch(e){await Ju(e)}}function Dm(e,t,n){const r=wu(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach(((n,r)=>{const i=r.view.Mu(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=wu(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.Mu(t)&&(r=!0)})),r&&gm(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Nm(e,t,n){const r=wu(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),o=i&&i.key;if(o){let e=new cd(zu.comparator);e=e.insert(o,Vd.newNoDocument(o,ju.min()));const n=Qh().add(o),i=new Hf(ju.min(),new Map,new cd(_u),e,n);await Cm(r,i),r.gc=r.gc.remove(o),r.yc.delete(t),jm(r)}else await lg(r.localStore,t,!1).then((()=>Rm(r,t,n))).catch(Ju)}async function Tm(e,t){const n=wu(e),r=t.batch.batchId;try{const e=await function(e,t){const n=wu(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let a=Xu.resolve();return o.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);bu(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Qh();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Pm(n,r,null),Om(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Bm(n,e)}catch(e){await Ju(e)}}async function km(e,t,n){const r=wu(e);try{const e=await function(e,t){const n=wu(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(bu(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Pm(r,t,n),Om(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Bm(r,e)}catch(n){await Ju(n)}}function Om(e,t){(e.Ec.get(t)||[]).forEach((e=>{e.resolve()})),e.Ec.delete(t)}function Pm(e,t,n){const r=wu(e);let i=r.Tc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function Rm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((t=>{e.Ic.containsKey(t)||_m(e,t)}))}function _m(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(Rg(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),jm(e))}function Lm(e,t,n){for(const r of n)r instanceof vm?(e.Ic.addReference(r.key,t),Mm(e,r)):r instanceof ym?(pu("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||_m(e,r.key)):yu()}function Mm(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(pu("SyncEngine","New document in limbo: "+n),e.mc.add(r),jm(e))}function jm(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new zu(Fu.fromString(t)),r=e.Ac.next();e.yc.set(r,new Am(n)),e.gc=e.gc.insert(n,r),Pg(e.remoteStore,new Op(Ch(wh(n.path)),r,"TargetPurposeLimboResolution",Zu.ct))}}async function Bm(e,t,n){const r=wu(e),i=[],o=[],a=[];r.wc.isEmpty()||(r.wc.forEach(((e,s)=>{a.push(r.Rc(s,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Zp.Li(s.targetId,e);o.push(t)}})))})),await Promise.all(a),r.dc.nu(i),await async function(e,t){const n=wu(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Xu.forEach(t,(t=>Xu.forEach(t.Fi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Xu.forEach(t.Bi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!$u(e))throw e;pu("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ji.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(e,i)}}}(r.localStore,o))}async function Fm(e,t){const n=wu(e);if(!n.currentUser.isEqual(t)){pu("SyncEngine","User change. New user:",t.toKey());const e=await rg(n.localStore,t);n.currentUser=t,function(e){e.Ec.forEach((e=>{e.forEach((e=>{e.reject(new Eu(Au.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Bm(n,e.er)}}function Um(e,t){const n=wu(e),r=n.yc.get(t);if(r&&r.fc)return Qh().add(r.key);{let e=Qh();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}function Gm(e){const t=wu(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Cm.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Um.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Nm.bind(null,t),t.dc.nu=fm.bind(null,t.eventManager),t.dc.Pc=pm.bind(null,t.eventManager),t}function zm(e){const t=wu(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Tm.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=km.bind(null,t),t}class Wm{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Eg(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return ng(this.persistence,new eg,e.initialUser,this.serializer)}createPersistence(e){return new Jp($p.zs,this.serializer)}createSharedClientState(e){return new hg}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Vm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Dm(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Fm.bind(null,this.syncEngine),await tm(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new um}createDatastore(e){const t=Eg(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new wg(r));var r;return function(e,t,n,r){return new Dg(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>Dm(this.syncEngine,e,0),o=pg.D()?new pg:new fg,new Tg(t,n,r,i,o);var t,n,r,i,o}createSyncEngine(e,t){return function(e,t,n,r,i,o,a){const s=new Em(e,t,n,r,i,o);return a&&(s.vc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=wu(e);pu("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await Og(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}class Hm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):gu("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class qm{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=uu.UNAUTHENTICATED,this.clientId=Ru.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{pu("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(pu("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Eu(Au.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(YP){const n=om(YP,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Qm(e,t){e.asyncQueue.verifyOperationInProgress(),pu("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await rg(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Km(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Jm(e);pu("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>em(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>em(t.remoteStore,n))),e._onlineComponents=t}function Ym(e){return"FirebaseError"===e.name?e.code===Au.FAILED_PRECONDITION||e.code===Au.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function Jm(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){pu("FirestoreClient","Using user provided OfflineComponentProvider");try{await Qm(e,e._uninitializedComponentsProvider._offline)}catch(YP){const n=YP;if(!Ym(n))throw n;mu("Error using user provided cache. Falling back to memory cache: "+n),await Qm(e,new Wm)}}else pu("FirestoreClient","Using default OfflineComponentProvider"),await Qm(e,new Wm);return e._offlineComponents}async function Xm(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(pu("FirestoreClient","Using user provided OnlineComponentProvider"),await Km(e,e._uninitializedComponentsProvider._online)):(pu("FirestoreClient","Using default OnlineComponentProvider"),await Km(e,new Vm))),e._onlineComponents}function $m(e){return Xm(e).then((e=>e.syncEngine))}async function Zm(e){const t=await Xm(e),n=t.eventManager;return n.onListen=xm.bind(null,t.syncEngine),n.onUnlisten=Sm.bind(null,t.syncEngine),n}function ev(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new xu;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Hm({next:o=>{t.enqueueAndForget((()=>hm(e,a)));const s=o.docs.has(n);!s&&o.fromCache?i.reject(new Eu(Au.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Eu(Au.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new mm(wh(n.path),o,{includeMetadataChanges:!0,Ku:!0});return dm(e,a)}(await Zm(e),e.asyncQueue,t,n,r))),r.promise}function tv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new xu;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Hm({next:n=>{t.enqueueAndForget((()=>hm(e,a))),n.fromCache&&"server"===r.source?i.reject(new Eu(Au.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new mm(n,o,{includeMetadataChanges:!0,Ku:!0});return dm(e,a)}(await Zm(e),e.asyncQueue,t,n,r))),r.promise}function nv(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const rv=new Map;function iv(e,t,n){if(!n)throw new Eu(Au.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function ov(e){if(!zu.isDocumentKey(e))throw new Eu(Au.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function av(e){if(zu.isDocumentKey(e))throw new Eu(Au.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function sv(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":yu()}function lv(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Eu(Au.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sv(e);throw new Eu(Au.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}class cv{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Eu(Au.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Eu(Au.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Eu(Au.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nv(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Eu(Au.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Eu(Au.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Eu(Au.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class uv{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Eu(Au.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Eu(Au.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cv(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Su;switch(e.type){case"firstParty":return new Tu(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Eu(Au.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=rv.get(e);t&&(pu("ComponentProvider","Removing Datastore"),rv.delete(e),t.terminate())}(this),Promise.resolve()}}class dv{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fv(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dv(this.firestore,e,this._key)}}class hv{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new hv(this.firestore,e,this._query)}}class fv extends hv{constructor(e,t,n){super(e,t,wh(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dv(this.firestore,null,new zu(e))}withConverter(e){return new fv(this.firestore,e,this._path)}}function pv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=dt(e),iv("collection","path",t),e instanceof uv){const n=Fu.fromString(t,...r);return av(n),new fv(e,null,n)}{if(!(e instanceof dv||e instanceof fv))throw new Eu(Au.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Fu.fromString(t,...r));return av(n),new fv(e.firestore,null,n)}}function gv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=dt(e),1===arguments.length&&(t=Ru.A()),iv("doc","path",t),e instanceof uv){const n=Fu.fromString(t,...r);return ov(n),new dv(e,null,new zu(n))}{if(!(e instanceof dv||e instanceof fv))throw new Eu(Au.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Fu.fromString(t,...r));return ov(n),new dv(e.firestore,e instanceof fv?e.converter:null,new zu(n))}}class mv{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new xg(this,"async_queue_retry"),this.Xc=()=>{const e=Ag();e&&pu("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=Ag();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Ag();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise((()=>{}));const t=new xu;return this.ta((()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Qc.push(e),this.ea())))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!$u(e))throw e;pu("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No((()=>this.ea()))}}ta(e){const t=this.Gc.then((()=>(this.Hc=!0,e().catch((e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw gu("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Hc=!1,e))))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=im.createAndSchedule(this,e,t,n,(e=>this.na(e)));return this.zc.push(r),r}Zc(){this.Wc&&yu()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then((()=>{this.zc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()}))}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class vv extends uv{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new mv,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||bv(this),this._firestoreClient.terminate()}}function yv(e){return e._firestoreClient||bv(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function bv(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Id(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,nv(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new qm(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class wv{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wv(md.fromBase64String(e))}catch(e){throw new Eu(Au.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new wv(md.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Av{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Eu(Au.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gu(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ev{constructor(e){this._methodName=e}}class xv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Eu(Au.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Eu(Au.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _u(this._lat,e._lat)||_u(this._long,e._long)}}const Iv=/^__.*__$/;class Sv{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new xf(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ef(e,this.data,t,this.fieldTransforms)}}function Cv(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yu()}}class Dv{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Dv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Uv(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Cv(this.ca)&&Iv.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Nv{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Eg(e)}ya(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Dv({ca:e,methodName:t,ga:n,path:Gu.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tv(e){const t=e._freezeSettings(),n=Eg(e._databaseId);return new Nv(e._databaseId,!!t.ignoreUndefinedProperties,n)}function kv(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.ya(o.merge||o.mergeFields?2:0,t,n,i);Mv("Data must be an object, but it was:",a,r);const s=_v(r,a);let l,c;if(o.merge)l=new pd(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=jv(t,r,n);if(!a.contains(i))throw new Eu(Au.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Gv(e,i)||e.push(i)}l=new pd(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new Sv(new zd(s),l,c)}class Ov extends Ev{_toFieldTransform(e){return new hf(e.path,new rf)}isEqual(e){return e instanceof Ov}}function Pv(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Rv(n,e.ya(r?4:3,t))}function Rv(e,t){if(Lv(e=dt(e)))return Mv("Unsupported field value:",t,e),_v(e,t);if(e instanceof Ev)return function(e,t){if(!Cv(t.ca))throw t._a(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t._a(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Rv(i,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=dt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return $h(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Mu.fromDate(e);return{timestampValue:op(t.serializer,n)}}if(e instanceof Mu){const n=new Mu(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:op(t.serializer,n)}}if(e instanceof xv)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof wv)return{bytesValue:ap(t.serializer,e._byteString)};if(e instanceof dv){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:cp(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a(`Unsupported field value: ${sv(e)}`)}(e,t)}function _v(e,t){const n={};return ld(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):sd(e,((e,r)=>{const i=Rv(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Lv(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Mu||e instanceof xv||e instanceof wv||e instanceof dv||e instanceof Ev)}function Mv(e,t,n){if(!Lv(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=sv(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function jv(e,t,n){if((t=dt(t))instanceof Av)return t._internalPath;if("string"==typeof t)return Fv(e,t);throw Uv("Field path arguments must be of type string or ",e,!1,void 0,n)}const Bv=new RegExp("[~\\*/\\[\\]]");function Fv(e,t,n){if(t.search(Bv)>=0)throw Uv(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Av(...t.split("."))._internalPath}catch(r){throw Uv(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Uv(e,t,n,r,i){const o=r&&!r.isEmpty(),a=void 0!==i;let s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new Eu(Au.INVALID_ARGUMENT,s+e+l)}function Gv(e,t){return e.some((e=>e.isEqual(t)))}class zv{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new dv(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Wv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Vv("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Wv extends zv{data(){return super.data()}}function Vv(e,t){return"string"==typeof t?Fv(e,t):t instanceof Av?t._internalPath:t._delegate._internalPath}function Hv(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Eu(Au.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qv{}class Qv extends qv{}function Kv(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof qv&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof Xv)).length,n=e.filter((e=>e instanceof Yv)).length;if(t>1||t>0&&n>0)throw new Eu(Au.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class Yv extends Qv{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Yv(e,t,n)}_apply(e){const t=this._parse(e);return ey(e._query,t),new hv(e.firestore,e.converter,Dh(e._query,t))}_parse(e){const t=Tv(e.firestore),n=function(e,t,n,r,i,o,a){let s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Eu(Au.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){Zv(a,o);const t=[];for(const n of a)t.push($v(r,e,n));s={arrayValue:{values:t}}}else s=$v(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Zv(a,o),s=Pv(n,"where",a,"in"===o||"not-in"===o);return Xd.create(i,o,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Jv(e,t,n){const r=t,i=Vv("where",e);return Yv._create(i,r,n)}class Xv extends qv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Xv(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:$d.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)ey(n,i),n=Dh(n,i)}(e._query,t),new hv(e.firestore,e.converter,Dh(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function $v(e,t,n){if("string"==typeof(n=dt(n))){if(""===n)throw new Eu(Au.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ih(t)&&-1!==n.indexOf("/"))throw new Eu(Au.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Fu.fromString(n));if(!zu.isDocumentKey(r))throw new Eu(Au.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _d(e,new zu(r))}if(n instanceof dv)return _d(e,n._key);throw new Eu(Au.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sv(n)}.`)}function Zv(e,t){if(!Array.isArray(e)||0===e.length)throw new Eu(Au.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function ey(e,t){if(t.isInequality()){const n=xh(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Eu(Au.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${r.toString()}'`);const i=Eh(e);null!==i&&ty(e,r,i)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Eu(Au.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Eu(Au.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function ty(e,t,n){if(!n.isEqual(t))throw new Eu(Au.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class ny{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Dd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bd(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw yu()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return sd(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new xv(bd(e.latitude),bd(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Ed(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(xd(e));default:return null}}convertTimestamp(e){const t=yd(e);return new Mu(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Fu.fromString(e);bu(kp(n));const r=new Sd(n.get(1),n.get(3)),i=new zu(n.popFirst(5));return r.isEqual(t)||gu(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function ry(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class iy{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oy extends zv{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new ay(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Vv("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class ay extends oy{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class sy{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new iy(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new ay(this._firestore,this._userDataWriter,n.key,n,new iy(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Eu(Au.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new ay(e._firestore,e._userDataWriter,n.doc.key,n.doc,new iy(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new ay(e._firestore,e._userDataWriter,t.doc.key,t.doc,new iy(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:ly(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function ly(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yu()}}function cy(e){e=lv(e,dv);const t=lv(e.firestore,vv);return ev(yv(t),e._key).then((n=>gy(t,e,n)))}class uy extends ny{constructor(e){super(),this.firestore=e}convertBytes(e){return new wv(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dv(this.firestore,null,t)}}function dy(e){e=lv(e,hv);const t=lv(e.firestore,vv),n=yv(t),r=new uy(t);return Hv(e._query),tv(n,e._query).then((n=>new sy(t,r,e,n)))}function hy(e,t,n){e=lv(e,dv);const r=lv(e.firestore,vv),i=ry(e.converter,t,n);return py(r,[kv(Tv(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,pf.none())])}function fy(e,t){const n=lv(e.firestore,vv),r=gv(e),i=ry(e.converter,t);return py(n,[kv(Tv(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,pf.exists(!1))]).then((()=>r))}function py(e,t){return function(e,t){const n=new xu;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=zm(e);try{const e=await function(e,t){const n=wu(e),r=Mu.now(),i=t.reduce(((e,t)=>e.add(t.key)),Qh());let o,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let s=Bh(),l=Qh();return n.Zi.getEntries(e,i).next((e=>{s=e,s.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,s))).next((i=>{o=i;const a=[];for(const e of t){const t=wf(e,o.get(e.key).overlayedDocument);null!=t&&a.push(new xf(e.key,t,Wd(t.value.mapValue),pf.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:Gh(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new cd(_u)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await Bm(r,e.changes),await Hg(r.remoteStore)}catch(e){const t=om(e,"Failed to persist write");n.reject(t)}}(await $m(e),t,n))),n.promise}(yv(e),t)}function gy(e,t,n){const r=n.docs.get(t._key),i=new uy(e);return new oy(e,i,t._key,r,new iy(n.hasPendingWrites,n.fromCache),t.converter)}function my(){return new Ov("serverTimestamp")}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){du=e}(xn),bn(new ht("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),a=new vv(new Du(e.getProvider("auth-internal")),new Ou(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Eu(Au.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sd(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),Cn(cu,"3.13.0",e),Cn(cu,"3.13.0","esm2017")}();const vy="firebasestorage.googleapis.com",yy="storageBucket";class by extends tt{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Ey(e),`Firebase Storage: ${t} (${Ey(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,by.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ey(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var wy,Ay;function Ey(e){return"storage/"+e}function xy(){return new by(wy.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Iy(){return new by(wy.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Sy(){return new by(wy.CANCELED,"User canceled the upload/download.")}function Cy(){return new by(wy.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Dy(e){return new by(wy.INVALID_ARGUMENT,e)}function Ny(){return new by(wy.APP_DELETED,"The Firebase app was deleted.")}function Ty(e,t){return new by(wy.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function ky(e){throw new by(wy.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(wy||(wy={}));class Oy{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Oy.makeFromUrl(e,t)}catch(YP){return new Oy(e,"")}if(""===n.path)return n;throw r=e,new by(wy.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),s=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${a}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp(`^https?://${t===vy?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:o}];for(let l=0;l<s.length;l++){const t=s[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new Oy(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new by(wy.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Py{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function Ry(e){return"string"===typeof e||e instanceof String}function _y(e){return Ly()&&e instanceof Blob}function Ly(){return"undefined"!==typeof Blob&&!Ze()}function My(e,t,n,r){if(r<t)throw Dy(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw Dy(`Invalid value for '${e}'. Expected ${n} or less.`)}function jy(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function By(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function Fy(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Ay||(Ay={}));class Uy{constructor(e,t,n,r,i,o,a,s,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=s,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new Gy(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Ay.NO_ERROR,i=n.getStatus();if(!t||Fy(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Ay.ABORT;return void e(!1,new Gy(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new Gy(o,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(YP){r(YP)}else if(null!==i){const e=xy();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?Ny():Sy())}else{r(Iy())}};this.canceled_?t(0,new Gy(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,a=!1,s=0;function l(){return 2===s}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function h(){o&&clearTimeout(o)}function f(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||a)return h(),void u.call(null,e,...n);let o;r<64&&(r*=2),1===s?(s=2,o=0):o=1e3*(r+Math.random()),d(o)}let p=!1;function g(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),d(0)):e||(s=1)))}return d(0),o=setTimeout((()=>{a=!0,g(!0)}),n),g}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Gy{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function zy(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Wy(){const e=zy();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(Ly())return new Blob(n);throw new by(wy.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function Vy(e){if("undefined"===typeof atob)throw t="base-64",new by(wy.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`);var t;return atob(e)}const Hy="raw",qy="base64",Qy="base64url",Ky="data_url";class Yy{constructor(e,t){this.data=e,this.contentType=t||null}}function Jy(e,t){switch(e){case Hy:return new Yy(Xy(t));case qy:case Qy:return new Yy($y(e,t));case Ky:return new Yy(function(e){const t=new Zy(e);return t.base64?$y(qy,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(YP){throw Ty(Ky,"Malformed data URL.")}return Xy(t)}(t.rest)}(t),new Zy(t).contentType)}throw xy()}function Xy(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function $y(e,t){switch(e){case qy:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw Ty(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case Qy:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw Ty(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Vy(t)}catch(YP){if(YP.message.includes("polyfill"))throw YP;throw Ty(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Zy{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Ty(Ky,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){const n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class eb{constructor(e,t){let n=0,r="";_y(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(_y(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new eb(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new eb(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Ly()){const e=t.map((e=>e instanceof eb?e.data_:e));return new eb(Wy.apply(null,e))}{const e=t.map((e=>Ry(e)?Jy(Hy,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new eb(r,!0)}}uploadData(){return this.data_}}function tb(e){let t;try{t=JSON.parse(e)}catch(YP){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function nb(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function rb(e,t){return t}class ib{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||rb}}let ob=null;function ab(){if(ob)return ob;const e=[];e.push(new ib("bucket")),e.push(new ib("generation")),e.push(new ib("metageneration")),e.push(new ib("name","fullPath",!0));const t=new ib("name");t.xform=function(e,t){return function(e){return!Ry(e)||e.length<2?e:nb(e)}(t)},e.push(t);const n=new ib("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new ib("timeCreated")),e.push(new ib("updated")),e.push(new ib("md5Hash",null,!0)),e.push(new ib("cacheControl",null,!0)),e.push(new ib("contentDisposition",null,!0)),e.push(new ib("contentEncoding",null,!0)),e.push(new ib("contentLanguage",null,!0)),e.push(new ib("contentType",null,!0)),e.push(new ib("metadata","customMetadata",!0)),ob=e,ob}function sb(e,t,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const e=n[o];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new Oy(n,r);return t._makeStorageReference(i)}})}(r,e),r}function lb(e,t,n){const r=tb(t);if(null===r)return null;return sb(e,r,n)}function cb(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class ub{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function db(e){if(!e)throw xy()}function hb(e,t){return function(n,r){const i=lb(e,r,t);return db(null!==i),i}}function fb(e,t){return function(n,r){const i=lb(e,r,t);return db(null!==i),function(e,t,n,r){const i=tb(t);if(null===i)return null;if(!Ry(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const a=encodeURIComponent;return o.split(",").map((t=>{const i=e.bucket,o=e.fullPath;return jy("/b/"+a(i)+"/o/"+a(o),n,r)+By({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function pb(e){return function(t,n){let r;var i,o;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new by(wy.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new by(wy.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new by(wy.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new by(wy.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function gb(e){const t=pb(e);return function(n,r){let i=t(n,r);var o;return 404===n.getStatus()&&(o=e.path,i=new by(wy.OBJECT_NOT_FOUND,"Object '"+o+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function mb(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function vb(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};const s=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;const l=mb(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+cb(l,n)+"\r\n--"+s+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+s+"--",d=eb.getBlob(c,r,u);if(null===d)throw Cy();const h={name:l.fullPath},f=jy(o,e.host,e._protocol),p=e.maxUploadRetryTime,g=new ub(f,"POST",hb(e,n),p);return g.urlParams=h,g.headers=a,g.body=d.uploadData(),g.errorHandler=pb(t),g}class yb{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ay.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=Ay.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=Ay.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw ky("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ky("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ky("cannot .getStatus() before sending");try{return this.xhr_.status}catch(YP){return-1}}getResponse(){if(!this.sent_)throw ky("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ky("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class bb extends yb{initXhr(){this.xhr_.responseType="text"}}function wb(){return new bb}class Ab{constructor(e,t){this._service=e,this._location=t instanceof Oy?t:Oy.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ab(e,t)}get root(){const e=new Oy(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return nb(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Oy(this._location.bucket,e);return new Ab(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new by(wy.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function Eb(e,t,n){e._throwIfRoot("uploadBytes");const r=vb(e.storage,e._location,ab(),new eb(t,!0),n);return e.storage.makeRequestWithTokens(r,wb).then((t=>({metadata:t,ref:e})))}function xb(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=jy(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new ub(r,"GET",fb(e,n),i);return o.errorHandler=gb(t),o}(e.storage,e._location,ab());return e.storage.makeRequestWithTokens(t,wb).then((e=>{if(null===e)throw new by(wy.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function Ib(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=jy(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new ub(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=gb(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,wb)}function Sb(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Oy(e._location.bucket,n);return new Ab(e.storage,r)}function Cb(e,t){if(e instanceof Tb){const n=e;if(null==n._bucket)throw new by(wy.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+yy+"' property when initializing the app?");const r=new Ab(n,n._bucket);return null!=t?Cb(r,t):r}return void 0!==t?Sb(e,t):e}function Db(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Tb)return new Ab(e,t);throw Dy("To use ref(service, url), the first argument must be a Storage instance.")}return Cb(e,t)}function Nb(e,t){const n=null===t||void 0===t?void 0:t[yy];return null==n?null:Oy.makeFromBucketSpec(n,e)}class Tb{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=vy,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Oy.makeFromBucketSpec(r,this._host):Nb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Oy.makeFromBucketSpec(this._url,e):this._bucket=Nb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){My("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){My("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ab(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Py(Ny());{const o=function(e,t,n,r,i,o){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const s=By(e.urlParams),l=e.url+s,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new Uy(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then((()=>this._requests.delete(o)),(()=>this._requests.delete(o))),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const kb="@firebase/storage",Ob="0.11.2",Pb="storage";function Rb(e,t,n){return Eb(e=dt(e),t,n)}function _b(e){return xb(e=dt(e))}function Lb(e){return Ib(e=dt(e))}function Mb(e,t){return Db(e=dt(e),t)}function jb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn(),t=arguments.length>1?arguments[1]:void 0;e=dt(e);const n=wn(e,Pb).getImmediate({identifier:t}),r=Qe("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:Xe(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}function Bb(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new Tb(r,i,o,n,xn)}bn(new ht(Pb,Bb,"PUBLIC").setMultipleInstances(!0)),Cn(kb,Ob,""),Cn(kb,Ob,"esm2017");const Fb=In({apiKey:"AIzaSyD73uU5AWIeWZ_SQU9vRRLExil7ctKqa3U",authDomain:"client-portal-2025.firebaseapp.com",projectId:"client-portal-2025",storageBucket:"client-portal-2025.firebasestorage.app",messagingSenderId:"941830572273",appId:"1:941830572273:web:52299f1989bab446f38150"}),Ub=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn();const t=wn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=wn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(it(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Wn(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Mo,persistence:[Ki,Oi,Ri]}),r=Ye("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Uo)return;const r=null===t||void 0===t?void 0:t.token;Go!==r&&(Go=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){dt(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(e,t,n,r){dt(e).onIdTokenChanged(t,n,r)}(n,(t=>e(t)))}var i;const o=qe("auth");return o&&Xr(n,`http://${o}`),n}(Fb),Gb=function(e,t){const n="string"==typeof e?e:t||"(default)",r=wn("object"==typeof e?e:Sn(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=Qe("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=lv(e,uv))._getSettings(),a=`${t}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==a&&mu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=uu.MOCK_USER;else{t=Xe(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Eu(Au.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new uu(o)}e._authCredentials=new Cu(new Iu(t,n))}}(r,...e)}return r}(Fb),zb=jb(Fb);function Wb(e){var t;let{isOpen:n,onClose:r,brief:i}=e;if(!n||!i)return null;const{answers:o,type:a,createdAt:l}=i;return(0,s.createPortal)((0,Le.jsx)("div",{style:Vb,children:(0,Le.jsxs)("div",{style:Hb,children:[(0,Le.jsx)("button",{onClick:r,style:qb,children:"\xd7"}),(0,Le.jsxs)("h2",{style:{marginBottom:"0.5rem"},children:[(null===a||void 0===a?void 0:a.charAt(0).toUpperCase())+(null===a||void 0===a?void 0:a.slice(1))," Brief"]}),(0,Le.jsxs)("p",{style:{fontStyle:"italic",marginBottom:"1.5rem"},children:["Created: ",null===l||void 0===l||null===(t=l.toDate)||void 0===t?void 0:t.call(l).toLocaleDateString()]}),o?(0,Le.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:Object.entries(o).map((e=>{let[t,n]=e;return(0,Le.jsxs)("div",{style:{borderBottom:"1px solid #eee",paddingBottom:"0.75rem"},children:[(0,Le.jsxs)("p",{style:{fontWeight:"bold",marginBottom:"0.25rem"},children:["Q: ",(null===n||void 0===n?void 0:n.questionText)||"Unknown Question"]}),(0,Le.jsx)("p",{style:{marginLeft:"1rem",color:null!==n&&void 0!==n&&n.answerText?"#333":"#888",fontStyle:null!==n&&void 0!==n&&n.answerText?"normal":"italic"},children:(null===n||void 0===n?void 0:n.answerText)||"(No answer provided)"})]},t)}))}):(0,Le.jsx)("p",{children:"No answers available."})]})}),document.body)}const Vb={position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},Hb={background:"#fff",padding:"2rem",borderRadius:"12px",maxWidth:"600px",width:"90%",maxHeight:"90vh",overflowY:"auto",position:"relative"},qb={position:"absolute",top:"1rem",right:"1rem",background:"transparent",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#333"};function Qb(e){let{message:t="Loading..."}=e;return(0,Le.jsxs)("div",{style:Kb,children:[(0,Le.jsx)("div",{className:"spinner"}),(0,Le.jsx)("p",{style:{marginTop:"1rem",color:"var(--text-primary)",fontSize:"1.1rem"},children:t}),(0,Le.jsx)("style",{children:"\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n          \n          .spinner {\n            width: 40px;\n            height: 40px;\n            border: 5px solid var(--border-color);\n            border-top-color: #007bff;\n            border-radius: 50%;\n            animation: spin 1s linear infinite;\n          }\n        "})]})}const Kb={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"50vh",textAlign:"center"};function Yb(){const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)({}),[o,a]=(0,i.useState)([]),[s,l]=(0,i.useState)(!0),[c,u]=(0,i.useState)({}),[d,h]=(0,i.useState)(null),f=ne(),p=(0,i.useCallback)((async()=>{try{const e=Ub.currentUser;if(!e)return void l(!1);const n=Kv(pv(Gb,"projects"),Jv("designerId","==",e.uid)),i=(await dy(n)).docs.map((e=>({id:e.id,...e.data()})));t(i);const o=await dy(pv(Gb,"creativeBriefs")),s={};o.docs.forEach((e=>{const t=e.data();i.find((e=>e.id===t.projectId))&&(s[t.projectId]||(s[t.projectId]=[]),s[t.projectId].push({id:e.id,...t}))})),r(s);const c=Kv(pv(Gb,"clients"),Jv("designerId","==",e.uid)),u=(await dy(c)).docs.map((e=>({id:e.id,...e.data()})));a(u)}catch(e){console.error("Error fetching data:",e)}finally{l(!1)}}),[]);(0,i.useEffect)((()=>{p()}),[p]);const g=(0,i.useCallback)((e=>{const t=o.find((t=>t.id===e));return t?t.name:"Unknown Client"}),[o]);return s?(0,Le.jsx)(Qb,{message:"Loading dashboard..."}):(0,Le.jsxs)("div",{className:"dashboard-container p-4",children:[0===e.length?(0,Le.jsxs)("div",{className:"text-center mt-5",children:[(0,Le.jsx)("h3",{children:"Welcome to BrandEZ!"}),(0,Le.jsx)("p",{children:"Get started by adding your first project."})]}):(0,Le.jsx)("div",{className:"projects-grid",children:e.map((e=>{var t;return(0,Le.jsxs)("div",{className:"card shadow-sm",children:[(0,Le.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",children:[(0,Le.jsx)("h5",{className:"mb-0",children:g(e.clientId)}),(0,Le.jsx)("span",{className:"badge bg-"+("active"===e.status?"success":"secondary"),children:e.status})]}),(0,Le.jsxs)("div",{className:"card-body",children:[(0,Le.jsxs)("div",{className:"w-100",children:[(0,Le.jsx)("button",{className:"btn btn-outline-primary w-100 mb-2",onClick:()=>f(`/project/${e.id}/assets`),children:"View Assets"}),(0,Le.jsx)("button",{className:"btn btn-primary w-100 mb-2",onClick:()=>f(`/choose-template/${e.type}?projectId=${e.id}&wizard=true`),children:"Start A Brief"})]}),(null===(t=n[e.id])||void 0===t?void 0:t.length)>0&&(0,Le.jsxs)("div",{className:"mt-3",children:[(0,Le.jsx)("h6",{children:"Submitted Briefs:"}),(0,Le.jsx)("div",{className:"list-group",children:n[e.id].map((e=>{var t;return(0,Le.jsx)("button",{className:"list-group-item list-group-item-action mb-1",onClick:()=>h(e),children:new Date(null===(t=e.createdAt)||void 0===t?void 0:t.toDate()).toLocaleDateString()},e.id)}))})]})]})]},e.id)}))}),d&&(0,Le.jsx)(Wb,{isOpen:!0,onClose:()=>h(null),brief:d})]})}const Jb=[{id:"group-business",name:"Business Info",questions:[{id:"question-b1",text:"What is the name of your business or project?",type:"textarea",accept:void 0,fileUrl:null},{id:"question-b2",text:"Describe what your business/product/service does.",type:"textarea",accept:void 0,fileUrl:null},{id:"question-b3",text:"What problem are you solving for your customers or users?",type:"textarea",accept:void 0,fileUrl:null}]},{id:"group-goals-values",name:"Goals and Values",questions:[{id:"question-b4",text:"What are your short and long-term goals for this project?",type:"textarea",accept:void 0,fileUrl:null},{id:"question-b5",text:"What does success look like for this project?",type:"textarea",accept:void 0,fileUrl:null},{id:"question-b6",text:"Do you have an established mission statement or core values?",type:"textarea",accept:void 0,fileUrl:null}]},{id:"group-audience-competitors",name:"Audience and Competitors",questions:[{id:"question-b7",text:"Who is your primary target audience? (Age, gender, occupation, interests, tech-savviness, etc.)",type:"textarea",accept:void 0,fileUrl:null},{id:"question-b8",text:"Who are your competitors, and how do you differ from them?",type:"textarea",accept:void 0,fileUrl:null},{id:"question-b9",text:"Upload any reference materials or inspiration",type:"file",accept:"image/*,.pdf",fileUrl:null}]}];function Xb(){const{type:e,projectId:t,templateId:n}=re(),[r]=_e(),o=ne(),[a,s]=(0,i.useState)([]),[l,c]=(0,i.useState)(0),[u,d]=(0,i.useState)({}),[h,f]=(0,i.useState)({}),[p,g]=(0,i.useState)({}),[m,v]=(0,i.useState)(!0),[y,b]=(0,i.useState)(null);(0,i.useEffect)((()=>{(async()=>{v(!0),b(null);let e=[];try{if("default"!==n&&n){const t=Ub.currentUser;if(!t)throw new Error("No authenticated user found.");const r=gv(Gb,"users",t.uid,"questionnaireTemplates",n),i=await cy(r);if(!i.exists())throw new Error("Template not found, falling back to default questions.");e=i.data().groups||[],console.log("Loaded custom template groups:",e)}else e=Jb,console.log("Loaded default questions:",e);if(!Array.isArray(e)||0===e.length)throw new Error("No groups found in template.");const t=e.map((e=>({title:e.name||"Untitled Group",questions:(e.questions||[]).map((e=>({name:e.id||`q-${Date.now()}`,label:e.text||"Unnamed Question",type:e.type||"text"})))}))).filter((e=>e.questions.length>0));s(t)}catch(t){console.error("Error loading questions:",t),b(t.message);const e=(Jb||[]).map((e=>({title:e.name||"Untitled Group",questions:(e.questions||[]).map((e=>({name:e.id||`q-${Date.now()}`,label:e.text||"Unnamed Question",type:e.type||"text"})))}))).filter((e=>e.questions.length>0));s(e)}finally{v(!1)}})()}),[e,n]);const w=()=>{window.confirm("Are you sure you want to cancel? Your progress will be lost.")&&o("/dashboard")};if(m)return(0,Le.jsx)("div",{className:"loading",children:"Loading questions..."});if(y)return(0,Le.jsxs)("div",{className:"error-container",children:[(0,Le.jsx)("h2",{children:"Error Loading Questions"}),(0,Le.jsx)("p",{children:y}),(0,Le.jsx)("button",{onClick:()=>o("/dashboard"),className:"btn btn-primary",children:"Return to Dashboard"})]});if(!a.length)return(0,Le.jsxs)("div",{className:"no-questions",children:[(0,Le.jsx)("h2",{children:"No Questions Available"}),(0,Le.jsx)("button",{onClick:()=>o("/dashboard"),className:"btn btn-primary",children:"Return to Dashboard"})]});if(l>=a.length)return(0,Le.jsxs)("div",{style:{maxWidth:"600px",margin:"0 auto",padding:"2rem"},children:[(0,Le.jsxs)("h2",{style:{marginBottom:"0.5rem"},children:[e.charAt(0).toUpperCase()+e.slice(1)," Brief Review"]}),(0,Le.jsx)("p",{style:{fontStyle:"italic",marginBottom:"1.5rem"},children:"Please review your answers before submitting"}),(0,Le.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:Object.entries(u).map((e=>{let[t,n]=e;const r=a.flatMap((e=>e.questions)).find((e=>e.name===t));return Array.isArray(n)?(0,Le.jsxs)("div",{style:{borderBottom:"1px solid #eee",paddingBottom:"0.75rem"},children:[(0,Le.jsxs)("p",{style:{fontWeight:"bold",marginBottom:"0.25rem"},children:["Q: ",(null===r||void 0===r?void 0:r.label)||"Unknown Question"]}),(0,Le.jsx)("div",{style:{marginLeft:"1rem"},children:n.map(((e,t)=>(0,Le.jsx)("div",{style:{marginBottom:"0.5rem"},children:"imageUpload"===(null===r||void 0===r?void 0:r.type)&&e?(0,Le.jsx)("img",{src:e,alt:`Upload ${t+1}`,style:{maxWidth:"80px",marginTop:"0.5rem"}}):(0,Le.jsx)("p",{style:{color:e?"#333":"#888",fontStyle:e?"normal":"italic"},children:e||"(No answer provided)"})},t)))})]},t):(0,Le.jsxs)("div",{style:{borderBottom:"1px solid #eee",paddingBottom:"0.75rem"},children:[(0,Le.jsxs)("p",{style:{fontWeight:"bold",marginBottom:"0.25rem"},children:["Q: ",(null===r||void 0===r?void 0:r.label)||"Unknown Question"]}),(0,Le.jsx)("p",{style:{marginLeft:"1rem",color:n?"#333":"#888",fontStyle:n?"normal":"italic"},children:n||"(No answer provided)"})]},t)}))}),(0,Le.jsxs)("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem"},children:[(0,Le.jsx)("button",{onClick:w,className:"btn-secondary",children:"Cancel"}),(0,Le.jsx)("button",{onClick:async()=>{try{await(async(e,t,n)=>{if(!e||!n)throw new Error("Missing projectId or type");return await fy(pv(Gb,"creativeBriefs"),{projectId:gv(Gb,"projects",e),type:n,answers:t,createdAt:my()})})(t,u,e),alert("Submission saved!"),o("/dashboard")}catch(n){alert("Failed to save submission.")}},className:"primary",children:"Submit"})]})]});const A=a[l];return(0,Le.jsxs)("div",{className:"container",children:[(0,Le.jsx)("h2",{children:A.title}),A.questions.map((e=>{var n;return(0,Le.jsxs)("div",{children:[(0,Le.jsx)("label",{children:e.label}),"imageUpload"===e.type?(0,Le.jsxs)(Le.Fragment,{children:[[0,1,2].map((n=>{var r;return(0,Le.jsxs)("div",{children:[(0,Le.jsx)("input",{type:"file",accept:"image/*",onChange:r=>(async(e,n,r)=>{const i=e.target.files[0];if(!i)return;const o=[];if(["image/jpeg","image/png"].includes(i.type))if(i.size>5242880)o.push(`${i.name} exceeds 5MB.`);else try{const e=Mb(zb,`projects/${t}/${n}/${i.name}`),o=await Rb(e,i),a=await _b(o.ref);d((e=>{const t=[...e[n]||[]];return t[r]=a,{...e,[n]:t}})),f((e=>{const t=[...e[n]||[]];return t[r]=URL.createObjectURL(i),{...e,[n]:t}}))}catch(a){o.push(`Failed to upload ${i.name}`)}else o.push(`${i.name} is not a valid image type.`);g((e=>({...e,[n]:o})))})(r,e.name,n)}),(null===(r=h[e.name])||void 0===r?void 0:r[n])&&(0,Le.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginTop:"0.5rem"},children:[(0,Le.jsx)("img",{src:h[e.name][n],alt:"preview",width:"80"}),(0,Le.jsx)("button",{type:"button",onClick:()=>{return t=e.name,r=n,d((e=>{const n=[...e[t]||[]];return n[r]=null,{...e,[t]:n}})),void f((e=>{const n=[...e[t]||[]];return n[r]=null,{...e,[t]:n}}));var t,r},children:"Remove"})]})]},n)})),(null===(n=p[e.name])||void 0===n?void 0:n.length)>0&&(0,Le.jsx)("ul",{style:{color:"red"},children:p[e.name].map(((e,t)=>(0,Le.jsx)("li",{children:e},t)))})]}):"textarea"===e.type?(0,Le.jsx)("textarea",{value:u[e.name]||"",onChange:t=>d((n=>({...n,[e.name]:t.target.value})))}):"textList"===e.type?[...Array(3)].map(((t,n)=>(0,Le.jsx)("input",{type:"text",className:"col-8",placeholder:`Example link ${n+1}`,value:u[e.name]&&u[e.name][n]||"",onChange:t=>{const r=[...u[e.name]||[]];r[n]=t.target.value,d((t=>({...t,[e.name]:r})))}},n))):(0,Le.jsx)("input",{type:e.type,value:u[e.name]||"",onChange:t=>d((n=>({...n,[e.name]:t.target.value})))})]},e.name)})),(0,Le.jsxs)("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem"},children:[(0,Le.jsx)("button",{onClick:w,className:"btn-secondary",children:"Cancel"}),l>0&&(0,Le.jsx)("button",{onClick:()=>c(l-1),className:"btn-primary",children:"Back"}),(0,Le.jsx)("button",{onClick:()=>c(l+1),className:"btn-primary",children:"Next"})]})]})}function $b(){return(0,Le.jsx)(Xb,{})}console.log("Default Questions:",Jb);const Zb=n.p+"static/media/brandEZ_logo_vert.fc32a9648ff3dd544aaf.png";function ew(){const e=ne();return(0,Le.jsx)("div",{className:"main-container",children:(0,Le.jsxs)("div",{className:"dashboard-container",style:{textAlign:"center"},children:[(0,Le.jsx)("img",{style:{display:"block",margin:"0 auto",width:"300px"},src:Zb,alt:"BrandEZ Logo"}),(0,Le.jsx)("p",{className:"lead mt-3 mb-3",children:"Streamline your brand asset management and client collaboration"}),(0,Le.jsx)("button",{onClick:()=>e("/dashboard"),className:"btn btn-primary mt-3",children:"Enter Dashboard"})]})})}const tw=()=>{const{isDarkMode:e,toggleDarkMode:t}=Be();return(0,Le.jsx)("button",{onClick:t,style:{position:"fixed",bottom:"20px",right:"20px",zIndex:1e3,width:"40px",height:"40px",borderRadius:"50%",border:"none",backgroundColor:"var(--bg-card)",boxShadow:"0 2px 5px rgba(0,0,0,0.2)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",padding:0},children:(0,Le.jsx)("i",{className:"fas "+(e?"fa-sun":"fa-moon")})})};const nw=n.p+"static/media/brandEZ_logo.8202a25df10a54df5457dd805eabf1b7.svg";const rw=n.p+"static/media/brandEZ_logo_white.60988ae2acc22b9878b40178dc9244cb.svg",iw=()=>{const{isDarkMode:e}=Be();return(0,Le.jsx)("img",{src:e?rw:nw,alt:"BrandEZ Logo",style:{height:"40px",width:"auto"}})};function ow(){const[e,t]=(0,i.useState)(null),n=ne();(0,i.useEffect)((()=>{(async()=>{var e;const n=Ub.currentUser;if(!n)return;const r=await cy(gv(Gb,"users",n.uid));t(null===(e=r.data())||void 0===e?void 0:e.role)})()}),[]);return(0,Le.jsxs)("nav",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem",background:"var(--bg-card)",borderBottom:"1px solid var(--border-color)"},children:[(0,Le.jsx)(Oe,{to:"/",className:"nav-logo d-flex align-items-center text-decoration-none",children:(0,Le.jsx)(iw,{})}),(0,Le.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:(0,Le.jsx)("button",{onClick:async()=>{await function(e){return dt(e).signOut()}(Ub),n("/login")},className:"btn btn-outline-secondary",children:"Log Out"})})]})}const aw=()=>{const[e,t]=(0,i.useState)(!1),[n,r]=(0,i.useState)(!1),{isDarkMode:o}=Be(),a=ne(),[s,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)(!1),[f,p]=(0,i.useState)(""),[g,m]=(0,i.useState)(""),[v,y]=(0,i.useState)(""),[b,w]=(0,i.useState)(""),[A,E]=(0,i.useState)([]),[x,I]=(0,i.useState)([]),[S,C]=(0,i.useState)(!1),D=async()=>{try{const e=Ub.currentUser;if(!e)return;const t=Kv(pv(Gb,"clients"),Jv("designerId","==",e.uid)),n=(await dy(t)).docs.map((e=>({id:e.id,...e.data()})));E(n)}catch(e){console.error("Error fetching clients:",e)}};(0,i.useEffect)((()=>{D(),(async()=>{C(!0);try{const e=Ub.currentUser;if(!e)return;const t=Kv(pv(Gb,"questionnaireTemplates"),Jv("type","==","branding"),Jv("designerId","==",e.uid)),n=(await dy(t)).docs.map((e=>({id:e.id,...e.data()})));I(n)}catch(e){console.error("Error fetching templates:",e)}finally{C(!1)}})()}),[]);return(0,Le.jsxs)(Le.Fragment,{children:[(0,Le.jsx)("button",{className:"mobile-menu-toggle d-lg-none",onClick:()=>r(!n),children:(0,Le.jsx)("i",{className:"fas "+(n?"fa-times":"fa-bars")})}),(0,Le.jsxs)("div",{className:`sidebar ${e?"collapsed":""} ${n?"mobile-open":""}`,children:[(0,Le.jsx)("button",{className:"sidebar-toggle d-none d-lg-block",onClick:()=>t(!e),children:(0,Le.jsx)("i",{className:"fas fa-chevron-"+(e?"right":"left")})}),(0,Le.jsxs)("div",{className:"sidebar-links",children:[(0,Le.jsxs)(Oe,{to:"/dashboard",className:"sidebar-link",children:[(0,Le.jsx)("i",{className:"fas fa-home"}),!e&&(0,Le.jsx)("span",{children:"Home"})]}),(0,Le.jsxs)(Oe,{to:"#",className:"sidebar-link",children:[(0,Le.jsx)("i",{className:"fas fa-project-diagram"}),!e&&(0,Le.jsx)("span",{children:"Projects"})]}),(0,Le.jsxs)(Oe,{to:"#",className:"sidebar-link",children:[(0,Le.jsx)("i",{className:"fas fa-images"}),!e&&(0,Le.jsx)("span",{children:"Assets"})]})]}),(0,Le.jsx)("div",{className:"sidebar-buttons",children:e?(0,Le.jsxs)("div",{className:"collapsed-buttons",children:[(0,Le.jsx)("button",{className:"btn btn-sm btn-outline-primary",title:"Add Client",onClick:()=>l(!0),children:(0,Le.jsx)("i",{className:"fas fa-user-plus"})}),(0,Le.jsx)("button",{className:"btn btn-sm btn-outline-primary",title:"Add Project",onClick:()=>u(!0),children:(0,Le.jsx)("i",{className:"fas fa-plus"})}),(0,Le.jsx)("button",{className:"btn btn-sm btn-primary",title:"Create New Questionnaire",onClick:()=>h(!0),children:(0,Le.jsx)("i",{className:"fas fa-file-alt"})})]}):(0,Le.jsxs)(Le.Fragment,{children:[(0,Le.jsx)("button",{className:"btn btn-outline-primary",onClick:()=>l(!0),children:"Add Client"}),(0,Le.jsx)("button",{className:"btn btn-outline-primary",onClick:()=>u(!0),children:"Add Project"}),(0,Le.jsx)("button",{className:"btn btn-primary",onClick:()=>h(!0),children:"Create New Questionnaire"})]})})]}),s&&(0,Le.jsx)("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,Le.jsx)("div",{className:"modal-dialog",children:(0,Le.jsxs)("div",{className:"modal-content",children:[(0,Le.jsxs)("div",{className:"modal-header",children:[(0,Le.jsx)("h5",{className:"modal-title",children:"Add New Client"}),(0,Le.jsx)("button",{type:"button",className:"btn-close",onClick:()=>l(!1)})]}),(0,Le.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=Ub.currentUser.uid;await(async(e,t,n)=>{try{return(await fy(pv(Gb,"clients"),{name:e,email:t,designerId:gv(Gb,"users",n)})).id}catch(r){throw console.error("Error adding client:",r),r}})(f,g,e),l(!1),p(""),m(""),await D()}catch(t){console.error("Error adding client:",t)}},children:[(0,Le.jsxs)("div",{className:"modal-body",children:[(0,Le.jsxs)("div",{className:"mb-3",children:[(0,Le.jsx)("label",{className:"form-label",children:"Client Name"}),(0,Le.jsx)("input",{type:"text",className:"form-control",value:f,onChange:e=>p(e.target.value),required:!0})]}),(0,Le.jsxs)("div",{className:"mb-3",children:[(0,Le.jsx)("label",{className:"form-label",children:"Client Email"}),(0,Le.jsx)("input",{type:"email",className:"form-control",value:g,onChange:e=>m(e.target.value),required:!0})]})]}),(0,Le.jsxs)("div",{className:"modal-footer",children:[(0,Le.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>l(!1),children:"Cancel"}),(0,Le.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Add Client"})]})]})]})})}),c&&(0,Le.jsx)("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,Le.jsx)("div",{className:"modal-dialog",children:(0,Le.jsxs)("div",{className:"modal-content",children:[(0,Le.jsxs)("div",{className:"modal-header",children:[(0,Le.jsx)("h5",{className:"modal-title",children:"Add New Project"}),(0,Le.jsx)("button",{type:"button",className:"btn-close",onClick:()=>u(!1)})]}),(0,Le.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=Ub.currentUser.uid;await async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"branding";try{return(await fy(pv(Gb,"projects"),{clientId:gv(Gb,"clients",e),designerId:gv(Gb,"users",t),type:n,status:"in-progress",createdAt:new Date})).id}catch(r){throw console.error("Error adding project:",r),r}}(v,b,e),u(!1),y(""),w("")}catch(t){console.error("Error adding project:",t)}},children:[(0,Le.jsxs)("div",{className:"modal-body",children:[(0,Le.jsxs)("div",{className:"mb-3",children:[(0,Le.jsx)("label",{className:"form-label",children:"Project Name"}),(0,Le.jsx)("input",{type:"text",className:"form-control",value:v,onChange:e=>y(e.target.value),required:!0})]}),(0,Le.jsxs)("div",{className:"mb-3",children:[(0,Le.jsx)("label",{className:"form-label",children:"Select Client"}),(0,Le.jsxs)("select",{className:"form-select",value:b,onChange:e=>w(e.target.value),required:!0,children:[(0,Le.jsx)("option",{value:"",children:"Select a client"}),A.map((e=>(0,Le.jsx)("option",{value:e.id,children:e.name},e.id)))]})]})]}),(0,Le.jsxs)("div",{className:"modal-footer",children:[(0,Le.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>u(!1),children:"Cancel"}),(0,Le.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Add Project"})]})]})]})})}),d&&(0,Le.jsx)("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,Le.jsx)("div",{className:"modal-dialog",children:(0,Le.jsxs)("div",{className:"modal-content",children:[(0,Le.jsxs)("div",{className:"modal-header",children:[(0,Le.jsx)("h5",{className:"modal-title",children:"Create New Questionnaire"}),(0,Le.jsx)("button",{type:"button",className:"btn-close",onClick:()=>h(!1)})]}),(0,Le.jsx)("div",{className:"modal-body",children:S?(0,Le.jsx)("div",{className:"text-center py-3",children:(0,Le.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,Le.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):x.length>0?(0,Le.jsxs)("div",{className:"mb-4",children:[(0,Le.jsx)("button",{className:"btn btn-primary w-100 mb-4",onClick:()=>{h(!1),a("/template/create/branding?empty=true")},children:"Create New Template"}),(0,Le.jsx)("h6",{className:"mb-3",children:"Or start from a template:"}),(0,Le.jsx)("div",{className:"list-group",children:x.map((e=>{var t;return(0,Le.jsx)("button",{className:"list-group-item list-group-item-action",onClick:()=>{h(!1),a(`/choose-template/branding?templateId=${e.id}`)},children:(0,Le.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Le.jsx)("span",{children:e.name}),(0,Le.jsx)("small",{className:"text-muted",children:new Date(null===(t=e.createdAt)||void 0===t?void 0:t.toDate()).toLocaleDateString()})]})},e.id)}))})]}):(0,Le.jsx)("div",{className:"text-center",children:(0,Le.jsx)("div",{className:"card",children:(0,Le.jsxs)("div",{className:"card-body",children:[(0,Le.jsxs)("h5",{className:"card-title",children:[(0,Le.jsx)("i",{className:"fas fa-magic me-2 mr-2"}),"Start with Default Questions"]}),(0,Le.jsx)("button",{className:"btn btn-primary",onClick:()=>{h(!1),a("/template/create/branding?useDefaults=true")},children:"Use Default Template"})]})})})})]})})})]})},sw=e=>{let{children:t}=e;return(0,Le.jsxs)("div",{children:[(0,Le.jsx)(ow,{}),(0,Le.jsx)(aw,{}),(0,Le.jsx)(tw,{}),(0,Le.jsx)("main",{className:"main-content",children:t})]})};function lw(){const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)([]);return(0,i.useEffect)((()=>{(async()=>{const e=Ub.currentUser;if(!e)return;const n=gv(Gb,"users",e.uid),i=await cy(n);if(i.exists()){t(i.data().name);const e=Kv(pv(Gb,"projects"),Jv("clientId","==",n)),o=(await dy(e)).docs.map((e=>({id:e.id,...e.data()})));r(o)}})()}),[]),(0,Le.jsxs)("div",{className:"container",children:[(0,Le.jsxs)("h2",{children:["Welcome, ",e]}),(0,Le.jsx)("h3",{children:"Your Projects"}),0===n.length?(0,Le.jsx)("p",{children:"No projects yet."}):(0,Le.jsx)("ul",{children:n.map((e=>(0,Le.jsxs)("li",{children:[(0,Le.jsx)("strong",{children:e.type})," \u2013 ",e.status]},e.id)))})]})}function cw(e){let{children:t,role:n}=e;const[r,o]=(0,i.useState)(null),[a,s]=(0,i.useState)(null),[l,c]=(0,i.useState)(!0);return(0,i.useEffect)((()=>{const e=function(e,t,n,r){return dt(e).onAuthStateChanged(t,n,r)}(Ub,(async e=>{if(e){var t;o(e);const n=null===(t=(await cy(gv(Gb,"users",e.uid))).data())||void 0===t?void 0:t.role;s(n)}c(!1)}));return()=>e()}),[]),l?(0,Le.jsx)("p",{children:"Loading..."}):r?n&&a!==n?(0,Le.jsx)(ye,{to:"/"}):t:(0,Le.jsx)(ye,{to:"/login"})}function uw(){const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[o,a]=(0,i.useState)(""),[s,l]=(0,i.useState)("designer"),[c,u]=(0,i.useState)(""),[d,h]=(0,i.useState)(!1),f=ne();return(0,Le.jsx)("div",{className:"row justify-content-center",children:(0,Le.jsx)("div",{className:"col-md-6",children:(0,Le.jsx)("div",{className:"card shadow",children:(0,Le.jsxs)("div",{className:"card-body p-5",children:[(0,Le.jsx)("h2",{className:"text-center mb-4",children:"Sign Up"}),c&&(0,Le.jsx)("div",{className:"alert alert-danger",children:c}),(0,Le.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),h(!0),u(""),n!==o)return u("Passwords do not match"),void h(!1);try{const t=await async function(e,t,n){var r;const i=Yr(e),o={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let a;if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await qr(i,o,"signUpPassword");a=yi(i,e)}else a=yi(i,o).catch((async e=>{if("auth/missing-recaptcha-token"===e.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const e=await qr(i,o,"signUpPassword");return yi(i,e)}return Promise.reject(e)}));const s=await a.catch((e=>Promise.reject(e))),l=await bi._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(l.user),l}(Ub,e,n),r=t.user;await hy(gv(Gb,"users",r.uid),{email:r.email,role:s,createdAt:new Date}),f("designer"===s?"/dashboard":"/client-dashboard")}catch(r){u(r.message.includes("email-already-in-use")?"An account with this email already exists":"Failed to create account. Please try again."),console.error(r)}finally{h(!1)}},children:[(0,Le.jsxs)("div",{className:"mb-3",children:[(0,Le.jsx)("label",{className:"form-label",children:"Email"}),(0,Le.jsx)("input",{type:"email",className:"form-control",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,Le.jsxs)("div",{className:"mb-3",children:[(0,Le.jsx)("label",{className:"form-label",children:"Password"}),(0,Le.jsx)("input",{type:"password",className:"form-control",value:n,onChange:e=>r(e.target.value),required:!0})]}),(0,Le.jsxs)("div",{className:"mb-3",children:[(0,Le.jsx)("label",{className:"form-label",children:"Confirm Password"}),(0,Le.jsx)("input",{type:"password",className:"form-control",value:o,onChange:e=>a(e.target.value),required:!0})]}),(0,Le.jsxs)("div",{className:"mb-4",children:[(0,Le.jsx)("label",{className:"form-label",children:"I am a..."}),(0,Le.jsxs)("select",{className:"form-select",value:s,onChange:e=>l(e.target.value),children:[(0,Le.jsx)("option",{value:"designer",children:"Designer"}),(0,Le.jsx)("option",{value:"client",children:"Client"})]})]}),(0,Le.jsx)("button",{type:"submit",className:"btn btn-primary w-100",disabled:d,children:d?"Creating Account...":"Sign Up"})]}),(0,Le.jsxs)("div",{className:"text-center mt-3",children:["Already have an account? ",(0,Le.jsx)(Oe,{to:"/login",children:"Log In"})]})]})})})})}function dw(e){let{isOpen:t,onClose:n}=e;const[r,o]=(0,i.useState)(""),[a,s]=(0,i.useState)(""),[l,c]=(0,i.useState)(""),[u,d]=(0,i.useState)(!1);return t?(0,Le.jsx)("div",{className:"modal show d-block",tabIndex:"-1",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,Le.jsx)("div",{className:"modal-dialog",children:(0,Le.jsxs)("div",{className:"modal-content",children:[(0,Le.jsxs)("div",{className:"modal-header",children:[(0,Le.jsx)("h5",{className:"modal-title",children:"Reset Password"}),(0,Le.jsx)("button",{type:"button",className:"btn-close",onClick:n,"aria-label":"Close"})]}),(0,Le.jsxs)("div",{className:"modal-body",children:[a&&(0,Le.jsx)("div",{className:"alert alert-success",children:a}),l&&(0,Le.jsx)("div",{className:"alert alert-danger",children:l}),(0,Le.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),d(!0),s(""),c("");try{await async function(e,t,n){var r;const i=Yr(e),o={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await qr(i,o,"getOobCode",!0);n&&Di(i,e,n),await ii(i,e)}else n&&Di(i,o,n),await ii(i,o).catch((async e=>{if("auth/missing-recaptcha-token"!==e.code)return Promise.reject(e);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const e=await qr(i,o,"getOobCode",!0);n&&Di(i,e,n),await ii(i,e)}}))}(Ub,r),s("Password reset email sent! Please check your inbox."),o("")}catch(t){c("Failed to reset password. Please check your email address."),console.error(t)}finally{d(!1)}},children:[(0,Le.jsxs)("div",{className:"mb-3",children:[(0,Le.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email address"}),(0,Le.jsx)("input",{type:"email",className:"form-control",id:"email",value:r,onChange:e=>o(e.target.value),placeholder:"Enter your email",required:!0})]}),(0,Le.jsxs)("div",{className:"modal-footer",children:[(0,Le.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:n,children:"Close"}),(0,Le.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"Sending...":"Send Reset Link"})]})]})]})]})})}):null}function hw(){const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[o,a]=(0,i.useState)(""),[s,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!1),d=ne();return(0,Le.jsxs)("div",{className:"dashboard-container login-page",children:[(0,Le.jsx)("div",{className:"row justify-content-center",children:(0,Le.jsx)("div",{className:"col-md-6",children:(0,Le.jsx)("div",{className:"card shadow",children:(0,Le.jsxs)("div",{className:"card-body p-5",children:[(0,Le.jsx)("h2",{className:"text-center mb-4",children:"Log In"}),o&&(0,Le.jsx)("div",{className:"alert alert-danger",children:o}),(0,Le.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),l(!0),a("");try{await function(e,t,n){return Ci(dt(e),di.credential(t,n))}(Ub,e,n),d("/dashboard")}catch(r){a("Failed to sign in. Please check your credentials."),console.error(r)}finally{l(!1)}},children:[(0,Le.jsxs)("div",{className:"mb-3",children:[(0,Le.jsx)("label",{className:"form-label",children:"Email"}),(0,Le.jsx)("input",{type:"email",className:"form-control",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,Le.jsxs)("div",{className:"mb-3",children:[(0,Le.jsx)("label",{className:"form-label",children:"Password"}),(0,Le.jsx)("input",{type:"password",className:"form-control",value:n,onChange:e=>r(e.target.value),required:!0})]}),(0,Le.jsx)("button",{type:"submit",className:"btn btn-primary w-100",disabled:s,children:s?"Logging in...":"Log In"})]}),(0,Le.jsx)("div",{className:"text-center mt-3",children:(0,Le.jsx)("button",{className:"btn btn-link",onClick:()=>u(!0),children:"Forgot Password?"})}),(0,Le.jsxs)("div",{className:"text-center mt-3",children:["Need an account? ",(0,Le.jsx)(Oe,{to:"/signup",children:"Sign Up"})]})]})})})}),(0,Le.jsx)(dw,{isOpen:c,onClose:()=>u(!1)})]})}function fw(e,t){return fw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fw(e,t)}function pw(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,fw(e,t)}function gw(){return gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gw.apply(null,arguments)}function mw(e){return mw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mw(e)}function vw(e){var t=function(e,t){if("object"!=mw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=mw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==mw(t)?t:t+""}function yw(e,t,n){return(t=vw(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ww(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bw(Object(n),!0).forEach((function(t){yw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Aw(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Ew="function"===typeof Symbol&&Symbol.observable||"@@observable",xw=function(){return Math.random().toString(36).substring(7).split("").join(".")},Iw={INIT:"@@redux/INIT"+xw(),REPLACE:"@@redux/REPLACE"+xw(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+xw()}};function Sw(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Cw(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Aw(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Aw(1));return n(Cw)(e,t)}if("function"!==typeof e)throw new Error(Aw(2));var i=e,o=t,a=[],s=a,l=!1;function c(){s===a&&(s=a.slice())}function u(){if(l)throw new Error(Aw(3));return o}function d(e){if("function"!==typeof e)throw new Error(Aw(4));if(l)throw new Error(Aw(5));var t=!0;return c(),s.push(e),function(){if(t){if(l)throw new Error(Aw(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),a=null}}}function h(e){if(!Sw(e))throw new Error(Aw(7));if("undefined"===typeof e.type)throw new Error(Aw(8));if(l)throw new Error(Aw(9));try{l=!0,o=i(o,e)}finally{l=!1}for(var t=a=s,n=0;n<t.length;n++){(0,t[n])()}return e}return h({type:Iw.INIT}),(r={dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Aw(10));i=e,h({type:Iw.REPLACE})}})[Ew]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(Aw(11));function n(){e.next&&e.next(u())}return n(),{unsubscribe:t(n)}}})[Ew]=function(){return this},e},r}function Dw(e,t){return function(){return t(e.apply(this,arguments))}}function Nw(e,t){if("function"===typeof e)return Dw(e,t);if("object"!==typeof e||null===e)throw new Error(Aw(16));var n={};for(var r in e){var i=e[r];"function"===typeof i&&(n[r]=Dw(i,t))}return n}function Tw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var kw=i.createContext(null);var Ow=function(e){e()},Pw=function(){return Ow};var Rw={notify:function(){},get:function(){return[]}};function _w(e,t){var n,r=Rw;function i(){a.onStateChange&&a.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=Pw(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var a={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=Rw)},getListeners:function(){return r}};return a}var Lw="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?i.useLayoutEffect:i.useEffect;const Mw=function(e){var t=e.store,n=e.context,r=e.children,o=(0,i.useMemo)((function(){var e=_w(t);return{store:t,subscription:e}}),[t]),a=(0,i.useMemo)((function(){return t.getState()}),[t]);Lw((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),a!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[o,a]);var s=n||kw;return i.createElement(s.Provider,{value:o},r)};function jw(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}var Bw=n(219),Fw=n.n(Bw),Uw=n(86),Gw=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],zw=["reactReduxForwardedRef"],Ww=[],Vw=[null,null];function Hw(e,t){var n=e[1];return[t.payload,n+1]}function qw(e,t,n){Lw((function(){return e.apply(void 0,t)}),n)}function Qw(e,t,n,r,i,o,a){e.current=r,t.current=i,n.current=!1,o.current&&(o.current=null,a())}function Kw(e,t,n,r,i,o,a,s,l,c){if(e){var u=!1,d=null,h=function(){if(!u){var e,n,h=t.getState();try{e=r(h,i.current)}catch(YP){n=YP,d=YP}n||(d=null),e===o.current?a.current||l():(o.current=e,s.current=e,a.current=!0,c({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=h,n.trySubscribe(),h();return function(){if(u=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}}var Yw=function(){return[null,0]};function Jw(e,t){void 0===t&&(t={});var n=t,r=n.getDisplayName,o=void 0===r?function(e){return"ConnectAdvanced("+e+")"}:r,a=n.methodName,s=void 0===a?"connectAdvanced":a,l=n.renderCountProp,c=void 0===l?void 0:l,u=n.shouldHandleStateChanges,d=void 0===u||u,h=n.storeKey,f=void 0===h?"store":h,p=(n.withRef,n.forwardRef),g=void 0!==p&&p,m=n.context,v=void 0===m?kw:m,y=jw(n,Gw),b=v;return function(t){var n=t.displayName||t.name||"Component",r=o(n),a=gw({},y,{getDisplayName:o,methodName:s,renderCountProp:c,shouldHandleStateChanges:d,storeKey:f,displayName:r,wrappedComponentName:n,WrappedComponent:t}),l=y.pure;var u=l?i.useMemo:function(e){return e()};function h(n){var r=(0,i.useMemo)((function(){var e=n.reactReduxForwardedRef,t=jw(n,zw);return[n.context,e,t]}),[n]),o=r[0],s=r[1],l=r[2],c=(0,i.useMemo)((function(){return o&&o.Consumer&&(0,Uw.isContextConsumer)(i.createElement(o.Consumer,null))?o:b}),[o,b]),h=(0,i.useContext)(c),f=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(h)&&Boolean(h.store);var p=f?n.store:h.store,g=(0,i.useMemo)((function(){return function(t){return e(t.dispatch,a)}(p)}),[p]),m=(0,i.useMemo)((function(){if(!d)return Vw;var e=_w(p,f?null:h.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[p,f,h]),v=m[0],y=m[1],w=(0,i.useMemo)((function(){return f?h:gw({},h,{subscription:v})}),[f,h,v]),A=(0,i.useReducer)(Hw,Ww,Yw),E=A[0][0],x=A[1];if(E&&E.error)throw E.error;var I=(0,i.useRef)(),S=(0,i.useRef)(l),C=(0,i.useRef)(),D=(0,i.useRef)(!1),N=u((function(){return C.current&&l===S.current?C.current:g(p.getState(),l)}),[p,E,l]);qw(Qw,[S,I,D,l,N,C,y]),qw(Kw,[d,p,v,g,S,I,D,C,y,x],[p,v,g]);var T=(0,i.useMemo)((function(){return i.createElement(t,gw({},N,{ref:s}))}),[s,t,N]);return(0,i.useMemo)((function(){return d?i.createElement(c.Provider,{value:w},T):T}),[c,T,w])}var p=l?i.memo(h):h;if(p.WrappedComponent=t,p.displayName=h.displayName=r,g){var m=i.forwardRef((function(e,t){return i.createElement(p,gw({},e,{reactReduxForwardedRef:t}))}));return m.displayName=r,m.WrappedComponent=t,Fw()(m,t)}return Fw()(p,t)}}function Xw(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function $w(e,t){if(Xw(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!Xw(e[n[i]],t[n[i]]))return!1;return!0}function Zw(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function eA(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function tA(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=eA(e);var i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=eA(i),i=r(t,n)),i},r}}const nA=[function(e){return"function"===typeof e?tA(e):void 0},function(e){return e?void 0:Zw((function(e){return{dispatch:e}}))},function(e){return e&&"object"===typeof e?Zw((function(t){return function(e,t){var n={},r=function(r){var i=e[r];"function"===typeof i&&(n[r]=function(){return t(i.apply(void 0,arguments))})};for(var i in e)r(i);return n}(e,t)})):void 0}];const rA=[function(e){return"function"===typeof e?tA(e):void 0},function(e){return e?void 0:Zw((function(){return{}}))}];function iA(e,t,n){return gw({},n,e,t)}const oA=[function(e){return"function"===typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,o=n.areMergedPropsEqual,a=!1;return function(t,n,s){var l=e(t,n,s);return a?i&&o(l,r)||(r=l):(a=!0,r=l),r}}}(e):void 0},function(e){return e?void 0:function(){return iA}}];var aA=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function sA(e,t,n,r){return function(i,o){return n(e(i,o),t(r,o),o)}}function lA(e,t,n,r,i){var o,a,s,l,c,u=i.areStatesEqual,d=i.areOwnPropsEqual,h=i.areStatePropsEqual,f=!1;function p(i,f){var p=!d(f,a),g=!u(i,o,f,a);return o=i,a=f,p&&g?(s=e(o,a),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a)):p?(e.dependsOnOwnProps&&(s=e(o,a)),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a)):g?function(){var t=e(o,a),r=!h(t,s);return s=t,r&&(c=n(s,l,a)),c}():c}return function(i,u){return f?p(i,u):(s=e(o=i,a=u),l=t(r,a),c=n(s,l,a),f=!0,c)}}function cA(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=jw(t,aA),a=n(e,o),s=r(e,o),l=i(e,o);return(o.pure?lA:sA)(a,s,l,e,o)}var uA=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function dA(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function hA(e,t){return e===t}function fA(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?Jw:n,i=t.mapStateToPropsFactories,o=void 0===i?rA:i,a=t.mapDispatchToPropsFactories,s=void 0===a?nA:a,l=t.mergePropsFactories,c=void 0===l?oA:l,u=t.selectorFactory,d=void 0===u?cA:u;return function(e,t,n,i){void 0===i&&(i={});var a=i,l=a.pure,u=void 0===l||l,h=a.areStatesEqual,f=void 0===h?hA:h,p=a.areOwnPropsEqual,g=void 0===p?$w:p,m=a.areStatePropsEqual,v=void 0===m?$w:m,y=a.areMergedPropsEqual,b=void 0===y?$w:y,w=jw(a,uA),A=dA(e,o,"mapStateToProps"),E=dA(t,s,"mapDispatchToProps"),x=dA(n,c,"mergeProps");return r(d,gw({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:A,initMapDispatchToProps:E,initMergeProps:x,pure:u,areStatesEqual:f,areOwnPropsEqual:g,areStatePropsEqual:v,areMergedPropsEqual:b},w))}}const pA=fA();var gA;function mA(e,t){var n=(0,i.useState)((function(){return{inputs:t,result:e()}}))[0],r=(0,i.useRef)(!0),o=(0,i.useRef)(n),a=r.current||Boolean(t&&o.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,o.current.inputs))?o.current:{inputs:t,result:e()};return(0,i.useEffect)((function(){r.current=!1,o.current=a}),[a]),a.result}gA=s.unstable_batchedUpdates,Ow=gA;var vA=mA,yA=function(e,t){return mA((function(){return e}),t)},bA="Invariant failed";var wA=function(e){var t=e.top,n=e.right,r=e.bottom,i=e.left;return{top:t,right:n,bottom:r,left:i,width:n-i,height:r-t,x:i,y:t,center:{x:(n+i)/2,y:(r+t)/2}}},AA=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},EA=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},xA={top:0,right:0,bottom:0,left:0},IA=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?xA:n,i=e.border,o=void 0===i?xA:i,a=e.padding,s=void 0===a?xA:a,l=wA(AA(t,r)),c=wA(EA(t,o)),u=wA(EA(c,s));return{marginBox:l,borderBox:wA(t),paddingBox:c,contentBox:u,margin:r,border:o,padding:s}},SA=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&function(e){if(!e)throw new Error(bA)}(!1),n},CA=function(e,t){var n,r,i=e.borderBox,o=e.border,a=e.margin,s=e.padding,l=(r=t,{top:(n=i).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return IA({borderBox:l,border:o,margin:a,padding:s})},DA=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),CA(e,t)},NA=function(e,t){var n={top:SA(t.marginTop),right:SA(t.marginRight),bottom:SA(t.marginBottom),left:SA(t.marginLeft)},r={top:SA(t.paddingTop),right:SA(t.paddingRight),bottom:SA(t.paddingBottom),left:SA(t.paddingLeft)},i={top:SA(t.borderTopWidth),right:SA(t.borderRightWidth),bottom:SA(t.borderBottomWidth),left:SA(t.borderLeftWidth)};return IA({borderBox:e,margin:n,padding:r,border:i})},TA=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return NA(t,n)},kA=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function OA(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],i=t[n],!(r===i||kA(r)&&kA(i)))return!1;var r,i;return!0}const PA=function(e,t){var n;void 0===t&&(t=OA);var r,i=[],o=!1;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return o&&n===this&&t(a,i)||(r=e.apply(this,a),o=!0,n=this,i=a),r}};const RA=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];t=i,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};function _A(e,t){}_A.bind(null,"warn"),_A.bind(null,"error");function LA(){}function MA(e,t,n){var r=t.map((function(t){var r=function(e,t){return gw({},e,{},t)}(n,t.options);return e.addEventListener(t.eventName,t.fn,r),function(){e.removeEventListener(t.eventName,t.fn,r)}}));return function(){r.forEach((function(e){e()}))}}var jA="Invariant failed";function BA(e){this.message=e}function FA(e,t){if(!e)throw new BA(jA)}BA.prototype.toString=function(){return this.message};var UA=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).callbacks=null,t.unbind=LA,t.onWindowError=function(e){var n=t.getCallbacks();n.isDragging()&&n.tryAbort(),e.error instanceof BA&&e.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(e){t.callbacks=e},t}pw(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unbind=MA(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(e){if(!(e instanceof BA))throw e;this.setState({})},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(i.Component),GA=function(e){return e+1},zA=function(e,t){var n=e.droppableId===t.droppableId,r=GA(e.index),i=GA(t.index);return n?"\n      You have moved the item from position "+r+"\n      to position "+i+"\n    ":"\n    You have moved the item from position "+r+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+i+"\n  "},WA=function(e,t,n){return t.droppableId===n.droppableId?"\n      The item "+e+"\n      has been combined with "+n.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+n.draggableId+"\n      in list "+n.droppableId+"\n    "},VA=function(e){return"\n  The item has returned to its starting position\n  of "+GA(e.index)+"\n"},HA="\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",qA=function(e){return"\n  You have lifted an item in position "+GA(e.source.index)+"\n"},QA=function(e){var t=e.destination;if(t)return zA(e.source,t);var n=e.combine;return n?WA(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},KA=function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+VA(e.source)+"\n    ";var t=e.destination,n=e.combine;return t?"\n      You have dropped the item.\n      "+zA(e.source,t)+"\n    ":n?"\n      You have dropped the item.\n      "+WA(e.draggableId,e.source,n)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+VA(e.source)+"\n  "},YA={x:0,y:0},JA=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},XA=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},$A=function(e,t){return e.x===t.x&&e.y===t.y},ZA=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},eE=function(e,t,n){var r;return void 0===n&&(n=0),(r={})[e]=t,r["x"===e?"y":"x"]=n,r},tE=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},nE=function(e,t){return Math.min.apply(Math,t.map((function(t){return tE(e,t)})))},rE=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},iE=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},oE=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},aE=function(e,t){return t&&t.shouldClipSubject?function(e,t){var n=wA({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n}(t.pageMarginBox,e):wA(e)},sE=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,i=e.frame,o=function(e,t){return t?iE(e,t.scroll.diff.displacement):e}(t.marginBox,i),a=function(e,t,n){var r;return n&&n.increasedBy?gw({},e,((r={})[t.end]=e[t.end]+n.increasedBy[t.line],r)):e}(o,r,n);return{page:t,withPlaceholder:n,active:aE(a,i)}},lE=function(e,t){e.frame||FA(!1);var n=e.frame,r=XA(t,n.scroll.initial),i=ZA(r),o=gw({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}});return gw({},e,{frame:o,subject:sE({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o})})};function cE(e){return Object.values?Object.values(e):Object.keys(e).map((function(t){return e[t]}))}function uE(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function dE(e,t){if(e.find)return e.find(t);var n=uE(e,t);return-1!==n?e[n]:void 0}function hE(e){return Array.prototype.slice.call(e)}var fE=PA((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),pE=PA((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),gE=PA((function(e){return cE(e)})),mE=PA((function(e){return cE(e)})),vE=PA((function(e,t){var n=mE(t).filter((function(t){return e===t.descriptor.droppableId})).sort((function(e,t){return e.descriptor.index-t.descriptor.index}));return n}));function yE(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function bE(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var wE=PA((function(e,t){return t.filter((function(t){return t.descriptor.id!==e.descriptor.id}))})),AE=function(e,t){return e.descriptor.droppableId===t.descriptor.id},EE={point:YA,value:0},xE={invisible:{},visible:{},all:[]},IE={displaced:xE,displacedBy:EE,at:null},SE=function(e,t){return function(n){return e<=n&&n<=t}},CE=function(e){var t=SE(e.top,e.bottom),n=SE(e.left,e.right);return function(r){if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;var i=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(i&&o)return!0;var a=r.top<e.top&&r.bottom>e.bottom,s=r.left<e.left&&r.right>e.right;return!(!a||!s)||(a&&o||s&&i)}},DE=function(e){var t=SE(e.top,e.bottom),n=SE(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)}},NE={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},TE={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},kE=function(e){var t=e.target,n=e.destination,r=e.viewport,i=e.withDroppableDisplacement,o=e.isVisibleThroughFrameFn,a=i?function(e,t){var n=t.frame?t.frame.scroll.diff.displacement:YA;return iE(e,n)}(t,n):t;return function(e,t,n){return!!t.subject.active&&n(t.subject.active)(e)}(a,n,o)&&function(e,t,n){return n(t)(e)}(a,r,o)},OE=function(e){return kE(gw({},e,{isVisibleThroughFrameFn:CE}))},PE=function(e){return kE(gw({},e,{isVisibleThroughFrameFn:DE}))};function RE(e){var t=e.afterDragging,n=e.destination,r=e.displacedBy,i=e.viewport,o=e.forceShouldAnimate,a=e.last;return t.reduce((function(e,t){var s=function(e,t){var n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return wA(AA(n,r))}(t,r),l=t.descriptor.id;if(e.all.push(l),!OE({target:s,destination:n,viewport:i,withDroppableDisplacement:!0}))return e.invisible[t.descriptor.id]=!0,e;var c=function(e,t,n){if("boolean"===typeof n)return n;if(!t)return!0;var r=t.invisible,i=t.visible;if(r[e])return!1;var o=i[e];return!o||o.shouldAnimate}(l,a,o),u={draggableId:l,shouldAnimate:c};return e.visible[l]=u,e}),{all:[],visible:{},invisible:{}})}function _E(e){var t=e.insideDestination,n=e.inHomeList,r=e.displacedBy,i=e.destination,o=function(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(t,{inHomeList:n});return{displaced:xE,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:o}}}}function LE(e){var t=e.draggable,n=e.insideDestination,r=e.destination,i=e.viewport,o=e.displacedBy,a=e.last,s=e.index,l=e.forceShouldAnimate,c=AE(t,r);if(null==s)return _E({insideDestination:n,inHomeList:c,displacedBy:o,destination:r});var u=dE(n,(function(e){return e.descriptor.index===s}));if(!u)return _E({insideDestination:n,inHomeList:c,displacedBy:o,destination:r});var d=wE(t,n),h=n.indexOf(u);return{displaced:RE({afterDragging:d.slice(h),destination:r,displacedBy:o,last:a,viewport:i.frame,forceShouldAnimate:l}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function ME(e,t){return Boolean(t.effected[e])}var jE=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,i=e.draggables,o=e.destination,a=e.insideDestination,s=e.previousImpact,l=e.viewport,c=e.afterCritical,u=s.at;if(u||FA(!1),"REORDER"===u.type){var d=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.insideDestination,i=e.location;if(!r.length)return null;var o=i.index,a=t?o+1:o-1,s=r[0].descriptor.index,l=r[r.length-1].descriptor.index;return a<s||a>(n?l:l+1)?null:a}({isMovingForward:t,isInHomeList:n,location:u.destination,insideDestination:a});return null==d?null:LE({draggable:r,insideDestination:a,destination:o,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:d})}var h=function(e){var t=e.isMovingForward,n=e.destination,r=e.draggables,i=e.combine,o=e.afterCritical;if(!n.isCombineEnabled)return null;var a=i.draggableId,s=r[a].descriptor.index;return ME(a,o)?t?s:s-1:t?s+1:s}({isMovingForward:t,destination:o,displaced:s.displaced,draggables:i,combine:u.combine,afterCritical:c});return null==h?null:LE({draggable:r,insideDestination:a,destination:o,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:h})},BE=function(e){var t=e.afterCritical,n=e.impact,r=e.draggables,i=bE(n);i||FA(!1);var o=i.draggableId,a=r[o].page.borderBox.center,s=function(e){var t=e.displaced,n=e.afterCritical,r=e.combineWith,i=e.displacedBy,o=Boolean(t.visible[r]||t.invisible[r]);return ME(r,n)?o?YA:ZA(i.point):o?i.point:YA}({displaced:n.displaced,afterCritical:t,combineWith:o,displacedBy:n.displacedBy});return JA(a,s)},FE=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},UE=function(e,t,n){return t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2},GE=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return eE(t.line,n.marginBox[t.end]+FE(t,r),UE(t,n.marginBox,r))},zE=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return eE(t.line,n.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,r),UE(t,n.marginBox,r))},WE=function(e){var t=e.impact,n=e.draggable,r=e.draggables,i=e.droppable,o=e.afterCritical,a=vE(i.descriptor.id,r),s=n.page,l=i.axis;if(!a.length)return function(e){var t=e.axis,n=e.moveInto,r=e.isMoving;return eE(t.line,n.contentBox[t.start]+FE(t,r),UE(t,n.contentBox,r))}({axis:l,moveInto:i.page,isMoving:s});var c=t.displaced,u=t.displacedBy,d=c.all[0];if(d){var h=r[d];if(ME(d,o))return zE({axis:l,moveRelativeTo:h.page,isMoving:s});var f=CA(h.page,u.point);return zE({axis:l,moveRelativeTo:f,isMoving:s})}var p=a[a.length-1];if(p.descriptor.id===n.descriptor.id)return s.borderBox.center;if(ME(p.descriptor.id,o)){var g=CA(p.page,ZA(o.displacedBy.point));return GE({axis:l,moveRelativeTo:g,isMoving:s})}return GE({axis:l,moveRelativeTo:p.page,isMoving:s})},VE=function(e,t){var n=e.frame;return n?JA(t,n.scroll.diff.displacement):t},HE=function(e){var t=function(e){var t=e.impact,n=e.draggable,r=e.droppable,i=e.draggables,o=e.afterCritical,a=n.page.borderBox.center,s=t.at;return r&&s?"REORDER"===s.type?WE({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:o}):BE({impact:t,draggables:i,afterCritical:o}):a}(e),n=e.droppable;return n?VE(n,t):t},qE=function(e,t){var n=XA(t,e.scroll.initial),r=ZA(n);return{frame:wA({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function QE(e,t){return e.map((function(e){return t[e]}))}var KE=function(e){var t=e.pageBorderBoxCenter,n=e.draggable,r=function(e,t){return JA(e.scroll.diff.displacement,t)}(e.viewport,t),i=XA(r,n.page.borderBox.center);return JA(n.client.borderBox.center,i)},YE=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,i=e.viewport,o=e.withDroppableDisplacement,a=e.onlyOnMainAxis,s=void 0!==a&&a,l=XA(r,t.page.borderBox.center),c={target:iE(t.page.borderBox,l),destination:n,withDroppableDisplacement:o,viewport:i};return s?function(e){return kE(gw({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var n=SE(e.top,e.bottom),r=SE(e.left,e.right);return function(e){return t===NE?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)}})}));var t}(c):PE(c)},JE=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.draggables,o=e.previousImpact,a=e.viewport,s=e.previousPageBorderBoxCenter,l=e.previousClientSelection,c=e.afterCritical;if(!r.isEnabled)return null;var u=vE(r.descriptor.id,i),d=AE(n,r),h=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.insideDestination,o=e.previousImpact;if(!r.isCombineEnabled)return null;if(!yE(o))return null;function a(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:r.descriptor.id}};return gw({},o,{at:t})}var s=o.displaced.all,l=s.length?s[0]:null;if(t)return l?a(l):null;var c=wE(n,i);if(!l)return c.length?a(c[c.length-1].descriptor.id):null;var u=uE(c,(function(e){return e.descriptor.id===l}));-1===u&&FA(!1);var d=u-1;return d<0?null:a(c[d].descriptor.id)}({isMovingForward:t,draggable:n,destination:r,insideDestination:u,previousImpact:o})||jE({isMovingForward:t,isInHomeList:d,draggable:n,draggables:i,destination:r,insideDestination:u,previousImpact:o,viewport:a,afterCritical:c});if(!h)return null;var f=HE({impact:h,draggable:n,droppable:r,draggables:i,afterCritical:c});if(YE({draggable:n,destination:r,newPageBorderBoxCenter:f,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:KE({pageBorderBoxCenter:f,draggable:n,viewport:a}),impact:h,scrollJumpRequest:null};var p=XA(f,s),g=function(e){var t=e.impact,n=e.viewport,r=e.destination,i=e.draggables,o=e.maxScrollChange,a=qE(n,JA(n.scroll.current,o)),s=r.frame?lE(r,JA(r.frame.scroll.current,o)):r,l=t.displaced,c=RE({afterDragging:QE(l.all,i),destination:r,displacedBy:t.displacedBy,viewport:a.frame,last:l,forceShouldAnimate:!1}),u=RE({afterDragging:QE(l.all,i),destination:s,displacedBy:t.displacedBy,viewport:n.frame,last:l,forceShouldAnimate:!1}),d={},h={},f=[l,c,u];return l.all.forEach((function(e){var t=function(e,t){for(var n=0;n<t.length;n++){var r=t[n].visible[e];if(r)return r}return null}(e,f);t?h[e]=t:d[e]=!0})),gw({},t,{displaced:{all:l.all,invisible:d,visible:h}})}({impact:h,viewport:a,destination:r,draggables:i,maxScrollChange:p});return{clientSelection:l,impact:g,scrollJumpRequest:p}},XE=function(e){var t=e.subject.active;return t||FA(!1),t},$E=function(e,t){var n=e.page.borderBox.center;return ME(e.descriptor.id,t)?XA(n,t.displacedBy.point):n},ZE=function(e,t){var n=e.page.borderBox;return ME(e.descriptor.id,t)?iE(n,ZA(t.displacedBy.point)):n},ex=PA((function(e,t){var n=t[e.line];return{value:n,point:eE(e.line,n)}})),tx=function(e,t){return gw({},e,{scroll:gw({},e.scroll,{max:t})})},nx=function(e,t,n){var r=e.frame;AE(t,e)&&FA(!1),e.subject.withPlaceholder&&FA(!1);var i=ex(e.axis,t.displaceBy).point,o=function(e,t,n){var r=e.axis;if("virtual"===e.descriptor.mode)return eE(r.line,t[r.line]);var i=e.subject.page.contentBox[r.size],o=vE(e.descriptor.id,n).reduce((function(e,t){return e+t.client.marginBox[r.size]}),0)+t[r.line]-i;return o<=0?null:eE(r.line,o)}(e,i,n),a={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r)return gw({},e,{subject:sE({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame})});var s=o?JA(r.scroll.max,o):r.scroll.max,l=tx(r,s);return gw({},e,{subject:sE({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:l}),frame:l})},rx=function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,i=e.isOver,o=e.draggables,a=e.droppables,s=e.viewport,l=e.afterCritical,c=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,i=e.droppables,o=e.viewport,a=r.subject.active;if(!a)return null;var s=r.axis,l=SE(a[s.start],a[s.end]),c=gE(i).filter((function(e){return e!==r})).filter((function(e){return e.isEnabled})).filter((function(e){return Boolean(e.subject.active)})).filter((function(e){return CE(o.frame)(XE(e))})).filter((function(e){var n=XE(e);return t?a[s.crossAxisEnd]<n[s.crossAxisEnd]:n[s.crossAxisStart]<a[s.crossAxisStart]})).filter((function(e){var t=XE(e),n=SE(t[s.start],t[s.end]);return l(t[s.start])||l(t[s.end])||n(a[s.start])||n(a[s.end])})).sort((function(e,n){var r=XE(e)[s.crossAxisStart],i=XE(n)[s.crossAxisStart];return t?r-i:i-r})).filter((function(e,t,n){return XE(e)[s.crossAxisStart]===XE(n[0])[s.crossAxisStart]}));if(!c.length)return null;if(1===c.length)return c[0];var u=c.filter((function(e){return SE(XE(e)[s.start],XE(e)[s.end])(n[s.line])}));return 1===u.length?u[0]:u.length>1?u.sort((function(e,t){return XE(e)[s.start]-XE(t)[s.start]}))[0]:c.sort((function(e,t){var r=nE(n,oE(XE(e))),i=nE(n,oE(XE(t)));return r!==i?r-i:XE(e)[s.start]-XE(t)[s.start]}))[0]}({isMovingForward:t,pageBorderBoxCenter:n,source:i,droppables:a,viewport:s});if(!c)return null;var u=vE(c.descriptor.id,o),d=function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,i=e.insideDestination,o=e.afterCritical,a=i.filter((function(e){return PE({target:ZE(e,o),destination:r,viewport:n.frame,withDroppableDisplacement:!0})})).sort((function(e,n){var i=tE(t,VE(r,$E(e,o))),a=tE(t,VE(r,$E(n,o)));return i<a?-1:a<i?1:e.descriptor.index-n.descriptor.index}));return a[0]||null}({pageBorderBoxCenter:n,viewport:s,destination:c,insideDestination:u,afterCritical:l}),h=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,i=e.draggable,o=e.draggables,a=e.destination,s=e.viewport,l=e.afterCritical;if(!n){if(r.length)return null;var c={displaced:xE,displacedBy:EE,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},u=HE({impact:c,draggable:i,droppable:a,draggables:o,afterCritical:l}),d=AE(i,a)?a:nx(a,i,o);return YE({draggable:i,destination:d,newPageBorderBoxCenter:u,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?c:null}var h=Boolean(t[a.axis.line]<=n.page.borderBox.center[a.axis.line]),f=function(){var e=n.descriptor.index;return n.descriptor.id===i.descriptor.id||h?e:e+1}(),p=ex(a.axis,i.displaceBy);return LE({draggable:i,insideDestination:r,destination:a,viewport:s,displacedBy:p,last:xE,index:f})}({previousPageBorderBoxCenter:n,destination:c,draggable:r,draggables:o,moveRelativeTo:d,insideDestination:u,viewport:s,afterCritical:l});if(!h)return null;var f=HE({impact:h,draggable:r,droppable:c,draggables:o,afterCritical:l});return{clientSelection:KE({pageBorderBoxCenter:f,draggable:r,viewport:s}),impact:h,scrollJumpRequest:null}},ix=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},ox=function(e){var t=e.state,n=e.type,r=function(e,t){var n=ix(e);return n?t[n]:null}(t.impact,t.dimensions.droppables),i=Boolean(r),o=t.dimensions.droppables[t.critical.droppable.id],a=r||o,s=a.axis.direction,l="vertical"===s&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===s&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(l&&!i)return null;var c="MOVE_DOWN"===n||"MOVE_RIGHT"===n,u=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,h=t.dimensions,f=h.draggables,p=h.droppables;return l?JE({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,destination:a,draggables:f,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):rx({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,isOver:a,draggables:f,droppables:p,viewport:t.viewport,afterCritical:t.afterCritical})};function ax(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function sx(e){var t=SE(e.top,e.bottom),n=SE(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}function lx(e){var t=e.pageBorderBox,n=e.draggable,r=e.droppables,i=gE(r).filter((function(e){if(!e.isEnabled)return!1;var n,r,i=e.subject.active;if(!i)return!1;if(r=i,!((n=t).left<r.right&&n.right>r.left&&n.top<r.bottom&&n.bottom>r.top))return!1;if(sx(i)(t.center))return!0;var o=e.axis,a=i.center[o.crossAxisLine],s=t[o.crossAxisStart],l=t[o.crossAxisEnd],c=SE(i[o.crossAxisStart],i[o.crossAxisEnd]),u=c(s),d=c(l);return!u&&!d||(u?s<a:l>a)}));return i.length?1===i.length?i[0].descriptor.id:function(e){var t=e.pageBorderBox,n=e.draggable,r=e.candidates,i=n.page.borderBox.center,o=r.map((function(e){var n=e.axis,r=eE(e.axis.line,t.center[n.line],e.page.borderBox.center[n.crossAxisLine]);return{id:e.descriptor.id,distance:tE(i,r)}})).sort((function(e,t){return t.distance-e.distance}));return o[0]?o[0].id:null}({pageBorderBox:t,draggable:n,candidates:i}):null}var cx=function(e,t){return wA(iE(e,t))};function ux(e){var t=e.displaced,n=e.id;return Boolean(t.visible[n]||t.invisible[n])}var dx=function(e){var t=e.pageOffset,n=e.draggable,r=e.draggables,i=e.droppables,o=e.previousImpact,a=e.viewport,s=e.afterCritical,l=cx(n.page.borderBox,t),c=lx({pageBorderBox:l,draggable:n,droppables:i});if(!c)return IE;var u=i[c],d=vE(u.descriptor.id,r),h=function(e,t){var n=e.frame;return n?cx(t,n.scroll.diff.value):t}(u,l);return function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,i=e.destination,o=e.insideDestination,a=e.afterCritical;if(!i.isCombineEnabled)return null;var s=i.axis,l=ex(i.axis,t.displaceBy),c=l.value,u=n[s.start],d=n[s.end],h=dE(wE(t,o),(function(e){var t=e.descriptor.id,n=e.page.borderBox,i=n[s.size]/4,o=ME(t,a),l=ux({displaced:r.displaced,id:t});return o?l?d>n[s.start]+i&&d<n[s.end]-i:u>n[s.start]-c+i&&u<n[s.end]-c-i:l?d>n[s.start]+c+i&&d<n[s.end]+c-i:u>n[s.start]+i&&u<n[s.end]-i}));return h?{displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:h.descriptor.id,droppableId:i.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:h,draggable:n,previousImpact:o,destination:u,insideDestination:d,afterCritical:s})||function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,r=e.destination,i=e.insideDestination,o=e.last,a=e.viewport,s=e.afterCritical,l=r.axis,c=ex(r.axis,n.displaceBy),u=c.value,d=t[l.start],h=t[l.end],f=dE(wE(n,i),(function(e){var t=e.descriptor.id,n=e.page.borderBox.center[l.line],r=ME(t,s),i=ux({displaced:o,id:t});return r?i?h<=n:d<n-u:i?h<=n+u:d<n})),p=function(e){var t=e.draggable,n=e.closest,r=e.inHomeList;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:f,inHomeList:AE(n,r)});return LE({draggable:n,insideDestination:i,destination:r,viewport:a,last:o,displacedBy:c,index:p})}({pageBorderBoxWithDroppableScroll:h,draggable:n,destination:u,insideDestination:d,last:o.displaced,viewport:a,afterCritical:s})},hx=function(e,t){var n;return gw({},e,((n={})[t.descriptor.id]=t,n))},fx=function(e){var t=e.previousImpact,n=e.impact,r=e.droppables,i=ix(t),o=ix(n);if(!i)return r;if(i===o)return r;var a=r[i];if(!a.subject.withPlaceholder)return r;var s=function(e){var t=e.subject.withPlaceholder;t||FA(!1);var n=e.frame;if(!n)return gw({},e,{subject:sE({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null})});var r=t.oldFrameMaxScroll;r||FA(!1);var i=tx(n,r);return gw({},e,{subject:sE({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null}),frame:i})}(a);return hx(r,s)},px=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,i=e.viewport,o=e.impact,a=e.scrollJumpRequest,s=i||t.viewport,l=r||t.dimensions,c=n||t.current.client.selection,u=XA(c,t.initial.client.selection),d={offset:u,selection:c,borderBoxCenter:JA(t.initial.client.borderBoxCenter,u)},h={selection:JA(d.selection,s.scroll.current),borderBoxCenter:JA(d.borderBoxCenter,s.scroll.current),offset:JA(d.offset,s.scroll.diff.value)},f={client:d,page:h};if("COLLECTING"===t.phase)return gw({phase:"COLLECTING"},t,{dimensions:l,viewport:s,current:f});var p=l.draggables[t.critical.draggable.id],g=o||dx({pageOffset:h.offset,draggable:p,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:s,afterCritical:t.afterCritical}),m=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,i=e.previousImpact,o=e.impact,a=fx({previousImpact:i,impact:o,droppables:r}),s=ix(o);if(!s)return a;var l=r[s];if(AE(t,l))return a;if(l.subject.withPlaceholder)return a;var c=nx(l,t,n);return hx(a,c)}({draggable:p,impact:g,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables});return gw({},t,{current:f,dimensions:{draggables:l.draggables,droppables:m},impact:g,viewport:s,scrollJumpRequest:a||null,forceShouldAnimate:!a&&null})};var gx=function(e){var t=e.impact,n=e.viewport,r=e.draggables,i=e.destination,o=e.forceShouldAnimate,a=t.displaced,s=function(e,t){return e.map((function(e){return t[e]}))}(a.all,r);return gw({},t,{displaced:RE({afterDragging:s,destination:i,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:o,last:a})})},mx=function(e){var t=e.impact,n=e.draggable,r=e.droppable,i=e.draggables,o=e.viewport,a=e.afterCritical,s=HE({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:a});return KE({pageBorderBoxCenter:s,draggable:n,viewport:o})},vx=function(e){var t=e.state,n=e.dimensions,r=e.viewport;"SNAP"!==t.movementMode&&FA(!1);var i=t.impact,o=r||t.viewport,a=n||t.dimensions,s=a.draggables,l=a.droppables,c=s[t.critical.draggable.id],u=ix(i);u||FA(!1);var d=l[u],h=gx({impact:i,viewport:o,destination:d,draggables:s}),f=mx({impact:h,draggable:c,droppable:d,draggables:s,viewport:o,afterCritical:t.afterCritical});return px({impact:h,clientSelection:f,state:t,dimensions:a,viewport:o})},yx=function(e){var t=e.draggable,n=e.home,r=e.draggables,i=e.viewport,o=ex(n.axis,t.displaceBy),a=vE(n.descriptor.id,r),s=a.indexOf(t);-1===s&&FA(!1);var l,c=a.slice(s+1),u=c.reduce((function(e,t){return e[t.descriptor.id]=!0,e}),{}),d={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:o,effected:u};return{impact:{displaced:RE({afterDragging:c,destination:n,displacedBy:o,last:null,viewport:i.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:(l=t.descriptor,{index:l.index,droppableId:l.droppableId})}},afterCritical:d}},bx=function(e){0},wx=function(e){0},Ax=function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,i=r.scroll.diff.value;return t.map((function(e){var t=e.descriptor.droppableId,o=function(e){var t=e.frame;return t||FA(!1),t}(n[t]),a=o.scroll.diff.value,s=function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,i=CA(t.client,n),o=DA(i,r);return gw({},t,{placeholder:gw({},t.placeholder,{client:i}),client:i,page:o})}({draggable:e,offset:JA(i,a),initialWindowScroll:r.scroll.initial});return s}))},Ex=function(e){return"SNAP"===e.movementMode},xx=function(e,t,n){var r=function(e,t){return{draggables:e.draggables,droppables:hx(e.droppables,t)}}(e.dimensions,t);return!Ex(e)||n?px({state:e,dimensions:r}):vx({state:e,dimensions:r})};function Ix(e){return e.isDragging&&"SNAP"===e.movementMode?gw({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var Sx={phase:"IDLE",completed:null,shouldFlush:!1},Cx=function(e,t){if(void 0===e&&(e=Sx),"FLUSH"===t.type)return gw({},Sx,{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&FA(!1);var n=t.payload,r=n.critical,i=n.clientSelection,o=n.viewport,a=n.dimensions,s=n.movementMode,l=a.draggables[r.draggable.id],c=a.droppables[r.droppable.id],u={selection:i,borderBoxCenter:l.client.borderBox.center,offset:YA},d={client:u,page:{selection:JA(u.selection,o.scroll.initial),borderBoxCenter:JA(u.selection,o.scroll.initial),offset:JA(u.selection,o.scroll.diff.value)}},h=gE(a.droppables).every((function(e){return!e.isFixedOnPage})),f=yx({draggable:l,home:c,draggables:a.draggables,viewport:o}),p=f.impact;return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:s,dimensions:a,initial:d,current:d,isWindowScrollAllowed:h,impact:p,afterCritical:f.afterCritical,onLiftImpact:p,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&FA(!1),gw({phase:"COLLECTING"},e,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&FA(!1),function(e){var t=e.state,n=e.published;bx();var r=n.modified.map((function(e){var n=t.dimensions.droppables[e.droppableId];return lE(n,e.scroll)})),i=gw({},t.dimensions.droppables,{},fE(r)),o=pE(Ax({additions:n.additions,updatedDroppables:i,viewport:t.viewport})),a=gw({},t.dimensions.draggables,{},o);n.removals.forEach((function(e){delete a[e]}));var s={droppables:i,draggables:a},l=ix(t.impact),c=l?s.droppables[l]:null,u=s.draggables[t.critical.draggable.id],d=s.droppables[t.critical.droppable.id],h=yx({draggable:u,home:d,draggables:a,viewport:t.viewport}),f=h.impact,p=h.afterCritical,g=c&&c.isCombineEnabled?t.impact:f,m=dx({pageOffset:t.current.page.offset,draggable:s.draggables[t.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:g,viewport:t.viewport,afterCritical:p});wx();var v=gw({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:m,onLiftImpact:f,dimensions:s,afterCritical:p,forceShouldAnimate:!1});return"COLLECTING"===t.phase?v:gw({phase:"DROP_PENDING"},v,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;ax(e)||FA(!1);var g=t.payload.client;return $A(g,e.current.client.selection)?e:px({state:e,clientSelection:g,impact:Ex(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return Ix(e);if("COLLECTING"===e.phase)return Ix(e);ax(e)||FA(!1);var m=t.payload,v=m.id,y=m.newScroll,b=e.dimensions.droppables[v];if(!b)return e;var w=lE(b,y);return xx(e,w,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;ax(e)||FA(!1);var A=t.payload,E=A.id,x=A.isEnabled,I=e.dimensions.droppables[E];I||FA(!1),I.isEnabled===x&&FA(!1);var S=gw({},I,{isEnabled:x});return xx(e,S,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;ax(e)||FA(!1);var C=t.payload,D=C.id,N=C.isCombineEnabled,T=e.dimensions.droppables[D];T||FA(!1),T.isCombineEnabled===N&&FA(!1);var k=gw({},T,{isCombineEnabled:N});return xx(e,k,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;ax(e)||FA(!1),e.isWindowScrollAllowed||FA(!1);var O=t.payload.newScroll;if($A(e.viewport.scroll.current,O))return Ix(e);var P=qE(e.viewport,O);return Ex(e)?vx({state:e,viewport:P}):px({state:e,viewport:P})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!ax(e))return e;var R=t.payload.maxScroll;if($A(R,e.viewport.scroll.max))return e;var _=gw({},e.viewport,{scroll:gw({},e.viewport.scroll,{max:R})});return gw({phase:"DRAGGING"},e,{viewport:_})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&FA(!1);var L=ox({state:e,type:t.type});return L?px({state:e,impact:L.impact,clientSelection:L.clientSelection,scrollJumpRequest:L.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var M=t.payload.reason;return"COLLECTING"!==e.phase&&FA(!1),gw({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:M})}if("DROP_ANIMATE"===t.type){var j=t.payload,B=j.completed,F=j.dropDuration,U=j.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&FA(!1),{phase:"DROP_ANIMATING",completed:B,dropDuration:F,newHomeClientOffset:U,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},Dx=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},Nx=function(){return{type:"COLLECTION_STARTING",payload:null}},Tx=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},kx=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},Ox=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},Px=function(e){return{type:"MOVE",payload:e}},Rx=function(){return{type:"MOVE_UP",payload:null}},_x=function(){return{type:"MOVE_DOWN",payload:null}},Lx=function(){return{type:"MOVE_RIGHT",payload:null}},Mx=function(){return{type:"MOVE_LEFT",payload:null}},jx=function(e){return{type:"DROP_COMPLETE",payload:e}},Bx=function(e){return{type:"DROP",payload:e}},Fx=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}};var Ux="cubic-bezier(.2,1,.1,1)",Gx={drop:0,combining:.7},zx={drop:.75},Wx=.2+"s "+"cubic-bezier(0.2, 0, 0, 1)",Vx={fluid:"opacity "+Wx,snap:"transform "+Wx+", opacity "+Wx,drop:function(e){var t=e+"s "+Ux;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+Wx,placeholder:"height "+Wx+", width "+Wx+", margin "+Wx},Hx=function(e){return $A(e,YA)?null:"translate("+e.x+"px, "+e.y+"px)"},qx=Hx,Qx=function(e,t){var n=Hx(e);return n?t?n+" scale("+zx.drop+")":n:null},Kx=.33,Yx=.55,Jx=Yx-Kx,Xx=function(e){var t=e.getState,n=e.dispatch;return function(e){return function(r){if("DROP"===r.type){var i=t(),o=r.payload.reason;if("COLLECTING"!==i.phase){if("IDLE"!==i.phase){"DROP_PENDING"===i.phase&&i.isWaiting&&FA(!1),"DRAGGING"!==i.phase&&"DROP_PENDING"!==i.phase&&FA(!1);var a=i.critical,s=i.dimensions,l=s.draggables[i.critical.draggable.id],c=function(e){var t=e.draggables,n=e.reason,r=e.lastImpact,i=e.home,o=e.viewport,a=e.onLiftImpact;return r.at&&"DROP"===n?"REORDER"===r.at.type?{impact:r,didDropInsideDroppable:!0}:{impact:gw({},r,{displaced:xE}),didDropInsideDroppable:!0}:{impact:gx({draggables:t,impact:a,destination:i,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),u=c.impact,d=c.didDropInsideDroppable,h=d?yE(u):null,f=d?bE(u):null,p={index:a.draggable.index,droppableId:a.droppable.id},g={draggableId:l.descriptor.id,type:l.descriptor.type,source:p,reason:o,mode:i.movementMode,destination:h,combine:f},m=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,i=e.viewport,o=e.afterCritical,a=r.draggables,s=r.droppables,l=ix(t),c=l?s[l]:null,u=s[n.descriptor.droppableId],d=mx({impact:t,draggable:n,draggables:a,afterCritical:o,droppable:c||u,viewport:i});return XA(d,n.client.borderBox.center)}({impact:u,draggable:l,dimensions:s,viewport:i.viewport,afterCritical:i.afterCritical}),v={critical:i.critical,afterCritical:i.afterCritical,result:g,impact:u};if(!$A(i.current.client.offset,m)||Boolean(g.combine)){var y=function(e){var t=e.current,n=e.destination,r=e.reason,i=tE(t,n);if(i<=0)return Kx;if(i>=1500)return Yx;var o=Kx+Jx*(i/1500);return Number(("CANCEL"===r?.6*o:o).toFixed(2))}({current:i.current.client.offset,destination:m,reason:o});n(function(e){return{type:"DROP_ANIMATE",payload:e}}({newHomeClientOffset:m,dropDuration:y,completed:v}))}else n(jx({completed:v}))}}else n(function(e){return{type:"DROP_PENDING",payload:e}}({reason:o}))}else e(r)}}},$x=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function Zx(e){var t=e.onWindowScroll;var n=RA((function(){t($x())})),r=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(t){t.target!==window&&t.target!==window.document||e()}}}(n),i=LA;function o(){return i!==LA}return{start:function(){o()&&FA(!1),i=MA(window,[r])},stop:function(){o()||FA(!1),n.cancel(),i(),i=LA},isActive:o}}var eI=function(e){var t=Zx({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(n){t.isActive()||"INITIAL_PUBLISH"!==n.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(n)&&t.stop(),e(n)}}},tI=function(){var e=[];return{add:function(t){var n=setTimeout((function(){return function(t){var n=uE(e,(function(e){return e.timerId===t}));-1===n&&FA(!1),e.splice(n,1)[0].callback()}(n)})),r={timerId:n,callback:t};e.push(r)},flush:function(){if(e.length){var t=[].concat(e);e.length=0,t.forEach((function(e){clearTimeout(e.timerId),e.callback()}))}}}},nI=function(e,t){bx(),t(),wx()},rI=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},iI=function(e,t,n,r){if(e){var i=function(e){var t=!1,n=!1,r=setTimeout((function(){n=!0})),i=function(i){t||n||(t=!0,e(i),clearTimeout(r))};return i.wasCalled=function(){return t},i}(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}else n(r(t))},oI=function(e,t){var n=function(e,t){var n=tI(),r=null,i=function(n){r||FA(!1),r=null,nI(0,(function(){return iI(e().onDragEnd,n,t,KA)}))};return{beforeCapture:function(t,n){r&&FA(!1),nI(0,(function(){var r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})}))},beforeStart:function(t,n){r&&FA(!1),nI(0,(function(){var r=e().onBeforeDragStart;r&&r(rI(t,n))}))},start:function(i,o){r&&FA(!1);var a=rI(i,o);r={mode:o,lastCritical:i,lastLocation:a.source,lastCombine:null},n.add((function(){nI(0,(function(){return iI(e().onDragStart,a,t,qA)}))}))},update:function(i,o){var a=yE(o),s=bE(o);r||FA(!1);var l=!function(e,t){if(e===t)return!0;var n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r}(i,r.lastCritical);l&&(r.lastCritical=i);var c,u,d=(u=a,!(null==(c=r.lastLocation)&&null==u||null!=c&&null!=u&&c.droppableId===u.droppableId&&c.index===u.index));d&&(r.lastLocation=a);var h=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId}(r.lastCombine,s);if(h&&(r.lastCombine=s),l||d||h){var f=gw({},rI(i,r.mode),{combine:s,destination:a});n.add((function(){nI(0,(function(){return iI(e().onDragUpdate,f,t,QA)}))}))}},flush:function(){r||FA(!1),n.flush()},drop:i,abort:function(){if(r){var e=gw({},rI(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});i(e)}}}}(e,t);return function(e){return function(t){return function(r){if("BEFORE_INITIAL_CAPTURE"!==r.type){if("INITIAL_PUBLISH"===r.type){var i=r.payload.critical;return n.beforeStart(i,r.payload.movementMode),t(r),void n.start(i,r.payload.movementMode)}if("DROP_COMPLETE"===r.type){var o=r.payload.completed.result;return n.flush(),t(r),void n.drop(o)}if(t(r),"FLUSH"!==r.type){var a=e.getState();"DRAGGING"===a.phase&&n.update(a.critical,a.impact)}else n.abort()}else n.beforeCapture(r.payload.draggableId,r.payload.movementMode)}}}},aI=function(e){return function(t){return function(n){if("DROP_ANIMATION_FINISHED"===n.type){var r=e.getState();"DROP_ANIMATING"!==r.phase&&FA(!1),e.dispatch(jx({completed:r.completed}))}else t(n)}}},sI=function(e){var t=null,n=null;return function(r){return function(i){if("FLUSH"!==i.type&&"DROP_COMPLETE"!==i.type&&"DROP_ANIMATION_FINISHED"!==i.type||(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(i),"DROP_ANIMATE"===i.type){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame((function(){n=null,t=MA(window,[o])}))}}}},lI=function(e){return function(t){return function(n){if(t(n),"PUBLISH_WHILE_DRAGGING"===n.type){var r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(Bx({reason:r.reason})))}}}},cI=Tw,uI=function(e){var t,n=e.dimensionMarshal,r=e.focusMarshal,i=e.styleMarshal,o=e.getResponders,a=e.announce,s=e.autoScroller;return Cw(Cx,cI(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(Aw(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return r=Tw.apply(void 0,o)(n.dispatch),ww(ww({},n),{},{dispatch:r})}}}((t=i,function(){return function(e){return function(n){"INITIAL_PUBLISH"===n.type&&t.dragging(),"DROP_ANIMATE"===n.type&&t.dropping(n.payload.completed.result.reason),"FLUSH"!==n.type&&"DROP_COMPLETE"!==n.type||t.resting(),e(n)}}}),function(e){return function(){return function(t){return function(n){"DROP_COMPLETE"!==n.type&&"FLUSH"!==n.type&&"DROP_ANIMATE"!==n.type||e.stopPublishing(),t(n)}}}}(n),function(e){return function(t){var n=t.getState,r=t.dispatch;return function(t){return function(i){if("LIFT"===i.type){var o=i.payload,a=o.id,s=o.clientSelection,l=o.movementMode,c=n();"DROP_ANIMATING"===c.phase&&r(jx({completed:c.completed})),"IDLE"!==n().phase&&FA(!1),r({type:"FLUSH",payload:null}),r({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:a,movementMode:l}});var u={draggableId:a,scrollOptions:{shouldPublishImmediately:"SNAP"===l}},d=e.startPublishing(u),h=d.critical,f=d.dimensions,p=d.viewport;r({type:"INITIAL_PUBLISH",payload:{critical:h,dimensions:f,clientSelection:s,movementMode:l,viewport:p}})}else t(i)}}}}(n),Xx,aI,sI,lI,function(e){return function(t){return function(n){return function(r){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(r))return e.stop(),void n(r);if("INITIAL_PUBLISH"===r.type){n(r);var i=t.getState();return"DRAGGING"!==i.phase&&FA(!1),void e.start(i)}n(r),e.scroll(t.getState())}}}}(s),eI,function(e){var t=!1;return function(){return function(n){return function(r){if("INITIAL_PUBLISH"===r.type)return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if("FLUSH"===r.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===r.type){t=!1;var i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(r),oI(o,a))))};var dI=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,i=e.width,o=XA({x:n,y:t},{x:i,y:r});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},hI=function(){var e=document.documentElement;return e||FA(!1),e},fI=function(){var e=hI();return dI({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},pI=function(e){var t=e.critical,n=e.scrollOptions,r=e.registry;bx();var i=function(){var e=$x(),t=fI(),n=e.y,r=e.x,i=hI(),o=i.clientWidth,a=i.clientHeight;return{frame:wA({top:n,left:r,right:r+o,bottom:n+a}),scroll:{initial:e,current:e,max:t,diff:{value:YA,displacement:YA}}}}(),o=i.scroll.current,a=t.droppable,s=r.droppable.getAllByType(a.type).map((function(e){return e.callbacks.getDimensionAndWatchScroll(o,n)})),l=r.draggable.getAllByType(t.draggable.type).map((function(e){return e.getDimension(o)})),c={draggables:pE(l),droppables:fE(s)};return wx(),{dimensions:c,critical:t,viewport:i}};function gI(e,t,n){return n.descriptor.id!==t.id&&(n.descriptor.type===t.type&&"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode)}var mI=function(e,t){var n=null,r=function(e){var t=e.registry,n=e.callbacks,r={additions:{},removals:{},modified:{}},i=null,o=function(){i||(n.collectionStarting(),i=requestAnimationFrame((function(){i=null,bx();var e=r,o=e.additions,a=e.removals,s=e.modified,l=Object.keys(o).map((function(e){return t.draggable.getById(e).getDimension(YA)})).sort((function(e,t){return e.descriptor.index-t.descriptor.index})),c=Object.keys(s).map((function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}})),u={additions:l,removals:Object.keys(a),modified:c};r={additions:{},removals:{},modified:{}},wx(),n.publish(u)})))};return{add:function(e){var t=e.descriptor.id;r.additions[t]=e,r.modified[e.descriptor.droppableId]=!0,r.removals[t]&&delete r.removals[t],o()},remove:function(e){var t=e.descriptor;r.removals[t.id]=!0,r.modified[t.droppableId]=!0,r.additions[t.id]&&delete r.additions[t.id],o()},stop:function(){i&&(cancelAnimationFrame(i),i=null,r={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=function(t){n||FA(!1);var i=n.critical.draggable;"ADDITION"===t.type&&gI(e,i,t.value)&&r.add(t.value),"REMOVAL"===t.type&&gI(e,i,t.value)&&r.remove(t.value)},o={updateDroppableIsEnabled:function(r,i){e.droppable.exists(r)||FA(!1),n&&t.updateDroppableIsEnabled({id:r,isEnabled:i})},updateDroppableIsCombineEnabled:function(r,i){n&&(e.droppable.exists(r)||FA(!1),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:i}))},scrollDroppable:function(t,r){n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:function(r,i){n&&(e.droppable.exists(r)||FA(!1),t.updateDroppableScroll({id:r,newScroll:i}))},startPublishing:function(t){n&&FA(!1);var r=e.draggable.getById(t.draggableId),o=e.droppable.getById(r.descriptor.droppableId),a={draggable:r.descriptor,droppable:o.descriptor},s=e.subscribe(i);return n={critical:a,unsubscribe:s},pI({critical:a,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(n){r.stop();var t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach((function(e){return e.callbacks.dragStopped()})),n.unsubscribe(),n=null}}};return o},vI=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason)},yI=function(e){window.scrollBy(e.x,e.y)},bI=PA((function(e){return gE(e).filter((function(e){return!!e.isEnabled&&!!e.frame}))})),wI=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var i=r[n];return i.frame?i:null}var o=function(e,t){var n=dE(bI(t),(function(t){return t.frame||FA(!1),sx(t.frame.pageMarginBox)(e)}));return n}(t,r);return o},AI=.25,EI=.05,xI=28,II=function(e){return Math.pow(e,2)},SI={stopDampeningAt:1200,accelerateAt:360},CI=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,i=n-t;return 0===i?0:(r-t)/i},DI=SI.accelerateAt,NI=SI.stopDampeningAt,TI=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,i=e.shouldUseTimeDampening,o=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return xI;if(e===t.startScrollingFrom)return 1;var n=CI({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=xI*II(1-n);return Math.ceil(r)}(t,n);return 0===o?0:i?Math.max(function(e,t){var n=t,r=NI,i=Date.now()-n;if(i>=NI)return e;if(i<DI)return 1;var o=CI({startOfRange:DI,endOfRange:r,current:i}),a=e*II(o);return Math.ceil(a)}(o,r),1):o},kI=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,i=e.axis,o=e.shouldUseTimeDampening,a=function(e,t){return{startScrollingFrom:e[t.size]*AI,maxScrollValueAt:e[t.size]*EI}}(t,i);return n[i.end]<n[i.start]?TI({distanceToEdge:n[i.end],thresholds:a,dragStartTime:r,shouldUseTimeDampening:o}):-1*TI({distanceToEdge:n[i.start],thresholds:a,dragStartTime:r,shouldUseTimeDampening:o})},OI=rE((function(e){return 0===e?0:e})),PI=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,i=e.center,o=e.shouldUseTimeDampening,a={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},s=kI({container:n,distanceToEdges:a,dragStartTime:t,axis:NE,shouldUseTimeDampening:o}),l=kI({container:n,distanceToEdges:a,dragStartTime:t,axis:TE,shouldUseTimeDampening:o}),c=OI({x:l,y:s});if($A(c,YA))return null;var u=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,i=n.height>t.height,o=n.width>t.width;return o||i?o&&i?null:{x:o?0:r.x,y:i?0:r.y}:r}({container:n,subject:r,proposedScroll:c});return u?$A(u,YA)?null:u:null},RI=rE((function(e){return 0===e?0:e>0?1:-1})),_I=function(){var e=function(e,t){return e<0?e:e>t?e-t:0};return function(t){var n=t.current,r=t.max,i=t.change,o=JA(n,i),a={x:e(o.x,r.x),y:e(o.y,r.y)};return $A(a,YA)?null:a}}(),LI=function(e){var t=e.max,n=e.current,r=e.change,i={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},o=RI(r),a=_I({max:i,current:n,change:o});return!a||(0!==o.x&&0===a.x||0!==o.y&&0===a.y)},MI=function(e,t){return LI({current:e.scroll.current,max:e.scroll.max,change:t})},jI=function(e,t){var n=e.frame;return!!n&&LI({current:n.scroll.current,max:n.scroll.max,change:t})},BI=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,i=e.scrollWindow,o=e.scrollDroppable,a=t.current.page.borderBoxCenter,s=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var l=function(e){var t=e.viewport,n=e.subject,r=e.center,i=e.dragStartTime,o=e.shouldUseTimeDampening,a=PI({dragStartTime:i,container:t.frame,subject:n,center:r,shouldUseTimeDampening:o});return a&&MI(t,a)?a:null}({dragStartTime:n,viewport:t.viewport,subject:s,center:a,shouldUseTimeDampening:r});if(l)return void i(l)}var c=wI({center:a,destination:ix(t.impact),droppables:t.dimensions.droppables});if(c){var u=function(e){var t=e.droppable,n=e.subject,r=e.center,i=e.dragStartTime,o=e.shouldUseTimeDampening,a=t.frame;if(!a)return null;var s=PI({dragStartTime:i,container:a.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:o});return s&&jI(t,s)?s:null}({dragStartTime:n,droppable:c,subject:s,center:a,shouldUseTimeDampening:r});u&&o(c.descriptor.id,u)}},FI=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow,i=function(e,t){if(!jI(e,t))return t;var r=function(e,t){var n=e.frame;return n&&jI(e,t)?_I({current:n.scroll.current,max:n.scroll.max,change:t}):null}(e,t);if(!r)return n(e.descriptor.id,t),null;var i=XA(t,r);return n(e.descriptor.id,i),XA(t,i)},o=function(e,t,n){if(!e)return n;if(!MI(t,n))return n;var i=function(e,t){if(!MI(e,t))return null;var n=e.scroll.max,r=e.scroll.current;return _I({current:r,max:n,change:t})}(t,n);if(!i)return r(n),null;var o=XA(n,i);return r(o),XA(n,o)};return function(e){var n=e.scrollJumpRequest;if(n){var r=ix(e.impact);r||FA(!1);var a=i(e.dimensions.droppables[r],n);if(a){var s=e.viewport,l=o(e.isWindowScrollAllowed,s,a);l&&function(e,n){var r=JA(e.current.client.selection,n);t({client:r})}(e,l)}}}},UI=function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,i=function(e){var t=e.scrollWindow,n=e.scrollDroppable,r=RA(t),i=RA(n),o=null,a=function(e){o||FA(!1);var t=o,n=t.shouldUseTimeDampening,a=t.dragStartTime;BI({state:e,scrollWindow:r,scrollDroppable:i,dragStartTime:a,shouldUseTimeDampening:n})};return{start:function(e){bx(),o&&FA(!1);var t=Date.now(),n=!1,r=function(){n=!0};BI({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:r,scrollDroppable:r}),o={dragStartTime:t,shouldUseTimeDampening:n},wx(),n&&a(e)},stop:function(){o&&(r.cancel(),i.cancel(),o=null)},scroll:a}}({scrollWindow:n,scrollDroppable:t}),o=FI({move:r,scrollWindow:n,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&o(e):i.scroll(e))},start:i.start,stop:i.stop}},GI="data-rbd",zI=function(){var e=GI+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),WI=function(){var e=GI+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),VI=function(){var e=GI+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),HI={contextId:GI+"-scroll-container-context-id"},qI=function(e,t){return e.map((function(e){var n=e.styles[t];return n?e.selector+" { "+n+" }":""})).join(" ")},QI="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?i.useLayoutEffect:i.useEffect,KI=function(){var e=document.querySelector("head");return e||FA(!1),e},YI=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function JI(e,t){var n=vA((function(){return function(e){var t,n=(t=e,function(e){return"["+e+'="'+t+'"]'}),r=function(){var e="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ";return{selector:n(zI.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:e,dragging:"pointer-events: none;",dropAnimating:e}}}(),i=[function(){var e="\n      transition: "+Vx.outOfTheWay+";\n    ";return{selector:n(WI.contextId),styles:{dragging:e,dropAnimating:e,userCancel:e}}}(),r,{selector:n(VI.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:qI(i,"always"),resting:qI(i,"resting"),dragging:qI(i,"dragging"),dropAnimating:qI(i,"dropAnimating"),userCancel:qI(i,"userCancel")}}(e)}),[e]),r=(0,i.useRef)(null),o=(0,i.useRef)(null),a=yA(PA((function(e){var t=o.current;t||FA(!1),t.textContent=e})),[]),s=yA((function(e){var t=r.current;t||FA(!1),t.textContent=e}),[]);QI((function(){(r.current||o.current)&&FA(!1);var i=YI(t),l=YI(t);return r.current=i,o.current=l,i.setAttribute(GI+"-always",e),l.setAttribute(GI+"-dynamic",e),KI().appendChild(i),KI().appendChild(l),s(n.always),a(n.resting),function(){var e=function(e){var t=e.current;t||FA(!1),KI().removeChild(t),e.current=null};e(r),e(o)}}),[t,s,a,n.always,n.resting,e]);var l=yA((function(){return a(n.dragging)}),[a,n.dragging]),c=yA((function(e){a("DROP"!==e?n.userCancel:n.dropAnimating)}),[a,n.dropAnimating,n.userCancel]),u=yA((function(){o.current&&a(n.resting)}),[a,n.resting]);return vA((function(){return{dragging:l,dropping:c,resting:u}}),[l,c,u])}var XI=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function $I(e){return e instanceof XI(e).HTMLElement}function ZI(e,t){var n="["+zI.contextId+'="'+e+'"]',r=hE(document.querySelectorAll(n));if(!r.length)return null;var i=dE(r,(function(e){return e.getAttribute(zI.draggableId)===t}));return i&&$I(i)?i:null}function eS(){var e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach((function(t){return t(e)}))}function r(t){return e.draggables[t]||null}var i={register:function(t){e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:function(t,n){var r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var i=t.descriptor.id,o=r(i);o&&t.uniqueId===o.uniqueId&&(delete e.draggables[i],n({type:"REMOVAL",value:t}))},getById:function(e){var t=r(e);return t||FA(!1),t},findById:r,exists:function(e){return Boolean(r(e))},getAllByType:function(t){return cE(e.draggables).filter((function(e){return e.descriptor.type===t}))}};function o(t){return e.droppables[t]||null}var a={register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var n=o(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=o(e);return t||FA(!1),t},findById:o,exists:function(e){return Boolean(o(e))},getAllByType:function(t){return cE(e.droppables).filter((function(e){return e.descriptor.type===t}))}};return{draggable:i,droppable:a,subscribe:function(e){return t.push(e),function(){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var tS=i.createContext(null),nS=function(){var e=document.body;return e||FA(!1),e},rS={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};var iS=0,oS={separator:"::"};function aS(e,t){return void 0===t&&(t=oS),vA((function(){return""+e+t.separator+iS++}),[t.separator,e])}var sS=i.createContext(null);function lS(e){0}function cS(e,t){lS()}function uS(){cS()}function dS(e){var t=(0,i.useRef)(e);return(0,i.useEffect)((function(){t.current=e})),t}var hS,fS=((hS={})[13]=!0,hS[9]=!0,hS),pS=function(e){fS[e.keyCode]&&e.preventDefault()},gS=function(){var e="visibilitychange";return"undefined"===typeof document?e:dE([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],(function(e){return"on"+e in document}))||e}();var mS,vS={type:"IDLE"};function yS(e){var t=e.cancel,n=e.completed,r=e.getPhase,i=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t=e.button,n=e.clientX,o=e.clientY;if(0===t){var a={x:n,y:o},s=r();if("DRAGGING"===s.type)return e.preventDefault(),void s.actions.move(a);"PENDING"!==s.type&&FA(!1);var l=s.point;if(c=l,u=a,Math.abs(u.x-c.x)>=5||Math.abs(u.y-c.y)>=5){var c,u;e.preventDefault();var d=s.actions.fluidLift(a);i({type:"DRAGGING",actions:d})}}}},{eventName:"mouseup",fn:function(e){var i=r();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===r().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==r().type)return 27===e.keyCode?(e.preventDefault(),void t()):void pS(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===r().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var n=r();"IDLE"===n.type&&FA(!1),n.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:gS,fn:t}]}function bS(){}var wS=((mS={})[34]=!0,mS[33]=!0,mS[36]=!0,mS[35]=!0,mS);function AS(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:function(r){return 27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(wS[r.keyCode]?r.preventDefault():pS(r))}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:gS,fn:n}]}var ES={type:"IDLE"};var xS={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function IS(e,t){if(null==t)return!1;if(Boolean(xS[t.tagName.toLowerCase()]))return!0;var n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&IS(e,t.parentElement)}function SS(e,t){var n=t.target;return!!$I(n)&&IS(e,n)}var CS=function(e){return wA(e.getBoundingClientRect()).center};var DS=function(){var e="matches";return"undefined"===typeof document?e:dE([e,"msMatchesSelector","webkitMatchesSelector"],(function(e){return e in Element.prototype}))||e}();function NS(e,t){return null==e?null:e[DS](t)?e:NS(e.parentElement,t)}function TS(e,t){return e.closest?e.closest(t):NS(e,t)}function kS(e,t){var n=t.target;if(!function(e){return e instanceof XI(e).Element}(n))return null;var r=function(e){return"["+zI.contextId+'="'+e+'"]'}(e),i=TS(n,r);return i&&$I(i)?i:null}function OS(e){e.preventDefault()}function PS(e){var t=e.expected,n=e.phase,r=e.isLockActive;e.shouldWarn;return!!r()&&t===n}function RS(e){var t=e.lockAPI,n=e.store,r=e.registry,i=e.draggableId;if(t.isClaimed())return!1;var o=r.draggable.findById(i);return!!o&&(!!o.options.isEnabled&&!!vI(n.getState(),i))}function _S(e){var t=e.lockAPI,n=e.contextId,r=e.store,i=e.registry,o=e.draggableId,a=e.forceSensorStop,s=e.sourceEvent;if(!RS({lockAPI:t,store:r,registry:i,draggableId:o}))return null;var l=i.draggable.getById(o),c=function(e,t){var n="["+WI.contextId+'="'+e+'"]',r=dE(hE(document.querySelectorAll(n)),(function(e){return e.getAttribute(WI.id)===t}));return r&&$I(r)?r:null}(n,l.descriptor.id);if(!c)return null;if(s&&!l.options.canDragInteractiveElements&&SS(c,s))return null;var u=t.claim(a||LA),d="PRE_DRAG";function h(){return l.options.shouldRespectForcePress}function f(){return t.isActive(u)}var p=function(e,t){PS({expected:e,phase:d,isLockActive:f,shouldWarn:!0})&&r.dispatch(t())}.bind(null,"DRAGGING");function g(e){function n(){t.release(),d="COMPLETED"}function i(t,i){if(void 0===i&&(i={shouldBlockNextClick:!1}),e.cleanup(),i.shouldBlockNextClick){var o=MA(window,[{eventName:"click",fn:OS,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(o)}n(),r.dispatch(Bx({reason:t}))}return"PRE_DRAG"!==d&&(n(),"PRE_DRAG"!==d&&FA(!1)),r.dispatch(function(e){return{type:"LIFT",payload:e}}(e.liftActionArgs)),d="DRAGGING",gw({isActive:function(){return PS({expected:"DRAGGING",phase:d,isLockActive:f,shouldWarn:!1})},shouldRespectForcePress:h,drop:function(e){return i("DROP",e)},cancel:function(e){return i("CANCEL",e)}},e.actions)}var m={isActive:function(){return PS({expected:"PRE_DRAG",phase:d,isLockActive:f,shouldWarn:!1})},shouldRespectForcePress:h,fluidLift:function(e){var t=RA((function(e){p((function(){return Px({client:e})}))}));return gw({},g({liftActionArgs:{id:o,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}}),{move:t})},snapLift:function(){var e={moveUp:function(){return p(Rx)},moveRight:function(){return p(Lx)},moveDown:function(){return p(_x)},moveLeft:function(){return p(Mx)}};return g({liftActionArgs:{id:o,clientSelection:CS(c),movementMode:"SNAP"},cleanup:LA,actions:e})},abort:function(){PS({expected:"PRE_DRAG",phase:d,isLockActive:f,shouldWarn:!0})&&t.release()}};return m}var LS=[function(e){var t=(0,i.useRef)(vS),n=(0,i.useRef)(LA),r=vA((function(){return{eventName:"mousedown",fn:function(t){if(!t.defaultPrevented&&0===t.button&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var r=e.findClosestDraggableId(t);if(r){var i=e.tryGetLock(r,s,{sourceEvent:t});if(i){t.preventDefault();var o={x:t.clientX,y:t.clientY};n.current(),u(i,o)}}}}}}),[e]),o=vA((function(){return{eventName:"webkitmouseforcewillbegin",fn:function(t){if(!t.defaultPrevented){var n=e.findClosestDraggableId(t);if(n){var r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}}}}}),[e]),a=yA((function(){n.current=MA(window,[o,r],{passive:!1,capture:!0})}),[o,r]),s=yA((function(){"IDLE"!==t.current.type&&(t.current=vS,n.current(),a())}),[a]),l=yA((function(){var e=t.current;s(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[s]),c=yA((function(){var e=yS({cancel:l,completed:s,getPhase:function(){return t.current},setPhase:function(e){t.current=e}});n.current=MA(window,e,{capture:!0,passive:!1})}),[l,s]),u=yA((function(e,n){"IDLE"!==t.current.type&&FA(!1),t.current={type:"PENDING",point:n,actions:e},c()}),[c]);QI((function(){return a(),function(){n.current()}}),[a])},function(e){var t=(0,i.useRef)(bS),n=vA((function(){return{eventName:"keydown",fn:function(n){if(!n.defaultPrevented&&32===n.keyCode){var i=e.findClosestDraggableId(n);if(i){var o=e.tryGetLock(i,l,{sourceEvent:n});if(o){n.preventDefault();var a=!0,s=o.snapLift();t.current(),t.current=MA(window,AS(s,l),{capture:!0,passive:!1})}}}function l(){a||FA(!1),a=!1,t.current(),r()}}}}),[e]),r=yA((function(){t.current=MA(window,[n],{passive:!1,capture:!0})}),[n]);QI((function(){return r(),function(){t.current()}}),[r])},function(e){var t=(0,i.useRef)(ES),n=(0,i.useRef)(LA),r=yA((function(){return t.current}),[]),o=yA((function(e){t.current=e}),[]),a=vA((function(){return{eventName:"touchstart",fn:function(t){if(!t.defaultPrevented){var r=e.findClosestDraggableId(t);if(r){var i=e.tryGetLock(r,l,{sourceEvent:t});if(i){var o=t.touches[0],a={x:o.clientX,y:o.clientY};n.current(),h(i,a)}}}}}}),[e]),s=yA((function(){n.current=MA(window,[a],{capture:!0,passive:!1})}),[a]),l=yA((function(){var e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),o(ES),n.current(),s())}),[s,o]),c=yA((function(){var e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[l]),u=yA((function(){var e={capture:!0,passive:!1},t={cancel:c,completed:l,getPhase:r},i=MA(window,function(e){var t=e.cancel,n=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var n=r();if("DRAGGING"===n.type){n.hasMoved=!0;var i=e.touches[0],o={x:i.clientX,y:i.clientY};e.preventDefault(),n.actions.move(o)}else t()}},{eventName:"touchend",fn:function(e){var i=r();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===r().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var n=r();"IDLE"===n.type&&FA(!1);var i=e.touches[0];if(i&&i.force>=.15){var o=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return o?n.hasMoved?void e.preventDefault():void t():void e.preventDefault();o&&t()}}},{eventName:gS,fn:t}]}(t),e),o=MA(window,function(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===n().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:gS,fn:t}]}(t),e);n.current=function(){i(),o()}}),[c,r,l]),d=yA((function(){var e=r();"PENDING"!==e.type&&FA(!1);var t=e.actions.fluidLift(e.point);o({type:"DRAGGING",actions:t,hasMoved:!1})}),[r,o]),h=yA((function(e,t){"IDLE"!==r().type&&FA(!1);var n=setTimeout(d,120);o({type:"PENDING",point:t,actions:e,longPressTimerId:n}),u()}),[u,r,o,d]);QI((function(){return s(),function(){n.current();var e=r();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),o(ES))}}),[r,s,o]),QI((function(){return MA(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])}),[])}];function MS(e){var t=e.contextId,n=e.store,r=e.registry,o=e.customSensors,a=e.enableDefaultSensors,s=[].concat(a?LS:[],o||[]),l=(0,i.useState)((function(){return function(){var e=null;function t(){e||FA(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&FA(!1);var n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()}))[0],c=yA((function(e,t){e.isDragging&&!t.isDragging&&l.tryAbandon()}),[l]);QI((function(){var e=n.getState();return n.subscribe((function(){var t=n.getState();c(e,t),e=t}))}),[l,n,c]),QI((function(){return l.tryAbandon}),[l.tryAbandon]);var u=yA((function(e){return RS({lockAPI:l,registry:r,store:n,draggableId:e})}),[l,r,n]),d=yA((function(e,i,o){return _S({lockAPI:l,registry:r,contextId:t,store:n,draggableId:e,forceSensorStop:i,sourceEvent:o&&o.sourceEvent?o.sourceEvent:null})}),[t,l,r,n]),h=yA((function(e){return function(e,t){var n=kS(e,t);return n?n.getAttribute(zI.draggableId):null}(t,e)}),[t]),f=yA((function(e){var t=r.draggable.findById(e);return t?t.options:null}),[r.draggable]),p=yA((function(){l.isClaimed()&&(l.tryAbandon(),"IDLE"!==n.getState().phase&&n.dispatch({type:"FLUSH",payload:null}))}),[l,n]),g=yA(l.isClaimed,[l]),m=vA((function(){return{canGetLock:u,tryGetLock:d,findClosestDraggableId:h,findOptionsForDraggable:f,tryReleaseLock:p,isLockClaimed:g}}),[u,d,h,f,p,g]);lS();for(var v=0;v<s.length;v++)s[v](m)}function jS(e){return e.current||FA(!1),e.current}function BS(e){var t=e.contextId,n=e.setCallbacks,r=e.sensors,o=e.nonce,a=e.dragHandleUsageInstructions,s=(0,i.useRef)(null);uS();var l=dS(e),c=yA((function(){return function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}}(l.current)}),[l]),u=function(e){var t=vA((function(){return function(e){return"rbd-announcement-"+e}(e)}),[e]),n=(0,i.useRef)(null);(0,i.useEffect)((function(){var e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),gw(e.style,rS),nS().appendChild(e),function(){setTimeout((function(){var t=nS();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)}))}}),[t]);var r=yA((function(e){var t=n.current;t&&(t.textContent=e)}),[]);return r}(t),d=function(e){var t=e.contextId,n=e.text,r=aS("hidden-text",{separator:"-"}),o=vA((function(){return"rbd-hidden-text-"+(e={contextId:t,uniqueId:r}).contextId+"-"+e.uniqueId;var e}),[r,t]);return(0,i.useEffect)((function(){var e=document.createElement("div");return e.id=o,e.textContent=n,e.style.display="none",nS().appendChild(e),function(){var t=nS();t.contains(e)&&t.removeChild(e)}}),[o,n]),o}({contextId:t,text:a}),h=JI(t,o),f=yA((function(e){jS(s).dispatch(e)}),[]),p=vA((function(){return Nw({publishWhileDragging:Dx,updateDroppableScroll:Tx,updateDroppableIsEnabled:kx,updateDroppableIsCombineEnabled:Ox,collectionStarting:Nx},f)}),[f]),g=function(){var e=vA(eS,[]);return(0,i.useEffect)((function(){return function(){requestAnimationFrame(e.clean)}}),[e]),e}(),m=vA((function(){return mI(g,p)}),[g,p]),v=vA((function(){return UI(gw({scrollWindow:yI,scrollDroppable:m.scrollDroppable},Nw({move:Px},f)))}),[m.scrollDroppable,f]),y=function(e){var t=(0,i.useRef)({}),n=(0,i.useRef)(null),r=(0,i.useRef)(null),o=(0,i.useRef)(!1),a=yA((function(e,n){var r={id:e,focus:n};return t.current[e]=r,function(){var n=t.current;n[e]!==r&&delete n[e]}}),[]),s=yA((function(t){var n=ZI(e,t);n&&n!==document.activeElement&&n.focus()}),[e]),l=yA((function(e,t){n.current===e&&(n.current=t)}),[]),c=yA((function(){r.current||o.current&&(r.current=requestAnimationFrame((function(){r.current=null;var e=n.current;e&&s(e)})))}),[s]),u=yA((function(e){n.current=null;var t=document.activeElement;t&&t.getAttribute(zI.draggableId)===e&&(n.current=e)}),[]);return QI((function(){return o.current=!0,function(){o.current=!1;var e=r.current;e&&cancelAnimationFrame(e)}}),[]),vA((function(){return{register:a,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l}}),[a,u,c,l])}(t),b=vA((function(){return uI({announce:u,autoScroller:v,dimensionMarshal:m,focusMarshal:y,getResponders:c,styleMarshal:h})}),[u,v,m,y,c,h]);s.current=b;var w=yA((function(){var e=jS(s);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})}),[]),A=yA((function(){var e=jS(s).getState();return e.isDragging||"DROP_ANIMATING"===e.phase}),[]);n(vA((function(){return{isDragging:A,tryAbort:w}}),[A,w]));var E=yA((function(e){return vI(jS(s).getState(),e)}),[]),x=yA((function(){return ax(jS(s).getState())}),[]),I=vA((function(){return{marshal:m,focus:y,contextId:t,canLift:E,isMovementAllowed:x,dragHandleUsageInstructionsId:d,registry:g}}),[t,m,d,y,E,x,g]);return MS({contextId:t,store:b,registry:g,customSensors:r,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,i.useEffect)((function(){return w}),[w]),i.createElement(sS.Provider,{value:I},i.createElement(Mw,{context:tS,store:b},e.children))}var FS=0;function US(e){var t=vA((function(){return""+FS++}),[]),n=e.dragHandleUsageInstructions||HA;return i.createElement(UA,null,(function(r){return i.createElement(BS,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)}))}var GS=function(e){return function(t){return e===t}},zS=GS("scroll"),WS=GS("auto"),VS=(GS("visible"),function(e,t){return t(e.overflowX)||t(e.overflowY)}),HS=function(e){var t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return VS(n,zS)||VS(n,WS)},qS=function e(t){return null==t||t===document.body||t===document.documentElement?null:HS(t)?t:e(t.parentElement)},QS=function(e){return{x:e.scrollLeft,y:e.scrollTop}},KS=function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))},YS=function(e){return{closestScrollable:qS(e),isFixedOnPage:KS(e)}},JS=function(e){var t=e.ref,n=e.descriptor,r=e.env,i=e.windowScroll,o=e.direction,a=e.isDropDisabled,s=e.isCombineEnabled,l=e.shouldClipSubject,c=r.closestScrollable,u=function(e,t){var n=TA(e);if(!t)return n;if(e!==t)return n;var r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,o=r+t.scrollHeight,a=i+t.scrollWidth,s=AA({top:r,right:a,bottom:o,left:i},n.border);return IA({borderBox:s,margin:n.margin,border:n.border,padding:n.padding})}(t,c),d=DA(u,i),h=function(){if(!c)return null;var e=TA(c),t={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:e,page:DA(e,i),scroll:QS(c),scrollSize:t,shouldClipSubject:l}}(),f=function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,i=e.isFixedOnPage,o=e.direction,a=e.client,s=e.page,l=e.closest,c=function(){if(!l)return null;var e=l.scrollSize,t=l.client,n=dI({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:n,diff:{value:YA,displacement:YA}}}}(),u="vertical"===o?NE:TE;return{descriptor:t,isCombineEnabled:r,isFixedOnPage:i,axis:u,isEnabled:n,client:a,page:s,frame:c,subject:sE({page:s,withPlaceholder:null,axis:u,frame:c})}}({descriptor:n,isEnabled:!a,isCombineEnabled:s,isFixedOnPage:r.isFixedOnPage,direction:o,client:u,page:d,closest:h});return f},XS={passive:!1},$S={passive:!0},ZS=function(e){return e.shouldPublishImmediately?XS:$S};function eC(e){var t=(0,i.useContext)(e);return t||FA(!1),t}var tC=function(e){return e&&e.env.closestScrollable||null};function nC(){}var rC={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},iC=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate,i=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate;return t||"close"===r?rC:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}}({isAnimatingOpenOnMount:t,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==r?Vx.placeholder:null}};var oC=i.memo((function(e){var t=(0,i.useRef)(null),n=yA((function(){t.current&&(clearTimeout(t.current),t.current=null)}),[]),r=e.animate,o=e.onTransitionEnd,a=e.onClose,s=e.contextId,l=(0,i.useState)("open"===e.animate),c=l[0],u=l[1];(0,i.useEffect)((function(){return c?"open"!==r?(n(),u(!1),nC):t.current?nC:(t.current=setTimeout((function(){t.current=null,u(!1)})),n):nC}),[r,c,n]);var d=yA((function(e){"height"===e.propertyName&&(o(),"close"===r&&a())}),[r,a,o]),h=iC({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return i.createElement(e.placeholder.tagName,{style:h,"data-rbd-placeholder-context-id":s,onTransitionEnd:d,ref:e.innerRef})})),aC=i.createContext(null);var sC=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return pw(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)},t}(i.PureComponent),lC=5e3,cC=4500,uC=function(e,t){return t?Vx.drop(t.duration):e?Vx.snap:Vx.fluid},dC=function(e,t){return e?t?Gx.drop:Gx.combining:null};function hC(e){return"DRAGGING"===e.type?function(e){var t=e.dimension.client,n=e.offset,r=e.combineWith,i=e.dropping,o=Boolean(r),a=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode}(e),s=Boolean(i),l=s?Qx(n,o):qx(n);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:uC(a,i),transform:l,opacity:dC(o,s),zIndex:s?cC:lC,pointerEvents:"none"}}(e):{transform:qx((t=e).offset),transition:t.shouldAnimateDisplacement?null:"none"};var t}function fC(e){var t=aS("draggable"),n=e.descriptor,r=e.registry,o=e.getDraggableRef,a=e.canDragInteractiveElements,s=e.shouldRespectForcePress,l=e.isEnabled,c=vA((function(){return{canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:l}}),[a,l,s]),u=yA((function(e){var t=o();return t||FA(!1),function(e,t,n){void 0===n&&(n=YA);var r=window.getComputedStyle(t),i=t.getBoundingClientRect(),o=NA(i,r),a=DA(o,n);return{descriptor:e,placeholder:{client:o,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:o.marginBox.width,y:o.marginBox.height},client:o,page:a}}(n,t,e)}),[n,o]),d=vA((function(){return{uniqueId:t,descriptor:n,options:c,getDimension:u}}),[n,u,c,t]),h=(0,i.useRef)(d),f=(0,i.useRef)(!0);QI((function(){return r.draggable.register(h.current),function(){return r.draggable.unregister(h.current)}}),[r.draggable]),QI((function(){if(f.current)f.current=!1;else{var e=h.current;h.current=d,r.draggable.update(d,e)}}),[d,r.draggable])}function pC(e,t,n){cS()}function gC(e){e.preventDefault()}var mC=function(e,t){return e===t},vC=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null};function yC(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var bC={mapped:{type:"SECONDARY",offset:YA,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:yC(null)}};var wC=pA((function(){var e=function(){var e=PA((function(e,t){return{x:e,y:t}})),t=PA((function(e,t,n,r,i){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(i),dropAnimation:i,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}})),n=PA((function(e,n,r,i,o,a,s){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:o,combineWith:a,mode:n,offset:e,dimension:r,forceShouldAnimate:s,snapshot:t(n,i,o,a,null)}}}));return function(r,i){if(r.isDragging){if(r.critical.draggable.id!==i.draggableId)return null;var o=r.current.client.offset,a=r.dimensions.draggables[i.draggableId],s=ix(r.impact),l=(u=r.impact).at&&"COMBINE"===u.at.type?u.at.combine.draggableId:null,c=r.forceShouldAnimate;return n(e(o.x,o.y),r.movementMode,a,i.isClone,s,l,c)}var u;if("DROP_ANIMATING"===r.phase){var d=r.completed;if(d.result.draggableId!==i.draggableId)return null;var h=i.isClone,f=r.dimensions.draggables[i.draggableId],p=d.result,g=p.mode,m=vC(p),v=function(e){return e.combine?e.combine.draggableId:null}(p),y={duration:r.dropDuration,curve:Ux,moveTo:r.newHomeClientOffset,opacity:v?Gx.drop:null,scale:v?zx.drop:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:f,dropping:y,draggingOver:m,combineWith:v,mode:g,forceShouldAnimate:null,snapshot:t(g,h,m,v,y)}}}return null}}(),t=function(){var e=PA((function(e,t){return{x:e,y:t}})),t=PA(yC),n=PA((function(e,n,r){return void 0===n&&(n=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:r,snapshot:t(n)}}})),r=function(e){return e?n(YA,e,!0):null},i=function(t,i,o,a){var s=o.displaced.visible[t],l=Boolean(a.inVirtualList&&a.effected[t]),c=bE(o),u=c&&c.draggableId===t?i:null;if(!s){if(!l)return r(u);if(o.displaced.invisible[t])return null;var d=ZA(a.displacedBy.point),h=e(d.x,d.y);return n(h,u,!0)}if(l)return r(u);var f=o.displacedBy.point,p=e(f.x,f.y);return n(p,u,s.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:i(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var n=e.completed;return n.result.draggableId===t.draggableId?null:i(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return function(n,r){return e(n,r)||t(n,r)||bC}}),{dropAnimationFinished:Fx},null,{context:tS,pure:!0,areStatePropsEqual:mC})((function(e){var t=(0,i.useRef)(null),n=yA((function(e){t.current=e}),[]),r=yA((function(){return t.current}),[]),o=eC(sS),a=o.contextId,s=o.dragHandleUsageInstructionsId,l=o.registry,c=eC(aC),u=c.type,d=c.droppableId,h=vA((function(){return{id:e.draggableId,index:e.index,type:u,droppableId:d}}),[e.draggableId,e.index,u,d]),f=e.children,p=e.draggableId,g=e.isEnabled,m=e.shouldRespectForcePress,v=e.canDragInteractiveElements,y=e.isClone,b=e.mapped,w=e.dropAnimationFinished;pC(),lS(),y||fC(vA((function(){return{descriptor:h,registry:l,getDraggableRef:r,canDragInteractiveElements:v,shouldRespectForcePress:m,isEnabled:g}}),[h,l,r,v,m,g]));var A=vA((function(){return g?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":p,"data-rbd-drag-handle-context-id":a,draggable:!1,onDragStart:gC}:null}),[a,s,p,g]),E=yA((function(e){"DRAGGING"===b.type&&b.dropping&&"transform"===e.propertyName&&w()}),[w,b]),x=vA((function(){var e=hC(b),t="DRAGGING"===b.type&&b.dropping?E:null;return{innerRef:n,draggableProps:{"data-rbd-draggable-context-id":a,"data-rbd-draggable-id":p,style:e,onTransitionEnd:t},dragHandleProps:A}}),[a,A,p,b,E,n]),I=vA((function(){return{draggableId:h.id,type:h.type,source:{index:h.index,droppableId:h.droppableId}}}),[h.droppableId,h.id,h.index,h.type]);return f(x,b.snapshot,I)}));function AC(e){return eC(aC).isUsingCloneFor!==e.draggableId||e.isClone?i.createElement(wC,e):null}function EC(e){var t="boolean"!==typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),r=Boolean(e.shouldRespectForcePress);return i.createElement(AC,gw({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}var xC=function(e,t){return e===t.droppable.type},IC=function(e,t){return t.draggables[e.draggable.id]};var SC={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||FA(!1),document.body}},CC=pA((function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=gw({},e,{shouldAnimatePlaceholder:!1}),n=PA((function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}})),r=PA((function(r,i,o,a,s,l){var c=s.descriptor.id;if(s.descriptor.droppableId===r){var u=l?{render:l,dragging:n(s.descriptor)}:null,d={isDraggingOver:o,draggingOverWith:o?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!1,snapshot:d,useClone:u}}if(!i)return t;if(!a)return e;var h={isDraggingOver:o,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!0,snapshot:h,useClone:null}}));return function(n,i){var o=i.droppableId,a=i.type,s=!i.isDropDisabled,l=i.renderClone;if(n.isDragging){var c=n.critical;if(!xC(a,c))return t;var u=IC(c,n.dimensions),d=ix(n.impact)===o;return r(o,s,d,d,u,l)}if("DROP_ANIMATING"===n.phase){var h=n.completed;if(!xC(a,h.critical))return t;var f=IC(h.critical,n.dimensions);return r(o,s,vC(h.result)===o,ix(h.impact)===o,f,l)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){var p=n.completed;if(!xC(a,p.critical))return t;var g=ix(p.impact)===o,m=Boolean(p.impact.at&&"COMBINE"===p.impact.at.type),v=p.critical.droppable.id===o;return g?m?e:t:v?e:t}return t}}),{updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}},null,{context:tS,pure:!0,areStatePropsEqual:mC})((function(e){var t=(0,i.useContext)(sS);t||FA(!1);var n=t.contextId,r=t.isMovementAllowed,o=(0,i.useRef)(null),a=(0,i.useRef)(null),l=e.children,c=e.droppableId,u=e.type,d=e.mode,h=e.direction,f=e.ignoreContainerClipping,p=e.isDropDisabled,g=e.isCombineEnabled,m=e.snapshot,v=e.useClone,y=e.updateViewportMaxScroll,b=e.getContainerForClone,w=yA((function(){return o.current}),[]),A=yA((function(e){o.current=e}),[]),E=(yA((function(){return a.current}),[]),yA((function(e){a.current=e}),[]));cS();var x=yA((function(){r()&&y({maxScroll:fI()})}),[r,y]);!function(e){var t=(0,i.useRef)(null),n=eC(sS),r=aS("droppable"),o=n.registry,a=n.marshal,s=dS(e),l=vA((function(){return{id:e.droppableId,type:e.type,mode:e.mode}}),[e.droppableId,e.mode,e.type]),c=(0,i.useRef)(l),u=vA((function(){return PA((function(e,n){t.current||FA(!1);var r={x:e,y:n};a.updateDroppableScroll(l.id,r)}))}),[l.id,a]),d=yA((function(){var e=t.current;return e&&e.env.closestScrollable?QS(e.env.closestScrollable):YA}),[]),h=yA((function(){var e=d();u(e.x,e.y)}),[d,u]),f=vA((function(){return RA(h)}),[h]),p=yA((function(){var e=t.current,n=tC(e);e&&n||FA(!1),e.scrollOptions.shouldPublishImmediately?h():f()}),[f,h]),g=yA((function(e,r){t.current&&FA(!1);var i=s.current,o=i.getDroppableRef();o||FA(!1);var a=YS(o),c={ref:o,descriptor:l,env:a,scrollOptions:r};t.current=c;var u=JS({ref:o,descriptor:l,env:a,windowScroll:e,direction:i.direction,isDropDisabled:i.isDropDisabled,isCombineEnabled:i.isCombineEnabled,shouldClipSubject:!i.ignoreContainerClipping}),d=a.closestScrollable;return d&&(d.setAttribute(HI.contextId,n.contextId),d.addEventListener("scroll",p,ZS(c.scrollOptions))),u}),[n.contextId,l,p,s]),m=yA((function(){var e=t.current,n=tC(e);return e&&n||FA(!1),QS(n)}),[]),v=yA((function(){var e=t.current;e||FA(!1);var n=tC(e);t.current=null,n&&(f.cancel(),n.removeAttribute(HI.contextId),n.removeEventListener("scroll",p,ZS(e.scrollOptions)))}),[p,f]),y=yA((function(e){var n=t.current;n||FA(!1);var r=tC(n);r||FA(!1),r.scrollTop+=e.y,r.scrollLeft+=e.x}),[]),b=vA((function(){return{getDimensionAndWatchScroll:g,getScrollWhileDragging:m,dragStopped:v,scroll:y}}),[v,g,m,y]),w=vA((function(){return{uniqueId:r,descriptor:l,callbacks:b}}),[b,l,r]);QI((function(){return c.current=w.descriptor,o.droppable.register(w),function(){t.current&&v(),o.droppable.unregister(w)}}),[b,l,v,w,a,o.droppable]),QI((function(){t.current&&a.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)}),[e.isDropDisabled,a]),QI((function(){t.current&&a.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,a])}({droppableId:c,type:u,mode:d,direction:h,isDropDisabled:p,isCombineEnabled:g,ignoreContainerClipping:f,getDroppableRef:w});var I=i.createElement(sC,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(function(e){var t=e.onClose,r=e.data,o=e.animate;return i.createElement(oC,{placeholder:r,onClose:t,innerRef:E,animate:o,contextId:n,onTransitionEnd:x})})),S=vA((function(){return{innerRef:A,placeholder:I,droppableProps:{"data-rbd-droppable-id":c,"data-rbd-droppable-context-id":n}}}),[n,c,I,A]),C=v?v.dragging.draggableId:null,D=vA((function(){return{droppableId:c,type:u,isUsingCloneFor:C}}),[c,C,u]);return i.createElement(aC.Provider,{value:D},l(S,m),function(){if(!v)return null;var e=v.dragging,t=v.render,n=i.createElement(AC,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(function(n,r){return t(n,r,e)}));return s.createPortal(n,b())}())}));function DC(e){let{question:t,index:n,onChange:r}=e;return(0,Le.jsx)(EC,{draggableId:t.id,index:n,children:e=>(0,Le.jsx)("div",{ref:e.innerRef,...e.draggableProps,...e.dragHandleProps,style:{padding:"0.5rem",marginBottom:"0.5rem",background:"#f9f9f9",borderRadius:"6px",display:"flex",alignItems:"center",...e.draggableProps.style},className:"draggable-item",children:(0,Le.jsx)("input",{type:"text",value:t.text,onChange:e=>r(e.target.value),placeholder:"Enter question",style:{width:"100%",padding:"0.5rem",fontSize:"1rem"}})})})}function NC(e){let{group:t,index:n,setGroups:r}=e;const[o,a]=(0,i.useState)(t.groupName);return(0,Le.jsxs)("div",{style:{marginBottom:"2rem",padding:"1rem",border:"1px solid #ccc",borderRadius:"8px"},children:[(0,Le.jsx)("input",{type:"text",value:o,onChange:e=>{const n=e.target.value;a(n),r((e=>{const r=[...e];return r.find((e=>e.id===t.id)).groupName=n,r}))},style:{fontSize:"1.2rem",marginBottom:"1rem",width:"100%"}}),(0,Le.jsx)(CC,{droppableId:t.id,children:e=>(0,Le.jsxs)("div",{...e.droppableProps,ref:e.innerRef,children:[t.questions.map(((e,n)=>(0,Le.jsx)(DC,{question:e,index:n,onChange:n=>((e,n)=>{r((r=>{const i=[...r],o=i.find((e=>e.id===t.id)).questions.find((t=>t.id===e));return o.text=n,i}))})(e.id,n)},e.id))),e.placeholder]})}),(0,Le.jsx)("button",{style:{marginTop:"1rem"},onClick:()=>{const e={id:Date.now().toString(),text:""};r((n=>{const r=[...n];return r.find((e=>e.id===t.id)).questions.push(e),r}))},children:"+ Add Question"})]})}function TC(e){let{groups:t,setGroups:n}=e;return(0,Le.jsx)("div",{style:{marginTop:"2rem"},children:t.map(((e,t)=>(0,Le.jsx)(NC,{group:e,index:t,setGroups:n},e.id)))})}function kC(e){let{addGroup:t}=e;const[n,r]=(0,i.useState)("");return(0,Le.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,Le.jsx)("input",{type:"text",value:n,onChange:e=>r(e.target.value),placeholder:"New Group Name",style:{marginRight:"1rem"}}),(0,Le.jsx)("button",{onClick:()=>{n.trim()&&(t(n.trim()),r(""))},children:"Add Group"})]})}function OC(e){let{onSave:t,onClose:n}=e;const[r,o]=(0,i.useState)("");return(0,Le.jsx)("div",{className:"modal-overlay",children:(0,Le.jsxs)("div",{className:"modal",children:[(0,Le.jsx)("h3",{children:"Name Your Questionnaire Template"}),(0,Le.jsx)("input",{type:"text",value:r,onChange:e=>o(e.target.value),placeholder:"Ex: Modern Brand Discovery",style:{width:"80%",margin:"1rem 0"}}),(0,Le.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,Le.jsx)("button",{onClick:()=>{r.trim()&&t(r.trim())},className:"btn btn-primary",children:"Save Template"}),(0,Le.jsx)("button",{className:"btn btn-secondary",onClick:n,children:"Cancel"})]})]})})}CC.defaultProps=SC;const PC=async e=>{const t=Ub.currentUser;if(!t)throw new Error("No authenticated user found.");const n=`template-${Date.now()}`,r=gv(Gb,"users",t.uid,"questionnaireTemplates",n),i={...e,createdAt:my(),updatedAt:my()};return await hy(r,i),n};function RC(){const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!1),[o,a]=(0,i.useState)(!1);return(0,Le.jsxs)("div",{style:{padding:"2rem"},children:[(0,Le.jsx)("h2",{children:"Edit Grouped Questionnaire"}),(0,Le.jsx)(kC,{addGroup:e=>{const n={id:Date.now().toString(),groupName:e,questions:[]};t((e=>[...e,n]))}}),(0,Le.jsx)(US,{onDragEnd:e=>{},children:(0,Le.jsx)(TC,{groups:e,setGroups:t})}),(0,Le.jsx)("div",{style:{marginTop:"2rem"},children:(0,Le.jsx)("button",{onClick:()=>r(!0),disabled:o,children:o?"Saving...":"Save As Template"})}),n&&(0,Le.jsx)(OC,{onSave:async t=>{try{a(!0);const n={name:t,type:"branding",groups:e,createdAt:new Date};await PC(n),alert("Template saved successfully!")}catch(n){console.error("Error saving template:",n),alert("Failed to save template.")}finally{a(!1),r(!1)}},onClose:()=>r(!1)})]})}function _C(){const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(""),[o,a]=(0,i.useState)(!0),s=ne(),{type:l}=re(),[c]=_e(),u="true"===c.get("wizard");(0,i.useEffect)((()=>{(async()=>{try{const e=Ub.currentUser;if(!e)throw new Error("No authenticated user");const n=Kv(pv(Gb,"users",e.uid,"questionnaireTemplates"),Jv("type","==",l)),r=(await dy(n)).docs.map((e=>({id:e.id,...e.data()})));r.unshift({id:"default",name:"Default Template",groups:Jb}),t(r)}catch(e){console.error("Error loading templates:",e)}finally{a(!1)}})()}),[l]);return o?(0,Le.jsx)("p",{children:"Loading templates..."}):(0,Le.jsxs)("div",{style:{padding:"2rem"},children:[(0,Le.jsx)("h2",{children:u?`Choose a ${l.charAt(0).toUpperCase()+l.slice(1)} Template`:`Create New ${l.charAt(0).toUpperCase()+l.slice(1)} Template`}),0===e.length?(0,Le.jsx)("div",{style:{marginBottom:"2rem"},children:(0,Le.jsx)("p",{children:"No templates found. You can start with a default template."})}):(0,Le.jsxs)(Le.Fragment,{children:[(0,Le.jsx)("div",{children:(0,Le.jsxs)("select",{value:n,onChange:e=>r(e.target.value),style:{width:"100%",padding:"1rem",fontSize:"1rem",marginBottom:"1rem"},children:[(0,Le.jsx)("option",{value:"",children:"Select a template to start from"}),e.map((e=>(0,Le.jsx)("option",{value:e.id,children:e.name},e.id)))]})}),(0,Le.jsx)("button",{onClick:()=>{n&&s(u?`/wizard/${l}/${n}`:`/template/create/${l}?baseTemplate=${n}`)},disabled:!n,className:"btn-primary",children:u?"Continue With Selected Template":"Use As Starting Point"})]}),(0,Le.jsx)("div",{style:{marginTop:"2rem"},children:(0,Le.jsx)("button",{onClick:()=>{s(u?`/wizard/${l}/default`:`/template/create/${l}`)},className:"btn-secondary",children:u?"Start With Default Brief":"Start Fresh"})})]})}const LC=JSON.parse('{"branding":[{"id":"b1","text":"What is your company name?"},{"id":"b2","text":"Who is your target audience?"},{"id":"b3","text":"What style of logo do you prefer?"}],"website":[{"id":"w1","text":"What is the primary purpose of your website?"},{"id":"w2","text":"What features does your website need?"}],"app":[{"id":"a1","text":"Describe your app concept."},{"id":"a2","text":"What platforms will your app support?"}]}');function MC(){const{type:e,templateId:t}=re(),[n,r]=(0,i.useState)(!0),[o,a]=(0,i.useState)([]),[s,l]=(0,i.useState)("");return(0,i.useEffect)((()=>{(async()=>{try{if("default"===t)a(LC[e]||[]);else{const e=Ub.currentUser;if(!e)throw new Error("No user authenticated.");const n=gv(Gb,"users",e.uid,"questionnaireTemplates",t),r=await cy(n);if(!r.exists())throw new Error("Template not found.");const i=r.data().groups.flatMap((e=>e.questions));a(i)}}catch(n){console.error("Error loading project:",n),l(n.message)}finally{r(!1)}})()}),[e,t]),n?(0,Le.jsx)("p",{children:"Loading brief..."}):s?(0,Le.jsxs)("p",{style:{color:"red"},children:["Error: ",s]}):(0,Le.jsx)("div",{style:{padding:"2rem"},children:(0,Le.jsx)(Xb,{initialQuestions:o})})}function jC(){var e;const{briefId:t}=re(),[n,r]=(0,i.useState)(null),[o,a]=(0,i.useState)(!0),[s,l]=(0,i.useState)(null),c=ne();if((0,i.useEffect)((()=>{(async()=>{try{const e=gv(Gb,"creativeBriefs",t),n=await cy(e);if(!n.exists())throw new Error("Brief not found.");r(n.data())}catch(e){console.error("Error loading brief:",e),l("Failed to load brief.")}finally{a(!1)}})()}),[t]),o)return(0,Le.jsx)(Qb,{message:"Fetching brief details..."});if(s)return(0,Le.jsx)("p",{style:{color:"red"},children:s});const{type:u,createdAt:d,answers:h}=n;return(0,Le.jsxs)("div",{style:{maxWidth:"800px",margin:"0 auto",padding:"2rem"},children:[(0,Le.jsx)("button",{onClick:()=>c(-1),style:{marginBottom:"1rem"},children:"\u2190 Back"}),(0,Le.jsxs)("h2",{children:[(null===u||void 0===u?void 0:u.charAt(0).toUpperCase())+(null===u||void 0===u?void 0:u.slice(1))," Brief"]}),(0,Le.jsxs)("p",{style:{fontStyle:"italic",marginBottom:"2rem"},children:["Created: ",null===d||void 0===d||null===(e=d.toDate)||void 0===e?void 0:e.call(d).toLocaleDateString()]}),h?(0,Le.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:Object.entries(h).map((e=>{let[t,n]=e;return(0,Le.jsxs)("div",{style:{borderBottom:"1px solid #ddd",paddingBottom:"0.5rem"},children:[(0,Le.jsxs)("strong",{children:["Question ID: ",t]}),(0,Le.jsxs)("p",{children:["Answer: ",n]})]},t)}))}):(0,Le.jsx)("p",{children:"No answers recorded."})]})}function BC(e){let{questions:t,setQuestions:n}=e;return(0,Le.jsx)(US,{onDragEnd:e=>{if(!e.destination)return;const r=Array.from(t),[i]=r.splice(e.source.index,1);r.splice(e.destination.index,0,i),n(r)},children:(0,Le.jsx)(CC,{droppableId:"questions",children:e=>(0,Le.jsxs)("ul",{...e.droppableProps,ref:e.innerRef,style:{padding:0,listStyle:"none",marginBottom:"2rem"},children:[t.map(((e,t)=>(0,Le.jsx)(EC,{draggableId:e.id,index:t,children:t=>(0,Le.jsx)("li",{ref:t.innerRef,...t.draggableProps,...t.dragHandleProps,style:{...t.draggableProps.style,padding:"1rem",marginBottom:"0.5rem",background:"#f2f2f2",borderRadius:"6px",cursor:"grab"},className:"draggable-item",children:e.text})},e.id))),e.placeholder]})})})}function FC(){const[e]=_e(),[t,n]=(0,i.useState)([]);(0,i.useEffect)((()=>{const t=e.get("useDefaults"),r=e.get("empty");e.get("templateId");"true"===t?n(Jb):"true"===r&&n([])}),[e]);return(0,Le.jsxs)("div",{style:{padding:"2rem"},children:[(0,Le.jsx)("h1",{children:"Create New Questionnaire"}),(0,Le.jsx)(US,{onDragEnd:e=>{if(!e.destination)return;const r=Array.from(t),[i]=r.splice(e.source.index,1);r.splice(e.destination.index,0,i),n(r)},children:(0,Le.jsx)(BC,{questions:t,setQuestions:n})})]})}function UC(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var GC=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),zC=()=>Math.random().toString(36).substring(7).split("").join("."),WC={INIT:`@@redux/INIT${zC()}`,REPLACE:`@@redux/REPLACE${zC()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${zC()}`};function VC(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function HC(e,t,n){if("function"!==typeof e)throw new Error(UC(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(UC(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(UC(1));return n(HC)(e,t)}let r=e,i=t,o=new Map,a=o,s=0,l=!1;function c(){a===o&&(a=new Map,o.forEach(((e,t)=>{a.set(t,e)})))}function u(){if(l)throw new Error(UC(3));return i}function d(e){if("function"!==typeof e)throw new Error(UC(4));if(l)throw new Error(UC(5));let t=!0;c();const n=s++;return a.set(n,e),function(){if(t){if(l)throw new Error(UC(6));t=!1,c(),a.delete(n),o=null}}}function h(e){if(!VC(e))throw new Error(UC(7));if("undefined"===typeof e.type)throw new Error(UC(8));if("string"!==typeof e.type)throw new Error(UC(17));if(l)throw new Error(UC(9));try{l=!0,i=r(i,e)}finally{l=!1}return(o=a).forEach((e=>{e()})),e}h({type:WC.INIT});return{dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(UC(10));r=e,h({type:WC.REPLACE})},[GC]:function(){const e=d;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(UC(11));function n(){const e=t;e.next&&e.next(u())}n();return{unsubscribe:e(n)}},[GC](){return this}}}}}function qC(e,t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t(e.apply(this,r))}}function QC(e,t){if("function"===typeof e)return qC(e,t);if("object"!==typeof e||null===e)throw new Error(UC(16));const n={};for(const r in e){const i=e[r];"function"===typeof i&&(n[r]=qC(i,t))}return n}function KC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce(((e,t)=>function(){return e(t(...arguments))}))}n(237);var YC=i.version.startsWith("19"),JC=Symbol.for(YC?"react.transitional.element":"react.element"),XC=Symbol.for("react.portal"),$C=Symbol.for("react.fragment"),ZC=Symbol.for("react.strict_mode"),eD=Symbol.for("react.profiler"),tD=Symbol.for("react.consumer"),nD=Symbol.for("react.context"),rD=Symbol.for("react.forward_ref"),iD=Symbol.for("react.suspense"),oD=Symbol.for("react.suspense_list"),aD=Symbol.for("react.memo"),sD=Symbol.for("react.lazy"),lD=rD,cD=aD;function uD(e){if("object"===typeof e&&null!==e){const{$$typeof:t}=e;switch(t){case JC:switch(e=e.type){case $C:case eD:case ZC:case iD:case oD:return e;default:switch(e=e&&e.$$typeof){case nD:case rD:case sD:case aD:case tD:return e;default:return t}}case XC:return t}}}function dD(e,t,n,r,i){let o,a,s,l,c,{areStatesEqual:u,areOwnPropsEqual:d,areStatePropsEqual:h}=i,f=!1;function p(i,f){const p=!d(f,a),g=!u(i,o,f,a);return o=i,a=f,p&&g?(s=e(o,a),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a),c):p?(e.dependsOnOwnProps&&(s=e(o,a)),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a),c):g?function(){const t=e(o,a),r=!h(t,s);return s=t,r&&(c=n(s,l,a)),c}():c}return function(i,u){return f?p(i,u):(o=i,a=u,s=e(o,a),l=t(r,a),c=n(s,l,a),f=!0,c)}}function hD(e){return function(t){const n=e(t);function r(){return n}return r.dependsOnOwnProps=!1,r}}function fD(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function pD(e,t){return function(t,n){let{displayName:r}=n;const i=function(e,t){return i.dependsOnOwnProps?i.mapToProps(e,t):i.mapToProps(e,void 0)};return i.dependsOnOwnProps=!0,i.mapToProps=function(t,n){i.mapToProps=e,i.dependsOnOwnProps=fD(e);let r=i(t,n);return"function"===typeof r&&(i.mapToProps=r,i.dependsOnOwnProps=fD(r),r=i(t,n)),r},i}}function gD(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function mD(e,t,n){return{...n,...e,...t}}function vD(e){e()}var yD={notify(){},get:()=>[]};function bD(e,t){let n,r=yD,i=0,o=!1;function a(){c.onStateChange&&c.onStateChange()}function s(){i++,n||(n=t?t.addNestedSub(a):e.subscribe(a),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){vD((()=>{let t=e;for(;t;)t.callback(),t=t.next}))},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function l(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=yD)}const c={addNestedSub:function(e){s();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:a,isSubscribed:function(){return o},trySubscribe:function(){o||(o=!0,s())},tryUnsubscribe:function(){o&&(o=!1,l())},getListeners:()=>r};return c}var wD=(()=>!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement))(),AD=(()=>"undefined"!==typeof navigator&&"ReactNative"===navigator.product)(),ED=(()=>wD||AD?i.useLayoutEffect:i.useEffect)();function xD(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function ID(e,t){if(xD(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!xD(e[n[i]],t[n[i]]))return!1;return!0}var SD={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},CD={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},DD={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ND={[lD]:{$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},[cD]:DD};function TD(e){return uD(e)===aD?DD:ND[e.$$typeof]||SD}var kD=Object.defineProperty,OD=Object.getOwnPropertyNames,PD=Object.getOwnPropertySymbols,RD=Object.getOwnPropertyDescriptor,_D=Object.getPrototypeOf,LD=Object.prototype;function MD(e,t){if("string"!==typeof t){if(LD){const n=_D(t);n&&n!==LD&&MD(e,n)}let n=OD(t);PD&&(n=n.concat(PD(t)));const r=TD(e),i=TD(t);for(let o=0;o<n.length;++o){const a=n[o];if(!CD[a]&&(!i||!i[a])&&(!r||!r[a])){const n=RD(t,a);try{kD(e,a,n)}catch(YP){}}}}return e}var jD=Symbol.for("react-redux-context"),BD="undefined"!==typeof globalThis?globalThis:{};function FD(){if(!i.createContext)return{};const e=BD[jD]??=new Map;let t=e.get(i.createContext);return t||(t=i.createContext(null),e.set(i.createContext,t)),t}var UD=FD(),GD=[null,null];function zD(e,t,n,r,i,o){e.current=r,n.current=!1,i.current&&(i.current=null,o())}function WD(e,t){return e===t}var VD=function(e,t,n){let{pure:r,areStatesEqual:o=WD,areOwnPropsEqual:a=ID,areStatePropsEqual:s=ID,areMergedPropsEqual:l=ID,forwardRef:c=!1,context:u=UD}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const d=u,h=function(e){return e?"function"===typeof e?pD(e):gD(e,"mapStateToProps"):hD((()=>({})))}(e),f=function(e){return e&&"object"===typeof e?hD((t=>function(e,t){const n={};for(const r in e){const i=e[r];"function"===typeof i&&(n[r]=function(){return t(i(...arguments))})}return n}(e,t))):e?"function"===typeof e?pD(e):gD(e,"mapDispatchToProps"):hD((e=>({dispatch:e})))}(t),p=function(e){return e?"function"===typeof e?function(e){return function(t,n){let r,{displayName:i,areMergedPropsEqual:o}=n,a=!1;return function(t,n,i){const s=e(t,n,i);return a?o(s,r)||(r=s):(a=!0,r=s),r}}}(e):gD(e,"mergeProps"):()=>mD}(n),g=Boolean(e);return e=>{const t=e.displayName||e.name||"Component",n=`Connect(${t})`,r={shouldHandleStateChanges:g,displayName:n,wrappedComponentName:t,WrappedComponent:e,initMapStateToProps:h,initMapDispatchToProps:f,initMergeProps:p,areStatesEqual:o,areStatePropsEqual:s,areOwnPropsEqual:a,areMergedPropsEqual:l};function u(t){const[n,o,a]=i.useMemo((()=>{const{reactReduxForwardedRef:e,...n}=t;return[t.context,e,n]}),[t]),s=i.useMemo((()=>d),[n,d]),l=i.useContext(s),c=Boolean(t.store)&&Boolean(t.store.getState)&&Boolean(t.store.dispatch),u=Boolean(l)&&Boolean(l.store);const h=c?t.store:l.store,f=u?l.getServerState:h.getState,p=i.useMemo((()=>function(e,t){let{initMapStateToProps:n,initMapDispatchToProps:r,initMergeProps:i,...o}=t;return dD(n(e,o),r(e,o),i(e,o),e,o)}(h.dispatch,r)),[h]),[m,v]=i.useMemo((()=>{if(!g)return GD;const e=bD(h,c?void 0:l.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[h,c,l]),y=i.useMemo((()=>c?l:{...l,subscription:m}),[c,l,m]),b=i.useRef(void 0),w=i.useRef(a),A=i.useRef(void 0),E=i.useRef(!1),x=i.useRef(!1),I=i.useRef(void 0);ED((()=>(x.current=!0,()=>{x.current=!1})),[]);const S=i.useMemo((()=>()=>A.current&&a===w.current?A.current:p(h.getState(),a)),[h,a]),C=i.useMemo((()=>e=>m?function(e,t,n,r,i,o,a,s,l,c,u){if(!e)return()=>{};let d=!1,h=null;const f=()=>{if(d||!s.current)return;const e=t.getState();let n,f;try{n=r(e,i.current)}catch(YP){f=YP,h=YP}f||(h=null),n===o.current?a.current||c():(o.current=n,l.current=n,a.current=!0,u())};return n.onStateChange=f,n.trySubscribe(),f(),()=>{if(d=!0,n.tryUnsubscribe(),n.onStateChange=null,h)throw h}}(g,h,m,p,w,b,E,x,A,v,e):()=>{}),[m]);var D,N,T;let k;D=zD,N=[w,b,E,a,A,v],ED((()=>D(...N)),T);try{k=i.useSyncExternalStore(C,S,f?()=>p(f(),a):S)}catch(P){throw I.current&&(P.message+=`\nThe error may be correlated with this previous error:\n${I.current.stack}\n\n`),P}ED((()=>{I.current=void 0,A.current=void 0,b.current=k}));const O=i.useMemo((()=>i.createElement(e,{...k,ref:o})),[o,e,k]);return i.useMemo((()=>g?i.createElement(s.Provider,{value:y},O):O),[s,O,y])}const m=i.memo(u);if(m.WrappedComponent=e,m.displayName=u.displayName=n,c){const t=i.forwardRef((function(e,t){return i.createElement(m,{...e,reactReduxForwardedRef:t})})),r=t;return r.displayName=n,r.WrappedComponent=e,MD(r,e)}return MD(m,e)}};var HD=function(e){const{children:t,context:n,serverState:r,store:o}=e,a=i.useMemo((()=>{const e=bD(o);return{store:o,subscription:e,getServerState:r?()=>r:void 0}}),[o,r]),s=i.useMemo((()=>o.getState()),[o]);ED((()=>{const{subscription:e}=a;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==o.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[a,s]);const l=n||UD;return i.createElement(l.Provider,{value:a},t)};function qD(e,t){}qD.bind(null,"warn"),qD.bind(null,"error");function QD(){}function KD(e,t,n){const r=t.map((t=>{const r=function(e,t){return{...e,...t}}(n,t.options);return e.addEventListener(t.eventName,t.fn,r),function(){e.removeEventListener(t.eventName,t.fn,r)}}));return function(){r.forEach((e=>{e()}))}}const YD="Invariant failed";class JD extends Error{}function XD(e,t){throw new JD(YD)}JD.prototype.toString=function(){return this.message};class $D extends i.Component{constructor(){super(...arguments),this.callbacks=null,this.unbind=QD,this.onWindowError=e=>{const t=this.getCallbacks();t.isDragging()&&t.tryAbort();e.error instanceof JD&&e.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=e=>{this.callbacks=e}}componentDidMount(){this.unbind=KD(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(!(e instanceof JD))throw e;this.setState({})}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const ZD=e=>e+1,eN=(e,t)=>{const n=e.droppableId===t.droppableId,r=ZD(e.index),i=ZD(t.index);return n?`\n      You have moved the item from position ${r}\n      to position ${i}\n    `:`\n    You have moved the item from position ${r}\n    in list ${e.droppableId}\n    to list ${t.droppableId}\n    in position ${i}\n  `},tN=(e,t,n)=>t.droppableId===n.droppableId?`\n      The item ${e}\n      has been combined with ${n.draggableId}`:`\n      The item ${e}\n      in list ${t.droppableId}\n      has been combined with ${n.draggableId}\n      in list ${n.droppableId}\n    `,nN=e=>`\n  The item has returned to its starting position\n  of ${ZD(e.index)}\n`,rN={dragHandleUsageInstructions:"\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",onDragStart:e=>`\n  You have lifted an item in position ${ZD(e.source.index)}\n`,onDragUpdate:e=>{const t=e.destination;if(t)return eN(e.source,t);const n=e.combine;return n?tN(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},onDragEnd:e=>{if("CANCEL"===e.reason)return`\n      Movement cancelled.\n      ${nN(e.source)}\n    `;const t=e.destination,n=e.combine;return t?`\n      You have dropped the item.\n      ${eN(e.source,t)}\n    `:n?`\n      You have dropped the item.\n      ${tN(e.draggableId,e.source,n)}\n    `:`\n    The item has been dropped while not over a drop area.\n    ${nN(e.source)}\n  `}};function iN(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(n=e[i],r=t[i],!(n===r||Number.isNaN(n)&&Number.isNaN(r)))return!1;var n,r;return!0}function oN(e,t){const n=(0,i.useState)((()=>({inputs:t,result:e()})))[0],r=(0,i.useRef)(!0),o=(0,i.useRef)(n),a=r.current||Boolean(t&&o.current.inputs&&iN(t,o.current.inputs))?o.current:{inputs:t,result:e()};return(0,i.useEffect)((()=>{r.current=!1,o.current=a}),[a]),a.result}function aN(e,t){return oN((()=>e),t)}const sN={x:0,y:0},lN=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),cN=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),uN=(e,t)=>e.x===t.x&&e.y===t.y,dN=e=>({x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}),hN=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return"x"===e?{x:t,y:n}:{x:n,y:t}},fN=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),pN=(e,t)=>Math.min(...t.map((t=>fN(e,t)))),gN=e=>t=>({x:e(t.x),y:e(t.y)});const mN=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),vN=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],yN=(e,t)=>t&&t.shouldClipSubject?((e,t)=>{const n=wA({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n})(t.pageMarginBox,e):wA(e);var bN=e=>{let{page:t,withPlaceholder:n,axis:r,frame:i}=e;const o=((e,t)=>t?mN(e,t.scroll.diff.displacement):e)(t.marginBox,i),a=((e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e)(o,r,n);return{page:t,withPlaceholder:n,active:yN(a,i)}},wN=(e,t)=>{e.frame||XD();const n=e.frame,r=cN(t,n.scroll.initial),i=dN(r),o={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}},a=bN({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o});return{...e,frame:o,subject:a}};function AN(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:iN,n=null;function r(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;const a=e.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){n=null},r}const EN=AN((e=>e.reduce(((e,t)=>(e[t.descriptor.id]=t,e)),{}))),xN=AN((e=>e.reduce(((e,t)=>(e[t.descriptor.id]=t,e)),{}))),IN=AN((e=>Object.values(e))),SN=AN((e=>Object.values(e)));var CN=AN(((e,t)=>{const n=SN(t).filter((t=>e===t.descriptor.droppableId)).sort(((e,t)=>e.descriptor.index-t.descriptor.index));return n}));function DN(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function NN(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var TN=AN(((e,t)=>t.filter((t=>t.descriptor.id!==e.descriptor.id)))),kN=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const ON={point:sN,value:0},PN={invisible:{},visible:{},all:[]},RN={displaced:PN,displacedBy:ON,at:null};var _N=(e,t)=>n=>e<=n&&n<=t,LN=e=>{const t=_N(e.top,e.bottom),n=_N(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const i=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(i&&o)return!0;const a=r.top<e.top&&r.bottom>e.bottom,s=r.left<e.left&&r.right>e.right;if(a&&s)return!0;return a&&o||s&&i}},MN=e=>{const t=_N(e.top,e.bottom),n=_N(e.left,e.right);return e=>t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)};const jN={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},BN={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};const FN=e=>{let{target:t,destination:n,viewport:r,withDroppableDisplacement:i,isVisibleThroughFrameFn:o}=e;const a=i?((e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:sN;return mN(e,n)})(t,n):t;return((e,t,n)=>!!t.subject.active&&n(t.subject.active)(e))(a,n,o)&&((e,t,n)=>n(t)(e))(a,r,o)},UN=e=>FN({...e,isVisibleThroughFrameFn:MN});function GN(e){let{afterDragging:t,destination:n,displacedBy:r,viewport:i,forceShouldAnimate:o,last:a}=e;return t.reduce((function(e,t){const s=function(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return wA(AA(n,r))}(t,r),l=t.descriptor.id;e.all.push(l);var c;if(!(c={target:s,destination:n,viewport:i,withDroppableDisplacement:!0},FN({...c,isVisibleThroughFrameFn:LN})))return e.invisible[t.descriptor.id]=!0,e;const u=((e,t,n)=>{if("boolean"===typeof n)return n;if(!t)return!0;const{invisible:r,visible:i}=t;if(r[e])return!1;const o=i[e];return!o||o.shouldAnimate})(l,a,o),d={draggableId:l,shouldAnimate:u};return e.visible[l]=d,e}),{all:[],visible:{},invisible:{}})}function zN(e){let{insideDestination:t,inHomeList:n,displacedBy:r,destination:i}=e;const o=function(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(t,{inHomeList:n});return{displaced:PN,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:o}}}}function WN(e){let{draggable:t,insideDestination:n,destination:r,viewport:i,displacedBy:o,last:a,index:s,forceShouldAnimate:l}=e;const c=kN(t,r);if(null==s)return zN({insideDestination:n,inHomeList:c,displacedBy:o,destination:r});const u=n.find((e=>e.descriptor.index===s));if(!u)return zN({insideDestination:n,inHomeList:c,displacedBy:o,destination:r});const d=TN(t,n),h=n.indexOf(u);return{displaced:GN({afterDragging:d.slice(h),destination:r,displacedBy:o,last:a,viewport:i.frame,forceShouldAnimate:l}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function VN(e,t){return Boolean(t.effected[e])}var HN=e=>{let{isMovingForward:t,isInHomeList:n,draggable:r,draggables:i,destination:o,insideDestination:a,previousImpact:s,viewport:l,afterCritical:c}=e;const u=s.at;if(u||XD(),"REORDER"===u.type){const e=(e=>{let{isMovingForward:t,isInHomeList:n,insideDestination:r,location:i}=e;if(!r.length)return null;const o=i.index,a=t?o+1:o-1,s=r[0].descriptor.index,l=r[r.length-1].descriptor.index;return a<s||a>(n?l:l+1)?null:a})({isMovingForward:t,isInHomeList:n,location:u.destination,insideDestination:a});return null==e?null:WN({draggable:r,insideDestination:a,destination:o,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:e})}const d=(e=>{let{isMovingForward:t,destination:n,draggables:r,combine:i,afterCritical:o}=e;if(!n.isCombineEnabled)return null;const a=i.draggableId,s=r[a].descriptor.index;return VN(a,o)?t?s:s-1:t?s+1:s})({isMovingForward:t,destination:o,displaced:s.displaced,draggables:i,combine:u.combine,afterCritical:c});return null==d?null:WN({draggable:r,insideDestination:a,destination:o,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:d})},qN=e=>{let{afterCritical:t,impact:n,draggables:r}=e;const i=NN(n);i||XD();const o=i.draggableId,a=r[o].page.borderBox.center,s=(e=>{let{displaced:t,afterCritical:n,combineWith:r,displacedBy:i}=e;const o=Boolean(t.visible[r]||t.invisible[r]);return VN(r,n)?o?sN:dN(i.point):o?i.point:sN})({displaced:n.displaced,afterCritical:t,combineWith:o,displacedBy:n.displacedBy});return lN(a,s)};const QN=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,KN=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,YN=e=>{let{axis:t,moveRelativeTo:n,isMoving:r}=e;return hN(t.line,n.marginBox[t.end]+QN(t,r),KN(t,n.marginBox,r))},JN=e=>{let{axis:t,moveRelativeTo:n,isMoving:r}=e;return hN(t.line,n.marginBox[t.start]-((e,t)=>t.margin[e.end]+t.borderBox[e.size]/2)(t,r),KN(t,n.marginBox,r))};var XN=e=>{let{impact:t,draggable:n,draggables:r,droppable:i,afterCritical:o}=e;const a=CN(i.descriptor.id,r),s=n.page,l=i.axis;if(!a.length)return(e=>{let{axis:t,moveInto:n,isMoving:r}=e;return hN(t.line,n.contentBox[t.start]+QN(t,r),KN(t,n.contentBox,r))})({axis:l,moveInto:i.page,isMoving:s});const{displaced:c,displacedBy:u}=t,d=c.all[0];if(d){const e=r[d];if(VN(d,o))return JN({axis:l,moveRelativeTo:e.page,isMoving:s});const t=CA(e.page,u.point);return JN({axis:l,moveRelativeTo:t,isMoving:s})}const h=a[a.length-1];if(h.descriptor.id===n.descriptor.id)return s.borderBox.center;if(VN(h.descriptor.id,o)){const e=CA(h.page,dN(o.displacedBy.point));return YN({axis:l,moveRelativeTo:e,isMoving:s})}return YN({axis:l,moveRelativeTo:h.page,isMoving:s})},$N=(e,t)=>{const n=e.frame;return n?lN(t,n.scroll.diff.displacement):t};var ZN=e=>{const t=(e=>{let{impact:t,draggable:n,droppable:r,draggables:i,afterCritical:o}=e;const a=n.page.borderBox.center,s=t.at;return r&&s?"REORDER"===s.type?XN({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:o}):qN({impact:t,draggables:i,afterCritical:o}):a})(e),n=e.droppable;return n?$N(n,t):t},eT=(e,t)=>{const n=cN(t,e.scroll.initial),r=dN(n);return{frame:wA({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function tT(e,t){return e.map((e=>t[e]))}var nT=e=>{let{pageBorderBoxCenter:t,draggable:n,viewport:r}=e;const i=((e,t)=>lN(e.scroll.diff.displacement,t))(r,t),o=cN(i,n.page.borderBox.center);return lN(n.client.borderBox.center,o)},rT=e=>{let{draggable:t,destination:n,newPageBorderBoxCenter:r,viewport:i,withDroppableDisplacement:o,onlyOnMainAxis:a=!1}=e;const s=cN(r,t.page.borderBox.center),l={target:mN(t.page.borderBox,s),destination:n,withDroppableDisplacement:o,viewport:i};return a?(e=>{return FN({...e,isVisibleThroughFrameFn:(t=e.destination.axis,e=>{const n=_N(e.top,e.bottom),r=_N(e.left,e.right);return e=>t===jN?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)})});var t})(l):UN(l)},iT=e=>{let{isMovingForward:t,draggable:n,destination:r,draggables:i,previousImpact:o,viewport:a,previousPageBorderBoxCenter:s,previousClientSelection:l,afterCritical:c}=e;if(!r.isEnabled)return null;const u=CN(r.descriptor.id,i),d=kN(n,r),h=(e=>{let{isMovingForward:t,draggable:n,destination:r,insideDestination:i,previousImpact:o}=e;if(!r.isCombineEnabled)return null;if(!DN(o))return null;function a(e){const t={type:"COMBINE",combine:{draggableId:e,droppableId:r.descriptor.id}};return{...o,at:t}}const s=o.displaced.all,l=s.length?s[0]:null;if(t)return l?a(l):null;const c=TN(n,i);if(!l)return c.length?a(c[c.length-1].descriptor.id):null;const u=c.findIndex((e=>e.descriptor.id===l));-1===u&&XD();const d=u-1;return d<0?null:a(c[d].descriptor.id)})({isMovingForward:t,draggable:n,destination:r,insideDestination:u,previousImpact:o})||HN({isMovingForward:t,isInHomeList:d,draggable:n,draggables:i,destination:r,insideDestination:u,previousImpact:o,viewport:a,afterCritical:c});if(!h)return null;const f=ZN({impact:h,draggable:n,droppable:r,draggables:i,afterCritical:c});if(rT({draggable:n,destination:r,newPageBorderBoxCenter:f,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})){return{clientSelection:nT({pageBorderBoxCenter:f,draggable:n,viewport:a}),impact:h,scrollJumpRequest:null}}const p=cN(f,s),g=(e=>{let{impact:t,viewport:n,destination:r,draggables:i,maxScrollChange:o}=e;const a=eT(n,lN(n.scroll.current,o)),s=r.frame?wN(r,lN(r.frame.scroll.current,o)):r,l=t.displaced,c=GN({afterDragging:tT(l.all,i),destination:r,displacedBy:t.displacedBy,viewport:a.frame,last:l,forceShouldAnimate:!1}),u=GN({afterDragging:tT(l.all,i),destination:s,displacedBy:t.displacedBy,viewport:n.frame,last:l,forceShouldAnimate:!1}),d={},h={},f=[l,c,u];return l.all.forEach((e=>{const t=function(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}(e,f);t?h[e]=t:d[e]=!0})),{...t,displaced:{all:l.all,invisible:d,visible:h}}})({impact:h,viewport:a,destination:r,draggables:i,maxScrollChange:p});return{clientSelection:l,impact:g,scrollJumpRequest:p}};const oT=e=>{const t=e.subject.active;return t||XD(),t};const aT=(e,t)=>{const n=e.page.borderBox.center;return VN(e.descriptor.id,t)?cN(n,t.displacedBy.point):n},sT=(e,t)=>{const n=e.page.borderBox;return VN(e.descriptor.id,t)?mN(n,dN(t.displacedBy.point)):n};var lT=AN((function(e,t){const n=t[e.line];return{value:n,point:hN(e.line,n)}}));const cT=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),uT=(e,t,n)=>{const r=e.frame;kN(t,e)&&XD(),e.subject.withPlaceholder&&XD();const i=lT(e.axis,t.displaceBy).point,o=((e,t,n)=>{const r=e.axis;if("virtual"===e.descriptor.mode)return hN(r.line,t[r.line]);const i=e.subject.page.contentBox[r.size],o=CN(e.descriptor.id,n).reduce(((e,t)=>e+t.client.marginBox[r.size]),0)+t[r.line]-i;return o<=0?null:hN(r.line,o)})(e,i,n),a={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const t=bN({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame});return{...e,subject:t}}const s=o?lN(r.scroll.max,o):r.scroll.max,l=cT(r,s),c=bN({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:l});return{...e,subject:c,frame:l}};var dT=e=>{let{isMovingForward:t,previousPageBorderBoxCenter:n,draggable:r,isOver:i,draggables:o,droppables:a,viewport:s,afterCritical:l}=e;const c=(e=>{let{isMovingForward:t,pageBorderBoxCenter:n,source:r,droppables:i,viewport:o}=e;const a=r.subject.active;if(!a)return null;const s=r.axis,l=_N(a[s.start],a[s.end]),c=IN(i).filter((e=>e!==r)).filter((e=>e.isEnabled)).filter((e=>Boolean(e.subject.active))).filter((e=>LN(o.frame)(oT(e)))).filter((e=>{const n=oT(e);return t?a[s.crossAxisEnd]<n[s.crossAxisEnd]:n[s.crossAxisStart]<a[s.crossAxisStart]})).filter((e=>{const t=oT(e),n=_N(t[s.start],t[s.end]);return l(t[s.start])||l(t[s.end])||n(a[s.start])||n(a[s.end])})).sort(((e,n)=>{const r=oT(e)[s.crossAxisStart],i=oT(n)[s.crossAxisStart];return t?r-i:i-r})).filter(((e,t,n)=>oT(e)[s.crossAxisStart]===oT(n[0])[s.crossAxisStart]));if(!c.length)return null;if(1===c.length)return c[0];const u=c.filter((e=>_N(oT(e)[s.start],oT(e)[s.end])(n[s.line])));return 1===u.length?u[0]:u.length>1?u.sort(((e,t)=>oT(e)[s.start]-oT(t)[s.start]))[0]:c.sort(((e,t)=>{const r=pN(n,vN(oT(e))),i=pN(n,vN(oT(t)));return r!==i?r-i:oT(e)[s.start]-oT(t)[s.start]}))[0]})({isMovingForward:t,pageBorderBoxCenter:n,source:i,droppables:a,viewport:s});if(!c)return null;const u=CN(c.descriptor.id,o),d=(e=>{let{pageBorderBoxCenter:t,viewport:n,destination:r,insideDestination:i,afterCritical:o}=e;const a=i.filter((e=>UN({target:sT(e,o),destination:r,viewport:n.frame,withDroppableDisplacement:!0}))).sort(((e,n)=>{const i=fN(t,$N(r,aT(e,o))),a=fN(t,$N(r,aT(n,o)));return i<a?-1:a<i?1:e.descriptor.index-n.descriptor.index}));return a[0]||null})({pageBorderBoxCenter:n,viewport:s,destination:c,insideDestination:u,afterCritical:l}),h=(e=>{let{previousPageBorderBoxCenter:t,moveRelativeTo:n,insideDestination:r,draggable:i,draggables:o,destination:a,viewport:s,afterCritical:l}=e;if(!n){if(r.length)return null;const e={displaced:PN,displacedBy:ON,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},t=ZN({impact:e,draggable:i,droppable:a,draggables:o,afterCritical:l}),n=kN(i,a)?a:uT(a,i,o);return rT({draggable:i,destination:n,newPageBorderBoxCenter:t,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?e:null}const c=Boolean(t[a.axis.line]<=n.page.borderBox.center[a.axis.line]),u=(()=>{const e=n.descriptor.index;return n.descriptor.id===i.descriptor.id||c?e:e+1})(),d=lT(a.axis,i.displaceBy);return WN({draggable:i,insideDestination:r,destination:a,viewport:s,displacedBy:d,last:PN,index:u})})({previousPageBorderBoxCenter:n,destination:c,draggable:r,draggables:o,moveRelativeTo:d,insideDestination:u,viewport:s,afterCritical:l});if(!h)return null;const f=ZN({impact:h,draggable:r,droppable:c,draggables:o,afterCritical:l});return{clientSelection:nT({pageBorderBoxCenter:f,draggable:r,viewport:s}),impact:h,scrollJumpRequest:null}},hT=e=>{const t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null};var fT=e=>{let{state:t,type:n}=e;const r=((e,t)=>{const n=hT(e);return n?t[n]:null})(t.impact,t.dimensions.droppables),i=Boolean(r),o=t.dimensions.droppables[t.critical.droppable.id],a=r||o,s=a.axis.direction,l="vertical"===s&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===s&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(l&&!i)return null;const c="MOVE_DOWN"===n||"MOVE_RIGHT"===n,u=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,{draggables:h,droppables:f}=t.dimensions;return l?iT({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,destination:a,draggables:h,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):dT({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,isOver:a,draggables:h,droppables:f,viewport:t.viewport,afterCritical:t.afterCritical})};function pT(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function gT(e){const t=_N(e.top,e.bottom),n=_N(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}function mT(e){let{pageBorderBox:t,draggable:n,droppables:r}=e;const i=IN(r).filter((e=>{if(!e.isEnabled)return!1;const n=e.subject.active;if(!n)return!1;if(i=n,!((r=t).left<i.right&&r.right>i.left&&r.top<i.bottom&&r.bottom>i.top))return!1;var r,i;if(gT(n)(t.center))return!0;const o=e.axis,a=n.center[o.crossAxisLine],s=t[o.crossAxisStart],l=t[o.crossAxisEnd],c=_N(n[o.crossAxisStart],n[o.crossAxisEnd]),u=c(s),d=c(l);return!u&&!d||(u?s<a:l>a)}));return i.length?1===i.length?i[0].descriptor.id:function(e){let{pageBorderBox:t,draggable:n,candidates:r}=e;const i=n.page.borderBox.center,o=r.map((e=>{const n=e.axis,r=hN(e.axis.line,t.center[n.line],e.page.borderBox.center[n.crossAxisLine]);return{id:e.descriptor.id,distance:fN(i,r)}})).sort(((e,t)=>t.distance-e.distance));return o[0]?o[0].id:null}({pageBorderBox:t,draggable:n,candidates:i}):null}const vT=(e,t)=>wA(mN(e,t));function yT(e){let{displaced:t,id:n}=e;return Boolean(t.visible[n]||t.invisible[n])}var bT=e=>{let{pageOffset:t,draggable:n,draggables:r,droppables:i,previousImpact:o,viewport:a,afterCritical:s}=e;const l=vT(n.page.borderBox,t),c=mT({pageBorderBox:l,draggable:n,droppables:i});if(!c)return RN;const u=i[c],d=CN(u.descriptor.id,r),h=((e,t)=>{const n=e.frame;return n?vT(t,n.scroll.diff.value):t})(u,l);return(e=>{let{draggable:t,pageBorderBoxWithDroppableScroll:n,previousImpact:r,destination:i,insideDestination:o,afterCritical:a}=e;if(!i.isCombineEnabled)return null;const s=i.axis,l=lT(i.axis,t.displaceBy),c=l.value,u=n[s.start],d=n[s.end],h=TN(t,o).find((e=>{const t=e.descriptor.id,n=e.page.borderBox,i=n[s.size]/4,o=VN(t,a),l=yT({displaced:r.displaced,id:t});return o?l?d>n[s.start]+i&&d<n[s.end]-i:u>n[s.start]-c+i&&u<n[s.end]-c-i:l?d>n[s.start]+c+i&&d<n[s.end]+c-i:u>n[s.start]+i&&u<n[s.end]-i}));return h?{displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:h.descriptor.id,droppableId:i.descriptor.id}}}:null})({pageBorderBoxWithDroppableScroll:h,draggable:n,previousImpact:o,destination:u,insideDestination:d,afterCritical:s})||(e=>{let{pageBorderBoxWithDroppableScroll:t,draggable:n,destination:r,insideDestination:i,last:o,viewport:a,afterCritical:s}=e;const l=r.axis,c=lT(r.axis,n.displaceBy),u=c.value,d=t[l.start],h=t[l.end],f=TN(n,i).find((e=>{const t=e.descriptor.id,n=e.page.borderBox.center[l.line],r=VN(t,s),i=yT({displaced:o,id:t});return r?i?h<=n:d<n-u:i?h<=n+u:d<n}))||null,p=function(e){let{draggable:t,closest:n,inHomeList:r}=e;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:f,inHomeList:kN(n,r)});return WN({draggable:n,insideDestination:i,destination:r,viewport:a,last:o,displacedBy:c,index:p})})({pageBorderBoxWithDroppableScroll:h,draggable:n,destination:u,insideDestination:d,last:o.displaced,viewport:a,afterCritical:s})},wT=(e,t)=>({...e,[t.descriptor.id]:t});const AT=e=>{let{previousImpact:t,impact:n,droppables:r}=e;const i=hT(t),o=hT(n);if(!i)return r;if(i===o)return r;const a=r[i];if(!a.subject.withPlaceholder)return r;const s=(e=>{const t=e.subject.withPlaceholder;t||XD();const n=e.frame;if(!n){const t=bN({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:t}}const r=t.oldFrameMaxScroll;r||XD();const i=cT(n,r),o=bN({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return{...e,subject:o,frame:i}})(a);return wT(r,s)};var ET=e=>{let{state:t,clientSelection:n,dimensions:r,viewport:i,impact:o,scrollJumpRequest:a}=e;const s=i||t.viewport,l=r||t.dimensions,c=n||t.current.client.selection,u=cN(c,t.initial.client.selection),d={offset:u,selection:c,borderBoxCenter:lN(t.initial.client.borderBoxCenter,u)},h={selection:lN(d.selection,s.scroll.current),borderBoxCenter:lN(d.borderBoxCenter,s.scroll.current),offset:lN(d.offset,s.scroll.diff.value)},f={client:d,page:h};if("COLLECTING"===t.phase)return{...t,dimensions:l,viewport:s,current:f};const p=l.draggables[t.critical.draggable.id],g=o||bT({pageOffset:h.offset,draggable:p,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:s,afterCritical:t.afterCritical}),m=(e=>{let{draggable:t,draggables:n,droppables:r,previousImpact:i,impact:o}=e;const a=AT({previousImpact:i,impact:o,droppables:r}),s=hT(o);if(!s)return a;const l=r[s];if(kN(t,l))return a;if(l.subject.withPlaceholder)return a;const c=uT(l,t,n);return wT(a,c)})({draggable:p,impact:g,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables});return{...t,current:f,dimensions:{draggables:l.draggables,droppables:m},impact:g,viewport:s,scrollJumpRequest:a||null,forceShouldAnimate:!a&&null}};var xT=e=>{let{impact:t,viewport:n,draggables:r,destination:i,forceShouldAnimate:o}=e;const a=t.displaced,s=function(e,t){return e.map((e=>t[e]))}(a.all,r),l=GN({afterDragging:s,destination:i,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:o,last:a});return{...t,displaced:l}},IT=e=>{let{impact:t,draggable:n,droppable:r,draggables:i,viewport:o,afterCritical:a}=e;const s=ZN({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:a});return nT({pageBorderBoxCenter:s,draggable:n,viewport:o})},ST=e=>{let{state:t,dimensions:n,viewport:r}=e;"SNAP"!==t.movementMode&&XD();const i=t.impact,o=r||t.viewport,a=n||t.dimensions,{draggables:s,droppables:l}=a,c=s[t.critical.draggable.id],u=hT(i);u||XD();const d=l[u],h=xT({impact:i,viewport:o,destination:d,draggables:s}),f=IT({impact:h,draggable:c,droppable:d,draggables:s,viewport:o,afterCritical:t.afterCritical});return ET({impact:h,clientSelection:f,state:t,dimensions:a,viewport:o})},CT=e=>{let{draggable:t,home:n,draggables:r,viewport:i}=e;const o=lT(n.axis,t.displaceBy),a=CN(n.descriptor.id,r),s=a.indexOf(t);-1===s&&XD();const l=a.slice(s+1),c=l.reduce(((e,t)=>(e[t.descriptor.id]=!0,e)),{}),u={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:o,effected:c};var d;return{impact:{displaced:GN({afterDragging:l,destination:n,displacedBy:o,last:null,viewport:i.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:(d=t.descriptor,{index:d.index,droppableId:d.droppableId})}},afterCritical:u}};const DT=e=>{0},NT=e=>{0};var TT=e=>{let{additions:t,updatedDroppables:n,viewport:r}=e;const i=r.scroll.diff.value;return t.map((e=>{const t=e.descriptor.droppableId,o=(e=>{const t=e.frame;return t||XD(),t})(n[t]),a=o.scroll.diff.value,s=(e=>{let{draggable:t,offset:n,initialWindowScroll:r}=e;const i=CA(t.client,n),o=DA(i,r);return{...t,placeholder:{...t.placeholder,client:i},client:i,page:o}})({draggable:e,offset:lN(i,a),initialWindowScroll:r.scroll.initial});return s}))};const kT=e=>"SNAP"===e.movementMode,OT=(e,t,n)=>{const r=((e,t)=>({draggables:e.draggables,droppables:wT(e.droppables,t)}))(e.dimensions,t);return!kT(e)||n?ET({state:e,dimensions:r}):ST({state:e,dimensions:r})};function PT(e){return e.isDragging&&"SNAP"===e.movementMode?{...e,scrollJumpRequest:null}:e}const RT={phase:"IDLE",completed:null,shouldFlush:!1};var _T=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:RT,t=arguments.length>1?arguments[1]:void 0;if("FLUSH"===t.type)return{...RT,shouldFlush:!0};if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&XD();const{critical:n,clientSelection:r,viewport:i,dimensions:o,movementMode:a}=t.payload,s=o.draggables[n.draggable.id],l=o.droppables[n.droppable.id],c={selection:r,borderBoxCenter:s.client.borderBox.center,offset:sN},u={client:c,page:{selection:lN(c.selection,i.scroll.initial),borderBoxCenter:lN(c.selection,i.scroll.initial),offset:lN(c.selection,i.scroll.diff.value)}},d=IN(o.droppables).every((e=>!e.isFixedOnPage)),{impact:h,afterCritical:f}=CT({draggable:s,home:l,draggables:o.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:a,dimensions:o,initial:u,current:u,isWindowScrollAllowed:d,impact:h,afterCritical:f,onLiftImpact:h,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&XD();return{...e,phase:"COLLECTING"}}if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&XD(),(e=>{let{state:t,published:n}=e;DT();const r=n.modified.map((e=>{const n=t.dimensions.droppables[e.droppableId];return wN(n,e.scroll)})),i={...t.dimensions.droppables,...EN(r)},o=xN(TT({additions:n.additions,updatedDroppables:i,viewport:t.viewport})),a={...t.dimensions.draggables,...o};n.removals.forEach((e=>{delete a[e]}));const s={droppables:i,draggables:a},l=hT(t.impact),c=l?s.droppables[l]:null,u=s.draggables[t.critical.draggable.id],d=s.droppables[t.critical.droppable.id],{impact:h,afterCritical:f}=CT({draggable:u,home:d,draggables:a,viewport:t.viewport}),p=c&&c.isCombineEnabled?t.impact:h,g=bT({pageOffset:t.current.page.offset,draggable:s.draggables[t.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:p,viewport:t.viewport,afterCritical:f});NT();const m={...t,phase:"DRAGGING",impact:g,onLiftImpact:h,dimensions:s,afterCritical:f,forceShouldAnimate:!1};return"COLLECTING"===t.phase?m:{...m,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}})({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;pT(e)||XD();const{client:n}=t.payload;return uN(n,e.current.client.selection)?e:ET({state:e,clientSelection:n,impact:kT(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return PT(e);if("COLLECTING"===e.phase)return PT(e);pT(e)||XD();const{id:n,newScroll:r}=t.payload,i=e.dimensions.droppables[n];if(!i)return e;const o=wN(i,r);return OT(e,o,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;pT(e)||XD();const{id:n,isEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||XD(),i.isEnabled===r&&XD();const o={...i,isEnabled:r};return OT(e,o,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;pT(e)||XD();const{id:n,isCombineEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||XD(),i.isCombineEnabled===r&&XD();const o={...i,isCombineEnabled:r};return OT(e,o,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;pT(e)||XD(),e.isWindowScrollAllowed||XD();const n=t.payload.newScroll;if(uN(e.viewport.scroll.current,n))return PT(e);const r=eT(e.viewport,n);return kT(e)?ST({state:e,viewport:r}):ET({state:e,viewport:r})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!pT(e))return e;const n=t.payload.maxScroll;if(uN(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&XD();const n=fT({state:e,type:t.type});return n?ET({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){const n=t.payload.reason;"COLLECTING"!==e.phase&&XD();return{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if("DROP_ANIMATE"===t.type){const{completed:n,dropDuration:r,newHomeClientOffset:i}=t.payload;"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&XD();return{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:e.dimensions}}if("DROP_COMPLETE"===t.type){const{completed:e}=t.payload;return{phase:"IDLE",completed:e,shouldFlush:!1}}return e};function LT(e,t){return e instanceof Object&&"type"in e&&e.type===t}const MT=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),jT=()=>({type:"COLLECTION_STARTING",payload:null}),BT=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),FT=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),UT=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),GT=e=>({type:"MOVE",payload:e}),zT=()=>({type:"MOVE_UP",payload:null}),WT=()=>({type:"MOVE_DOWN",payload:null}),VT=()=>({type:"MOVE_RIGHT",payload:null}),HT=()=>({type:"MOVE_LEFT",payload:null}),qT=e=>({type:"DROP_COMPLETE",payload:e}),QT=e=>({type:"DROP",payload:e}),KT=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});const YT="cubic-bezier(.2,1,.1,1)",JT={drop:0,combining:.7},XT={drop:.75},$T={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},ZT=`${$T.outOfTheWay}s ${"cubic-bezier(0.2, 0, 0, 1)"}`,ek={fluid:`opacity ${ZT}`,snap:`transform ${ZT}, opacity ${ZT}`,drop:e=>{const t=`${e}s ${YT}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${ZT}`,placeholder:`height ${ZT}, width ${ZT}, margin ${ZT}`},tk=e=>uN(e,sN)?void 0:`translate(${e.x}px, ${e.y}px)`,nk=tk,rk=(e,t)=>{const n=tk(e);if(n)return t?`${n} scale(${XT.drop})`:n},{minDropTime:ik,maxDropTime:ok}=$T,ak=ok-ik;const sk=e=>{let{getState:t,dispatch:n}=e;return e=>r=>{if(!LT(r,"DROP"))return void e(r);const i=t(),o=r.payload.reason;if("COLLECTING"===i.phase)return void n((e=>({type:"DROP_PENDING",payload:e}))({reason:o}));if("IDLE"===i.phase)return;"DROP_PENDING"===i.phase&&i.isWaiting&&XD(),"DRAGGING"!==i.phase&&"DROP_PENDING"!==i.phase&&XD();const a=i.critical,s=i.dimensions,l=s.draggables[i.critical.draggable.id],{impact:c,didDropInsideDroppable:u}=(e=>{let{draggables:t,reason:n,lastImpact:r,home:i,viewport:o,onLiftImpact:a}=e;if(!r.at||"DROP"!==n)return{impact:xT({draggables:t,impact:a,destination:i,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1};return"REORDER"===r.at.type?{impact:r,didDropInsideDroppable:!0}:{impact:{...r,displaced:PN},didDropInsideDroppable:!0}})({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),d=u?DN(c):null,h=u?NN(c):null,f={index:a.draggable.index,droppableId:a.droppable.id},p={draggableId:l.descriptor.id,type:l.descriptor.type,source:f,reason:o,mode:i.movementMode,destination:d,combine:h},g=(e=>{let{impact:t,draggable:n,dimensions:r,viewport:i,afterCritical:o}=e;const{draggables:a,droppables:s}=r,l=hT(t),c=l?s[l]:null,u=s[n.descriptor.droppableId],d=IT({impact:t,draggable:n,draggables:a,afterCritical:o,droppable:c||u,viewport:i});return cN(d,n.client.borderBox.center)})({impact:c,draggable:l,dimensions:s,viewport:i.viewport,afterCritical:i.afterCritical}),m={critical:i.critical,afterCritical:i.afterCritical,result:p,impact:c};if(!(!uN(i.current.client.offset,g)||Boolean(p.combine)))return void n(qT({completed:m}));const v=(e=>{let{current:t,destination:n,reason:r}=e;const i=fN(t,n);if(i<=0)return ik;if(i>=1500)return ok;const o=ik+ak*(i/1500);return Number(("CANCEL"===r?.6*o:o).toFixed(2))})({current:i.current.client.offset,destination:g,reason:o});n((e=>({type:"DROP_ANIMATE",payload:e}))({newHomeClientOffset:g,dropDuration:v,completed:m}))}};var lk=()=>({x:window.pageXOffset,y:window.pageYOffset});function ck(e){let{onWindowScroll:t}=e;const n=RA((function(){t(lk())})),r=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}(n);let i=QD;function o(){return i!==QD}return{start:function(){o()&&XD(),i=KD(window,[r])},stop:function(){o()||XD(),n.cancel(),i(),i=QD},isActive:o}}const uk=e=>{const t=ck({onWindowScroll:t=>{e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return e=>n=>{!t.isActive()&&LT(n,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&(e=>LT(e,"DROP_COMPLETE")||LT(e,"DROP_ANIMATE")||LT(e,"FLUSH"))(n)&&t.stop(),e(n)}};var dk=()=>{const e=[];return{add:t=>{const n=setTimeout((()=>(t=>{const n=e.findIndex((e=>e.timerId===t));-1===n&&XD();const[r]=e.splice(n,1);r.callback()})(n))),r={timerId:n,callback:t};e.push(r)},flush:()=>{if(!e.length)return;const t=[...e];e.length=0,t.forEach((e=>{clearTimeout(e.timerId),e.callback()}))}}};const hk=(e,t)=>{DT(),t(),NT()},fk=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function pk(e,t,n,r){if(!e)return void n(r(t));const i=(e=>{let t=!1,n=!1;const r=setTimeout((()=>{n=!0})),i=i=>{t||n||(t=!0,e(i),clearTimeout(r))};return i.wasCalled=()=>t,i})(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}var gk=(e,t)=>{const n=((e,t)=>{const n=dk();let r=null;const i=n=>{r||XD(),r=null,hk(0,(()=>pk(e().onDragEnd,n,t,rN.onDragEnd)))};return{beforeCapture:(t,n)=>{r&&XD(),hk(0,(()=>{const r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})}))},beforeStart:(t,n)=>{r&&XD(),hk(0,(()=>{const r=e().onBeforeDragStart;r&&r(fk(t,n))}))},start:(i,o)=>{r&&XD();const a=fk(i,o);r={mode:o,lastCritical:i,lastLocation:a.source,lastCombine:null},n.add((()=>{hk(0,(()=>pk(e().onDragStart,a,t,rN.onDragStart)))}))},update:(i,o)=>{const a=DN(o),s=NN(o);r||XD();const l=!((e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r})(i,r.lastCritical);l&&(r.lastCritical=i);const c=(d=a,!(null==(u=r.lastLocation)&&null==d||null!=u&&null!=d&&u.droppableId===d.droppableId&&u.index===d.index));var u,d;c&&(r.lastLocation=a);const h=!((e,t)=>null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId)(r.lastCombine,s);if(h&&(r.lastCombine=s),!l&&!c&&!h)return;const f={...fk(i,r.mode),combine:s,destination:a};n.add((()=>{hk(0,(()=>pk(e().onDragUpdate,f,t,rN.onDragUpdate)))}))},flush:()=>{r||XD(),n.flush()},drop:i,abort:()=>{if(!r)return;const e={...fk(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};i(e)}}})(e,t);return e=>t=>r=>{if(LT(r,"BEFORE_INITIAL_CAPTURE"))return void n.beforeCapture(r.payload.draggableId,r.payload.movementMode);if(LT(r,"INITIAL_PUBLISH")){const e=r.payload.critical;return n.beforeStart(e,r.payload.movementMode),t(r),void n.start(e,r.payload.movementMode)}if(LT(r,"DROP_COMPLETE")){const e=r.payload.completed.result;return n.flush(),t(r),void n.drop(e)}if(t(r),LT(r,"FLUSH"))return void n.abort();const i=e.getState();"DRAGGING"===i.phase&&n.update(i.critical,i.impact)}};const mk=e=>t=>n=>{if(!LT(n,"DROP_ANIMATION_FINISHED"))return void t(n);const r=e.getState();"DROP_ANIMATING"!==r.phase&&XD(),e.dispatch(qT({completed:r.completed}))},vk=e=>{let t=null,n=null;return r=>i=>{if((LT(i,"FLUSH")||LT(i,"DROP_COMPLETE")||LT(i,"DROP_ANIMATION_FINISHED"))&&(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(i),!LT(i,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame((()=>{n=null,t=KD(window,[o])}))}};var yk=e=>t=>n=>r=>{if((e=>LT(e,"DROP_COMPLETE")||LT(e,"DROP_ANIMATE")||LT(e,"FLUSH"))(r))return e.stop(),void n(r);if(LT(r,"INITIAL_PUBLISH")){n(r);const i=t.getState();return"DRAGGING"!==i.phase&&XD(),void e.start(i)}n(r),e.scroll(t.getState())};const bk=e=>t=>n=>{if(t(n),!LT(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(QT({reason:r.reason})))},wk=KC;var Ak=e=>{let{dimensionMarshal:t,focusMarshal:n,styleMarshal:r,getResponders:i,announce:o,autoScroller:a}=e;return HC(_T,wk(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(UC(15))};const a={getState:i.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return o(e,...n)}},s=t.map((e=>e(a)));return o=KC(...s)(i.dispatch),{...i,dispatch:o}}}((s=r,()=>e=>t=>{LT(t,"INITIAL_PUBLISH")&&s.dragging(),LT(t,"DROP_ANIMATE")&&s.dropping(t.payload.completed.result.reason),(LT(t,"FLUSH")||LT(t,"DROP_COMPLETE"))&&s.resting(),e(t)}),(e=>()=>t=>n=>{(LT(n,"DROP_COMPLETE")||LT(n,"FLUSH")||LT(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)})(t),(e=>t=>{let{getState:n,dispatch:r}=t;return t=>i=>{if(!LT(i,"LIFT"))return void t(i);const{id:o,clientSelection:a,movementMode:s}=i.payload,l=n();"DROP_ANIMATING"===l.phase&&r(qT({completed:l.completed})),"IDLE"!==n().phase&&XD(),r({type:"FLUSH",payload:null}),r({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:o,movementMode:s}});const c={draggableId:o,scrollOptions:{shouldPublishImmediately:"SNAP"===s}},{critical:u,dimensions:d,viewport:h}=e.startPublishing(c);r({type:"INITIAL_PUBLISH",payload:{critical:u,dimensions:d,clientSelection:a,movementMode:s,viewport:h}})}})(t),sk,mk,vk,bk,yk(a),uk,(e=>{let t=!1;return()=>n=>r=>{if(LT(r,"INITIAL_PUBLISH"))return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if(LT(r,"FLUSH"))return t=!1,void e.tryRestoreFocusRecorded();if(LT(r,"DROP_COMPLETE")){t=!1;const n=r.payload.completed.result;n.combine&&e.tryShiftRecord(n.draggableId,n.combine.draggableId),e.tryRestoreFocusRecorded()}}}})(n),gk(i,o))));var s};var Ek=e=>{let{scrollHeight:t,scrollWidth:n,height:r,width:i}=e;const o=cN({x:n,y:t},{x:i,y:r});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},xk=()=>{const e=document.documentElement;return e||XD(),e},Ik=()=>{const e=xk();return Ek({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},Sk=e=>{let{critical:t,scrollOptions:n,registry:r}=e;DT();const i=(()=>{const e=lk(),t=Ik(),n=e.y,r=e.x,i=xk(),o=i.clientWidth,a=i.clientHeight;return{frame:wA({top:n,left:r,right:r+o,bottom:n+a}),scroll:{initial:e,current:e,max:t,diff:{value:sN,displacement:sN}}}})(),o=i.scroll.current,a=t.droppable,s=r.droppable.getAllByType(a.type).map((e=>e.callbacks.getDimensionAndWatchScroll(o,n))),l=r.draggable.getAllByType(t.draggable.type).map((e=>e.getDimension(o))),c={draggables:xN(l),droppables:EN(s)};NT();return{dimensions:c,critical:t,viewport:i}};function Ck(e,t,n){if(n.descriptor.id===t.id)return!1;if(n.descriptor.type!==t.type)return!1;return"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode}var Dk=(e,t)=>{let n=null;const r=function(e){let{registry:t,callbacks:n}=e,r={additions:{},removals:{},modified:{}},i=null;const o=()=>{i||(n.collectionStarting(),i=requestAnimationFrame((()=>{i=null,DT();const{additions:e,removals:o,modified:a}=r,s=Object.keys(e).map((e=>t.draggable.getById(e).getDimension(sN))).sort(((e,t)=>e.descriptor.index-t.descriptor.index)),l=Object.keys(a).map((e=>({droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}))),c={additions:s,removals:Object.keys(o),modified:l};r={additions:{},removals:{},modified:{}},NT(),n.publish(c)})))};return{add:e=>{const t=e.descriptor.id;r.additions[t]=e,r.modified[e.descriptor.droppableId]=!0,r.removals[t]&&delete r.removals[t],o()},remove:e=>{const t=e.descriptor;r.removals[t.id]=!0,r.modified[t.droppableId]=!0,r.additions[t.id]&&delete r.additions[t.id],o()},stop:()=>{i&&(cancelAnimationFrame(i),i=null,r={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=t=>{n||XD();const i=n.critical.draggable;"ADDITION"===t.type&&Ck(e,i,t.value)&&r.add(t.value),"REMOVAL"===t.type&&Ck(e,i,t.value)&&r.remove(t.value)},o={updateDroppableIsEnabled:(r,i)=>{e.droppable.exists(r)||XD(),n&&t.updateDroppableIsEnabled({id:r,isEnabled:i})},updateDroppableIsCombineEnabled:(r,i)=>{n&&(e.droppable.exists(r)||XD(),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:i}))},scrollDroppable:(t,r)=>{n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:(r,i)=>{n&&(e.droppable.exists(r)||XD(),t.updateDroppableScroll({id:r,newScroll:i}))},startPublishing:t=>{n&&XD();const r=e.draggable.getById(t.draggableId),o=e.droppable.getById(r.descriptor.droppableId),a={draggable:r.descriptor,droppable:o.descriptor},s=e.subscribe(i);return n={critical:a,unsubscribe:s},Sk({critical:a,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:()=>{if(!n)return;r.stop();const t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach((e=>e.callbacks.dragStopped())),n.unsubscribe(),n=null}};return o},Nk=(e,t)=>"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason),Tk=e=>{window.scrollBy(e.x,e.y)};const kk=AN((e=>IN(e).filter((e=>!!e.isEnabled&&!!e.frame))));var Ok=e=>{let{center:t,destination:n,droppables:r}=e;if(n){const e=r[n];return e.frame?e:null}const i=((e,t)=>{const n=kk(t).find((t=>(t.frame||XD(),gT(t.frame.pageMarginBox)(e))))||null;return n})(t,r);return i};const Pk={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var Rk=e=>{let{startOfRange:t,endOfRange:n,current:r}=e;const i=n-t;if(0===i)return 0;return(r-t)/i},_k=e=>{let{distanceToEdge:t,thresholds:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o}=e;const a=function(e,t){const n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>Pk)();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return n.maxPixelScroll;if(e===t.startScrollingFrom)return 1;const r=1-Rk({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),i=n.maxPixelScroll*n.ease(r);return Math.ceil(i)}(t,n,o);return 0===a?0:i?Math.max(((e,t,n)=>{const r=n(),i=r.durationDampening.accelerateAt,o=r.durationDampening.stopDampeningAt,a=t,s=o,l=Date.now()-a;if(l>=o)return e;if(l<i)return 1;const c=Rk({startOfRange:i,endOfRange:s,current:l}),u=e*r.ease(c);return Math.ceil(u)})(a,r,o),1):a},Lk=e=>{let{container:t,distanceToEdges:n,dragStartTime:r,axis:i,shouldUseTimeDampening:o,getAutoScrollerOptions:a}=e;const s=function(e,t){const n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>Pk)();return{startScrollingFrom:e[t.size]*n.startFromPercentage,maxScrollValueAt:e[t.size]*n.maxScrollAtPercentage}}(t,i,a);return n[i.end]<n[i.start]?_k({distanceToEdge:n[i.end],thresholds:s,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a}):-1*_k({distanceToEdge:n[i.start],thresholds:s,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a})};const Mk=gN((e=>0===e?0:e));var jk=e=>{let{dragStartTime:t,container:n,subject:r,center:i,shouldUseTimeDampening:o,getAutoScrollerOptions:a}=e;const s={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},l=Lk({container:n,distanceToEdges:s,dragStartTime:t,axis:jN,shouldUseTimeDampening:o,getAutoScrollerOptions:a}),c=Lk({container:n,distanceToEdges:s,dragStartTime:t,axis:BN,shouldUseTimeDampening:o,getAutoScrollerOptions:a}),u=Mk({x:c,y:l});if(uN(u,sN))return null;const d=(e=>{let{container:t,subject:n,proposedScroll:r}=e;const i=n.height>t.height,o=n.width>t.width;return o||i?o&&i?null:{x:o?0:r.x,y:i?0:r.y}:r})({container:n,subject:r,proposedScroll:u});return d?uN(d,sN)?null:d:null};const Bk=gN((e=>0===e?0:e>0?1:-1)),Fk=(()=>{const e=(e,t)=>e<0?e:e>t?e-t:0;return t=>{let{current:n,max:r,change:i}=t;const o=lN(n,i),a={x:e(o.x,r.x),y:e(o.y,r.y)};return uN(a,sN)?null:a}})(),Uk=e=>{let{max:t,current:n,change:r}=e;const i={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},o=Bk(r),a=Fk({max:i,current:n,change:o});return!a||(0!==o.x&&0===a.x||0!==o.y&&0===a.y)},Gk=(e,t)=>Uk({current:e.scroll.current,max:e.scroll.max,change:t}),zk=(e,t)=>{const n=e.frame;return!!n&&Uk({current:n.scroll.current,max:n.scroll.max,change:t})};var Wk=e=>{let{state:t,dragStartTime:n,shouldUseTimeDampening:r,scrollWindow:i,scrollDroppable:o,getAutoScrollerOptions:a}=e;const s=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const e=(e=>{let{viewport:t,subject:n,center:r,dragStartTime:i,shouldUseTimeDampening:o,getAutoScrollerOptions:a}=e;const s=jk({dragStartTime:i,container:t.frame,subject:n,center:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a});return s&&Gk(t,s)?s:null})({dragStartTime:n,viewport:t.viewport,subject:l,center:s,shouldUseTimeDampening:r,getAutoScrollerOptions:a});if(e)return void i(e)}const c=Ok({center:s,destination:hT(t.impact),droppables:t.dimensions.droppables});if(!c)return;const u=(e=>{let{droppable:t,subject:n,center:r,dragStartTime:i,shouldUseTimeDampening:o,getAutoScrollerOptions:a}=e;const s=t.frame;if(!s)return null;const l=jk({dragStartTime:i,container:s.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a});return l&&zk(t,l)?l:null})({dragStartTime:n,droppable:c,subject:l,center:s,shouldUseTimeDampening:r,getAutoScrollerOptions:a});u&&o(c.descriptor.id,u)},Vk=e=>{let{move:t,scrollDroppable:n,scrollWindow:r}=e;const i=(e,t)=>{if(!zk(e,t))return t;const r=((e,t)=>{const n=e.frame;return n&&zk(e,t)?Fk({current:n.scroll.current,max:n.scroll.max,change:t}):null})(e,t);if(!r)return n(e.descriptor.id,t),null;const i=cN(t,r);n(e.descriptor.id,i);return cN(t,i)},o=(e,t,n)=>{if(!e)return n;if(!Gk(t,n))return n;const i=((e,t)=>{if(!Gk(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return Fk({current:r,max:n,change:t})})(t,n);if(!i)return r(n),null;const o=cN(n,i);r(o);return cN(n,o)};return e=>{const n=e.scrollJumpRequest;if(!n)return;const r=hT(e.impact);r||XD();const a=i(e.dimensions.droppables[r],n);if(!a)return;const s=e.viewport,l=o(e.isWindowScrollAllowed,s,a);l&&((e,n)=>{const r=lN(e.current.client.selection,n);t({client:r})})(e,l)}},Hk=e=>{let{scrollDroppable:t,scrollWindow:n,move:r,getAutoScrollerOptions:i}=e;const o=(e=>{let{scrollWindow:t,scrollDroppable:n,getAutoScrollerOptions:r=()=>Pk}=e;const i=RA(t),o=RA(n);let a=null;const s=e=>{a||XD();const{shouldUseTimeDampening:t,dragStartTime:n}=a;Wk({state:e,scrollWindow:i,scrollDroppable:o,dragStartTime:n,shouldUseTimeDampening:t,getAutoScrollerOptions:r})};return{start:e=>{DT(),a&&XD();const t=Date.now();let n=!1;const i=()=>{n=!0};Wk({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:i,scrollDroppable:i,getAutoScrollerOptions:r}),a={dragStartTime:t,shouldUseTimeDampening:n},NT(),n&&s(e)},stop:()=>{a&&(i.cancel(),o.cancel(),a=null)},scroll:s}})({scrollWindow:n,scrollDroppable:t,getAutoScrollerOptions:i}),a=Vk({move:r,scrollWindow:n,scrollDroppable:t});return{scroll:e=>{i().disabled||"DRAGGING"!==e.phase||("FLUID"!==e.movementMode?e.scrollJumpRequest&&a(e):o.scroll(e))},start:o.start,stop:o.stop}};const qk="data-rfd",Qk=(()=>{const e=`${qk}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),Kk=(()=>{const e=`${qk}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),Yk=(()=>{const e=`${qk}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),Jk={contextId:`${qk}-scroll-container-context-id`},Xk=(e,t)=>e.map((e=>{const n=e.styles[t];return n?`${e.selector} { ${n} }`:""})).join(" ");const $k="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?i.useLayoutEffect:i.useEffect,Zk=()=>{const e=document.querySelector("head");return e||XD(),e},eO=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function tO(e,t){const n=oN((()=>(e=>{const t=(n=e,e=>`[${e}="${n}"]`);var n;const r=(()=>{const e="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ";return{selector:t(Qk.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:e,dragging:"pointer-events: none;",dropAnimating:e}}})(),i=[(()=>{const e=`\n      transition: ${ek.outOfTheWay};\n    `;return{selector:t(Kk.contextId),styles:{dragging:e,dropAnimating:e,userCancel:e}}})(),r,{selector:t(Yk.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:Xk(i,"always"),resting:Xk(i,"resting"),dragging:Xk(i,"dragging"),dropAnimating:Xk(i,"dropAnimating"),userCancel:Xk(i,"userCancel")}})(e)),[e]),r=(0,i.useRef)(null),o=(0,i.useRef)(null),a=aN(AN((e=>{const t=o.current;t||XD(),t.textContent=e})),[]),s=aN((e=>{const t=r.current;t||XD(),t.textContent=e}),[]);$k((()=>{(r.current||o.current)&&XD();const i=eO(t),l=eO(t);return r.current=i,o.current=l,i.setAttribute(`${qk}-always`,e),l.setAttribute(`${qk}-dynamic`,e),Zk().appendChild(i),Zk().appendChild(l),s(n.always),a(n.resting),()=>{const e=e=>{const t=e.current;t||XD(),Zk().removeChild(t),e.current=null};e(r),e(o)}}),[t,s,a,n.always,n.resting,e]);const l=aN((()=>a(n.dragging)),[a,n.dragging]),c=aN((e=>{a("DROP"!==e?n.userCancel:n.dropAnimating)}),[a,n.dropAnimating,n.userCancel]),u=aN((()=>{o.current&&a(n.resting)}),[a,n.resting]);return oN((()=>({dragging:l,dropping:c,resting:u})),[l,c,u])}function nO(e,t){return Array.from(e.querySelectorAll(t))}var rO=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function iO(e){return e instanceof rO(e).HTMLElement}function oO(e,t){const n=`[${Qk.contextId}="${e}"]`,r=nO(document,n);if(!r.length)return null;const i=r.find((e=>e.getAttribute(Qk.draggableId)===t));return i&&iO(i)?i:null}function aO(){const e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach((t=>t(e)))}function r(t){return e.draggables[t]||null}const i={register:t=>{e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:(t,n)=>{const r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:t=>{const i=t.descriptor.id,o=r(i);o&&t.uniqueId===o.uniqueId&&(delete e.draggables[i],e.droppables[t.descriptor.droppableId]&&n({type:"REMOVAL",value:t}))},getById:function(e){const t=r(e);return t||XD(),t},findById:r,exists:e=>Boolean(r(e)),getAllByType:t=>Object.values(e.draggables).filter((e=>e.descriptor.type===t))};function o(t){return e.droppables[t]||null}const a={register:t=>{e.droppables[t.descriptor.id]=t},unregister:t=>{const n=o(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){const t=o(e);return t||XD(),t},findById:o,exists:e=>Boolean(o(e)),getAllByType:t=>Object.values(e.droppables).filter((e=>e.descriptor.type===t))};return{draggable:i,droppable:a,subscribe:function(e){return t.push(e),function(){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var sO=i.createContext(null),lO=()=>{const e=document.body;return e||XD(),e};const cO={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};const uO={separator:"::"};function dO(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:uO;const n=i.useId();return oN((()=>`${e}${t.separator}${n}`),[t.separator,e,n])}var hO=i.createContext(null);function fO(e){0}function pO(e,t){fO()}function gO(){pO()}function mO(e){const t=(0,i.useRef)(e);return(0,i.useEffect)((()=>{t.current=e})),t}function vO(e){return"IDLE"!==e.phase&&"DROP_ANIMATING"!==e.phase&&e.isDragging}const yO=9,bO=13,wO=33,AO=34,EO=35,xO=36,IO={[bO]:!0,[yO]:!0};var SO=e=>{IO[e.keyCode]&&e.preventDefault()};const CO=(()=>{const e="visibilitychange";if("undefined"===typeof document)return e;return[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find((e=>`on${e}`in document))||e})();const DO={type:"IDLE"};function NO(e){let{cancel:t,completed:n,getPhase:r,setPhase:i}=e;return[{eventName:"mousemove",fn:e=>{const{button:t,clientX:n,clientY:o}=e;if(0!==t)return;const a={x:n,y:o},s=r();if("DRAGGING"===s.type)return e.preventDefault(),void s.actions.move(a);"PENDING"!==s.type&&XD();const l=s.point;if(c=l,u=a,!(Math.abs(u.x-c.x)>=5||Math.abs(u.y-c.y)>=5))return;var c,u;e.preventDefault();const d=s.actions.fluidLift(a);i({type:"DRAGGING",actions:d})}},{eventName:"mouseup",fn:e=>{const i=r();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"mousedown",fn:e=>{"DRAGGING"===r().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:e=>{if("PENDING"!==r().type)return 27===e.keyCode?(e.preventDefault(),void t()):void SO(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{"PENDING"===r().type&&t()}},{eventName:"webkitmouseforcedown",fn:e=>{const n=r();"IDLE"===n.type&&XD(),n.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:CO,fn:t}]}function TO(){}const kO={[AO]:!0,[wO]:!0,[xO]:!0,[EO]:!0};function OO(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:r=>27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(kO[r.keyCode]?r.preventDefault():SO(r))},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:CO,fn:n}]}const PO={type:"IDLE"};const RO=["input","button","textarea","select","option","optgroup","video","audio"];function _O(e,t){if(null==t)return!1;if(RO.includes(t.tagName.toLowerCase()))return!0;const n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&_O(e,t.parentElement)}function LO(e,t){const n=t.target;return!!iO(n)&&_O(e,n)}var MO=e=>wA(e.getBoundingClientRect()).center;const jO=(()=>{const e="matches";if("undefined"===typeof document)return e;return[e,"msMatchesSelector","webkitMatchesSelector"].find((e=>e in Element.prototype))||e})();function BO(e,t){return null==e?null:e[jO](t)?e:BO(e.parentElement,t)}function FO(e,t){return e.closest?e.closest(t):BO(e,t)}function UO(e,t){const n=t.target;if(!function(e){return e instanceof rO(e).Element}(n))return null;const r=function(e){return`[${Qk.contextId}="${e}"]`}(e),i=FO(n,r);return i&&iO(i)?i:null}function GO(e){e.preventDefault()}function zO(e){let{expected:t,phase:n,isLockActive:r,shouldWarn:i}=e;return!!r()&&t===n}function WO(e){let{lockAPI:t,store:n,registry:r,draggableId:i}=e;if(t.isClaimed())return!1;const o=r.draggable.findById(i);return!!o&&(!!o.options.isEnabled&&!!Nk(n.getState(),i))}function VO(e){let{lockAPI:t,contextId:n,store:r,registry:i,draggableId:o,forceSensorStop:a,sourceEvent:s}=e;if(!WO({lockAPI:t,store:r,registry:i,draggableId:o}))return null;const l=i.draggable.getById(o),c=function(e,t){const n=`[${Kk.contextId}="${e}"]`,r=nO(document,n).find((e=>e.getAttribute(Kk.id)===t));return r&&iO(r)?r:null}(n,l.descriptor.id);if(!c)return null;if(s&&!l.options.canDragInteractiveElements&&LO(c,s))return null;const u=t.claim(a||QD);let d="PRE_DRAG";function h(){return l.options.shouldRespectForcePress}function f(){return t.isActive(u)}const p=function(e,t){zO({expected:e,phase:d,isLockActive:f,shouldWarn:!0})&&r.dispatch(t())}.bind(null,"DRAGGING");function g(e){function n(){t.release(),d="COMPLETED"}function i(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shouldBlockNextClick:!1};if(e.cleanup(),i.shouldBlockNextClick){const e=KD(window,[{eventName:"click",fn:GO,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(e)}n(),r.dispatch(QT({reason:t}))}return"PRE_DRAG"!==d&&(n(),XD()),r.dispatch((e=>({type:"LIFT",payload:e}))(e.liftActionArgs)),d="DRAGGING",{isActive:()=>zO({expected:"DRAGGING",phase:d,isLockActive:f,shouldWarn:!1}),shouldRespectForcePress:h,drop:e=>i("DROP",e),cancel:e=>i("CANCEL",e),...e.actions}}const m={isActive:()=>zO({expected:"PRE_DRAG",phase:d,isLockActive:f,shouldWarn:!1}),shouldRespectForcePress:h,fluidLift:function(e){const t=RA((e=>{p((()=>GT({client:e})))}));return{...g({liftActionArgs:{id:o,clientSelection:e,movementMode:"FLUID"},cleanup:()=>t.cancel(),actions:{move:t}}),move:t}},snapLift:function(){const e={moveUp:()=>p(zT),moveRight:()=>p(VT),moveDown:()=>p(WT),moveLeft:()=>p(HT)};return g({liftActionArgs:{id:o,clientSelection:MO(c),movementMode:"SNAP"},cleanup:QD,actions:e})},abort:function(){zO({expected:"PRE_DRAG",phase:d,isLockActive:f,shouldWarn:!0})&&t.release()}};return m}const HO=[function(e){const t=(0,i.useRef)(DO),n=(0,i.useRef)(QD),r=oN((()=>({eventName:"mousedown",fn:function(t){if(t.defaultPrevented)return;if(0!==t.button)return;if(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)return;const r=e.findClosestDraggableId(t);if(!r)return;const i=e.tryGetLock(r,s,{sourceEvent:t});if(!i)return;t.preventDefault();const o={x:t.clientX,y:t.clientY};n.current(),u(i,o)}})),[e]),o=oN((()=>({eventName:"webkitmouseforcewillbegin",fn:t=>{if(t.defaultPrevented)return;const n=e.findClosestDraggableId(t);if(!n)return;const r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}})),[e]),a=aN((function(){n.current=KD(window,[o,r],{passive:!1,capture:!0})}),[o,r]),s=aN((()=>{"IDLE"!==t.current.type&&(t.current=DO,n.current(),a())}),[a]),l=aN((()=>{const e=t.current;s(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[s]),c=aN((function(){const e=NO({cancel:l,completed:s,getPhase:()=>t.current,setPhase:e=>{t.current=e}});n.current=KD(window,e,{capture:!0,passive:!1})}),[l,s]),u=aN((function(e,n){"IDLE"!==t.current.type&&XD(),t.current={type:"PENDING",point:n,actions:e},c()}),[c]);$k((function(){return a(),function(){n.current()}}),[a])},function(e){const t=(0,i.useRef)(TO),n=oN((()=>({eventName:"keydown",fn:function(n){if(n.defaultPrevented)return;if(32!==n.keyCode)return;const i=e.findClosestDraggableId(n);if(!i)return;const o=e.tryGetLock(i,l,{sourceEvent:n});if(!o)return;n.preventDefault();let a=!0;const s=o.snapLift();function l(){a||XD(),a=!1,t.current(),r()}t.current(),t.current=KD(window,OO(s,l),{capture:!0,passive:!1})}})),[e]),r=aN((function(){t.current=KD(window,[n],{passive:!1,capture:!0})}),[n]);$k((function(){return r(),function(){t.current()}}),[r])},function(e){const t=(0,i.useRef)(PO),n=(0,i.useRef)(QD),r=aN((function(){return t.current}),[]),o=aN((function(e){t.current=e}),[]),a=oN((()=>({eventName:"touchstart",fn:function(t){if(t.defaultPrevented)return;const r=e.findClosestDraggableId(t);if(!r)return;const i=e.tryGetLock(r,l,{sourceEvent:t});if(!i)return;const o=t.touches[0],{clientX:a,clientY:s}=o,c={x:a,y:s};n.current(),h(i,c)}})),[e]),s=aN((function(){n.current=KD(window,[a],{capture:!0,passive:!1})}),[a]),l=aN((()=>{const e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),o(PO),n.current(),s())}),[s,o]),c=aN((()=>{const e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[l]),u=aN((function(){const e={capture:!0,passive:!1},t={cancel:c,completed:l,getPhase:r},i=KD(window,function(e){let{cancel:t,completed:n,getPhase:r}=e;return[{eventName:"touchmove",options:{capture:!1},fn:e=>{const n=r();if("DRAGGING"!==n.type)return void t();n.hasMoved=!0;const{clientX:i,clientY:o}=e.touches[0],a={x:i,y:o};e.preventDefault(),n.actions.move(a)}},{eventName:"touchend",fn:e=>{const i=r();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"touchcancel",fn:e=>{"DRAGGING"===r().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:e=>{const n=r();"IDLE"===n.type&&XD();const i=e.touches[0];if(!i)return;if(!(i.force>=.15))return;const o=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return o?n.hasMoved?void e.preventDefault():void t():void e.preventDefault();o&&t()}},{eventName:CO,fn:t}]}(t),e),o=KD(window,function(e){let{cancel:t,getPhase:n}=e;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:e=>{e.preventDefault()}},{eventName:"keydown",fn:e=>{"DRAGGING"===n().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:CO,fn:t}]}(t),e);n.current=function(){i(),o()}}),[c,r,l]),d=aN((function(){const e=r();"PENDING"!==e.type&&XD();const t=e.actions.fluidLift(e.point);o({type:"DRAGGING",actions:t,hasMoved:!1})}),[r,o]),h=aN((function(e,t){"IDLE"!==r().type&&XD();const n=setTimeout(d,120);o({type:"PENDING",point:t,actions:e,longPressTimerId:n}),u()}),[u,r,o,d]);$k((function(){return s(),function(){n.current();const e=r();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),o(PO))}}),[r,s,o]),$k((function(){return KD(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])}),[])}];function qO(e){let{contextId:t,store:n,registry:r,customSensors:o,enableDefaultSensors:a}=e;const s=[...a?HO:[],...o||[]],l=(0,i.useState)((()=>function(){let e=null;function t(){e||XD(),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&XD();const n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()))[0],c=aN((function(e,t){vO(e)&&!vO(t)&&l.tryAbandon()}),[l]);$k((function(){let e=n.getState();return n.subscribe((()=>{const t=n.getState();c(e,t),e=t}))}),[l,n,c]),$k((()=>l.tryAbandon),[l.tryAbandon]);const u=aN((e=>WO({lockAPI:l,registry:r,store:n,draggableId:e})),[l,r,n]),d=aN(((e,i,o)=>VO({lockAPI:l,registry:r,contextId:t,store:n,draggableId:e,forceSensorStop:i||null,sourceEvent:o&&o.sourceEvent?o.sourceEvent:null})),[t,l,r,n]),h=aN((e=>function(e,t){const n=UO(e,t);return n?n.getAttribute(Qk.draggableId):null}(t,e)),[t]),f=aN((e=>{const t=r.draggable.findById(e);return t?t.options:null}),[r.draggable]),p=aN((function(){l.isClaimed()&&(l.tryAbandon(),"IDLE"!==n.getState().phase&&n.dispatch({type:"FLUSH",payload:null}))}),[l,n]),g=aN((()=>l.isClaimed()),[l]),m=oN((()=>({canGetLock:u,tryGetLock:d,findClosestDraggableId:h,findOptionsForDraggable:f,tryReleaseLock:p,isLockClaimed:g})),[u,d,h,f,p,g]);fO();for(let i=0;i<s.length;i++)s[i](m)}function QO(e){return e.current||XD(),e.current}function KO(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:o,dragHandleUsageInstructions:a}=e,l=(0,i.useRef)(null);gO();const c=mO(e),u=aN((()=>(e=>({onBeforeCapture:t=>{(0,s.flushSync)((()=>{e.onBeforeCapture&&e.onBeforeCapture(t)}))},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}))(c.current)),[c]),d=aN((()=>(e=>({...Pk,...e.autoScrollerOptions,durationDampening:{...Pk.durationDampening,...e.autoScrollerOptions}}))(c.current)),[c]),h=function(e){const t=oN((()=>(e=>`rfd-announcement-${e}`)(e)),[e]),n=(0,i.useRef)(null);(0,i.useEffect)((function(){const e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),gw(e.style,cO),lO().appendChild(e),function(){setTimeout((function(){const t=lO();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)}))}}),[t]);const r=aN((e=>{const t=n.current;t&&(t.textContent=e)}),[]);return r}(t),f=function(e){let{contextId:t,text:n}=e;const r=dO("hidden-text",{separator:"-"}),o=oN((()=>function(e){let{contextId:t,uniqueId:n}=e;return`rfd-hidden-text-${t}-${n}`}({contextId:t,uniqueId:r})),[r,t]);return(0,i.useEffect)((function(){const e=document.createElement("div");return e.id=o,e.textContent=n,e.style.display="none",lO().appendChild(e),function(){const t=lO();t.contains(e)&&t.removeChild(e)}}),[o,n]),o}({contextId:t,text:a}),p=tO(t,o),g=aN((e=>{QO(l).dispatch(e)}),[]),m=oN((()=>QC({publishWhileDragging:MT,updateDroppableScroll:BT,updateDroppableIsEnabled:FT,updateDroppableIsCombineEnabled:UT,collectionStarting:jT},g)),[g]),v=function(){const e=oN(aO,[]);return(0,i.useEffect)((()=>function(){e.clean()}),[e]),e}(),y=oN((()=>Dk(v,m)),[v,m]),b=oN((()=>Hk({scrollWindow:Tk,scrollDroppable:y.scrollDroppable,getAutoScrollerOptions:d,...QC({move:GT},g)})),[y.scrollDroppable,g,d]),w=function(e){const t=(0,i.useRef)({}),n=(0,i.useRef)(null),r=(0,i.useRef)(null),o=(0,i.useRef)(!1),a=aN((function(e,n){const r={id:e,focus:n};return t.current[e]=r,function(){const n=t.current;n[e]!==r&&delete n[e]}}),[]),s=aN((function(t){const n=oO(e,t);n&&n!==document.activeElement&&n.focus()}),[e]),l=aN((function(e,t){n.current===e&&(n.current=t)}),[]),c=aN((function(){r.current||o.current&&(r.current=requestAnimationFrame((()=>{r.current=null;const e=n.current;e&&s(e)})))}),[s]),u=aN((function(e){n.current=null;const t=document.activeElement;t&&t.getAttribute(Qk.draggableId)===e&&(n.current=e)}),[]);return $k((()=>(o.current=!0,function(){o.current=!1;const e=r.current;e&&cancelAnimationFrame(e)})),[]),oN((()=>({register:a,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l})),[a,u,c,l])}(t),A=oN((()=>Ak({announce:h,autoScroller:b,dimensionMarshal:y,focusMarshal:w,getResponders:u,styleMarshal:p})),[h,b,y,w,u,p]);l.current=A;const E=aN((()=>{const e=QO(l);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})}),[]),x=aN((()=>{const e=QO(l).getState();return"DROP_ANIMATING"===e.phase||"IDLE"!==e.phase&&e.isDragging}),[]);n(oN((()=>({isDragging:x,tryAbort:E})),[x,E]));const I=aN((e=>Nk(QO(l).getState(),e)),[]),S=aN((()=>pT(QO(l).getState())),[]),C=oN((()=>({marshal:y,focus:w,contextId:t,canLift:I,isMovementAllowed:S,dragHandleUsageInstructionsId:f,registry:v})),[t,y,f,w,I,S,v]);return qO({contextId:t,store:A,registry:v,customSensors:r||null,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,i.useEffect)((()=>E),[E]),i.createElement(hO.Provider,{value:C},i.createElement(HD,{context:sO,store:A},e.children))}function YO(e){const t=i.useId(),n=e.dragHandleUsageInstructions||rN.dragHandleUsageInstructions;return i.createElement($D,null,(r=>i.createElement(KO,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children)))}const JO=5e3,XO=4500,$O=(e,t)=>t?ek.drop(t.duration):e?ek.snap:ek.fluid,ZO=(e,t)=>{if(e)return t?JT.drop:JT.combining};function eP(e){return"DRAGGING"===e.type?function(e){const t=e.dimension.client,{offset:n,combineWith:r,dropping:i}=e,o=Boolean(r),a=(e=>null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode)(e),s=Boolean(i),l=s?rk(n,o):nk(n);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:$O(a,i),transform:l,opacity:ZO(o,s),zIndex:s?XO:JO,pointerEvents:"none"}}(e):{transform:nk((t=e).offset),transition:t.shouldAnimateDisplacement?void 0:"none"};var t}function tP(e){const t=dO("draggable"),{descriptor:n,registry:r,getDraggableRef:o,canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:l}=e,c=oN((()=>({canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:l})),[a,l,s]),u=aN((e=>{const t=o();return t||XD(),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sN;const r=window.getComputedStyle(t),i=t.getBoundingClientRect(),o=NA(i,r),a=DA(o,n);return{descriptor:e,placeholder:{client:o,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:o.marginBox.width,y:o.marginBox.height},client:o,page:a}}(n,t,e)}),[n,o]),d=oN((()=>({uniqueId:t,descriptor:n,options:c,getDimension:u})),[n,u,c,t]),h=(0,i.useRef)(d),f=(0,i.useRef)(!0);$k((()=>(r.draggable.register(h.current),()=>r.draggable.unregister(h.current))),[r.draggable]),$k((()=>{if(f.current)return void(f.current=!1);const e=h.current;h.current=d,r.draggable.update(d,e)}),[d,r.draggable])}var nP=i.createContext(null);function rP(e){const t=(0,i.useContext)(e);return t||XD(),t}function iP(e){e.preventDefault()}var oP=(e,t)=>e===t,aP=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};function sP(){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,combineWith:null}}const lP={mapped:{type:"SECONDARY",offset:sN,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:sP(null)}};const cP=VD((()=>{const e=function(){const e=AN(((e,t)=>({x:e,y:t}))),t=AN((function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return{isDragging:!0,isClone:t,isDropAnimating:Boolean(i),dropAnimation:i,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}})),n=AN((function(e,n,r,i){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;return{mapped:{type:"DRAGGING",dropping:null,draggingOver:o,combineWith:a,mode:n,offset:e,dimension:r,forceShouldAnimate:arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,snapshot:t(n,i,o,a,null)}}}));return(r,i)=>{if(vO(r)){if(r.critical.draggable.id!==i.draggableId)return null;const t=r.current.client.offset,a=r.dimensions.draggables[i.draggableId],s=hT(r.impact),l=(o=r.impact).at&&"COMBINE"===o.at.type?o.at.combine.draggableId:null,c=r.forceShouldAnimate;return n(e(t.x,t.y),r.movementMode,a,i.isClone,s,l,c)}var o;if("DROP_ANIMATING"===r.phase){const e=r.completed;if(e.result.draggableId!==i.draggableId)return null;const n=i.isClone,o=r.dimensions.draggables[i.draggableId],a=e.result,s=a.mode,l=aP(a),c=(e=>e.combine?e.combine.draggableId:null)(a),u={duration:r.dropDuration,curve:YT,moveTo:r.newHomeClientOffset,opacity:c?JT.drop:null,scale:c?XT.drop:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:o,dropping:u,draggingOver:l,combineWith:c,mode:s,forceShouldAnimate:null,snapshot:t(s,n,l,c,u)}}}return null}}(),t=function(){const e=AN(((e,t)=>({x:e,y:t}))),t=AN(sP),n=AN((function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:arguments.length>2?arguments[2]:void 0,snapshot:t(n)}}})),r=e=>e?n(sN,e,!0):null,i=(t,i,o,a)=>{const s=o.displaced.visible[t],l=Boolean(a.inVirtualList&&a.effected[t]),c=NN(o),u=c&&c.draggableId===t?i:null;if(!s){if(!l)return r(u);if(o.displaced.invisible[t])return null;const i=dN(a.displacedBy.point),s=e(i.x,i.y);return n(s,u,!0)}if(l)return r(u);const d=o.displacedBy.point,h=e(d.x,d.y);return n(h,u,s.shouldAnimate)};return(e,t)=>{if(vO(e))return e.critical.draggable.id===t.draggableId?null:i(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){const n=e.completed;return n.result.draggableId===t.draggableId?null:i(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return(n,r)=>e(n,r)||t(n,r)||lP}),{dropAnimationFinished:KT},null,{context:sO,areStatePropsEqual:oP})((e=>{const t=(0,i.useRef)(null),n=aN((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t.current=e}),[]),r=aN((()=>t.current),[]),{contextId:o,dragHandleUsageInstructionsId:a,registry:l}=rP(hO),{type:c,droppableId:u}=rP(nP),d=oN((()=>({id:e.draggableId,index:e.index,type:c,droppableId:u})),[e.draggableId,e.index,c,u]),{children:h,draggableId:f,isEnabled:p,shouldRespectForcePress:g,canDragInteractiveElements:m,isClone:v,mapped:y,dropAnimationFinished:b}=e;if(pO(),fO(),!v){tP(oN((()=>({descriptor:d,registry:l,getDraggableRef:r,canDragInteractiveElements:m,shouldRespectForcePress:g,isEnabled:p})),[d,l,r,m,g,p]))}const w=oN((()=>p?{tabIndex:0,role:"button","aria-describedby":a,"data-rfd-drag-handle-draggable-id":f,"data-rfd-drag-handle-context-id":o,draggable:!1,onDragStart:iP}:null),[o,a,f,p]),A=aN((e=>{"DRAGGING"===y.type&&y.dropping&&"transform"===e.propertyName&&(0,s.flushSync)(b)}),[b,y]),E=oN((()=>{const e=eP(y),t="DRAGGING"===y.type&&y.dropping?A:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":o,"data-rfd-draggable-id":f,style:e,onTransitionEnd:t},dragHandleProps:w}}),[o,w,f,y,A,n]),x=oN((()=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}})),[d.droppableId,d.id,d.index,d.type]);return i.createElement(i.Fragment,null,h(E,y.snapshot,x))}));function uP(e){return rP(nP).isUsingCloneFor!==e.draggableId||e.isClone?i.createElement(cP,e):null}function dP(e){const t="boolean"!==typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),r=Boolean(e.shouldRespectForcePress);return i.createElement(uP,gw({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const hP=e=>t=>e===t,fP=hP("scroll"),pP=hP("auto"),gP=(hP("visible"),(e,t)=>t(e.overflowX)||t(e.overflowY)),mP=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return gP(n,fP)||gP(n,pP)},vP=e=>null==e||e===document.body||e===document.documentElement?null:mP(e)?e:vP(e.parentElement);var yP=e=>({x:e.scrollLeft,y:e.scrollTop});const bP=e=>{if(!e)return!1;return"fixed"===window.getComputedStyle(e).position||bP(e.parentElement)};var wP=e=>{let{ref:t,descriptor:n,env:r,windowScroll:i,direction:o,isDropDisabled:a,isCombineEnabled:s,shouldClipSubject:l}=e;const c=r.closestScrollable,u=((e,t)=>{const n=TA(e);if(!t)return n;if(e!==t)return n;const r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,o=r+t.scrollHeight,a=i+t.scrollWidth,s=AA({top:r,right:a,bottom:o,left:i},n.border);return IA({borderBox:s,margin:n.margin,border:n.border,padding:n.padding})})(t,c),d=DA(u,i),h=(()=>{if(!c)return null;const e=TA(c),t={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:e,page:DA(e,i),scroll:yP(c),scrollSize:t,shouldClipSubject:l}})(),f=(e=>{let{descriptor:t,isEnabled:n,isCombineEnabled:r,isFixedOnPage:i,direction:o,client:a,page:s,closest:l}=e;const c=(()=>{if(!l)return null;const{scrollSize:e,client:t}=l,n=Ek({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:n,diff:{value:sN,displacement:sN}}}})(),u="vertical"===o?jN:BN;return{descriptor:t,isCombineEnabled:r,isFixedOnPage:i,axis:u,isEnabled:n,client:a,page:s,frame:c,subject:bN({page:s,withPlaceholder:null,axis:u,frame:c})}})({descriptor:n,isEnabled:!a,isCombineEnabled:s,isFixedOnPage:r.isFixedOnPage,direction:o,client:u,page:d,closest:h});return f};const AP={passive:!1},EP={passive:!0};var xP=e=>e.shouldPublishImmediately?AP:EP;const IP=e=>e&&e.env.closestScrollable||null;function SP(e){const t=(0,i.useRef)(null),n=rP(hO),r=dO("droppable"),{registry:o,marshal:a}=n,s=mO(e),l=oN((()=>({id:e.droppableId,type:e.type,mode:e.mode})),[e.droppableId,e.mode,e.type]),c=(0,i.useRef)(l),u=oN((()=>AN(((e,n)=>{t.current||XD();const r={x:e,y:n};a.updateDroppableScroll(l.id,r)}))),[l.id,a]),d=aN((()=>{const e=t.current;return e&&e.env.closestScrollable?yP(e.env.closestScrollable):sN}),[]),h=aN((()=>{const e=d();u(e.x,e.y)}),[d,u]),f=oN((()=>RA(h)),[h]),p=aN((()=>{const e=t.current,n=IP(e);e&&n||XD();e.scrollOptions.shouldPublishImmediately?h():f()}),[f,h]),g=aN(((e,r)=>{t.current&&XD();const i=s.current,o=i.getDroppableRef();o||XD();const a=(e=>({closestScrollable:vP(e),isFixedOnPage:bP(e)}))(o),c={ref:o,descriptor:l,env:a,scrollOptions:r};t.current=c;const u=wP({ref:o,descriptor:l,env:a,windowScroll:e,direction:i.direction,isDropDisabled:i.isDropDisabled,isCombineEnabled:i.isCombineEnabled,shouldClipSubject:!i.ignoreContainerClipping}),d=a.closestScrollable;return d&&(d.setAttribute(Jk.contextId,n.contextId),d.addEventListener("scroll",p,xP(c.scrollOptions))),u}),[n.contextId,l,p,s]),m=aN((()=>{const e=t.current,n=IP(e);return e&&n||XD(),yP(n)}),[]),v=aN((()=>{const e=t.current;e||XD();const n=IP(e);t.current=null,n&&(f.cancel(),n.removeAttribute(Jk.contextId),n.removeEventListener("scroll",p,xP(e.scrollOptions)))}),[p,f]),y=aN((e=>{const n=t.current;n||XD();const r=IP(n);r||XD(),r.scrollTop+=e.y,r.scrollLeft+=e.x}),[]),b=oN((()=>({getDimensionAndWatchScroll:g,getScrollWhileDragging:m,dragStopped:v,scroll:y})),[v,g,m,y]),w=oN((()=>({uniqueId:r,descriptor:l,callbacks:b})),[b,l,r]);$k((()=>(c.current=w.descriptor,o.droppable.register(w),()=>{t.current&&v(),o.droppable.unregister(w)})),[b,l,v,w,a,o.droppable]),$k((()=>{t.current&&a.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)}),[e.isDropDisabled,a]),$k((()=>{t.current&&a.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,a])}function CP(){}const DP={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},NP=e=>{let{isAnimatingOpenOnMount:t,placeholder:n,animate:r}=e;const i=(e=>{let{isAnimatingOpenOnMount:t,placeholder:n,animate:r}=e;return t||"close"===r?DP:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}})({isAnimatingOpenOnMount:t,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==r?ek.placeholder:null}};var TP=i.memo((e=>{const t=(0,i.useRef)(null),n=aN((()=>{t.current&&(clearTimeout(t.current),t.current=null)}),[]),{animate:r,onTransitionEnd:o,onClose:a,contextId:s}=e,[l,c]=(0,i.useState)("open"===e.animate);(0,i.useEffect)((()=>l?"open"!==r?(n(),c(!1),CP):t.current?CP:(t.current=setTimeout((()=>{t.current=null,c(!1)})),n):CP),[r,l,n]);const u=aN((e=>{"height"===e.propertyName&&(o(),"close"===r&&a())}),[r,a,o]),d=NP({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return i.createElement(e.placeholder.tagName,{style:d,"data-rfd-placeholder-context-id":s,onTransitionEnd:u,ref:e.innerRef})}));class kP extends i.PureComponent{constructor(){super(...arguments),this.state={isVisible:Boolean(this.props.on),data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{"close"===this.state.animate&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const OP={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||XD(),document.body}},PP=e=>{let t,n={...e};for(t in OP)void 0===e[t]&&(n={...n,[t]:OP[t]});return n},RP=(e,t)=>e===t.droppable.type,_P=(e,t)=>t.draggables[e.draggable.id],LP=VD((()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=AN((e=>({draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}))),r=AN(((r,i,o,a,s,l)=>{const c=s.descriptor.id;if(s.descriptor.droppableId===r){const e=l?{render:l,dragging:n(s.descriptor)}:null,t={isDraggingOver:o,draggingOverWith:o?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!1,snapshot:t,useClone:e}}if(!i)return t;if(!a)return e;const u={isDraggingOver:o,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!0,snapshot:u,useClone:null}}));return(n,i)=>{const o=PP(i),a=o.droppableId,s=o.type,l=!o.isDropDisabled,c=o.renderClone;if(vO(n)){const e=n.critical;if(!RP(s,e))return t;const i=_P(e,n.dimensions),o=hT(n.impact)===a;return r(a,l,o,o,i,c)}if("DROP_ANIMATING"===n.phase){const e=n.completed;if(!RP(s,e.critical))return t;const i=_P(e.critical,n.dimensions);return r(a,l,aP(e.result)===a,hT(e.impact)===a,i,c)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){const r=n.completed;if(!RP(s,r.critical))return t;const i=hT(r.impact)===a,o=Boolean(r.impact.at&&"COMBINE"===r.impact.at.type),l=r.critical.droppable.id===a;return i?o?e:t:l?e:t}return t}}),{updateViewportMaxScroll:e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e})},((e,t,n)=>({...PP(n),...e,...t})),{context:sO,areStatePropsEqual:oP})((e=>{const t=(0,i.useContext)(hO);t||XD();const{contextId:n,isMovementAllowed:r}=t,o=(0,i.useRef)(null),a=(0,i.useRef)(null),{children:l,droppableId:c,type:u,mode:d,direction:h,ignoreContainerClipping:f,isDropDisabled:p,isCombineEnabled:g,snapshot:m,useClone:v,updateViewportMaxScroll:y,getContainerForClone:b}=e,w=aN((()=>o.current),[]),A=aN((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;o.current=e}),[]),E=(aN((()=>a.current),[]),aN((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;a.current=e}),[]));pO();const x=aN((()=>{r()&&y({maxScroll:Ik()})}),[r,y]);SP({droppableId:c,type:u,mode:d,direction:h,isDropDisabled:p,isCombineEnabled:g,ignoreContainerClipping:f,getDroppableRef:w});const I=oN((()=>i.createElement(kP,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(e=>{let{onClose:t,data:r,animate:o}=e;return i.createElement(TP,{placeholder:r,onClose:t,innerRef:E,animate:o,contextId:n,onTransitionEnd:x})}))),[n,x,e.placeholder,e.shouldAnimatePlaceholder,E]),S=oN((()=>({innerRef:A,placeholder:I,droppableProps:{"data-rfd-droppable-id":c,"data-rfd-droppable-context-id":n}})),[n,c,I,A]),C=v?v.dragging.draggableId:null,D=oN((()=>({droppableId:c,type:u,isUsingCloneFor:C})),[c,C,u]);return i.createElement(nP.Provider,{value:D},l(S,m),function(){if(!v)return null;const{dragging:e,render:t}=v,n=i.createElement(uP,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},((n,r)=>t(n,r,e)));return s.createPortal(n,b())}())})),MP=["What is your company name?","What industry are you in?","How long have you been in business?","What is your company size?","What is your business model?","What are your main products or services?","What is your unique selling proposition?"],jP=["Who is your target audience?","What is the age range of your target market?","What are your customers' pain points?","Where are your customers located?","What is the income level of your target market?","What are your customers' buying habits?"],BP=["What colors represent your brand?","What emotions should your brand evoke?","Do you have any existing brand guidelines?","What brands inspire you?","What design styles do you prefer?","What should your brand communicate?"];function FP(e){let{value:t,onChange:n,type:r="text",suggestions:o=[]}=e;const[a,s]=(0,i.useState)(!1),[l,c]=(0,i.useState)([]),u=(0,i.useRef)(null),d=(0,i.useRef)(null);(0,i.useEffect)((()=>{if(t){const e=o.filter((e=>e.toLowerCase().includes(t.toLowerCase())));c(e)}else c(o)}),[t,o]),(0,i.useEffect)((()=>{const e=e=>{d.current&&!d.current.contains(e.target)&&u.current&&!u.current.contains(e.target)&&s(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}),[]);const h=()=>{s(!0)};return(0,Le.jsxs)("div",{className:"position-relative",style:{width:"100%"},children:["textarea"===r?(0,Le.jsx)("textarea",{ref:u,value:t,onChange:e=>n(e.target.value),onFocus:h,className:"form-control",rows:"3"}):(0,Le.jsx)("input",{ref:u,type:"text",value:t,onChange:e=>n(e.target.value),onFocus:h,className:"form-control"}),a&&l.length>0&&(0,Le.jsx)("div",{ref:d,className:"suggestions-dropdown",children:l.map(((e,t)=>(0,Le.jsx)("div",{className:"suggestion-item",onClick:()=>(e=>{n(e),s(!1)})(e),children:e},t)))})]})}const UP=e=>{let{question:t,onChange:n,onFileUpload:r}=e;const[o,a]=(0,i.useState)(0),[s,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(""),[d,h]=(0,i.useState)(null),f=["image/jpeg","image/jpg","image/png","application/pdf"],p=async e=>{if((e=>(u(""),!!e&&(f.includes(e.type)?!(e.size>5242880)||(u("File size must be less than 5MB."),!1):(u("Only JPG, JPEG, PNG and PDF files are allowed."),!1))))(e))try{if(l(!0),u(""),e.type.startsWith("image/")){const t=new FileReader;t.onloadend=()=>{h(t.result)},t.readAsDataURL(e)}else h(null);const t=Mb(jb(),`uploads/${Ub.currentUser.uid}/${Date.now()}_${e.name}`);await Rb(t,e);const n=await _b(t);r(n)}catch(c){console.error("Error uploading file:",c),u("Failed to upload file. Please try again.")}finally{l(!1),a(0)}},g=()=>t.text.toLowerCase().includes("color")||t.text.toLowerCase().includes("design")||t.text.toLowerCase().includes("brand")?BP:t.text.toLowerCase().includes("audience")||t.text.toLowerCase().includes("customer")||t.text.toLowerCase().includes("market")?jP:MP;switch(t.type){case"textarea":return(0,Le.jsx)(FP,{value:t.text,onChange:n,type:"textarea",suggestions:g()});case"file":return(0,Le.jsxs)("div",{className:"w-100",children:[(0,Le.jsx)("div",{className:"mb-2",children:(0,Le.jsx)(FP,{value:t.text,onChange:n,suggestions:g()})}),(0,Le.jsxs)("div",{children:[(0,Le.jsx)("input",{type:"file",accept:".jpg,.jpeg,.png,.pdf",onChange:e=>p(e.target.files[0]),className:"form-control",style:{maxWidth:"300px"},disabled:s}),c&&(0,Le.jsx)("div",{className:"text-danger mt-2",style:{maxWidth:"300px"},children:c}),s&&(0,Le.jsx)("div",{className:"progress mt-2",style:{maxWidth:"300px"},children:(0,Le.jsxs)("div",{className:"progress-bar",role:"progressbar",style:{width:`${o}%`},children:[o,"%"]})}),(d||t.fileUrl)&&(0,Le.jsx)("div",{className:"mt-2",style:{maxWidth:"80px"},children:t.fileUrl&&t.fileUrl.toLowerCase().endsWith(".pdf")?(0,Le.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Le.jsx)("i",{className:"fas fa-file-pdf me-2",style:{fontSize:"24px"}}),(0,Le.jsx)("a",{href:t.fileUrl,target:"_blank",rel:"noopener noreferrer",children:"View PDF"})]}):(0,Le.jsx)("img",{src:d||t.fileUrl,alt:"Upload preview",className:"img-fluid",style:{width:"80px",objectFit:"contain",border:"1px solid #dee2e6",borderRadius:"4px"}})})]})]});default:return(0,Le.jsx)(FP,{value:t.text,onChange:n,suggestions:g()})}},GP=i.memo((e=>{let{group:t,groupIndex:n,onQuestionChange:r,onQuestionDelete:o,onGroupNameChange:a,isExpanded:s,onToggleExpand:l,onAddQuestion:c}=e;const[u,d]=(0,i.useState)("text"),h=()=>{c(n,u)};return(0,Le.jsx)(dP,{draggableId:t.id,index:n,children:e=>(0,Le.jsxs)("div",{ref:e.innerRef,...e.draggableProps,className:"card mb-3",children:[(0,Le.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",...e.dragHandleProps,children:[(0,Le.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Le.jsx)("button",{className:"btn btn-link p-0 me-2",onClick:()=>l(t.id),title:s?"Collapse group":"Expand group",children:(0,Le.jsx)("i",{className:"fas fa-chevron-"+(s?"down":"right")})}),(0,Le.jsx)("input",{type:"text",value:t.name,onChange:e=>a(n,e.target.value),className:"form-control questionnaire-editor-input",placeholder:"Group Name"})]}),(0,Le.jsxs)("span",{className:"text-muted",children:[t.questions.length," question",1!==t.questions.length?"s":""]})]}),(0,Le.jsx)(LP,{droppableId:t.id,type:"question",children:e=>(0,Le.jsxs)("div",{ref:e.innerRef,...e.droppableProps,className:"card-body "+(s?"":"d-none"),children:[t.questions.map(((e,t)=>(0,Le.jsx)(dP,{draggableId:e.id,index:t,children:i=>(0,Le.jsxs)("div",{ref:i.innerRef,...i.draggableProps,className:"p-3 mb-2 rounded d-flex align-items-center bg-white border draggable-item",children:[(0,Le.jsx)("div",{...i.dragHandleProps,className:"me-3",children:"\u22ee\u22ee"}),(0,Le.jsx)(UP,{question:e,onChange:e=>r(n,t,e),onFileUpload:e=>{}}),(0,Le.jsx)("button",{onClick:()=>o(n,t),className:"btn btn-outline-danger ms-2 delete-question",type:"button",title:"Delete question",children:"x"})]})},e.id))),e.placeholder,(0,Le.jsxs)("div",{className:"d-flex mt-3",children:[(0,Le.jsxs)("select",{className:"form-select me-2 mr-3",style:{width:"auto"},value:u,onChange:e=>d(e.target.value),children:[(0,Le.jsx)("option",{value:"text",children:"Text Input"}),(0,Le.jsx)("option",{value:"textarea",children:"Text Area"}),(0,Le.jsx)("option",{value:"file",children:"File Upload"})]}),(0,Le.jsx)("button",{className:"btn btn-primary",onClick:h,children:"Add Question"})]})]})})]})})})),zP=()=>{const{templateId:e,type:t}=re(),[n]=_e(),r=n.get("baseTemplate"),[o,a]=(0,i.useState)([]),[s,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(new Set),d=ne(),[h,f]=(0,i.useState)(""),[p,g]=(0,i.useState)(!1);(0,i.useEffect)((()=>{(async()=>{try{const t=Ub.currentUser;if(!t)throw new Error("No authenticated user");if(u(new Set),"create"===e){const e=n.get("useDefaults");if("true"===n.get("empty")){const e={id:`group-${Date.now()}`,name:"New Group",questions:[]};a([e]),u(new Set([e.id]))}else if("true"===e)a(Jb),u(new Set(Jb.map((e=>e.id))));else if(r&&"default"!==r){const e=gv(Gb,"users",t.uid,"questionnaireTemplates",r),n=await cy(e);if(n.exists()){const e=n.data(),t=(e.groups||[]).map((e=>({id:e.id||`group-${Date.now()}`,name:e.name||"Unnamed Group",questions:(e.questions||[]).map((e=>({id:e.id||`question-${Date.now()}`,text:e.text||"Unnamed Question",type:e.type||"text",accept:e.accept,fileUrl:e.fileUrl})))})));a(t),u(new Set(t.map((e=>e.id)))),f(e.name)}else a(Jb),u(new Set(Jb.map((e=>e.id))))}return}const i=gv(Gb,"users",t.uid,"questionnaireTemplates",e),o=await cy(i);if(o.exists()){const e=o.data(),t=(e.groups||[]).map((e=>({id:e.id||`group-${Date.now()}`,name:e.name||"Unnamed Group",questions:(e.questions||[]).map((e=>({id:e.id||`question-${Date.now()}`,text:e.text||"Unnamed Question",type:e.type||"text",accept:e.accept,fileUrl:e.fileUrl})))})));a(t),u(new Set(t.map((e=>e.id)))),f(e.name)}else console.error("Template not found"),a(Jb),u(new Set(Jb.map((e=>e.id))))}catch(t){console.error("Error loading template:",t),a(Jb),u(new Set(Jb.map((e=>e.id))))}})()}),[e,t,r,n]);const m=(e,t,n)=>{const r=[...o];r[e].questions[t].text=n,a(r)},v=(e,t)=>{const n=[...o];n[e].questions.splice(t,1),a(n)},y=(e,t)=>{const n=[...o];n[e].name=t,a(n)},b=e=>{u((t=>{const n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n}))},w=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";const n=[...o];n[e].questions.push({id:`question-${Date.now()}`,text:"New Question",type:t,accept:"file"===t?"image/*,.pdf":void 0,fileUrl:null}),a(n)};return(0,Le.jsxs)("div",{className:"p-4",children:[(0,Le.jsxs)("div",{className:"mb-4",children:[(0,Le.jsx)("h2",{children:"Edit Questions"}),(0,Le.jsxs)("div",{children:[(0,Le.jsx)("button",{className:"btn btn-secondary me-2 mr-3",onClick:()=>d("/dashboard"),children:"Cancel"}),"default"!==e&&(0,Le.jsx)("button",{className:"btn btn-danger me-2 mr-3",onClick:async()=>{var t;if("default"!==e){if(window.confirm("Are you sure you want to delete this template? This action cannot be undone."))try{const n=Ub.currentUser;if(!n)throw new Error("No authenticated user");const r=gv(Gb,"users",n.uid,"questionnaireTemplates",e);await(t=r,py(lv(t.firestore,vv),[new Df(t._key,pf.none())])),d("/dashboard")}catch(n){console.error("Error deleting template:",n),alert("Failed to delete template. Please try again.")}}else alert("Cannot delete the default template")},children:"Delete Template"}),(0,Le.jsx)("button",{className:"btn btn-primary",onClick:()=>g(!0),disabled:s,children:s?"Saving...":"Save Template"})]})]}),(0,Le.jsx)(YO,{onDragEnd:e=>{if(!e.destination||!e.source)return;const{source:t,destination:n,type:r}=e;try{if("group"===r){const e=Array.from(o),[r]=e.splice(t.index,1);return e.splice(n.index,0,r),void a(e)}const e=o.find((e=>(null===e||void 0===e?void 0:e.id)===t.droppableId)),i=o.find((e=>(null===e||void 0===e?void 0:e.id)===n.droppableId));if(!e||!i)return;const s=[...o],l=o.findIndex((e=>(null===e||void 0===e?void 0:e.id)===t.droppableId)),c=o.findIndex((e=>(null===e||void 0===e?void 0:e.id)===n.droppableId));if(-1===l||-1===c)return;if(t.droppableId===n.droppableId){const r=Array.from(e.questions||[]),[i]=r.splice(t.index,1);r.splice(n.index,0,i),s[l].questions=r}else{const r=Array.from(e.questions||[]),o=Array.from(i.questions||[]),[a]=r.splice(t.index,1);o.splice(n.index,0,a),s[l].questions=r,s[c].questions=o}a(s)}catch(i){console.error("Error in drag and drop:",i)}},children:(0,Le.jsx)(LP,{droppableId:"groups",type:"group",children:e=>(0,Le.jsxs)("div",{ref:e.innerRef,...e.droppableProps,children:[o.map(((e,t)=>(0,Le.jsx)("div",{className:"mb-4",children:(0,Le.jsx)(GP,{group:e,groupIndex:t,onQuestionChange:m,onQuestionDelete:v,onGroupNameChange:y,isExpanded:c.has(e.id),onToggleExpand:b,onAddQuestion:w})},e.id))),e.placeholder]})})}),(0,Le.jsx)("div",{className:"mt-4",children:(0,Le.jsx)("button",{className:"btn btn-primary",onClick:()=>{const e=`group-${Date.now()}`,t={id:e,name:"New Group",questions:[]};a([...o,t]),u((t=>new Set([...t,e])))},children:"Add New Group"})}),p&&(0,Le.jsx)("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,Le.jsx)("div",{className:"modal-dialog",children:(0,Le.jsx)("div",{className:"modal-content",children:(0,Le.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),h.trim()&&(await async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if("default"!==e||t)try{l(!0);const n=Ub.currentUser;if(!n)throw new Error("No authenticated user");if(!Array.isArray(o))throw new Error("Invalid groups data");const r="default"===e?`template-${Date.now()}`:e,i=(gv(Gb,"users",n.uid,"questionnaireTemplates",r),o.map(((e,t)=>{if(!e)throw new Error(`Invalid group at index ${t}`);return{id:e.id||`group-${Date.now()}-${t}`,name:e.name||`Group ${t+1}`,questions:(e.questions||[]).map(((e,n)=>{if(!e)throw new Error(`Invalid question at group ${t}, question ${n}`);return{id:e.id||`question-${Date.now()}-${n}`,text:e.text||`Question ${n+1}`,type:e.type||"text",accept:"file"===e.type?"image/*,.pdf":void 0,fileUrl:e.fileUrl||null}}))}}))),a={name:t||h||"Untitled Template",groups:i,createdAt:my(),updatedAt:my(),type:"branding",designerId:n.uid};console.log("Saving template data:",a),await PC(a),d("/dashboard")}catch(n){console.error("Error saving template:",n),alert(`Failed to save template: ${n.message}`)}finally{l(!1)}else g(!0)}(h),g(!1))},children:[(0,Le.jsx)("div",{className:"modal-header",children:(0,Le.jsx)("h5",{className:"modal-title",children:"Name Your Template"})}),(0,Le.jsx)("div",{className:"modal-body",children:(0,Le.jsxs)("div",{className:"form-group",children:[(0,Le.jsx)("label",{htmlFor:"templateName",className:"form-label",children:"Template Name"}),(0,Le.jsx)("input",{type:"text",className:"form-control",id:"templateName",value:h,onChange:e=>f(e.target.value),placeholder:"Enter template name",required:!0,autoFocus:!0})]})}),(0,Le.jsxs)("div",{className:"modal-footer",children:[(0,Le.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>g(!1),children:"Cancel"}),(0,Le.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:!h.trim(),children:"Save Template"})]})]})})})})]})},WP="data:image/png;base64,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",VP="data:image/png;base64,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",HP=e=>{let{file:t,width:n=50}=e;console.log("File type:",t.type);const r=t.type.startsWith("image/")&&"image/svg+xml"!==t.type;return(0,Le.jsxs)("div",{className:"file-preview",children:[r?(0,Le.jsx)("img",{src:t.url,alt:t.name,style:{width:`${n}px`,height:`${n}px`,objectFit:"cover",borderRadius:"4px"}}):(0,Le.jsx)("div",{className:"file-icon",style:{width:`${n}px`,height:`${n}px`,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f8f9fa",borderRadius:"4px"},children:(0,Le.jsx)("img",{src:(e=>{var n;const r={"application/pdf":VP,"application/illustrator":"data:image/png;base64,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","image/svg+xml":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAbcAAAG3CAYAAAA3lxvrAAAACXBIWXMAAAsSAAALEgHS3X78AAAf30lEQVR4nO3d61Ucx9bG8We/y9/BETCOABwBowjEiYBWBOZEIByBcQQ0EXgUgVoRGCLQEMGBCOr90DXSCHGZS9eu6ur/by0WXl6iawPDPF3VdbEQgvA8M5tLupR0mrcSoFr/DSFc5S4C9THC7WeEGuDqi6SzEMJD7kJQj//LXUBJzOzQzK4kfRbBBng5lbQ0s7PchaAe9NwiMzuRtJB0lLsWYMJ+DyHc5i4C40fPTZKZNZI6EWxAbl280QT2MvmeWwy269x1APjmXtIJz+Cwj0mHW7xD/Dd3HQB+cidpTsBhV5MdljSzQ/VDkQDKcyypzV0Exmuy4SbpStJB7iIAvOi9mbW5i8A4TXJY0sxmkr5mLgPAZj6EENrcRWBcptpzu8xdAICNXceJX8DGptpzexBDksCYPKqfYMIaOGxkcj23uAsCwQaMy4FYA4ctTC7cJM1zFwBgJweS2jjTGXgV4QZgTI7V9+AIOLxqcs/czGxa3zBQp5sQQpO7CJRrUj23uAQAwPidxxM8gGf9krsAZ7OBrvNuoOsAtblSP3To4Q8zu2UNHJ4ztXAbRAihy10DUKK4zMbTtZk9hBAWzu2icJMalgRQpZYlAniKcAMwdqs1cLPMdaAghBuAGhxIWrBEACuEG4BaHItjrBARbgBqcswxOZAINwD1OTezy9xFIC/CDUCNPnJMzrQRbgBqdW1m89xFIA/CDUDNFqyBmybCDUDNVmvgWCIwMYQbgNoRcBNEuAGYgmNJ7D85IYQbgKk4ZQ3cdBBuAKbk3MwucheB9Ag3AFPzF2vg6ke4AZiia5YI1I1wAzBVHQFXL8INwFRxTE7FCDcAU3Yk1sBViXADMHXHktrcRWBYhBsASO9ZA1cXwg0AeucsEagH4QYA310TcHUg3ADgR1csERg/wg0AfrQ6RYCAGzHCDQB+diCpZYnAeBFuAPC8Y7EGbrQINwB42bGkq9xFYHuEGwC87tzMCLiRIdwA4G1/sERgXAg3ANjMtZmd5S4CmyHcAGBzLUsExoFwA4DNrdbAzTLXgTcQbgCwHc6BGwHCDQC2dyypy10EXka4AcBujjkmp1yEGwDs7tzMLnMXgZ8RbgCwn4+sgSsP4QYA+7s2s3nuIvAd4QYAw1iwBq4chBsADGO1Bo4lAgUg3ABgOARcIQg3ABjWsaRF7iKmjnADgOGdsgYuL8INANI4N7OL3EVMFeEGAOn8xRq4PAg3AEjrmiUC/gg3AEivI+B8EW4AkB7H5Dgj3ADAx5FYA+eGcAMAP8eSrnIXMQWEGwD4OmcNXHqEGwD4O2eJQFqEGwDkcU3ApUO4AUA+VywRSINwA4B8VqcIEHADI9wAIK8DSS1LBIZFuAFAfseSutxF1IRwA4AyHLNEYDiEGwCU49zMWOQ9AMINAMryB0sE9ke4AUB5rs3sLHcRY0a4AUCZWpYI7I5wA4AyrdbAzTLXMUqEGwCUi3PgdkS4AUDZjiUtchcxNoQbAJTvlDVw2yHcAGAczs3sMncRY0G4AcB4fGQN3GYINwAYl2szm+cuonSEGwCMz4I1cK8j3ABgfFZr4Fgi8ALCDQDGiYB7BeEGAON1LKnNXUSJCDcAGLf3rIH7GeEGAON3bmYXuYsoCeEGAHX4izVw3xFuAFCPa5YI9Ag3AKhLR8ARbgBQG47JEeEGADU60sTXwBFuAFCnY0mXuYvIhXADgHr9YWaz3EXkQLgBQN3OcheQA+EGAHUj3AAA1ZnksgDCDQDqdjDFWZOEGwDUb3K9N8INAFAdwg3AkNrcBeBZs9wFeCPcAAwmhNBKusldB34yy12AN8INwKBCCI0IOGRGuAEYHAGH3Ag3AEnEgPsg6TFzKZggwg1AMvEZ3In6Xhwhl88sdwHefsldAIC6hRCWkprMZYyWmYUBLjMb4BqjQs8NAFAdwg0AUB3CDQBQHcINAFAdwg0AUB3CDQBQHcINAFAdwg0AUB3CDQBQHcINAOrX5S7AG+EGAKgO4QYAqA7hBgCoDuEGAKgO4QYAqA7hBgCoDuEGAKgO4QYA9etyF+CNcAMAVIdwAwBUh3ADAFSHcAMAVIdwAwBUh3ADAFSHcAOA+t3mLsAb4QYAlQshPOSuwRvhBgCoDuEGAKgO4QYAqA7hBgCoDuEGAKgO4QYAqA7hBgCoDuEGAKgO4QYAqA7hBgCoDuEGAKgO4QYAqA7hBgCoDuEGAJUzs5PcNXgj3ACgfoe5C/D2S+4CthHvPuba/Rc1G6iOyyGuAwBOGjOb7/i1D5K6EMKoDjy1EELuGl4VA+1C0pmkg8zlAMBUPUpaSLoaQ9AVG24x1K4kneauBQDwgy+SLkoOueKeuZnZoZldSfpXBBsAlOhU0r9mdmVmRT7PK6rnFntrraTjzKUAADZzJ6kprRdXTM/NzM4kdSLYAGBMjiV18T28GEWEm5k1kv4RE0YAYIwOJP0T38uLkD3c4g/jOncdAIC9XZcScFnDjWADgOoUEXDZJpTEySOdGIoEgNo8SprnnGSSJdzi1NFbSUfujQMAPNxLOgkhPORoPNewZCuCDQBqdqT+vT4L93CL00Xfe7cLAHD3PtcSAddhSYYjAWBysgxPevfcLkSwAcCUHKl/73fl1nOLvbalmB0JAFPzKGnm2Xvz7LldiGADgCk6kHPvzbPnthRDkgAwVfchhJlXYy49t7hgm2ADgOk6ilngwmtYsnFqBwBQrsarIa9wmzu1AwAo19yrIZdnbmZWzomoAIBsQgjm0U7ynpuZzVK3AQAYB69M8BiWnDm0AQAYh5lHI9kPKwUAYGiEGwCgOoQbAKA6zJYEAHj61WOPScINAOCmmqUAAAB4I9wAANUh3AAA1SHcAADVIdwAANUh3AAA1fEKt0endgAA5XLLAq9wu3VqBwBQLrcsYFgSAFCdX3IXgOS+vPD/TyQdeBYCDOxO0mobp2X8eM6JpMP434eSjpNWhSIQbuP3RX1Xfxk/P4QQtu76m9k8/ucsfpzEz7wRILc79a/tbx/77k1oZof6/hqfSZqLG76qEG7jcydpIakLIXRDXfS1a5nZifo//Hn8OBqq3Wf8re934x5mks4d29vHF0mdY3snkt47trdyr/gaV/86H/z1EK/ZPf3/8ZTouaSz+JmwGymvjZM7SafJG6rXvaQrSYsQwjJzLas3gNUf/9Bvfh9CCO3A13yVmT1oHG9iv3n+/s1sIb9wWwVau8vIQypmdqb+tX6mcbxGSvclhDB3aSmEkPxD/R1S4GPrj07S3ON3tMfv9lBSo364aIjv+TbD93BVwO+6qJ+L+h6tx/e1kHSW+3W8xet8WcBrYcwfndfvjNmSZfoi6V0IYR4GHHpMIYTwEEJoQwgnkn6XdKP91rIcx2FQT61ze7tondtrEl//Rn1P9CyEsEjc1t7WXuczSe/08kQtFIJwK8u9pP+MIdSeE0K4DSE06u/6/9TuIXcxVE2bCP0w2L1nmztondtrEl13FWpNKGCIfRchhC70Q2uEXMEIt3L8LelkDHexb4l3uZfaPeTO4mw2T61ze9v4FBxOLl6Jz5mOBr7sF4081J56EnKl3xxNDuGW36P6SRQXnm9gHp6E3M0WX3qg/gG+p9a5vW143/A0A17rUd9HI5YDXrcYMeRmkv4rthosBuGW16P6CSNt7kJSiiHXqL/Dvdvwy7yHJpfavDZPj3IMtzgTdqgZkp8kzWoYjdhECOFK/fIJhioLQLjlc6f+D7+Yac+pxTvcE/VDlW9hYklv4dyjbwa4xmo04qy20Yi3hBCWcaiSXlxmhFse9+p7bJP6w1+JQ5W/6+3nFK69NxUabs7t7fszX7222wFqGa21XlyJowGTQLj5e1S/rmeSwbYSe6wn6oeuXuI6sST+Tl6rx9uj55CemTXab6HynfpJUZMZjXhN7MWdaLvnzRgI4eav4Y+/F8Ok0cvDNzkmlpT0fKh1bq/Z42s/acKjEa+Jz5s/5K5jagg3X39P5eH6Flq93lvwnljSqpxnJa1XQ3EiyemOX34zxedrW1qonNfVJBBufu4lXeYuoiRxGOytmXk5JpaUcANy79zD3/Um4ib2TPCCOLTeib0pXRFufhrubL+LPYWrDf+598SSEsJt05/NUJodvuZO/r+bMboSR0e5I9x8fBnjdlqJtdr8TvbceWLJQvl3nCh9IsmdeMb2JjO71HiOVKoK4ebjMncBJYl/8Ns+32mGr+RVOXtvd867eTRb/vtHMRLxpnjT8DF3HVNFuKV3R6/tu/j8bJc/+CmteXMbktxxIgkzft8QX+feQ8tYQ7il1+YuoBRxaHHXHtGRmc0HLOdVmU8K8Ow1bnvTwIzfNzCBpAxe4bbrFOMatLkLKMil9tttvhmmjI3luPN2PQFA2/1M70IITCB5BcH2JrcssHjKbNpGzNI3Uqa7uEOBqzgkMle/G/9z7Xfx862kpccQUzxG5Z8BLvWr15t/HLL76tHWmg9eW1fFZ0LXW3zJ7wxHvs7MWjGB5FUhBPNo5xePRibMdfgmBsil3p52/MPdk5lJ/U7mt+qPgR+07ng32w50uUZOPaoQwtLMvsjvbvPReU/GZot/+2epwRaHqw/1/I2c1L+uHyTdprwxYmZkWei5pfXOazJJgjvGT+p3pG/3vZCZdRouIO7j2Vkudujd7MNtQfSWvdJ79XtGFjE7MtZ+Fj+2fV09qg+7hfobuUEC2/l1MmpePTeFEJJ/SAoT/Th0+vleJPweHtT3uk4Kqm3u8XON9R86vl48v6+rLepqvOp6o+a5+lAa8me+jK/Rnf9W1fcYHxxfJ6P+8Hq90HNLKDjdoZjZg3weYH+RdBk27I3GZ3+dhq/NdcsnM1touAM8X+LdI930NeNa13NiT61V+uHhG/Wv7+WmXxCH3JdiAsnGvN4XWQqQjstpvPF5g9cf1qmkz2bWbTgtv1Wa2lx3LJHPjNdSdyTJOjsyPsf6Kp/nnueSvprZ5SavL2ZGlo1wwy7WQ2723D8ws9T76TUJr/2D0E+wSb2je5v4+us2Daz7kGlNm5kdxme1HzM0/1HSbZyg9Rr2jCwY4YZ9nOqZO93Yq/sjcds1baZ8F5xmIsah4k3fkC8TlvKiteFsj97aS44k/WNmi+d6ccyMLB/hNn4lTM9e3enOB572/xrXHUuU9ntKee2nNr0p8F6WIOmHYCulR/Re0nL9tcaekeNAuI1c6Kdnl3CM/ZGkz+rD9sipzcapHcVJNKm243IZ+os3HpuebN4mLOVZa9uzlfYM60D9MPwFe0aOB+FWhwv1R5CUwCvYJP+JJSlC6Ms2s/P2dKbNgyPHG3gn39fPtv6S9K/KC188I3m4OQ8dTVLsvc0l/Zm5lBwax7ZSvOG3Ca75kk2HJL2P3Fk9wyplKBIJeWUCPbd0Zp6NhRAeQgiXkn6T9LfSz+4rhdvEkviGP3QP2WtIcpuJJG3CUn4S3+x4hoVBEW7pZBleCSEsQwgXIYRDSR/Ub6NVs6MNpmwPqR3wWjfBb0urbW4CulRFvIBnWBgc4ZZQvFvOJoTQhhDO4o4A/1Hfo8t1RllKjWNbQ/a0SpxIcu+1LEH6NvOQ4UgMjnBLK2u4rQshLGKPbqZ+6PKD+rArZSLKPt6/tJh8aHFocoje8KPjAultJpJ0Cet4zqVze5gIwi2tee4CnhOHLtsYdiexZ/dO/YQUl23DEmgc2xoilEo9bduz13amsmdHYsSSb5wcHxZ/TtpIuR7js6/Rib+3ufq7/jEMG7lt8BuH+f6352VcDv6MQ+P/bvElbgeSOm1IjfK4HAVGzy2tA+fJDoMJIXQhhMvQnyT+q/phzBuVOwvTbWLJAAvnPZ9rbTWb1DHYDkWwISFO4k7vQs4ncg8tvpm38WM1nLT6KGlBayO/n/VCu+8tWOJEEsn3+WuqG5GxrPWcib0pk/IIt2ImVWRyamZzj264lzgRYrH25tko7ya3K+/NbOaxADmEsDCzR+0W7l5T37e9+fA8aTtJuMW1nsWLw/5TDbfV/qFJeQxLjvKZ08AucxeQQlw43oYQ5pJ+Vxl7XDaObbU7fI3n7h/bLnDvUhTxgqnf9E6ZSybwzM3HqZllPfQxtRDCbTwd+zflDbnGsa3W6Wu2tuWOJK5ij59ZkkiKcPNzmXtRt4e4zKBRH3I5lhV4Tiy51faL4tsEpTxnl5spr2HJ6v8OkB/h5udAUuu8i302MeTm6ndG8Z5h2Ti21W7xbz95bLcVX2O7PM8p4WxAYBCEm69jSd1UAk76NvlkJt89Lt12LNF24eY1k7NxamdX89wFoH6Em78pBtxDCOFM0n8dm208GtnipIBH+YVb1c93gU0QbnlMLuAkKYRwpX4xuIfGqR1ps97bwmlIci4mawCEW0bHkpZTO8w1hNDKJ+A8j8JpN/g3DEkCjjzCbe7QxlgdSPpsZldT6sU5BpzL8Fzskb32TNHlBIA9JpIAnuYejdBzK8Mfkm7Hug/lLmLA/Z24mVPHiSWvhVfrVEPj1M6+utwFoH6EWzmOJP1jZt1UhipDCBdKv5+hV++t1ctLHlqPGrT/9zofogigBIRbeU7VD1V28ZTi2qUOnybx9dc913tzOQFgZBNJWE+H5Ai3cp1KujazpZldOg6vuYobSqdcA3fgeJPwXLh5bZLcDHANl+e+8RllqUcnoRKEW/mOJH2U9NXMbs3sosKgu0x8/Sbx9SV9W7D+dDuuMU0k8dwWq3NsCxNEuI3LsaS/1AfdMs6ynGeuaW9x2C7lPpS5JpZ4nQDQDHSd2UDX2UTn2BYmiHAbryP1syw/m9mDmS1G3qtrE1/fa9eOdu2/vYYkh/rePJ/ZdY5tYYIItzocSHqvH3t1rZk1Iwq7LvH1m8TXl/TTSQEeQ5JzDRhKXiMBO56oAGzM4yTumUMb+NGR+mcw55IUT4zuVh8es/e2FUJYmtmd0p1BdmBmTZyyn9qVpLnHdlsaPrRdTkmOrtTfkA3GzLqBLtU6vVamaObRiEe4jWV6cs1WPbv30k9ht3A8Gfott0p7wGYjnzVnC0nL1I0k2pHEc1JJq34y0cGA1zwd6DrdQNfBz1wygWHJaXpuGLOE5QbLxNd3mVgSz7Lz2EuySXDNeYJrPiv2bL2eS2JiCDdIPy43yLlDSufQRk3HwaT4Xo6cT4y/EmvekADhhqfWd0jxfJPz0uQuYAhxH9JUwzvzRNf9Sey9XXq1h+kg3PJ6lPROvqdUb+pU/ZlzTe5CBua5Y0lKzUiv/ZN4zl/KdY6YIMItr4sQQrd2SnVpwzMH6rcAm2WuY2hN7gL2EX8f7xM2cZzhd36m8l7/GDHCLZ8/16cax7vXudLvkr+L2o7i8dyxJIXGoQ3XZ5NxeHIuAg4DIdzyuAkhXD79nyGE2xDCiaQ/VdYf+Tx3AQmMeWJJU0kbP4jrL+cq67WPkSLc/N3pjTfWGHwnKuc5RI2nhDdjPP088USSdVmeTRJwGArh5utRG+5cEddKzdVPOCkl5GpyoHEOtzaObV06tvVNDLiZyhyix0gQbn42DrZ1ccLJXNJ/lC/kvLbr8l56MKqhSYeJJE8d5ZpZGkJ4WBuiz8Fj6zQkRLj5udhnT8cQwmKtJ3czWFVve5TfLhLew4THI1vL12Ro8zJDm9/EIfrf5Peav5f0IU7wwoglDbeRz0gb0p9DbcIae3KNpF/VLx9IPXRz4bj35NypnXVj6r01GdrM1ntbiUP0jaTflS7kVqE2Y8Pk9DyywUII6S7eb+P0OVkD43AT/zCTiS+UufpnSHMNsxHtF+3Z29yWmT1o2E10N/Eoaea0g//O4kSSfzI1X9TPKE4EOosf+wzT3qnf5HrhfVIG7416F0LoUjbgcSrAlL05M3IIsWfVxo9V2J2sfRzGz68Fx6P6Z2ud8vyxv1VfKquJJW2GtrfRZGz7QP3wZBG93Biyrb6/3lev85m+v9af6uLnpaRl6jdW5EfPLZ2i7nZLZ2ZX6k8Wz+EuTl4oUrxZ+Zq5DMnhbnsqJv7eKDm8lphQksZOMyMnLue0/NInljS5C4jaMa4NxDQRbmm4Pqsau3gXm/tQ2yKG3F7Q5C4gOlL5w7eAJMIthcFmRk5Ik7sASWcl9kocdyTZ1HszK/lGAJBEuA3t2T0j8bL4POk8cxlSuTuWNLkLeMZfGQ+0BTZCuA3HZWZkhdrcBawp6veXYUeSbSwKf06JiSPckE0ccjvNXcea0iaWFBW2TxyoP8y2pJ8X8A3hNpxjSbf8sW8mPt9qc9fxjJICpcldwBsIuN3xM0uMcBvWkfo/9iZ3ISPQKs+i7bcUMbEkvoZK/Pk8RcBtycxaSX/lrqN2hNvwDiRdm9lVCW+SJTKzS5X7LKmUiSVN7gK2QMBtwMxOzOxWZUygqh7hls4f4g/+J7FH8jF3HW/IOjQZJ5KU9CxyEweS/mXU4nlx+USn/vEFHBBuaR2r/4O/zF1ICeIb33XuOjZwnHmqe0nP/bZ1bWbsZBKZ2czMOvXDkGMYZq4G4ebjo5ktp7w2aETBttJMtO0hnItRi9Xw+63G1wuvAuHm50jSZzPrpnbOXXyAPqZgk6TzHL2PEU0kectkRy3M7MzMluqH32v4XY4S4ebvVNLXOHQzy1xLUnFIZswP0JuJtJnSZEYtzGwehyD/UVlbpk0S4ZbPub6H3Dx3MUNbG5IZ8wN012dfI51IsomqRy3WQu2z6vz9jRLhlt+5vv/hN7mL2ZeZNRUNyRw533iMeSLJJtZHLUb/PC6+1jsRakVKelipJJlZ2gbq8yhpof407EXuYjYVg/lS9Q3H3IQQGo+GzOxB478h2MYXSVcje50fqr8JaVTfa91NCMFSt0G4le1b0EnqSjv8NA4xXahf9FzzH/qvqX/2I5xNOqR79a/xqxDCMnMtz4r7oDYqd/OBUSHc8NQX9QtBO0m3OcIuDiedxY8xP0/bxn9DCFcpG4jDWwxt9adrdOpHLrpcRcQbt7n61zmBNjDCDW+5k7RUP3Gjk/Qw5AngMchm6jd5ncfPUxo2W7lX2lmMh+pn2OFHj/r+2u6U6IYuDjWerH3MVfdIRHaEG3a1elOQ+vBbbvh18/h5Jv64UabVa3up76/rbsOvXYWY1L/GZ5ruDVtWhBsAoDoe4cZSAABAdQg3AEB1CDcAQHU8wu3eoQ0AwDi4ZIJHuC0d2gAAjMPSoxGGJQEA1SHcAADVIdwAANUh3AAA1fEIt8H2OgQAjJ5LJniEW1HHtAAAsnLJBIYlAQDVIdwAANVhETcAwNPSoxHCDQDgaenRCMOSAIDq0HMDAHhaejSS/CRuidO4AQA9j1O4Jb9hSY69AQC4ZYFXuLFLCQDALQsINwCAl+rCrXNqBwBQrs6rIZcJJRKTSgBg6rwmk0i+69w+ObYFACiLawZ4htvCsS0AQFlcM8BzWPJQ0v9cGgMAlObXEILbEWhuPbf4Td14tQcAKMaNZ7BJjj03STKzmaSvbg0CAErwWwhh6dmg68bJ8Zuj9wYA03HjHWySc89N+tZ7u5V04NowAMDbo6STHOHmfuRN/CYvvdsFALi7zBFsUoae27eGzRaS3mdpHACQ2qcQwlmuxnOG26H6rViOsxQAAEjlTtLce4bkumwnccdveq7+hwAAqEP2YJMyhptEwAFAZYoINilzuEl9wIUQTiT9nbsWAMDO/g4hnJQQbFLGZ27PMbO5pFbSUd5KAAAbupfUhBC63IWsy95zWxdC6EIIM0kf5HgcOQBga/eSPoQQZqUFm1RYz+0pMzuT1IglAwBQik+S2hBC0Se9FB1uK3FXk1XQsXQAAHzdqX9ktMi1KHtbowi3dWtBN5d0uOWXH2qYcPwywDUAYBOnA1zjTtK2Ez0e1K9FHk2grRtduO0jTlj5vO91PI9KBzBtZjbEm/S7Ep+LpVTUhBIAAIZAuAEAqkO4AQCqQ7gBAKpDuAEAqkO4AQCqQ7gBAKpDuAEAqkO4AQCqQ7gBAKpDuAEAqkO4AQCqQ7gBAKpDuAEAqkO4AQCqQ7gBAKpDuAEAqkO4AQCqQ7gBAKpDuAEAqkO4AQCqQ7gBAKpDuAEAqkO4AQCqQ7gBAKpDuAEAqkO4AQCqQ7gBAKpDuAEAqkO4AQCqQ7gBAKpDuAEAqkO4AQCqQ7gBAKpDuAEAqkO4AQCqQ7gBAKpDuAEAqkO4AQCqQ7gBAKpDuAEAqkO4AQCqQ7gBAKpDuAEAqkO4AQCqQ7gBAKpDuAEAqkO4AQCqQ7gBAKpDuAEAqkO4AQCqQ7gBAKpDuAEAqkO4AQCqQ7gBAKpDuAEAqkO4AQCqQ7gBAKpDuAEAqkO4AQCqQ7gBAKpDuAEAqkO4AQCqQ7gBAKpDuAEAqkO4AQCqQ7gBAKpDuAEAqkO4AQCqQ7gBAKpDuAEAqkO4AQCqQ7gBAKpDuAEAqkO4AQCqQ7gBAKpDuAEAqkO4AQCqQ7gBAKpDuAEAqvNL7gLGyMzmuWsAALyMcNvN59wFAABexrAkAKA6hBsAoDqEGwCgOoQbAKA6Uwu3Ze4CACCDZe4CvFkIIXcNrsxsWt8wgMkLIVjuGrxNrecmSfe5CwAAR5N8z5tiuHW5CwAAR13uAnIg3ACgbl3uAnKY4jO3Q0n/y10HADj5NYTwkLsIb5PrucVf8k3uOgDAwc0Ug02aYM9NksxsJulr5jIAILXfQgjL3EXkMLmemyTFXza9NwA1u5lqsEkT7blJ3569LSUdZC4FAIb2KGk21SFJaaI9N+nbs7ez3HUAQAJnUw42acLhJkkhhE7Sh9x1AMCAPsT3tkmbdLhJUgihFQEHoA4f4nva5E32mdtTZnaifrEjz+AAjM2j+qHILnchpZh8z20lhHAraSZmUQIYlxv1k0e63IWUhJ7bM2Iv7kLSee5aAOAFN5Ku4o05niDcXhEXe59JOsxbCQB88yBpMeU1bJsg3AAA1fl/abpxIOmSxCwAAAAASUVORK5CYII=","application/eps":WP,"application/x-eps":WP,"application/postscript":WP,"application/octet-stream":WP,"image/x-eps":WP,"image/eps":WP,"image/png":null,"image/jpeg":null,"image/jpg":null,default:VP};return null!==(n=t.name)&&void 0!==n&&n.toLowerCase().endsWith(".eps")?WP:r[e]||r.default})(t.type),alt:t.type,style:{width:"100%",height:"100%",objectFit:"contain",padding:"8px"}})}),(0,Le.jsx)("p",{className:"file-name mt-2",style:{fontSize:"0.875rem",maxWidth:`${n}px`,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.name})]})},qP=e=>{let{projectId:t,onUploadComplete:n}=e;const[r,o]=(0,i.useState)(!1),[a,s]=(0,i.useState)(!1),[l,c]=(0,i.useState)(null),[u,d]=(0,i.useState)(0),h=(0,i.useRef)(),[f,p]=(0,i.useState)([]),[g,m]=(0,i.useState)(""),v={logos:"Logo Files",brandmarks:"Brand Marks & Icons",typography:"Typography",colors:"Color Palettes",guidelines:"Brand Guidelines",templates:"Templates & Stationery",other:"Other Brand Assets"},y=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?o(!0):"dragleave"===e.type&&o(!1)},b=async e=>{s(!0),c(null);const n={logos:["application/illustrator","image/svg+xml","application/eps","image/png","application/pdf"],brandmarks:["application/illustrator","image/svg+xml","application/eps","image/png","application/pdf"],typography:["application/x-font-ttf","application/x-font-otf","font/ttf","font/otf","application/pdf"],colors:["application/pdf","image/png","image/jpeg","application/illustrator"],guidelines:["application/pdf","application/illustrator"],templates:["application/pdf","application/illustrator","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword"],other:["application/pdf","application/illustrator","image/svg+xml","application/eps","image/png","image/jpeg"]},r={size:[],type:[]},i=e.filter((e=>{var t;let i=!0;e.size>26214400&&(r.size.push(e.name),i=!1);return!((null===(t=n[g])||void 0===t?void 0:t.includes(e.type))||e.name.toLowerCase().endsWith(".eps")&&["logos","brandmarks","other"].includes(g)||e.name.toLowerCase().endsWith(".ai")&&["logos","brandmarks","guidelines","templates","other"].includes(g)||e.name.toLowerCase().endsWith(".ttf")&&"typography"===g||e.name.toLowerCase().endsWith(".otf")&&"typography"===g)&&g&&(r.type.push(e.name),i=!1),i})),o=[];if(r.size.length>0&&o.push(`The following files exceed the 25MB size limit: ${r.size.join(", ")}`),r.type.length>0){const e={logos:"AI, EPS, SVG, PNG, PDF",brandmarks:"AI, EPS, SVG, PNG, PDF",typography:"TTF, OTF, PDF",colors:"PDF, PNG, JPG, AI",guidelines:"PDF, AI",templates:"PDF, AI, DOC, DOCX",other:"AI, EPS, SVG, PNG, JPG, PDF"};o.push(`The following files are not allowed for ${v[g]} (must be ${e[g]}): ${r.type.join(", ")}`)}if(o.length>0&&c({type:"error",message:o.join("\n")}),0===i.length)return void s(!1);const a=i.map((async e=>{try{const n=`projects/${t}/${g}/${e.name}`,r=Mb(zb,n);await Rb(r,e);const i=await _b(r);return{name:e.name,url:i,type:e.type,path:n}}catch(n){return console.error("Upload error:",n),{error:!0,name:e.name}}}));try{const e=await Promise.all(a),t=e.filter((e=>e.error)),n=e.filter((e=>!e.error));t.length>0&&c({type:"error",message:`Failed to upload: ${t.map((e=>e.name)).join(", ")}`}),n.length>0&&(c({type:"success",message:1===n.length?`Successfully uploaded ${n[0].name}`:`Successfully uploaded: ${n.map((e=>e.name)).join(", ")}`}),p((e=>[...e,...n])))}catch(l){c({type:"error",message:"Upload failed. Please try again."})}finally{s(!1)}};return(0,Le.jsxs)(Le.Fragment,{children:[l&&(0,Le.jsxs)("div",{className:`alert ${"success"===l.type?"alert-success":"alert-danger"} mb-3`,children:[l.message,(0,Le.jsx)("button",{type:"button",className:"btn-close float-end",onClick:()=>c(null),children:"X"})]}),(0,Le.jsxs)("div",{className:`upload-zone ${r?"dragging":""} ${a?"uploading":""}`,onDragEnter:y,onDragLeave:y,onDragOver:y,onDrop:async e=>{e.preventDefault(),e.stopPropagation(),o(!1);const t=[...e.dataTransfer.files];t&&t.length>0&&await b(t)},onClick:()=>h.current.click(),style:{border:"2px dashed #ccc",borderRadius:"4px",padding:"20px",textAlign:"center",cursor:"pointer",backgroundColor:r?"#f8f9fa":"white",transition:"all 0.3s ease"},children:[(0,Le.jsx)("input",{type:"file",ref:h,onChange:async e=>{const t=[...e.target.files];t&&t.length>0&&await b(t)},style:{display:"none"},multiple:!0}),a?(0,Le.jsxs)("div",{className:"upload-progress",children:[(0,Le.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,Le.jsx)("span",{className:"visually-hidden",children:"Uploading..."})}),(0,Le.jsx)("p",{children:"Uploading brand assets..."})]}):(0,Le.jsxs)("div",{children:[(0,Le.jsx)("i",{className:"fas fa-cloud-upload-alt mb-2",style:{fontSize:"2rem"}}),(0,Le.jsx)("p",{children:"Drag and drop brand files here or click to select"}),(0,Le.jsx)("p",{className:"text-muted small",children:"Supported formats vary by category"})]})]}),f.length>0&&(0,Le.jsxs)("div",{className:"mt-4",children:[(0,Le.jsxs)("div",{className:"mb-3",children:[(0,Le.jsx)("label",{htmlFor:"fileCategory",className:"form-label",children:"Asset Category"}),(0,Le.jsxs)("select",{id:"fileCategory",className:"form-select",value:g,onChange:e=>m(e.target.value),required:!0,children:[(0,Le.jsx)("option",{value:"",children:"Select a category"}),Object.entries(v).map((e=>{let[t,n]=e;return(0,Le.jsx)("option",{value:t,children:n},t)}))]})]}),(0,Le.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,Le.jsx)("h6",{children:"Files to Upload"}),(0,Le.jsx)("button",{className:"btn btn-primary",onClick:async()=>{if(g)try{s(!0);const e=gv(Gb,"projects",t,"assets",g),r=f.map((e=>({name:e.name,url:e.url,type:e.type,fileType:g,path:e.path,uploadedAt:(new Date).toISOString()}))),i=await cy(e),o=i.exists()&&i.data().files||[];await hy(e,{files:[...o,...r]},{merge:!0}),n(r),p([]),c({type:"success",message:"Files successfully saved to project!"})}catch(e){console.error("Error saving files:",e),c({type:"error",message:"Failed to save files to project. Please try again."})}finally{s(!1)}else c({type:"error",message:"Please select a file category before confirming upload."})},disabled:!g,children:"Confirm Upload"})]}),(0,Le.jsx)("div",{className:"d-flex flex-wrap gap-3",children:f.map(((e,t)=>(0,Le.jsxs)("div",{className:"file-thumb position-relative mr-2 mb-2",children:[(0,Le.jsx)(HP,{file:e,width:80}),(0,Le.jsx)("button",{className:"btn btn-sm btn-danger",onClick:()=>{return t=e,void p((e=>e.filter((e=>e.url!==t.url))));var t},children:"X"})]},t)))})]})]})},QP=()=>{const{projectId:e}=re(),[t,n]=(0,i.useState)([]),[r,o]=(0,i.useState)({key:"uploadedAt",direction:"desc"});(0,i.useEffect)((()=>{(async()=>{try{const t=["logos","brandmarks","typography","colors","guidelines","templates","other"];let r=[];for(const n of t){const t=gv(Gb,"projects",e,"assets",n),i=await cy(t);if(i.exists()){const e=i.data().files||[];r=[...r,...e]}}n(r)}catch(t){console.error("Error loading assets:",t)}})()}),[e]);const a=e=>{o((t=>({key:e,direction:t.key===e&&"asc"===t.direction?"desc":"asc"})))};return(0,Le.jsxs)("div",{className:"dashboard-container p-4",children:[(0,Le.jsx)("h2",{className:"mb-4",children:"Brand Assets"}),(0,Le.jsx)("div",{className:"card mb-4",children:(0,Le.jsxs)("div",{className:"card-body",children:[(0,Le.jsx)(qP,{projectId:e,onUploadComplete:e=>{n((t=>[...t,...e]))}}),(0,Le.jsx)("div",{className:"table-responsive mt-4",children:(0,Le.jsxs)("table",{className:"table",children:[(0,Le.jsx)("thead",{children:(0,Le.jsxs)("tr",{children:[(0,Le.jsx)("th",{style:{width:"80px"}}),(0,Le.jsxs)("th",{onClick:()=>a("name"),style:{cursor:"pointer"},children:["File Name ","name"===r.key&&("asc"===r.direction?"\u25b2":"\u25bc")]}),(0,Le.jsxs)("th",{onClick:()=>a("fileType"),style:{cursor:"pointer"},children:["Asset Category ","fileType"===r.key&&("asc"===r.direction?"\u25b2":"\u25bc")]}),(0,Le.jsxs)("th",{onClick:()=>a("uploadedAt"),style:{cursor:"pointer"},children:["Upload Date ","uploadedAt"===r.key&&("asc"===r.direction?"\u25b2":"\u25bc")]}),(0,Le.jsx)("th",{style:{width:"50px"}})]})}),(0,Le.jsx)("tbody",{children:(()=>{const e=[...t];return e.sort(((e,t)=>{const n="asc"===r.direction?1:-1;switch(r.key){case"uploadedAt":return(new Date(e.uploadedAt)-new Date(t.uploadedAt))*n;case"name":return e.name.localeCompare(t.name)*n;case"fileType":return e.fileType.localeCompare(t.fileType)*n;default:return 0}})),e})().map(((t,r)=>(0,Le.jsxs)("tr",{children:[(0,Le.jsx)("td",{children:(0,Le.jsx)(HP,{file:t,width:50})}),(0,Le.jsx)("td",{className:"align-middle",children:t.name}),(0,Le.jsx)("td",{className:"align-middle",children:t.fileType}),(0,Le.jsx)("td",{className:"align-middle",children:new Date(t.uploadedAt).toLocaleDateString()}),(0,Le.jsx)("td",{className:"align-middle text-end",children:(0,Le.jsx)("button",{className:"btn btn-sm btn-danger",onClick:()=>(async t=>{if(window.confirm(`Are you sure you want to delete "${t.name}"? This action cannot be undone.`))try{if(t.path){const e=Mb(zb,t.path);await Lb(e)}else{const n=`projects/${e}/${t.fileType}/${t.name}`,r=Mb(zb,n);await Lb(r)}const r=gv(Gb,"projects",e,"assets",t.fileType),i=await cy(r);if(i.exists()){const e=(i.data().files||[]).filter((e=>e.url!==t.url));await hy(r,{files:e},{merge:!0}),n((e=>e.filter((e=>e.url!==t.url))))}}catch(r){console.error("Failed to delete file:",r),console.error("File object:",t),console.error("Error details:",r.message)}})(t),children:"X"})})]},r)))})]})})]})})]})};const KP=function(){return(0,Le.jsx)(je,{children:(0,Le.jsx)(Ne,{children:(0,Le.jsxs)(Ae,{children:[(0,Le.jsx)(be,{path:"/",element:(0,Le.jsx)(ew,{})}),(0,Le.jsx)(be,{path:"/signup",element:(0,Le.jsx)(sw,{children:(0,Le.jsx)(uw,{})})}),(0,Le.jsx)(be,{path:"/login",element:(0,Le.jsx)(sw,{children:(0,Le.jsx)(hw,{})})}),(0,Le.jsx)(be,{path:"/dashboard",element:(0,Le.jsx)(cw,{role:"designer",children:(0,Le.jsx)(sw,{children:(0,Le.jsx)(Yb,{})})})}),(0,Le.jsx)(be,{path:"/client-dashboard",element:(0,Le.jsx)(cw,{role:"client",children:(0,Le.jsx)(sw,{children:(0,Le.jsx)(lw,{})})})}),(0,Le.jsx)(be,{path:"/onboarding/:type/:projectId/*",element:(0,Le.jsx)(cw,{role:"designer",children:(0,Le.jsx)(sw,{children:(0,Le.jsx)($b,{})})})}),(0,Le.jsx)(be,{path:"/edit-questions",element:(0,Le.jsx)(cw,{role:"designer",children:(0,Le.jsx)(sw,{children:(0,Le.jsx)(RC,{})})})}),(0,Le.jsx)(be,{path:"/choose-template/:type",element:(0,Le.jsx)(cw,{role:"designer",children:(0,Le.jsx)(sw,{children:(0,Le.jsx)(_C,{})})})}),(0,Le.jsx)(be,{path:"/start-project/:type/:templateId",element:(0,Le.jsx)(cw,{role:"designer",children:(0,Le.jsx)(sw,{children:(0,Le.jsx)(MC,{})})})}),(0,Le.jsx)(be,{path:"/view-brief/:briefId",element:(0,Le.jsx)(cw,{role:"designer",children:(0,Le.jsx)(sw,{children:(0,Le.jsx)(jC,{})})})}),(0,Le.jsx)(be,{path:"/dashboard/create-draft",element:(0,Le.jsx)(cw,{role:"designer",children:(0,Le.jsx)(sw,{children:(0,Le.jsx)(FC,{})})})}),(0,Le.jsx)(be,{path:"/template/:templateId/edit",element:(0,Le.jsx)(cw,{role:"designer",children:(0,Le.jsx)(sw,{children:(0,Le.jsx)(zP,{})})})}),(0,Le.jsx)(be,{path:"/template/create/:type",element:(0,Le.jsx)(cw,{role:"designer",children:(0,Le.jsx)(sw,{children:(0,Le.jsx)(zP,{})})})}),(0,Le.jsx)(be,{path:"/wizard/:type/:templateId",element:(0,Le.jsx)(cw,{children:(0,Le.jsx)(sw,{children:(0,Le.jsx)($b,{})})})}),(0,Le.jsx)(be,{path:"/project/:projectId/assets",element:(0,Le.jsx)(cw,{role:"designer",children:(0,Le.jsx)(sw,{children:(0,Le.jsx)(QP,{})})})})]})})})};a.createRoot(document.getElementById("root")).render((0,Le.jsx)(i.StrictMode,{children:(0,Le.jsx)(KP,{})}))})();
//# sourceMappingURL=main.0ef0e122.js.map