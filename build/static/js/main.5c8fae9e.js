/*! For license information please see main.5c8fae9e.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},82:(e,t)=>{var n=60103,r=60106,i=60107,o=60108,a=60114,s=60109,l=60110,c=60112,u=60113,d=60120,h=60115,f=60116,p=60121,g=60122,m=60117,v=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),i=b("react.fragment"),o=b("react.strict_mode"),a=b("react.profiler"),s=b("react.provider"),l=b("react.context"),c=b("react.forward_ref"),u=b("react.suspense"),d=b("react.suspense_list"),h=b("react.memo"),f=b("react.lazy"),p=b("react.block"),g=b("react.server.block"),m=b("react.fundamental"),v=b("react.debug_trace_mode"),y=b("react.legacy_hidden")}function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case a:case o:case u:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case h:case s:return e;default:return t}}case r:return t}}}t.isContextConsumer=function(e){return w(e)===l}},86:(e,t,n)=>{e.exports=n(82)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,g(w,v.prototype),w.isPureReactComponent=!0;var A=Array.isArray,E=Object.prototype.hasOwnProperty,x={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,i)&&!I.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:x.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var D=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===o?"."+N(l,0):o,A(a)?(i="",null!=e&&(i=e.replace(D,"$&/")+"/"),T(a,t,i,"",(function(e){return e}))):null!=a&&(C(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(D,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",A(e))for(var c=0;c<e.length;c++){var u=o+N(s=e[c],c);l+=T(s,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=T(s=s.value,t,i,u=o+N(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function k(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},R={transition:null},_={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:R,ReactCurrentOwner:x};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:k,forEach:function(e,t,n){k(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return k(e,(function(){t++})),t},toArray:function(e){return k(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=x.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},219:(e,t,n)=>{var r=n(763),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var s=l(t),g=l(n),m=0;m<a.length;++m){var v=a[m];if(!o[v]&&(!r||!r[v])&&(!g||!g[v])&&(!s||!s[v])){var y=h(n,v);try{c(t,v,y)}catch(b){}}}}return t}},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function A(e){if(m=!1,w(e),!g)if(null!==r(c))g=!0,R(E);else{var t=r(u);null!==t&&_(A,t.startTime-e)}}function E(e,n){g=!1,m&&(m=!1,y(C),C=-1),p=!0;var o=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!T());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&_(A,d.startTime-n),l=!1}return l}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,I=!1,S=null,C=-1,D=5,N=-1;function T(){return!(t.unstable_now()-N<D)}function k(){if(null!==S){var e=t.unstable_now();N=e;var n=!0;try{n=S(!0,e)}finally{n?x():(I=!1,S=null)}}else I=!1}if("function"===typeof b)x=function(){b(k)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,P=O.port2;O.port1.onmessage=k,x=function(){P.postMessage(null)}}else x=function(){v(k,0)};function R(e){S=e,I||(I=!0,x())}function _(e,n){C=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,R(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(m?(y(C),C=-1):m=!0,_(A,o-a))):(e.sortIndex=s,n(c,e),g||p||(g=!0,R(E))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},237:(e,t,n)=>{n(365)},365:(e,t,n)=>{var r=n(43);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useSyncExternalStore,a=r.useRef,s=r.useEffect,l=r.useMemo,c=r.useDebugValue},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),i=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),E=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),D=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var _=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=_&&e[_]||e["@@iterator"])?e:null}var M,B=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var F=!1;function U(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(qo){var r=qo}Reflect.construct(e,[],t)}else{try{t.call()}catch(qo){r=qo}e.call(t.prototype)}else{try{throw Error()}catch(qo){r=qo}e()}}catch(qo){if(qo&&r&&"string"===typeof qo.stack){for(var i=qo.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case E:return"Portal";case S:return"Profiler";case I:return"StrictMode";case T:return"Suspense";case k:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case D:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:G(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return G(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(lu){return e.body}}function Y(e,t){var n=t.checked;return B({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function $(e,t){X(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return B({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function oe(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function Ae(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,xe=null,Ie=null;function Se(e){if(e=bi(e)){if("function"!==typeof Ee)throw Error(o(280));var t=e.stateNode;t&&(t=Ai(t),Ee(e.stateNode,e.type,t))}}function Ce(e){xe?Ie?Ie.push(e):Ie=[e]:xe=e}function De(){if(xe){var e=xe,t=Ie;if(Ie=xe=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ne(e,t){return e(t)}function Te(){}var ke=!1;function Oe(e,t,n){if(ke)return e(t,n);ke=!0;try{return Ne(e,t,n)}finally{ke=!1,(null!==xe||null!==Ie)&&(Te(),De())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=Ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Re=!1;if(u)try{var _e={};Object.defineProperty(_e,"passive",{get:function(){Re=!0}}),window.addEventListener("test",_e,_e),window.removeEventListener("test",_e,_e)}catch(ue){Re=!1}function Le(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,Be=null,je=!1,Fe=null,Ue={onError:function(e){Me=!0,Be=e}};function ze(e,t,n,r,i,o,a,s,l){Me=!1,Be=null,Le.apply(Ue,arguments)}function Ge(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(Ge(e)!==e)throw Error(o(188))}function He(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Ge(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ve(i),e;if(a===r)return Ve(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),null!==e?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Qe=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Je=i.unstable_requestPaint,Xe=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=dt(s):0!==(o&=a)&&(r=dt(o))}else 0!==(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var At,Et,xt,It,St,Ct=!1,Dt=[],Nt=null,Tt=null,kt=null,Ot=new Map,Pt=new Map,Rt=[],_t="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":kt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Bt(e){var t=yi(e.target);if(null!==t){var n=Ge(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void St(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ft(e,t,n){jt(e)&&n.delete(t)}function Ut(){Ct=!1,null!==Nt&&jt(Nt)&&(Nt=null),null!==Tt&&jt(Tt)&&(Tt=null),null!==kt&&jt(kt)&&(kt=null),Ot.forEach(Ft),Pt.forEach(Ft)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Gt(e){function t(t){return zt(t,e)}if(0<Dt.length){zt(Dt[0],e);for(var n=1;n<Dt.length;n++){var r=Dt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nt&&zt(Nt,e),null!==Tt&&zt(Tt,e),null!==kt&&zt(kt,e),Ot.forEach(t),Pt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Bt(n),null===n.blockedOn&&Rt.shift()}var Wt=w.ReactCurrentBatchConfig,Vt=!0;function Ht(e,t,n,r){var i=bt,o=Wt.transition;Wt.transition=null;try{bt=1,Qt(e,t,n,r)}finally{bt=i,Wt.transition=o}}function qt(e,t,n,r){var i=bt,o=Wt.transition;Wt.transition=null;try{bt=4,Qt(e,t,n,r)}finally{bt=i,Wt.transition=o}}function Qt(e,t,n,r){if(Vt){var i=Yt(e,t,n,r);if(null===i)Vr(e,t,r,Kt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Nt=Mt(Nt,e,t,n,r,i),!0;case"dragenter":return Tt=Mt(Tt,e,t,n,r,i),!0;case"mouseover":return kt=Mt(kt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ot.set(o,Mt(Ot.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Pt.set(o,Mt(Pt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<_t.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&At(o),null===(o=Yt(e,t,n,r))&&Vr(e,t,r,Kt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var Kt=null;function Yt(e,t,n,r){if(Kt=null,null!==(e=yi(e=Ae(r))))if(null===(t=Ge(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,$t=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=$t,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return B(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=B({},cn,{view:0,detail:0}),hn=on(dn),fn=B({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(fn),gn=on(B({},fn,{dataTransfer:0})),mn=on(B({},dn,{relatedTarget:0})),vn=on(B({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=B({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),wn=on(B({},cn,{data:0})),An={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function Sn(){return In}var Cn=B({},dn,{key:function(e){if(e.key){var t=An[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Dn=on(Cn),Nn=on(B({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=on(B({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),kn=on(B({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=B({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=on(On),Rn=[9,13,27,32],_n=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Mn=u&&"TextEvent"in window&&!Ln,Bn=u&&(!_n||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Fn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Gn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ce(r),0<(t=qr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Qn=null;function Kn(e){jr(e,0)}function Yn(e){if(Q(wi(e)))return e}function Jn(e,t){if("change"===e)return t}var Xn=!1;if(u){var $n;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}$n=Zn}else $n=!1;Xn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Qn=qn=null)}function nr(e){if("value"===e.propertyName&&Yn(Qn)){var t=[];Hn(t,Qn,e,Ae(e)),Oe(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Qn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Qn)}function or(e,t){if("click"===e)return Yn(t)}function ar(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=u&&"documentMode"in document&&11>=document.documentMode,mr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==K(r)||("selectionStart"in(r=mr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=qr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function Ar(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:Ar("Animation","AnimationEnd"),animationiteration:Ar("Animation","AnimationIteration"),animationstart:Ar("Animation","AnimationStart"),transitionend:Ar("Transition","TransitionEnd")},xr={},Ir={};function Sr(e){if(xr[e])return xr[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return xr[e]=n[t];return e}u&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var Cr=Sr("animationend"),Dr=Sr("animationiteration"),Nr=Sr("animationstart"),Tr=Sr("transitionend"),kr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){kr.set(e,t),l(t,[e])}for(var Rr=0;Rr<Or.length;Rr++){var _r=Or[Rr];Pr(_r.toLowerCase(),"on"+(_r[0].toUpperCase()+_r.slice(1)))}Pr(Cr,"onAnimationEnd"),Pr(Dr,"onAnimationIteration"),Pr(Nr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Br(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(o(198));var u=Be;Me=!1,Be=null,je||(je=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Br(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Br(i,s,c),o=l}}}if(je)throw e=Fe,je=!1,Fe=null,e}function Fr(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Gr(e){if(!e[zr]){e[zr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Ur("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Jt(t)){case 1:var i=Ht;break;case 4:i=qt;break;default:i=Qt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=yi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Oe((function(){var r=o,i=Ae(n),a=[];e:{var s=kr.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Dn;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case Cr:case Dr:case Nr:l=vn;break;case Tr:l=kn;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Nn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==h&&(null!=(g=Pe(p,h))&&u.push(Hr(p,g,f)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=Ge(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,g="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Nn,g="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:wi(l),f=null==c?s:wi(c),(s=new u(g,p+"leave",l,n,i)).target=d,s.relatedTarget=f,g=null,yi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,g=u),d=g,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Qr(f))p++;for(f=0,g=h;g;g=Qr(g))f++;for(;0<p-f;)u=Qr(u),p--;for(;0<f-p;)h=Qr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Qr(u),h=Qr(h)}u=null}else u=null;null!==l&&Kr(a,s,l,u,!1),null!==c&&null!==d&&Kr(a,d,c,u,!0)}if("select"===(l=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Jn;else if(Vn(s))if(Xn)m=ar;else{m=ir;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=or);switch(m&&(m=m(e,r))?Hn(a,m,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?wi(r):window,e){case"focusin":(Vn(v)||"true"===v.contentEditable)&&(mr=v,vr=r,yr=null);break;case"focusout":yr=vr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":wr(a,n,i)}var y;if(_n)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Gn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Bn&&"ko"!==n.locale&&(Gn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Gn&&(y=en()):($t="value"in(Xt=i)?Xt.value:Xt.textContent,Gn=!0)),0<(v=qr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=zn(n))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Fn=!0,jn);case"textInput":return(e=t.data)===jn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Gn)return"compositionend"===e||!_n&&Un(e,t)?(e=en(),Zt=$t=Xt=null,Gn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}jr(a,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Pe(e,n))&&r.unshift(Hr(e,o,i)),null!=(o=Pe(e,t))&&r.push(Hr(e,o,i))),e=e.return}return r}function Qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Pe(n,o))&&a.unshift(Hr(n,l,s)):i||null!=(l=Pe(n,o))&&a.push(Hr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Jr,"")}function $r(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Gt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Gt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,gi="__reactEvents$"+di,mi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Ai(e){return e[fi]||null}var Ei=[],xi=-1;function Ii(e){return{current:e}}function Si(e){0>xi||(e.current=Ei[xi],Ei[xi]=null,xi--)}function Ci(e,t){xi++,Ei[xi]=e.current,e.current=t}var Di={},Ni=Ii(Di),Ti=Ii(!1),ki=Di;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Di;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Si(Ti),Si(Ni)}function _i(e,t,n){if(Ni.current!==Di)throw Error(o(168));Ci(Ni,t),Ci(Ti,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,W(e)||"Unknown",i));return B({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Di,ki=Ni.current,Ci(Ni,e),Ci(Ti,Ti.current),!0}function Bi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Li(e,t,ki),r.__reactInternalMemoizedMergedChildContext=e,Si(Ti),Si(Ni),Ci(Ni,e)):Si(Ti),Ci(Ti,n)}var ji=null,Fi=!1,Ui=!1;function zi(e){null===ji?ji=[e]:ji.push(e)}function Gi(){if(!Ui&&null!==ji){Ui=!0;var e=0,t=bt;try{var n=ji;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Fi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Qe(Ze,Gi),i}finally{bt=t,Ui=!1}}return null}var Wi=[],Vi=0,Hi=null,qi=0,Qi=[],Ki=0,Yi=null,Ji=1,Xi="";function $i(e,t){Wi[Vi++]=qi,Wi[Vi++]=Hi,Hi=e,qi=t}function Zi(e,t,n){Qi[Ki++]=Ji,Qi[Ki++]=Xi,Qi[Ki++]=Yi,Yi=e;var r=Ji;e=Xi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ji=1<<32-at(t)+i|n<<i|r,Xi=o+e}else Ji=1<<o|n<<i|r,Xi=e}function eo(e){null!==e.return&&($i(e,1),Zi(e,1,0))}function to(e){for(;e===Hi;)Hi=Wi[--Vi],Wi[Vi]=null,qi=Wi[--Vi],Wi[Vi]=null;for(;e===Yi;)Yi=Qi[--Ki],Qi[Ki]=null,Xi=Qi[--Ki],Qi[Ki]=null,Ji=Qi[--Ki],Qi[Ki]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Mc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Ji,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Mc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function go(e){null===oo?oo=[e]:oo.push(e)}var mo=w.ReactCurrentBatchConfig;function vo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function yo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bo(e){return(0,e._init)(e._payload)}function wo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=jc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Gc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===x?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===P&&bo(o)===t.type)?((r=i(t,n.props)).ref=vo(e,t,n),r.return=e,r):((r=Fc(n.type,n.key,n.props,null,e.mode,r)).ref=vo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Wc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Uc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Gc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case A:return(n=Fc(t.type,t.key,t.props,null,e.mode,n)).ref=vo(e,null,t),n.return=e,n;case E:return(t=Wc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Uc(t,e.mode,n,null)).return=e,t;yo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case A:return n.key===i?c(e,t,n,r):null;case E:return n.key===i?u(e,t,n,r):null;case P:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:d(e,t,n,r,null);yo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case A:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,i,null);yo(t,r)}return null}function g(i,o,s,l){for(var c=null,u=null,d=o,g=o=0,m=null;null!==d&&g<s.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var v=f(i,d,s[g],l);if(null===v){null===d&&(d=m);break}e&&d&&null===v.alternate&&t(i,d),o=a(v,o,g),null===u?c=v:u.sibling=v,u=v,d=m}if(g===s.length)return n(i,d),io&&$i(i,g),c;if(null===d){for(;g<s.length;g++)null!==(d=h(i,s[g],l))&&(o=a(d,o,g),null===u?c=d:u.sibling=d,u=d);return io&&$i(i,g),c}for(d=r(i,d);g<s.length;g++)null!==(m=p(d,i,g,s[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),o=a(m,o,g),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach((function(e){return t(i,e)})),io&&$i(i,g),c}function m(i,s,l,c){var u=L(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,g=s,m=s=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=f(i,g,y.value,c);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&t(i,g),s=a(b,s,m),null===d?u=b:d.sibling=b,d=b,g=v}if(y.done)return n(i,g),io&&$i(i,m),u;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=h(i,y.value,c))&&(s=a(y,s,m),null===d?u=y:d.sibling=y,d=y);return io&&$i(i,m),u}for(g=r(i,g);!y.done;m++,y=l.next())null!==(y=p(g,i,m,y.value,c))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),s=a(y,s,m),null===d?u=y:d.sibling=y,d=y);return e&&g.forEach((function(e){return t(i,e)})),io&&$i(i,m),u}return function e(r,o,a,l){if("object"===typeof a&&null!==a&&a.type===x&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case A:e:{for(var c=a.key,u=o;null!==u;){if(u.key===c){if((c=a.type)===x){if(7===u.tag){n(r,u.sibling),(o=i(u,a.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&bo(c)===u.type){n(r,u.sibling),(o=i(u,a.props)).ref=vo(r,u,a),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===x?((o=Uc(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Fc(a.type,a.key,a.props,null,r.mode,l)).ref=vo(r,o,a),l.return=r,r=l)}return s(r);case E:e:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Wc(a,r.mode,l)).return=r,r=o}return s(r);case P:return e(r,o,(u=a._init)(a._payload),l)}if(te(a))return g(r,o,a,l);if(L(a))return m(r,o,a,l);yo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Gc(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var Ao=wo(!0),Eo=wo(!1),xo=Ii(null),Io=null,So=null,Co=null;function Do(){Co=So=Io=null}function No(e){var t=xo.current;Si(xo),e._currentValue=t}function To(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ko(e,t){Io=e,Co=So=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xs=!0),e.firstContext=null)}function Oo(e){var t=e._currentValue;if(Co!==e)if(e={context:e,memoizedValue:t,next:null},null===So){if(null===Io)throw Error(o(308));So=e,Io.dependencies={lanes:0,firstContext:e}}else So=So.next=e;return t}var Po=null;function Ro(e){null===Po?Po=[e]:Po.push(e)}function _o(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ro(t)):(n.next=i.next,i.next=n),t.interleaved=n,Lo(e,r)}function Lo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Mo=!1;function Bo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Uo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Rl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Lo(e,n)}return null===(i=r.interleaved)?(t.next=t,Ro(r)):(t.next=i.next,i.next=t),r.interleaved=t,Lo(e,n)}function zo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Wo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vo(e,t,n,r){var i=e.updateQueue;Mo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(a=0,u=c=l=null,s=o;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,g=s;switch(h=t,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=g.payload)?p.call(f,d,h):p)||void 0===h)break e;d=B({},d,h);break e;case 2:Mo=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);zl|=a,e.lanes=a,e.memoizedState=d}}function Ho(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Qo={},Ko=Ii(Qo),Yo=Ii(Qo),Jo=Ii(Qo);function Xo(e){if(e===Qo)throw Error(o(174));return e}function $o(e,t){switch(Ci(Jo,t),Ci(Yo,e),Ci(Ko,Qo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Ko),Ci(Ko,t)}function Zo(){Si(Ko),Si(Yo),Si(Jo)}function ea(e){Xo(Jo.current);var t=Xo(Ko.current),n=le(t,e.type);t!==n&&(Ci(Yo,e),Ci(Ko,n))}function na(e){Yo.current===e&&(Si(Ko),Si(Yo))}var ra=Ii(0);function ia(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var aa=[];function sa(){for(var e=0;e<aa.length;e++)aa[e]._workInProgressVersionPrimary=null;aa.length=0}var la=w.ReactCurrentDispatcher,ca=w.ReactCurrentBatchConfig,ua=0,da=null,ha=null,fa=null,pa=!1,ga=!1,ma=0,va=0;function ya(){throw Error(o(321))}function ba(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function wa(e,t,n,r,i,a){if(ua=a,da=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,la.current=null===e||null===e.memoizedState?rs:is,e=n(r,i),ga){a=0;do{if(ga=!1,ma=0,25<=a)throw Error(o(301));a+=1,fa=ha=null,t.updateQueue=null,la.current=os,e=n(r,i)}while(ga)}if(la.current=ns,t=null!==ha&&null!==ha.next,ua=0,fa=ha=da=null,pa=!1,t)throw Error(o(300));return e}function Aa(){var e=0!==ma;return ma=0,e}function Ea(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===fa?da.memoizedState=fa=e:fa=fa.next=e,fa}function xa(){if(null===ha){var e=da.alternate;e=null!==e?e.memoizedState:null}else e=ha.next;var t=null===fa?da.memoizedState:fa.next;if(null!==t)fa=t,ha=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ha=e).memoizedState,baseState:ha.baseState,baseQueue:ha.baseQueue,queue:ha.queue,next:null},null===fa?da.memoizedState=fa=e:fa=fa.next=e}return fa}function Ia(e,t){return"function"===typeof t?t(e):t}function Sa(e){var t=xa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ha,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((ua&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,da.lanes|=d,zl|=d}u=u.next}while(null!==u&&u!==a);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(xs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,da.lanes|=a,zl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ca(e){var t=xa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(xs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Da(){}function Na(e,t){var n=da,r=xa(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,xs=!0),r=r.queue,Ua(Oa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==fa&&1&fa.memoizedState.tag){if(n.flags|=2048,La(9,ka.bind(null,n,r,i,t),void 0,null),null===_l)throw Error(o(349));0!==(30&ua)||Ta(n,t,i)}return i}function Ta(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=da.updateQueue)?(t={lastEffect:null,stores:null},da.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ka(e,t,n,r){t.value=n,t.getSnapshot=r,Pa(t)&&Ra(e)}function Oa(e,t,n){return n((function(){Pa(t)&&Ra(e)}))}function Pa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Ra(e){var t=Lo(e,1);null!==t&&sc(t,e,1,-1)}function _a(e){var t=Ea();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:e},t.queue=e,e=e.dispatch=$a.bind(null,da,e),[t.memoizedState,e]}function La(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=da.updateQueue)?(t={lastEffect:null,stores:null},da.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ma(){return xa().memoizedState}function Ba(e,t,n,r){var i=Ea();da.flags|=e,i.memoizedState=La(1|t,n,void 0,void 0===r?null:r)}function ja(e,t,n,r){var i=xa();r=void 0===r?null:r;var o=void 0;if(null!==ha){var a=ha.memoizedState;if(o=a.destroy,null!==r&&ba(r,a.deps))return void(i.memoizedState=La(t,n,o,r))}da.flags|=e,i.memoizedState=La(1|t,n,o,r)}function Fa(e,t){return Ba(8390656,8,e,t)}function Ua(e,t){return ja(2048,8,e,t)}function za(e,t){return ja(4,2,e,t)}function Ga(e,t){return ja(4,4,e,t)}function Wa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Va(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ja(4,4,Wa.bind(null,t,e),n)}function Ha(){}function qa(e,t){var n=xa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ba(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qa(e,t){var n=xa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ba(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ka(e,t,n){return 0===(21&ua)?(e.baseState&&(e.baseState=!1,xs=!0),e.memoizedState=n):(sr(n,t)||(n=gt(),da.lanes|=n,zl|=n,e.baseState=!0),t)}function Ya(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ca.transition;ca.transition={};try{e(!1),t()}finally{bt=n,ca.transition=r}}function Ja(){return xa().memoizedState}function Xa(e,t,n){var r=ac(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Za(e))es(t,n);else if(null!==(n=_o(e,t,n,r))){sc(n,e,r,oc()),ts(n,t,r)}}function $a(e,t,n){var r=ac(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Za(e))es(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(i.next=i,Ro(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(qo){}null!==(n=_o(e,t,i,r))&&(sc(n,e,r,i=oc()),ts(n,t,r))}}function Za(e){var t=e.alternate;return e===da||null!==t&&t===da}function es(e,t){ga=pa=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ts(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var ns={readContext:Oo,useCallback:ya,useContext:ya,useEffect:ya,useImperativeHandle:ya,useInsertionEffect:ya,useLayoutEffect:ya,useMemo:ya,useReducer:ya,useRef:ya,useState:ya,useDebugValue:ya,useDeferredValue:ya,useTransition:ya,useMutableSource:ya,useSyncExternalStore:ya,useId:ya,unstable_isNewReconciler:!1},rs={readContext:Oo,useCallback:function(e,t){return Ea().memoizedState=[e,void 0===t?null:t],e},useContext:Oo,useEffect:Fa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4194308,4,Wa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ba(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ba(4,2,e,t)},useMemo:function(e,t){var n=Ea();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ea();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Xa.bind(null,da,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ea().memoizedState=e},useState:_a,useDebugValue:Ha,useDeferredValue:function(e){return Ea().memoizedState=e},useTransition:function(){var e=_a(!1),t=e[0];return e=Ya.bind(null,e[1]),Ea().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=da,i=Ea();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===_l)throw Error(o(349));0!==(30&ua)||Ta(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Fa(Oa.bind(null,r,a,e),[e]),r.flags|=2048,La(9,ka.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ea(),t=_l.identifierPrefix;if(io){var n=Xi;t=":"+t+"R"+(n=(Ji&~(1<<32-at(Ji)-1)).toString(32)+n),0<(n=ma++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=va++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},is={readContext:Oo,useCallback:qa,useContext:Oo,useEffect:Ua,useImperativeHandle:Va,useInsertionEffect:za,useLayoutEffect:Ga,useMemo:Qa,useReducer:Sa,useRef:Ma,useState:function(){return Sa(Ia)},useDebugValue:Ha,useDeferredValue:function(e){return Ka(xa(),ha.memoizedState,e)},useTransition:function(){return[Sa(Ia)[0],xa().memoizedState]},useMutableSource:Da,useSyncExternalStore:Na,useId:Ja,unstable_isNewReconciler:!1},os={readContext:Oo,useCallback:qa,useContext:Oo,useEffect:Ua,useImperativeHandle:Va,useInsertionEffect:za,useLayoutEffect:Ga,useMemo:Qa,useReducer:Ca,useRef:Ma,useState:function(){return Ca(Ia)},useDebugValue:Ha,useDeferredValue:function(e){var t=xa();return null===ha?t.memoizedState=e:Ka(t,ha.memoizedState,e)},useTransition:function(){return[Ca(Ia)[0],xa().memoizedState]},useMutableSource:Da,useSyncExternalStore:Na,useId:Ja,unstable_isNewReconciler:!1};function as(e,t){if(e&&e.defaultProps){for(var n in t=B({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ss(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:B({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ls={isMounted:function(e){return!!(e=e._reactInternals)&&Ge(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=oc(),i=ac(e),o=Fo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Uo(e,o,i))&&(sc(t,e,i,r),zo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=oc(),i=ac(e),o=Fo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Uo(e,o,i))&&(sc(t,e,i,r),zo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=oc(),r=ac(e),i=Fo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Uo(e,i,r))&&(sc(t,e,r,n),zo(t,e,r))}};function cs(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function us(e,t,n){var r=!1,i=Di,o=t.contextType;return"object"===typeof o&&null!==o?o=Oo(o):(i=Pi(t)?ki:Ni.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Di),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ls,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ds(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ls.enqueueReplaceState(t,t.state,null)}function hs(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Bo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Oo(o):(o=Pi(t)?ki:Ni.current,i.context=Oi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(ss(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ls.enqueueReplaceState(i,i.state,null),Vo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function fs(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ps(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function gs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ms="function"===typeof WeakMap?WeakMap:Map;function vs(e,t,n){(n=Fo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Yl||(Yl=!0,Jl=r),gs(0,t)},n}function ys(e,t,n){(n=Fo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){gs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){gs(0,t),"function"!==typeof r&&(null===Xl?Xl=new Set([this]):Xl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function bs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ms;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function ws(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function As(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fo(-1,1)).tag=2,Uo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var Es=w.ReactCurrentOwner,xs=!1;function Is(e,t,n,r){t.child=null===e?Eo(t,null,n,r):Ao(t,e.child,n,r)}function Ss(e,t,n,r,i){n=n.render;var o=t.ref;return ko(t,i),r=wa(e,t,n,r,o,i),n=Aa(),null===e||xs?(io&&n&&eo(t),t.flags|=1,Is(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ys(e,t,i))}function Cs(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Bc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Fc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ds(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Ys(e,t,i)}return t.flags|=1,(e=jc(o,r)).ref=t.ref,e.return=t,t.child=e}function Ds(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(xs=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ys(e,t,i);0!==(131072&e.flags)&&(xs=!0)}}return Os(e,t,n,r,i)}function Ts(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(jl,Bl),Bl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(jl,Bl),Bl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ci(jl,Bl),Bl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ci(jl,Bl),Bl|=r;return Is(e,t,i,n),t.child}function ks(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Os(e,t,n,r,i){var o=Pi(n)?ki:Ni.current;return o=Oi(t,o),ko(t,i),n=wa(e,t,n,r,o,i),r=Aa(),null===e||xs?(io&&r&&eo(t),t.flags|=1,Is(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ys(e,t,i))}function Ps(e,t,n,r,i){if(Pi(n)){var o=!0;Mi(t)}else o=!1;if(ko(t,i),null===t.stateNode)Ks(e,t),us(t,n,r),hs(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Oo(c):c=Oi(t,c=Pi(n)?ki:Ni.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&ds(t,a,r,c),Mo=!1;var h=t.memoizedState;a.state=h,Vo(t,r,a,i),l=t.memoizedState,s!==r||h!==l||Ti.current||Mo?("function"===typeof u&&(ss(t,n,u,r),l=t.memoizedState),(s=Mo||cs(t,n,s,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,jo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:as(t.type,s),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Oo(l):l=Oi(t,l=Pi(n)?ki:Ni.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&ds(t,a,r,l),Mo=!1,h=t.memoizedState,a.state=h,Vo(t,r,a,i);var p=t.memoizedState;s!==d||h!==p||Ti.current||Mo?("function"===typeof f&&(ss(t,n,f,r),p=t.memoizedState),(c=Mo||cs(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Rs(e,t,n,r,o,i)}function Rs(e,t,n,r,i,o){ks(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Bi(t,n,!1),Ys(e,t,o);r=t.stateNode,Es.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Ao(t,e.child,null,o),t.child=Ao(t,null,s,o)):Is(e,t,s,o),t.memoizedState=r.state,i&&Bi(t,n,!0),t.child}function _s(e){var t=e.stateNode;t.pendingContext?_i(0,t.pendingContext,t.pendingContext!==t.context):t.context&&_i(0,t.context,!1),$o(e,t.containerInfo)}function Ls(e,t,n,r,i){return po(),go(i),t.flags|=256,Is(e,t,n,r),t.child}var Ms,Bs,js,Fs,Us={dehydrated:null,treeContext:null,retryLane:0};function zs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Gs(e,t,n){var r,i=t.pendingProps,a=ra.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ci(ra,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=zc(l,i,0,null),e=Uc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=zs(n),t.memoizedState=Us,e):Ws(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Vs(e,t,s,r=ps(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=zc({mode:"visible",children:r.children},i,0,null),(a=Uc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Ao(t,e.child,null,s),t.child.memoizedState=zs(s),t.memoizedState=Us,a);if(0===(1&t.mode))return Vs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Vs(e,t,s,r=ps(a=Error(o(419)),r,void 0))}if(l=0!==(s&e.childLanes),xs||l){if(null!==(r=_l)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Lo(e,i),sc(r,e,i,-1))}return wc(),Vs(e,t,s,r=ps(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Pc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Qi[Ki++]=Ji,Qi[Ki++]=Xi,Qi[Ki++]=Yi,Ji=e.id,Xi=e.overflow,Yi=t),t=Ws(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(s){s=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=jc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=jc(r,s):(s=Uc(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?zs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Us,i}return e=(s=e.child).sibling,i=jc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ws(e,t){return(t=zc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vs(e,t,n,r){return null!==r&&go(r),Ao(t,e.child,null,n),(e=Ws(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Hs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),To(e.return,t,n)}function qs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Is(e,t,r.children,n),0!==(2&(r=ra.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Hs(e,n,t);else if(19===e.tag)Hs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(ra,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ia(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),qs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ia(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}qs(t,!0,n,null,o);break;case"together":qs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ks(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ys(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=jc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=jc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Js(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $s(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xs(t),null;case 1:case 17:return Pi(t.type)&&Ri(),Xs(t),null;case 3:return r=t.stateNode,Zo(),Si(Ti),Si(Ni),sa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(dc(oo),oo=null))),Bs(e,t),Xs(t),null;case 5:na(t);var i=Xo(Jo.current);if(n=t.type,null!==e&&null!=t.stateNode)js(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Xs(t),null}if(e=Xo(Ko.current),ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Fr(Lr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":J(r,a),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Fr("invalid",r);break;case"textarea":ie(r,a),Fr("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":q(r),Z(r,a,!0);break;case"textarea":q(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Ms(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Fr(Lr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":J(e,r),i=Y(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=B({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?me(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Fr("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":q(e),Z(e,r,!1);break;case"textarea":q(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Xs(t),null;case 6:if(e&&null!=t.stateNode)Fs(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Xo(Jo.current),Xo(Ko.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Xs(t),null;case 13:if(Si(ra),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,a=!1;else if(a=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Xs(t),a=!1}else null!==oo&&(dc(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ra.current)?0===Fl&&(Fl=3):wc())),null!==t.updateQueue&&(t.flags|=4),Xs(t),null);case 4:return Zo(),Bs(e,t),null===e&&Gr(t.stateNode.containerInfo),Xs(t),null;case 10:return No(t.type._context),Xs(t),null;case 19:if(Si(ra),null===(a=t.memoizedState))return Xs(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Js(a,!1);else{if(0!==Fl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ia(e))){for(t.flags|=128,Js(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(ra,1&ra.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>Ql&&(t.flags|=128,r=!0,Js(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ia(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Js(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return Xs(t),null}else 2*Xe()-a.renderingStartTime>Ql&&1073741824!==n&&(t.flags|=128,r=!0,Js(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=ra.current,Ci(ra,r?1&n|2:1&n),t):(Xs(t),null);case 22:case 23:return mc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Bl)&&(Xs(t),6&t.subtreeFlags&&(t.flags|=8192)):Xs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Zs(e,t){switch(to(t),t.tag){case 1:return Pi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Zo(),Si(Ti),Si(Ni),sa(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return na(t),null;case 13:if(Si(ra),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(ra),null;case 4:return Zo(),null;case 10:return No(t.type._context),null;case 22:case 23:return mc(),null;default:return null}}Ms=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Bs=function(){},js=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Xo(Ko.current);var o,a=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),a=[];break;case"select":i=B({},i,{value:void 0}),r=B({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Fs=function(e,t,n,r){n!==r&&(t.flags|=4)};var el=!1,tl=!1,nl="function"===typeof WeakSet?WeakSet:Set,rl=null;function il(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tc(e,t,r)}else n.current=null}function ol(e,t,n){try{n()}catch(r){Tc(e,t,r)}}var al=!1;function sl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&ol(t,n,o)}i=i.next}while(i!==r)}}function ll(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function cl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ul(e){var t=e.alternate;null!==t&&(e.alternate=null,ul(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[gi],delete t[mi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function dl(e){return 5===e.tag||3===e.tag||4===e.tag}function hl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||dl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function fl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(fl(e,t,n),e=e.sibling;null!==e;)fl(e,t,n),e=e.sibling}function pl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(pl(e,t,n),e=e.sibling;null!==e;)pl(e,t,n),e=e.sibling}var gl=null,ml=!1;function vl(e,t,n){for(n=n.child;null!==n;)yl(e,t,n),n=n.sibling}function yl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:tl||il(n,t);case 6:var r=gl,i=ml;gl=null,vl(e,t,n),ml=i,null!==(gl=r)&&(ml?(e=gl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):gl.removeChild(n.stateNode));break;case 18:null!==gl&&(ml?(e=gl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Gt(e)):li(gl,n.stateNode));break;case 4:r=gl,i=ml,gl=n.stateNode.containerInfo,ml=!0,vl(e,t,n),gl=r,ml=i;break;case 0:case 11:case 14:case 15:if(!tl&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&ol(n,t,a),i=i.next}while(i!==r)}vl(e,t,n);break;case 1:if(!tl&&(il(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Tc(n,t,s)}vl(e,t,n);break;case 21:vl(e,t,n);break;case 22:1&n.mode?(tl=(r=tl)||null!==n.memoizedState,vl(e,t,n),tl=r):vl(e,t,n);break;default:vl(e,t,n)}}function bl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new nl),t.forEach((function(t){var r=Rc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function wl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:gl=l.stateNode,ml=!1;break e;case 3:case 4:gl=l.stateNode.containerInfo,ml=!0;break e}l=l.return}if(null===gl)throw Error(o(160));yl(a,s,i),gl=null,ml=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(qo){Tc(i,t,qo)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)Al(t,e),t=t.sibling}function Al(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wl(t,e),El(e),4&r){try{sl(3,e,e.return),ll(3,e)}catch(m){Tc(e,e.return,m)}try{sl(5,e,e.return)}catch(m){Tc(e,e.return,m)}}break;case 1:wl(t,e),El(e),512&r&&null!==n&&il(n,n.return);break;case 5:if(wl(t,e),El(e),512&r&&null!==n&&il(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Tc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&X(i,a),be(l,s);var u=be(l,a);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?me(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":$(i,a);break;case"textarea":oe(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(m){Tc(e,e.return,m)}}break;case 6:if(wl(t,e),El(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(m){Tc(e,e.return,m)}}break;case 3:if(wl(t,e),El(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Gt(t.containerInfo)}catch(m){Tc(e,e.return,m)}break;case 4:default:wl(t,e),El(e);break;case 13:wl(t,e),El(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(ql=Xe())),4&r&&bl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(tl=(u=tl)||d,wl(t,e),tl=u):wl(t,e),El(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(rl=e,d=e.child;null!==d;){for(h=rl=d;null!==rl;){switch(p=(f=rl).child,f.tag){case 0:case 11:case 14:case 15:sl(4,f,f.return);break;case 1:il(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Tc(r,n,m)}}break;case 5:il(f,f.return);break;case 22:if(null!==f.memoizedState){Cl(h);continue}}null!==p?(p.return=f,rl=p):Cl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",s))}catch(m){Tc(e,e.return,m)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){Tc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:wl(t,e),El(e),4&r&&bl(e);case 21:}}function El(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(dl(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),pl(e,hl(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;fl(e,hl(e),a);break;default:throw Error(o(161))}}catch(Go){Tc(e,e.return,Go)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function xl(e,t,n){rl=e,Il(e,t,n)}function Il(e,t,n){for(var r=0!==(1&e.mode);null!==rl;){var i=rl,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||el;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||tl;s=el;var c=tl;if(el=a,(tl=l)&&!c)for(rl=i;null!==rl;)l=(a=rl).child,22===a.tag&&null!==a.memoizedState?Dl(i):null!==l?(l.return=a,rl=l):Dl(i);for(;null!==o;)rl=o,Il(o,t,n),o=o.sibling;rl=i,el=s,tl=c}Sl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,rl=o):Sl(e)}}function Sl(e){for(;null!==rl;){var t=rl;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:tl||ll(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!tl)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:as(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Ho(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ho(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Gt(h)}}}break;default:throw Error(o(163))}tl||512&t.flags&&cl(t)}catch(ta){Tc(t,t.return,ta)}}if(t===e){rl=null;break}if(null!==(n=t.sibling)){n.return=t.return,rl=n;break}rl=t.return}}function Cl(e){for(;null!==rl;){var t=rl;if(t===e){rl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,rl=n;break}rl=t.return}}function Dl(e){for(;null!==rl;){var t=rl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ll(4,t)}catch(Go){Tc(t,n,Go)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(Go){Tc(t,i,Go)}}var o=t.return;try{cl(t)}catch(Go){Tc(t,o,Go)}break;case 5:var a=t.return;try{cl(t)}catch(Go){Tc(t,a,Go)}}}catch(Go){Tc(t,t.return,Go)}if(t===e){rl=null;break}var s=t.sibling;if(null!==s){s.return=t.return,rl=s;break}rl=t.return}}var Nl,Tl=Math.ceil,kl=w.ReactCurrentDispatcher,Ol=w.ReactCurrentOwner,Pl=w.ReactCurrentBatchConfig,Rl=0,_l=null,Ll=null,Ml=0,Bl=0,jl=Ii(0),Fl=0,Ul=null,zl=0,Gl=0,Wl=0,Vl=null,Hl=null,ql=0,Ql=1/0,Kl=null,Yl=!1,Jl=null,Xl=null,$l=!1,Zl=null,ec=0,tc=0,nc=null,rc=-1,ic=0;function oc(){return 0!==(6&Rl)?Xe():-1!==rc?rc:rc=Xe()}function ac(e){return 0===(1&e.mode)?1:0!==(2&Rl)&&0!==Ml?Ml&-Ml:null!==mo.transition?(0===ic&&(ic=gt()),ic):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function sc(e,t,n,r){if(50<tc)throw tc=0,nc=null,Error(o(185));vt(e,n,r),0!==(2&Rl)&&e===_l||(e===_l&&(0===(2&Rl)&&(Gl|=n),4===Fl&&hc(e,Ml)),lc(e,r),1===n&&0===Rl&&0===(1&t.mode)&&(Ql=Xe()+500,Fi&&Gi()))}function lc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=ft(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ht(e,e===_l?Ml:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Fi=!0,zi(e)}(fc.bind(null,e)):zi(fc.bind(null,e)),ai((function(){0===(6&Rl)&&Gi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=_c(n,cc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function cc(e,t){if(rc=-1,ic=0,0!==(6&Rl))throw Error(o(327));var n=e.callbackNode;if(Dc()&&e.callbackNode!==n)return null;var r=ht(e,e===_l?Ml:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=Ac(e,r);else{t=r;var i=Rl;Rl|=2;var a=bc();for(_l===e&&Ml===t||(Kl=null,Ql=Xe()+500,vc(e,t));;)try{xc();break}catch(l){yc(e,l)}Do(),kl.current=a,Rl=i,null!==Ll?t=0:(_l=null,Ml=0,t=Fl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=uc(e,i))),1===t)throw n=Ul,vc(e,0),hc(e,r),lc(e,Xe()),n;if(6===t)hc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=Ac(e,r))&&(0!==(a=pt(e))&&(r=a,t=uc(e,a))),1===t))throw n=Ul,vc(e,0),hc(e,r),lc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Cc(e,Hl,Kl);break;case 3:if(hc(e,r),(130023424&r)===r&&10<(t=ql+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){oc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Cc.bind(null,e,Hl,Kl),t);break}Cc(e,Hl,Kl);break;case 4:if(hc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tl(r/1960))-r)){e.timeoutHandle=ri(Cc.bind(null,e,Hl,Kl),r);break}Cc(e,Hl,Kl);break;default:throw Error(o(329))}}}return lc(e,Xe()),e.callbackNode===n?cc.bind(null,e):null}function uc(e,t){var n=Vl;return e.current.memoizedState.isDehydrated&&(vc(e,t).flags|=256),2!==(e=Ac(e,t))&&(t=Hl,Hl=n,null!==t&&dc(t)),e}function dc(e){null===Hl?Hl=e:Hl.push.apply(Hl,e)}function hc(e,t){for(t&=~Wl,t&=~Gl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function fc(e){if(0!==(6&Rl))throw Error(o(327));Dc();var t=ht(e,0);if(0===(1&t))return lc(e,Xe()),null;var n=Ac(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=uc(e,r))}if(1===n)throw n=Ul,vc(e,0),hc(e,t),lc(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cc(e,Hl,Kl),lc(e,Xe()),null}function pc(e,t){var n=Rl;Rl|=1;try{return e(t)}finally{0===(Rl=n)&&(Ql=Xe()+500,Fi&&Gi())}}function gc(e){null!==Zl&&0===Zl.tag&&0===(6&Rl)&&Dc();var t=Rl;Rl|=1;var n=Pl.transition,r=bt;try{if(Pl.transition=null,bt=1,e)return e()}finally{bt=r,Pl.transition=n,0===(6&(Rl=t))&&Gi()}}function mc(){Bl=jl.current,Si(jl)}function vc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ll)for(n=Ll.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:Zo(),Si(Ti),Si(Ni),sa();break;case 5:na(r);break;case 4:Zo();break;case 13:case 19:Si(ra);break;case 10:No(r.type._context);break;case 22:case 23:mc()}n=n.return}if(_l=e,Ll=e=jc(e.current,null),Ml=Bl=t,Fl=0,Ul=null,Wl=Gl=zl=0,Hl=Vl=null,null!==Po){for(t=0;t<Po.length;t++)if(null!==(r=(n=Po[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Po=null}return e}function yc(e,t){for(;;){var n=Ll;try{if(Do(),la.current=ns,pa){for(var r=da.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}pa=!1}if(ua=0,fa=ha=da=null,ga=!1,ma=0,Ol.current=null,null===n||null===n.return){Fl=1,Ul=t,Ll=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=Ml,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ws(s);if(null!==p){p.flags&=-257,As(p,s,l,0,t),1&p.mode&&bs(a,u,t),c=u;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(0===(1&t)){bs(a,u,t),wc();break e}c=Error(o(426))}else if(io&&1&l.mode){var v=ws(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),As(v,s,l,0,t),go(fs(c,l));break e}}a=c=fs(c,l),4!==Fl&&(Fl=2),null===Vl?Vl=[a]:Vl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Wo(a,vs(0,c,t));break e;case 1:l=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Xl||!Xl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Wo(a,ys(a,l,t));break e}}a=a.return}while(null!==a)}Sc(n)}catch(oa){t=oa,Ll===n&&null!==n&&(Ll=n=n.return);continue}break}}function bc(){var e=kl.current;return kl.current=ns,null===e?ns:e}function wc(){0!==Fl&&3!==Fl&&2!==Fl||(Fl=4),null===_l||0===(268435455&zl)&&0===(268435455&Gl)||hc(_l,Ml)}function Ac(e,t){var n=Rl;Rl|=2;var r=bc();for(_l===e&&Ml===t||(Kl=null,vc(e,t));;)try{Ec();break}catch(i){yc(e,i)}if(Do(),Rl=n,kl.current=r,null!==Ll)throw Error(o(261));return _l=null,Ml=0,Fl}function Ec(){for(;null!==Ll;)Ic(Ll)}function xc(){for(;null!==Ll&&!Ye();)Ic(Ll)}function Ic(e){var t=Nl(e.alternate,e,Bl);e.memoizedProps=e.pendingProps,null===t?Sc(e):Ll=t,Ol.current=null}function Sc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=$s(n,t,Bl)))return void(Ll=n)}else{if(null!==(n=Zs(n,t)))return n.flags&=32767,void(Ll=n);if(null===e)return Fl=6,void(Ll=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ll=t);Ll=t=e}while(null!==t);0===Fl&&(Fl=5)}function Cc(e,t,n){var r=bt,i=Pl.transition;try{Pl.transition=null,bt=1,function(e,t,n,r){do{Dc()}while(null!==Zl);if(0!==(6&Rl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===_l&&(Ll=_l=null,Ml=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||$l||($l=!0,_c(tt,(function(){return Dc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Pl.transition,Pl.transition=null;var s=bt;bt=1;var l=Rl;Rl|=4,Ol.current=null,function(e,t){if(ei=Vt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(Ns){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=s),f===a&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Vt=!1,rl=t;null!==rl;)if(e=(t=rl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,rl=e;else for(;null!==rl;){t=rl;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:as(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(Ns){Tc(t,t.return,Ns)}if(null!==(e=t.sibling)){e.return=t.return,rl=e;break}rl=t.return}g=al,al=!1}(e,n),Al(n,e),pr(ti),Vt=!!ei,ti=ei=null,e.current=n,xl(n,e,i),Je(),Rl=l,bt=s,Pl.transition=a}else e.current=n;if($l&&($l=!1,Zl=e,ec=i),a=e.pendingLanes,0===a&&(Xl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),lc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Yl)throw Yl=!1,e=Jl,Jl=null,e;0!==(1&ec)&&0!==e.tag&&Dc(),a=e.pendingLanes,0!==(1&a)?e===nc?tc++:(tc=0,nc=e):tc=0,Gi()}(e,t,n,r)}finally{Pl.transition=i,bt=r}return null}function Dc(){if(null!==Zl){var e=wt(ec),t=Pl.transition,n=bt;try{if(Pl.transition=null,bt=16>e?16:e,null===Zl)var r=!1;else{if(e=Zl,Zl=null,ec=0,0!==(6&Rl))throw Error(o(331));var i=Rl;for(Rl|=4,rl=e.current;null!==rl;){var a=rl,s=a.child;if(0!==(16&rl.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(rl=u;null!==rl;){var d=rl;switch(d.tag){case 0:case 11:case 15:sl(8,d,a)}var h=d.child;if(null!==h)h.return=d,rl=h;else for(;null!==rl;){var f=(d=rl).sibling,p=d.return;if(ul(d),d===u){rl=null;break}if(null!==f){f.return=p,rl=f;break}rl=p}}}var g=a.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}rl=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,rl=s;else e:for(;null!==rl;){if(0!==(2048&(a=rl).flags))switch(a.tag){case 0:case 11:case 15:sl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,rl=y;break e}rl=a.return}}var b=e.current;for(rl=b;null!==rl;){var w=(s=rl).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,rl=w;else e:for(s=b;null!==rl;){if(0!==(2048&(l=rl).flags))try{switch(l.tag){case 0:case 11:case 15:ll(9,l)}}catch(oa){Tc(l,l.return,oa)}if(l===s){rl=null;break e}var A=l.sibling;if(null!==A){A.return=l.return,rl=A;break e}rl=l.return}}if(Rl=i,Gi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(oa){}r=!0}return r}finally{bt=n,Pl.transition=t}}return!1}function Nc(e,t,n){e=Uo(e,t=vs(0,t=fs(n,t),1),1),t=oc(),null!==e&&(vt(e,1,t),lc(e,t))}function Tc(e,t,n){if(3===e.tag)Nc(e,e,n);else for(;null!==t;){if(3===t.tag){Nc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xl||!Xl.has(r))){t=Uo(t,e=ys(t,e=fs(n,e),1),1),e=oc(),null!==t&&(vt(t,1,e),lc(t,e));break}}t=t.return}}function kc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=oc(),e.pingedLanes|=e.suspendedLanes&n,_l===e&&(Ml&n)===n&&(4===Fl||3===Fl&&(130023424&Ml)===Ml&&500>Xe()-ql?vc(e,0):Wl|=n),lc(e,t)}function Oc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=oc();null!==(e=Lo(e,t))&&(vt(e,t,n),lc(e,n))}function Pc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Oc(e,n)}function Rc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Oc(e,n)}function _c(e,t){return Qe(e,t)}function Lc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mc(e,t,n,r){return new Lc(e,t,n,r)}function Bc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function jc(e,t){var n=e.alternate;return null===n?((n=Mc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Bc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return Uc(n.children,i,a,t);case I:s=8,i|=8;break;case S:return(e=Mc(12,n,t,2|i)).elementType=S,e.lanes=a,e;case T:return(e=Mc(13,n,t,i)).elementType=T,e.lanes=a,e;case k:return(e=Mc(19,n,t,i)).elementType=k,e.lanes=a,e;case R:return zc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case D:s=9;break e;case N:s=11;break e;case O:s=14;break e;case P:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Mc(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Uc(e,t,n,r){return(e=Mc(7,e,r,t)).lanes=n,e}function zc(e,t,n,r){return(e=Mc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Gc(e,t,n){return(e=Mc(6,e,null,t)).lanes=n,e}function Wc(e,t,n){return(t=Mc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hc(e,t,n,r,i,o,a,s,l){return e=new Vc(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Mc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bo(o),e}function qc(e){if(!e)return Di;e:{if(Ge(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function Qc(e,t,n,r,i,o,a,s,l){return(e=Hc(n,r,!0,e,0,o,0,s,l)).context=qc(null),n=e.current,(o=Fo(r=oc(),i=ac(n))).callback=void 0!==t&&null!==t?t:null,Uo(n,o,i),e.current.lanes=i,vt(e,i,r),lc(e,r),e}function Kc(e,t,n,r){var i=t.current,o=oc(),a=ac(i);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Uo(i,t,a))&&(sc(e,i,a,o),zo(e,i,a)),a}function Yc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Jc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Xc(e,t){Jc(e,t),(e=e.alternate)&&Jc(e,t)}Nl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)xs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xs=!1,function(e,t,n){switch(t.tag){case 3:_s(t),po();break;case 5:ea(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:$o(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(xo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(ra,1&ra.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Gs(e,t,n):(Ci(ra,1&ra.current),null!==(e=Ys(e,t,n))?e.sibling:null);Ci(ra,1&ra.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(ra,ra.current),r)break;return null;case 22:case 23:return t.lanes=0,Ts(e,t,n)}return Ys(e,t,n)}(e,t,n);xs=0!==(131072&e.flags)}else xs=!1,io&&0!==(1048576&t.flags)&&Zi(t,qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ks(e,t),e=t.pendingProps;var i=Oi(t,Ni.current);ko(t,n),i=wa(null,t,r,e,i,n);var a=Aa();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(a=!0,Mi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Bo(t),i.updater=ls,t.stateNode=i,i._reactInternals=t,hs(t,r,e,n),t=Rs(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),Is(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ks(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Bc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===O)return 14}return 2}(r),e=as(r,e),i){case 0:t=Os(null,t,r,e,n);break e;case 1:t=Ps(null,t,r,e,n);break e;case 11:t=Ss(null,t,r,e,n);break e;case 14:t=Cs(null,t,r,as(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Os(e,t,r,i=t.elementType===r?i:as(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ps(e,t,r,i=t.elementType===r?i:as(r,i),n);case 3:e:{if(_s(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,jo(e,t),Vo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ls(e,t,r,n,i=fs(Error(o(423)),t));break e}if(r!==i){t=Ls(e,t,r,n,i=fs(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Eo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Ys(e,t,n);break e}Is(e,t,r,n)}t=t.child}return t;case 5:return ea(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),ks(e,t),Is(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return Gs(e,t,n);case 4:return $o(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ao(t,null,r,n):Is(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ss(e,t,r,i=t.elementType===r?i:as(r,i),n);case 7:return Is(e,t,t.pendingProps,n),t.child;case 8:case 12:return Is(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ci(xo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ti.current){t=Ys(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Fo(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),To(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),To(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}Is(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ko(t,n),r=r(i=Oo(i)),t.flags|=1,Is(e,t,r,n),t.child;case 14:return i=as(r=t.type,t.pendingProps),Cs(e,t,r,i=as(r.type,i),n);case 15:return Ds(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:as(r,i),Ks(e,t),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,ko(t,n),us(t,r,i),hs(t,r,i,n),Rs(null,t,r,!0,e,n);case 19:return Qs(e,t,n);case 22:return Ts(e,t,n)}throw Error(o(156,t.tag))};var $c="function"===typeof reportError?reportError:function(e){console.error(e)};function Zc(e){this._internalRoot=e}function eu(e){this._internalRoot=e}function tu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function nu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ru(){}function iu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Yc(a);s.call(e)}}Kc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Yc(a);o.call(e)}}var a=Qc(t,r,e,0,null,!1,0,"",ru);return e._reactRootContainer=a,e[pi]=a.current,Gr(8===e.nodeType?e.parentNode:e),gc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Yc(l);s.call(e)}}var l=Hc(e,0,!1,null,0,!1,0,"",ru);return e._reactRootContainer=l,e[pi]=l.current,Gr(8===e.nodeType?e.parentNode:e),gc((function(){Kc(t,l,n,r)})),l}(n,t,e,i,r);return Yc(a)}eu.prototype.render=Zc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Kc(e,t,null,null)},eu.prototype.unmount=Zc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;gc((function(){Kc(null,e,null,null)})),t[pi]=null}},eu.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Bt(e)}},At=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),lc(t,Xe()),0===(6&Rl)&&(Ql=Xe()+500,Gi()))}break;case 13:gc((function(){var t=Lo(e,1);if(null!==t){var n=oc();sc(t,e,1,n)}})),Xc(e,1)}},Et=function(e){if(13===e.tag){var t=Lo(e,134217728);if(null!==t)sc(t,e,134217728,oc());Xc(e,134217728)}},xt=function(e){if(13===e.tag){var t=ac(e),n=Lo(e,t);if(null!==n)sc(n,e,t,oc());Xc(e,t)}},It=function(){return bt},St=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ee=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ai(r);if(!i)throw Error(o(90));Q(r),$(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=pc,Te=gc;var ou={usingClientEntryPoint:!1,Events:[bi,wi,Ai,Ce,De,pc]},au={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},su={bundleType:au.bundleType,version:au.version,rendererPackageName:au.rendererPackageName,rendererConfig:au.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:au.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cu.isDisabled&&cu.supportsFiber)try{it=cu.inject(su),ot=cu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ou,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!tu(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!tu(e))throw Error(o(299));var n=!1,r="",i=$c;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Hc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Gr(8===e.nodeType?e.parentNode:e),new Zc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return gc(e)},t.hydrate=function(e,t,n){if(!nu(t))throw Error(o(200));return iu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!tu(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=$c;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Qc(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,Gr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new eu(t)},t.render=function(e,t,n){if(!nu(t))throw Error(o(200));return iu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nu(e))throw Error(o(40));return!!e._reactRootContainer&&(gc((function(){iu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=pc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nu(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return iu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},763:(e,t,n)=>{e.exports=n(983)},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},983:(e,t)=>{var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function A(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case s:case a:case f:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case g:case l:return e;default:return t}}case i:return t}}}function E(e){return A(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=m,t.Memo=g,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=f,t.isAsyncMode=function(e){return E(e)||A(e)===u},t.isConcurrentMode=E,t.isContextConsumer=function(e){return A(e)===c},t.isContextProvider=function(e){return A(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return A(e)===h},t.isFragment=function(e){return A(e)===o},t.isLazy=function(e){return A(e)===m},t.isMemo=function(e){return A(e)===g},t.isPortal=function(e){return A(e)===i},t.isProfiler=function(e){return A(e)===s},t.isStrictMode=function(e){return A(e)===a},t.isSuspense=function(e){return A(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===s||e===a||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===g||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===v)},t.typeOf=A}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(o,a),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r,i=n(43),o=n.t(i,2),a=n(391),s=n(950),l=n.t(s,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const u="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function f(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function g(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function v(e,t,n,i){void 0===i&&(i={});let{window:o=document.defaultView,v5Compat:a=!1}=i,s=o.history,l=r.Pop,h=null,m=v();function v(){return(s.state||{idx:null}).idx}function y(){l=r.Pop;let e=v(),t=null==e?null:e-m;m=e,h&&h({action:l,location:w.location,delta:t})}function b(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:g(e);return n=n.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==m&&(m=0,s.replaceState(c({},s.state,{idx:m}),""));let w={get action(){return l},get location(){return e(o,s)},listen(e){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(u,y),h=e,()=>{o.removeEventListener(u,y),h=null}},createHref:e=>t(o,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=r.Push;let i=p(w.location,e,t);n&&n(i,e),m=v()+1;let c=f(i,m),u=w.createHref(i);try{s.pushState(c,"",u)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;o.location.assign(u)}a&&h&&h({action:l,location:w.location,delta:1})},replace:function(e,t){l=r.Replace;let i=p(w.location,e,t);n&&n(i,e),m=v();let o=f(i,m),c=w.createHref(i);s.replaceState(o,"",c),a&&h&&h({action:l,location:w.location,delta:0})},go:e=>s.go(e)};return w}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function b(e,t,n){return void 0===n&&(n="/"),w(e,t,n,!1)}function w(e,t,n,r){let i=_(("string"===typeof t?m(t):t).pathname||"/",n);if(null==i)return null;let o=A(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let a=null;for(let s=0;null==a&&s<o.length;++s){let e=R(i);a=O(o[s],e,r)}return a}function A(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(d(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=F([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),A(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:k(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of E(e.path))i(e,t,r);else i(e,t)})),t}function E(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=E(r.join("/")),s=[];return s.push(...a.map((e=>""===e?o:[o,e].join("/")))),i&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const x=/^:[\w-]+$/,I=3,S=2,C=1,D=10,N=-2,T=e=>"*"===e;function k(e,t){let n=e.split("/"),r=n.length;return n.some(T)&&(r+=N),t&&(r+=S),n.filter((e=>!T(e))).reduce(((e,t)=>e+(x.test(t)?I:""===t?C:D)),r)}function O(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},o="/",a=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:F([o,u.pathname]),pathnameBase:U(F([o,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(o=F([o,u.pathnameBase]))}return a}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:o,pathnameBase:a,pattern:e}}function R(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function _(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function L(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function M(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function B(e,t){let n=M(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function j(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=m(e):(i=c({},e),d(!i.pathname||!i.pathname.includes("?"),L("?","pathname","search",i)),d(!i.pathname||!i.pathname.includes("#"),L("#","pathname","hash",i)),d(!i.search||!i.search.includes("#"),L("#","search","hash",i)));let o,a=""===e||""===i.pathname,s=a?"/":i.pathname;if(null==s)o=n;else{let e=t.length-1;if(!r&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?m(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:z(r),hash:G(i)}}(i,o),u=s&&"/"!==s&&s.endsWith("/"),h=(a||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!h||(l.pathname+="/"),l}const F=e=>e.join("/").replace(/\/\/+/g,"/"),U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),z=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",G=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function W(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const V=["post","put","patch","delete"],H=(new Set(V),["get",...V]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}const Q=i.createContext(null);const K=i.createContext(null);const Y=i.createContext(null);const J=i.createContext(null);const X=i.createContext({outlet:null,matches:[],isDataRoute:!1});const $=i.createContext(null);function Z(){return null!=i.useContext(J)}function ee(){return Z()||d(!1),i.useContext(J).location}function te(e){i.useContext(Y).static||i.useLayoutEffect(e)}function ne(){let{isDataRoute:e}=i.useContext(X);return e?function(){let{router:e}=fe(de.UseNavigateStable),t=ge(he.UseNavigateStable),n=i.useRef(!1);te((()=>{n.current=!0}));let r=i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,q({fromRouteId:t},i)))}),[e,t]);return r}():function(){Z()||d(!1);let e=i.useContext(Q),{basename:t,future:n,navigator:r}=i.useContext(Y),{matches:o}=i.useContext(X),{pathname:a}=ee(),s=JSON.stringify(B(o,n.v7_relativeSplatPath)),l=i.useRef(!1);te((()=>{l.current=!0}));let c=i.useCallback((function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let o=j(n,JSON.parse(s),a,"path"===i.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:F([t,o.pathname])),(i.replace?r.replace:r.push)(o,i.state,i)}),[t,r,s,a,e]);return c}()}function re(){let{matches:e}=i.useContext(X),t=e[e.length-1];return t?t.params:{}}function ie(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(Y),{matches:o}=i.useContext(X),{pathname:a}=ee(),s=JSON.stringify(B(o,r.v7_relativeSplatPath));return i.useMemo((()=>j(e,JSON.parse(s),a,"path"===n)),[e,s,a,n])}function oe(e,t,n,o){Z()||d(!1);let{navigator:a,static:s}=i.useContext(Y),{matches:l}=i.useContext(X),c=l[l.length-1],u=c?c.params:{},h=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let f,p=ee();if(t){var g;let e="string"===typeof t?m(t):t;"/"===h||(null==(g=e.pathname)?void 0:g.startsWith(h))||d(!1),f=e}else f=p;let v=f.pathname||"/",y=v;if("/"!==h){let e=h.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=!s&&n&&n.matches&&n.matches.length>0?n.matches:b(e,{pathname:y});let A=ue(w&&w.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:F([h,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:F([h,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,n,o);return t&&A?i.createElement(J.Provider,{value:{location:q({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:r.Pop}},A):A}function ae(){let e=function(){var e;let t=i.useContext($),n=pe(he.UseRouteError),r=ge(he.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=W(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:o},n):null,null)}const se=i.createElement(ae,null);class le extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(X.Provider,{value:this.props.routeContext},i.createElement($.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ce(e){let{routeContext:t,match:n,children:r}=e,o=i.useContext(Q);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(X.Provider,{value:t},r)}function ue(e,t,n,r){var o;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=r)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let s=e,l=null==(o=n)?void 0:o.errors;if(null!=l){let e=s.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||d(!1),s=s.slice(0,Math.min(s.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<s.length;i++){let e=s[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,s=u>=0?s.slice(0,u+1):[s[0]];break}}}return s.reduceRight(((e,r,o)=>{let a,d=!1,h=null,f=null;var p;n&&(a=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||se,c&&(u<0&&0===o?(p="route-fallback",!1||me[p]||(me[p]=!0),d=!0,f=null):u===o&&(d=!0,f=r.route.hydrateFallbackElement||null)));let g=t.concat(s.slice(0,o+1)),m=()=>{let t;return t=a?h:d?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(ce,{match:r,routeContext:{outlet:e,matches:g,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===o)?i.createElement(le,{location:n.location,revalidation:n.revalidation,component:h,error:a,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()}),null)}var de=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(de||{}),he=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(he||{});function fe(e){let t=i.useContext(Q);return t||d(!1),t}function pe(e){let t=i.useContext(K);return t||d(!1),t}function ge(e){let t=function(){let e=i.useContext(X);return e||d(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||d(!1),n.route.id}const me={};function ve(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}o.startTransition;function ye(e){let{to:t,replace:n,state:r,relative:o}=e;Z()||d(!1);let{future:a,static:s}=i.useContext(Y),{matches:l}=i.useContext(X),{pathname:c}=ee(),u=ne(),h=j(t,B(l,a.v7_relativeSplatPath),c,"path"===o),f=JSON.stringify(h);return i.useEffect((()=>u(JSON.parse(f),{replace:n,state:r,relative:o})),[u,f,o,n,r]),null}function be(e){d(!1)}function we(e){let{basename:t="/",children:n=null,location:o,navigationType:a=r.Pop,navigator:s,static:l=!1,future:c}=e;Z()&&d(!1);let u=t.replace(/^\/*/,"/"),h=i.useMemo((()=>({basename:u,navigator:s,static:l,future:q({v7_relativeSplatPath:!1},c)})),[u,c,s,l]);"string"===typeof o&&(o=m(o));let{pathname:f="/",search:p="",hash:g="",state:v=null,key:y="default"}=o,b=i.useMemo((()=>{let e=_(f,u);return null==e?null:{location:{pathname:e,search:p,hash:g,state:v,key:y},navigationType:a}}),[u,f,p,g,v,y,a]);return null==b?null:i.createElement(Y.Provider,{value:h},i.createElement(J.Provider,{children:n,value:b}))}function Ae(e){let{children:t,location:n}=e;return oe(Ee(t),n)}new Promise((()=>{}));i.Component;function Ee(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let o=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,Ee(e.props.children,o));e.type!==be&&d(!1),e.props.index&&e.props.children&&d(!1);let a={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=Ee(e.props.children,o)),n.push(a)})),n}function xe(){return xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xe.apply(this,arguments)}function Ie(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function Se(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map((e=>[n,e])):[[n,r]])}),[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ce=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(zP){}new Map;const De=o.startTransition;l.flushSync,o.useId;function Ne(e){let{basename:t,children:n,future:r,window:o}=e,a=i.useRef();var s;null==a.current&&(a.current=(void 0===(s={window:o,v5Compat:!0})&&(s={}),v((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return p("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:g(t)}),null,s)));let l=a.current,[c,u]=i.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},h=i.useCallback((e=>{d&&De?De((()=>u(e))):u(e)}),[u,d]);return i.useLayoutEffect((()=>l.listen(h)),[l,h]),i.useEffect((()=>ve(r)),[r]),i.createElement(we,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const Te="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,ke=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oe=i.forwardRef((function(e,t){let n,{onClick:r,relative:o,reloadDocument:a,replace:s,state:l,target:c,to:u,preventScrollReset:h,viewTransition:f}=e,p=Ie(e,Ce),{basename:m}=i.useContext(Y),v=!1;if("string"===typeof u&&ke.test(u)&&(n=u,Te))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=_(t.pathname,m);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:v=!0}catch(zP){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;Z()||d(!1);let{basename:r,navigator:o}=i.useContext(Y),{hash:a,pathname:s,search:l}=ie(e,{relative:n}),c=s;return"/"!==r&&(c="/"===s?r:F([r,s])),o.createHref({pathname:c,search:l,hash:a})}(u,{relative:o}),b=function(e,t){let{target:n,replace:r,state:o,preventScrollReset:a,relative:s,viewTransition:l}=void 0===t?{}:t,c=ne(),u=ee(),d=ie(e,{relative:s});return i.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:g(u)===g(d);c(e,{replace:n,state:o,preventScrollReset:a,relative:s,viewTransition:l})}}),[u,c,d,r,o,n,e,a,s,l])}(u,{replace:s,state:l,target:c,preventScrollReset:h,relative:o,viewTransition:f});return i.createElement("a",xe({},p,{href:n||y,onClick:v||a?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:c}))}));var Pe,Re;function _e(e){let t=i.useRef(Se(e)),n=i.useRef(!1),r=ee(),o=i.useMemo((()=>function(e,t){let n=Se(e);return t&&t.forEach(((e,r)=>{n.has(r)||t.getAll(r).forEach((e=>{n.append(r,e)}))})),n}(r.search,n.current?null:t.current)),[r.search]),a=ne(),s=i.useCallback(((e,t)=>{const r=Se("function"===typeof e?e(o):e);n.current=!0,a("?"+r,t)}),[a,o]);return[o,s]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Pe||(Pe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Re||(Re={}));var Le=n(579);const Me=(0,i.createContext)();function Be(e){let{children:t}=e;const[n,r]=(0,i.useState)((()=>"true"===localStorage.getItem("darkMode")));(0,i.useEffect)((()=>{localStorage.setItem("darkMode",n),document.body.classList.toggle("dark-mode",n)}),[n]);return(0,Le.jsx)(Me.Provider,{value:{isDarkMode:n,toggleDarkMode:()=>{r((e=>!e))}},children:t})}const je=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,a=o?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;s||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(je(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const s=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==a||null==s)throw new Ue;const l=t<<2|o>>4;if(r.push(l),64!==a){const e=o<<4&240|a>>2;if(r.push(e),64!==s){const e=a<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ue extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ze=function(e){return function(e){const t=je(e);return Fe.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ge=function(e){try{return Fe.decodeString(e,!0)}catch(zP){console.error("base64Decode failed: ",zP)}return null};const We=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Ve=()=>{try{return We()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyD73uU5AWIeWZ_SQU9vRRLExil7ctKqa3U",REACT_APP_FIREBASE_AUTH_DOMAIN:"client-portal-2025.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"client-portal-2025",REACT_APP_FIREBASE_STORAGE_BUCKET:"client-portal-2025.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"941830572273",REACT_APP_FIREBASE_APP_ID:"1:941830572273:web:52299f1989bab446f38150"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(zP){return}const t=e&&Ge(e[1]);return t&&JSON.parse(t)})()}catch(zP){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${zP}`)}},He=e=>{var t,n;return null===(n=null===(t=Ve())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},qe=e=>{const t=He(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Qe=()=>{var e;return null===(e=Ve())||void 0===e?void 0:e.config},Ke=e=>{var t;return null===(t=Ve())||void 0===t?void 0:t[`_${e}`]};class Ye{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Je(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ze(JSON.stringify({alg:"none",type:"JWT"})),ze(JSON.stringify(o)),""].join(".")}function Xe(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function $e(){var e;const t=null===(e=Ve())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(zP){return!1}}function Ze(){try{return"object"===typeof indexedDB}catch(zP){return!1}}class et extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,et.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tt.prototype.create)}}class tt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(nt,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",o=`${this.serviceName}: ${i} (${n}).`;return new et(n,o,t)}}const nt=/\{\$([^}]+)}/g;function rt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(it(n)&&it(o)){if(!rt(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function it(e){return null!==e&&"object"===typeof e}function ot(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function at(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function st(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class lt{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=ct),void 0===r.error&&(r.error=ct),void 0===r.complete&&(r.complete=ct);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(zP){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(zP){"undefined"!==typeof console&&console.error&&console.error(zP)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function ct(){}function ut(e){return e&&e._delegate?e._delegate:e}class dt{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ht="[DEFAULT]";class ft{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Ye;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(zP){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(zP){if(r)return null;throw zP}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ht})}catch(zP){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(zP){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===ht?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht;return this.component?this.component.multipleInstances?e:ht:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ft(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const gt=[];var mt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(mt||(mt={}));const vt={debug:mt.DEBUG,verbose:mt.VERBOSE,info:mt.INFO,warn:mt.WARN,error:mt.ERROR,silent:mt.SILENT},yt=mt.INFO,bt={[mt.DEBUG]:"log",[mt.VERBOSE]:"log",[mt.INFO]:"info",[mt.WARN]:"warn",[mt.ERROR]:"error"},wt=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=bt[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];console[r](`[${n}]  ${e.name}:`,...o)};class At{constructor(e){this.name=e,this._logLevel=yt,this._logHandler=wt,this._userLogHandler=null,gt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?vt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,mt.DEBUG,...t),this._logHandler(this,mt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,mt.VERBOSE,...t),this._logHandler(this,mt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,mt.INFO,...t),this._logHandler(this,mt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,mt.WARN,...t),this._logHandler(this,mt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,mt.ERROR,...t),this._logHandler(this,mt.ERROR,...t)}}let Et,xt;const It=new WeakMap,St=new WeakMap,Ct=new WeakMap,Dt=new WeakMap,Nt=new WeakMap;let Tt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return St.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ct.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function kt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(xt||(xt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Rt(this),n),Pt(It.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Pt(e.apply(Rt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(Rt(this),t,...r);return Ct.set(o,t.sort?t.sort():[t]),Pt(o)}}function Ot(e){return"function"===typeof e?kt(e):(e instanceof IDBTransaction&&function(e){if(St.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));St.set(e,t)}(e),t=e,(Et||(Et=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,Tt):e);var t}function Pt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Pt(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&It.set(t,e)})).catch((()=>{})),Nt.set(t,e),t}(e);if(Dt.has(e))return Dt.get(e);const t=Ot(e);return t!==e&&(Dt.set(e,t),Nt.set(t,e)),t}const Rt=e=>Nt.get(e);const _t=["get","getKey","getAll","getAllKeys","count"],Lt=["put","add","delete","clear"],Mt=new Map;function Bt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Mt.get(t))return Mt.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Lt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!_t.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];return r&&(o=o.index(s.shift())),(await Promise.all([o[n](...s),i&&t.done]))[0]};return Mt.set(t,o),o}Tt=(e=>({...e,get:(t,n,r)=>Bt(t,n)||e.get(t,n,r),has:(t,n)=>!!Bt(t,n)||e.has(t,n)}))(Tt);class jt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Ft="@firebase/app",Ut="0.9.13",zt=new At("@firebase/app"),Gt="@firebase/app-compat",Wt="@firebase/analytics-compat",Vt="@firebase/analytics",Ht="@firebase/app-check-compat",qt="@firebase/app-check",Qt="@firebase/auth",Kt="@firebase/auth-compat",Yt="@firebase/database",Jt="@firebase/database-compat",Xt="@firebase/functions",$t="@firebase/functions-compat",Zt="@firebase/installations",en="@firebase/installations-compat",tn="@firebase/messaging",nn="@firebase/messaging-compat",rn="@firebase/performance",on="@firebase/performance-compat",an="@firebase/remote-config",sn="@firebase/remote-config-compat",ln="@firebase/storage",cn="@firebase/storage-compat",un="@firebase/firestore",dn="@firebase/firestore-compat",hn="firebase",fn="[DEFAULT]",pn={[Ft]:"fire-core",[Gt]:"fire-core-compat",[Vt]:"fire-analytics",[Wt]:"fire-analytics-compat",[qt]:"fire-app-check",[Ht]:"fire-app-check-compat",[Qt]:"fire-auth",[Kt]:"fire-auth-compat",[Yt]:"fire-rtdb",[Jt]:"fire-rtdb-compat",[Xt]:"fire-fn",[$t]:"fire-fn-compat",[Zt]:"fire-iid",[en]:"fire-iid-compat",[tn]:"fire-fcm",[nn]:"fire-fcm-compat",[rn]:"fire-perf",[on]:"fire-perf-compat",[an]:"fire-rc",[sn]:"fire-rc-compat",[ln]:"fire-gcs",[cn]:"fire-gcs-compat",[un]:"fire-fst",[dn]:"fire-fst-compat","fire-js":"fire-js",[hn]:"fire-js-all"},gn=new Map,mn=new Map;function vn(e,t){try{e.container.addComponent(t)}catch(zP){zt.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,zP)}}function yn(e){const t=e.name;if(mn.has(t))return zt.debug(`There were multiple attempts to register component ${t}.`),!1;mn.set(t,e);for(const n of gn.values())vn(n,e);return!0}function bn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const wn=new tt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class An{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new dt("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wn.create("app-deleted",{appName:this._name})}}const En="9.23.0";function xn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:fn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw wn.create("bad-app-name",{appName:String(i)});if(n||(n=Qe()),!n)throw wn.create("no-options");const o=gn.get(i);if(o){if(rt(n,o.options)&&rt(r,o.config))return o;throw wn.create("duplicate-app",{appName:i})}const a=new pt(i);for(const l of mn.values())a.addComponent(l);const s=new An(n,r,a);return gn.set(i,s),s}function In(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fn;const t=gn.get(e);if(!t&&e===fn&&Qe())return xn();if(!t)throw wn.create("no-app",{appName:e});return t}function Sn(e,t,n){var r;let i=null!==(r=pn[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void zt.warn(e.join(" "))}yn(new dt(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const Cn="firebase-heartbeat-store";let Dn=null;function Nn(){return Dn||(Dn=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),s=Pt(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(Pt(a.result),e.oldVersion,e.newVersion,Pt(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),s.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Cn)}}).catch((e=>{throw wn.create("idb-open",{originalErrorMessage:e.message})}))),Dn}async function Tn(e,t){try{const n=(await Nn()).transaction(Cn,"readwrite"),r=n.objectStore(Cn);await r.put(t,kn(e)),await n.done}catch(zP){if(zP instanceof et)zt.warn(zP.message);else{const t=wn.create("idb-set",{originalErrorMessage:null===zP||void 0===zP?void 0:zP.message});zt.warn(t.message)}}}function kn(e){return`${e.name}!${e.options.appId}`}class On{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Rn(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=Pn();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=Pn(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),_n(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),_n(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=ze(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Pn(){return(new Date).toISOString().substring(0,10)}class Rn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Ze()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await Nn();return await t.transaction(Cn).objectStore(Cn).get(kn(e))}catch(zP){if(zP instanceof et)zt.warn(zP.message);else{const t=wn.create("idb-get",{originalErrorMessage:null===zP||void 0===zP?void 0:zP.message});zt.warn(t.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Tn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Tn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function _n(e){return ze(JSON.stringify({version:2,heartbeats:e})).length}var Ln;Ln="",yn(new dt("platform-logger",(e=>new jt(e)),"PRIVATE")),yn(new dt("heartbeat",(e=>new On(e)),"PRIVATE")),Sn(Ft,Ut,Ln),Sn(Ft,Ut,"esm2017"),Sn("fire-js","");Sn("firebase","9.23.0","app");function Mn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Bn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jn=Bn,Fn=new tt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Un=new At("@firebase/auth");function zn(e){if(Un.logLevel<=mt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Un.error(`Auth (${En}): ${e}`,...n)}}function Gn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Hn(e,...n)}function Wn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Hn(e,...n)}function Vn(e,t,n){const r=Object.assign(Object.assign({},jn()),{[t]:n});return new tt("auth","Firebase",r).create(t,{appName:e.name})}function Hn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Fn.create(e,...n)}function qn(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Hn(t,...r)}}function Qn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw zn(t),new Error(t)}function Kn(e,t){e||Qn(t)}function Yn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Jn(){return"http:"===Xn()||"https:"===Xn()}function Xn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function $n(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Jn()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Zn{constructor(e,t){this.shortDelay=e,this.longDelay=t,Kn(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return $n()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function er(e,t){Kn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class tr{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Qn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Qn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Qn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},rr=new Zn(3e4,6e4);function ir(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function or(e,t,n,r){return ar(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=ot(Object.assign({key:e.config.apiKey},o)).slice(1),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode),tr.fetch()(lr(e,e.config.apiHost,n,a),Object.assign({method:t,headers:s,referrerPolicy:"no-referrer"},i))}))}async function ar(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},nr),t);try{const t=new cr(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw ur(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw ur(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw ur(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw ur(e,"user-disabled",o);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Vn(e,s,a);Gn(e,s)}}catch(zP){if(zP instanceof et)throw zP;Gn(e,"network-request-failed",{message:String(zP)})}}async function sr(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await or(e,t,n,r,i);return"mfaPendingCredential"in o&&Gn(e,"multi-factor-auth-required",{_serverResponse:o}),o}function lr(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?er(e.config,i):`${e.config.apiScheme}://${i}`}class cr{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Wn(this.auth,"network-request-failed"))),rr.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function ur(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Wn(e,t,r);return i.customData._tokenResponse=n,i}function dr(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(zP){}}function hr(e){return 1e3*Number(e)}function fr(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return zn("JWT malformed, contained fewer than 3 sections"),null;try{const e=Ge(n);return e?JSON.parse(e):(zn("Failed to decode base64 JWT payload"),null)}catch(zP){return zn("Caught error parsing JWT payload as JSON",null===zP||void 0===zP?void 0:zP.toString()),null}}async function pr(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(zP){throw zP instanceof et&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(zP)&&e.auth.currentUser===e&&await e.auth.signOut(),zP}}class gr{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(zP){return void("auth/network-request-failed"===(null===zP||void 0===zP?void 0:zP.code)&&this.schedule(!0))}this.schedule()}}class mr{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=dr(this.lastLoginAt),this.creationTime=dr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function vr(e){var t;const n=e.auth,r=await e.getIdToken(),i=await pr(e,async function(e,t){return or(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));qn(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map((e=>{var{providerId:t}=e,n=Mn(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const s=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),h=!!u&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new mr(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}class yr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qn(e.idToken,"internal-error"),qn("undefined"!==typeof e.idToken,"internal-error"),qn("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=fr(e);return qn(t,"internal-error"),qn("undefined"!==typeof t.exp,"internal-error"),qn("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return qn(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await ar(e,{},(async()=>{const n=ot({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=lr(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",tr.fetch()(o,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new yr;return n&&(qn("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(qn("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(qn("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yr,this.toJSON())}_performRefresh(){return Qn("not implemented")}}function br(e,t){qn("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class wr{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Mn(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new mr(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await pr(this,this.stsTokenManager.getToken(this.auth,e));return qn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=ut(e),r=await n.getIdToken(t),i=fr(r);qn(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,a=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:dr(hr(i.auth_time)),issuedAtTime:dr(hr(i.iat)),expirationTime:dr(hr(i.exp)),signInProvider:a||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=ut(e);await vr(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(qn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new wr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){qn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await vr(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await pr(this,async function(e,t){return or(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,a,s,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,g=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,m=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:A,stsTokenManager:E}=t;qn(y&&E,e,"internal-error");const x=yr.fromJSON(this.name,E);qn("string"===typeof y,e,"internal-error"),br(u,e.name),br(d,e.name),qn("boolean"===typeof b,e,"internal-error"),qn("boolean"===typeof w,e,"internal-error"),br(h,e.name),br(f,e.name),br(p,e.name),br(g,e.name),br(m,e.name),br(v,e.name);const I=new wr({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:x,createdAt:m,lastLoginAt:v});return A&&Array.isArray(A)&&(I.providerData=A.map((e=>Object.assign({},e)))),g&&(I._redirectEventId=g),I}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new yr;r.updateFromServerResponse(t);const i=new wr({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await vr(i),i}}const Ar=new Map;function Er(e){Kn(e instanceof Function,"Expected a class definition");let t=Ar.get(e);return t?(Kn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ar.set(e,t),t)}class xr{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}xr.type="NONE";const Ir=xr;function Sr(e,t,n){return`firebase:${e}:${t}:${n}`}class Cr{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Sr(this.userKey,r.apiKey,i),this.fullPersistenceKey=Sr("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?wr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Cr(Er(Ir),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Er(Ir);const o=Sr(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(o);if(t){const n=wr._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const s=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&s.length?(i=s[0],a&&await i._set(o,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(l){}}))),new Cr(i,e,n)):new Cr(i,e,n)}}function Dr(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Or(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Nr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Rr(t))return"Blackberry";if(_r(t))return"Webos";if(Tr(t))return"Safari";if((t.includes("chrome/")||kr(t))&&!t.includes("edge/"))return"Chrome";if(Pr(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Nr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/firefox\//i.test(e)}function Tr(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/crios\//i.test(e)}function Or(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/iemobile/i.test(e)}function Pr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/android/i.test(e)}function Rr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/blackberry/i.test(e)}function _r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/webos/i.test(e)}function Lr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Mr(){return function(){const e=Xe();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Br(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return Lr(e)||Pr(e)||_r(e)||Rr(e)||/windows phone/i.test(e)||Or(e)}function jr(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Dr(Xe());break;case"Worker":t=`${Dr(Xe())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${En}/${r}`}async function Fr(e,t){return or(e,"GET","/v2/recaptchaConfig",ir(e,t))}function Ur(e){return void 0!==e&&void 0!==e.enterprise}class zr{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some((e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState))}}function Gr(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Wn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Wr(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Vr{constructor(e){this.type="recaptcha-enterprise",this.auth=Kr(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Ur(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Fr(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new zr(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Ur(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));Gr("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Hr(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Vr(e);let o;try{o=await i.verify(n)}catch(s){o=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}class qr{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(zP){r(zP)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(zP){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===zP||void 0===zP?void 0:zP.message})}}}class Qr{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yr(this),this.idTokenSubscription=new Yr(this),this.beforeStateQueue=new qr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Er(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Cr.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(zP){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==o||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(zP){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(zP)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return qn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(zP){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await vr(e)}catch(zP){if("auth/network-request-failed"!==(null===zP||void 0===zP?void 0:zP.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?ut(e):null;return t&&qn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&qn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Er(e))}))}async initializeRecaptchaConfig(){const e=await Fr(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new zr(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new Vr(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new tt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Er(e)||this._popupRedirectResolver;qn(t,this,"argument-error"),this.redirectPersistenceManager=await Cr.create(this,[Er(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return qn(o,this,"internal-error"),o.then((()=>i(this.currentUser))),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Un.logLevel<=mt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Un.warn(`Auth (${En}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function Kr(e){return ut(e)}class Yr{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new lt(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return qn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Jr(e,t,n){const r=Kr(e);qn(r._canInitEmulator,r,"emulator-config-failed"),qn(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Xr(t),{host:a,port:s}=function(e){const t=Xr(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:$r(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:$r(t)}}}(t),l=null===s?"":`:${s}`;r.config.emulator={url:`${o}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Xr(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function $r(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Zr{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Qn("not implemented")}_getIdTokenResponse(e){return Qn("not implemented")}_linkToIdToken(e,t){return Qn("not implemented")}_getReauthenticationResolver(e){return Qn("not implemented")}}async function ei(e,t){return or(e,"POST","/v1/accounts:update",t)}async function ti(e,t){return sr(e,"POST","/v1/accounts:signInWithPassword",ir(e,t))}async function ni(e,t){return or(e,"POST","/v1/accounts:sendOobCode",ir(e,t))}async function ri(e,t){return ni(e,t)}class ii extends Zr{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new ii(e,t,"password")}static _fromEmailAndCode(e,t){return new ii(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await Hr(e,n,"signInWithPassword");return ti(e,t)}return ti(e,n).catch((async t=>{if("auth/missing-recaptcha-token"===t.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await Hr(e,n,"signInWithPassword");return ti(e,t)}return Promise.reject(t)}));case"emailLink":return async function(e,t){return sr(e,"POST","/v1/accounts:signInWithEmailLink",ir(e,t))}(e,{email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ei(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return sr(e,"POST","/v1/accounts:signInWithEmailLink",ir(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function oi(e,t){return sr(e,"POST","/v1/accounts:signInWithIdp",ir(e,t))}class ai extends Zr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ai(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Gn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Mn(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new ai(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return oi(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,oi(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,oi(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ot(t)}return e}}const si={USER_NOT_FOUND:"user-not-found"};class li extends Zr{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new li({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new li({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return sr(e,"POST","/v1/accounts:signInWithPhoneNumber",ir(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await sr(e,"POST","/v1/accounts:signInWithPhoneNumber",ir(e,t));if(n.temporaryProof)throw ur(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return sr(e,"POST","/v1/accounts:signInWithPhoneNumber",ir(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),si)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new li({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class ci{constructor(e){var t,n,r,i,o,a;const s=at(st(e)),l=null!==(t=s.apiKey)&&void 0!==t?t:null,c=null!==(n=s.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);qn(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=s.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=at(st(e)).link,n=t?at(st(t)).deep_link_id:null,r=at(st(e)).deep_link_id;return(r?at(st(r)).link:null)||r||n||t||e}(e);try{return new ci(t)}catch(n){return null}}}class ui{constructor(){this.providerId=ui.PROVIDER_ID}static credential(e,t){return ii._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ci.parseLink(t);return qn(n,"argument-error"),ii._fromEmailAndCode(e,n.code,n.tenantId)}}ui.PROVIDER_ID="password",ui.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ui.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class di{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class hi extends di{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class fi extends hi{constructor(){super("facebook.com")}static credential(e){return ai._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return fi.credential(t.oauthAccessToken)}catch(n){return null}}}fi.FACEBOOK_SIGN_IN_METHOD="facebook.com",fi.PROVIDER_ID="facebook.com";class pi extends hi{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ai._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return pi.credential(n,r)}catch(i){return null}}}pi.GOOGLE_SIGN_IN_METHOD="google.com",pi.PROVIDER_ID="google.com";class gi extends hi{constructor(){super("github.com")}static credential(e){return ai._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return gi.credential(t.oauthAccessToken)}catch(n){return null}}}gi.GITHUB_SIGN_IN_METHOD="github.com",gi.PROVIDER_ID="github.com";class mi extends hi{constructor(){super("twitter.com")}static credential(e,t){return ai._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return mi.credential(n,r)}catch(i){return null}}}async function vi(e,t){return sr(e,"POST","/v1/accounts:signUp",ir(e,t))}mi.TWITTER_SIGN_IN_METHOD="twitter.com",mi.PROVIDER_ID="twitter.com";class yi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await wr._fromIdTokenResponse(e,n,r),o=bi(n);return new yi({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=bi(n);return new yi({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function bi(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class wi extends et{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,wi.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new wi(e,t,n,r)}}function Ai(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw wi._fromErrorAndOperation(e,n,t,r);throw n}))}async function Ei(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await pr(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return yi._forOperation(e,"link",r)}async function xi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const o=await pr(e,Ai(r,i,t,e),n);qn(o.idToken,r,"internal-error");const a=fr(o.idToken);qn(a,r,"internal-error");const{sub:s}=a;return qn(e.uid===s,r,"user-mismatch"),yi._forOperation(e,i,o)}catch(zP){throw"auth/user-not-found"===(null===zP||void 0===zP?void 0:zP.code)&&Gn(r,"user-mismatch"),zP}}async function Ii(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await Ai(e,r,t),o=await yi._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function Si(e,t){return Ii(Kr(e),t)}function Ci(e,t,n){var r;qn((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),qn("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(qn(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(qn(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}new WeakMap;const Di="__sak";class Ni{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Di,"1"),this.storage.removeItem(Di),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Ti extends Ni{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Xe();return Tr(e)||Lr(e)}()&&function(){try{return!(!window||window===window.top)}catch(zP){return!1}}(),this.fallbackToPolling=Br(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Mr()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ti.type="LOCAL";const ki=Ti;class Oi extends Ni{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Oi.type="SESSION";const Pi=Oi;class Ri{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Ri(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(o).map((async e=>e(t.origin,i))),s=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function _i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ri.receivers=[];class Li{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((a,s)=>{const l=_i("",20);r.port1.start();const c=setTimeout((()=>{s(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function Mi(){return window}function Bi(){return"undefined"!==typeof Mi().WorkerGlobalScope&&"function"===typeof Mi().importScripts}const ji="firebaseLocalStorageDb",Fi="firebaseLocalStorage",Ui="fbase_key";class zi{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Gi(e,t){return e.transaction([Fi],t?"readwrite":"readonly").objectStore(Fi)}function Wi(){const e=indexedDB.open(ji,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Fi,{keyPath:Ui})}catch(zP){n(zP)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Fi)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(ji);return new zi(e).toPromise()}(),t(await Wi()))}))}))}async function Vi(e,t,n){const r=Gi(e,!0).put({[Ui]:t,value:n});return new zi(r).toPromise()}function Hi(e,t){const n=Gi(e,!0).delete(t);return new zi(n).toPromise()}class qi{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Wi()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(zP){if(t++>3)throw zP;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Bi()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ri._getInstance(Bi()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Li(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wi();return await Vi(e,Di,"1"),await Hi(e,Di),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Vi(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Gi(e,!1).get(t),r=await new zi(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Hi(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Gi(e,!1).getAll();return new zi(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}qi.type="LOCAL";const Qi=qi;Wr("rcb"),new Zn(3e4,6e4);const Ki="recaptcha";async function Yi(e,t,n){var r;const i=await n.verify();try{let o;if(qn("string"===typeof i,e,"argument-error"),qn(n.type===Ki,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){qn("enroll"===t.type,e,"internal-error");const n=await function(e,t){return or(e,"POST","/v2/accounts/mfaEnrollment:start",ir(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{qn("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;qn(n,e,"missing-multi-factor-info");const a=await function(e,t){return or(e,"POST","/v2/accounts/mfaSignIn:start",ir(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return or(e,"POST","/v1/accounts:sendVerificationCode",ir(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Ji{constructor(e){this.providerId=Ji.PROVIDER_ID,this.auth=Kr(e)}verifyPhoneNumber(e,t){return Yi(this.auth,e,ut(t))}static credential(e,t){return li._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ji.credentialFromTaggedObject(t)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?li._fromTokenResponse(n,r):null}}function Xi(e,t){return t?Er(t):(qn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ji.PROVIDER_ID="phone",Ji.PHONE_SIGN_IN_METHOD="phone";class $i extends Zr{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oi(e,this._buildIdpRequest())}_linkToIdToken(e,t){return oi(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return oi(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Zi(e){return Ii(e.auth,new $i(e),e.bypassAuthState)}function eo(e){const{auth:t,user:n}=e;return qn(n,t,"internal-error"),xi(n,new $i(e),e.bypassAuthState)}async function to(e){const{auth:t,user:n}=e;return qn(n,t,"internal-error"),Ei(n,new $i(e),e.bypassAuthState)}class no{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(zP){this.reject(zP)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:a}=e;if(o)return void this.reject(o);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch(zP){this.reject(zP)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Zi;case"linkViaPopup":case"linkViaRedirect":return to;case"reauthViaPopup":case"reauthViaRedirect":return eo;default:Gn(this.auth,"internal-error")}}resolve(e){Kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ro=new Zn(2e3,1e4);class io extends no{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,io.currentPopupAction&&io.currentPopupAction.cancel(),io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qn(e,this.auth,"internal-error"),e}async onExecution(){Kn(1===this.filter.length,"Popup operations only handle one event");const e=_i();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Wn(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,io.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Wn(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,ro.get())};e()}}io.currentPopupAction=null;const oo=new Map;class ao extends no{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=oo.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=co(t),r=lo(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(zP){e=()=>Promise.reject(zP)}oo.set(this.auth._key(),e)}return this.bypassAuthState||oo.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function so(e,t){oo.set(e._key(),t)}function lo(e){return Er(e._redirectPersistence)}function co(e){return Sr("pendingRedirect",e.config.apiKey,e.name)}async function uo(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Kr(e),i=Xi(r,t),o=new ao(r,i,n),a=await o.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class ho{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return po(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!po(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Wn(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fo(e))}saveEventToCache(e){this.cachedEventUids.add(fo(e)),this.lastProcessedEventTime=Date.now()}}function fo(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function po(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const go=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mo=/^https?/;async function vo(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return or(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(yo(r))return}catch(n){}Gn(e,"unauthorized-domain")}function yo(e){const t=Yn(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!mo.test(n))return!1;if(go.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const bo=new Zn(3e4,6e4);function wo(){const e=Mi().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Ao=null;function Eo(e){return Ao=Ao||function(e){return new Promise(((t,n)=>{var r,i,o;function a(){wo(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{wo(),n(Wn(e,"network-request-failed"))},timeout:bo.get()})}if(null===(i=null===(r=Mi().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Mi().gapi)||void 0===o?void 0:o.load)){const t=Wr("iframefcb");return Mi()[t]=()=>{gapi.load?a():n(Wn(e,"network-request-failed"))},Gr(`https://apis.google.com/js/api.js?onload=${t}`).catch((e=>n(e)))}a()}})).catch((e=>{throw Ao=null,e}))}(e),Ao}const xo=new Zn(5e3,15e3),Io={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},So=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Co(e){const t=e.config;qn(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?er(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:En},i=So.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ot(r).slice(1)}`}const Do={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class No{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(zP){}}}function To(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},Do),{width:r.toString(),height:i.toString(),top:o,left:a}),c=Xe().toLowerCase();n&&(s=kr(c)?"_blank":n),Nr(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return Lr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new No(null);const d=window.open(t||"",s,u);qn(d,e,"popup-blocked");try{d.focus()}catch(zP){}return new No(d)}const ko="__/auth/handler",Oo="emulator/auth/handler",Po=encodeURIComponent("fac");async function Ro(e,t,n,r,i,o){qn(e.config.authDomain,e,"auth-domain-config-required"),qn(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:En,eventId:i};if(t instanceof di){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))a[e]=t}if(t instanceof hi){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const s=a;for(const u of Object.keys(s))void 0===s[u]&&delete s[u];const l=await e._getAppCheckToken(),c=l?`#${Po}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${ko}`;return er(t,Oo)}(e)}?${ot(s).slice(1)}${c}`}const _o="webStorageSupport";const Lo=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pi,this._completeRedirectFn=uo,this._overrideRedirectResult=so}async _openPopup(e,t,n,r){var i;Kn(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return To(e,await Ro(e,t,n,Yn(),r),_i())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Mi().location.href=e}(await Ro(e,t,n,Yn(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Kn(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await Eo(e),n=Mi().gapi;return qn(n,e,"internal-error"),t.open({where:document.body,url:Co(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Io,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Wn(e,"network-request-failed"),o=Mi().setTimeout((()=>{r(i)}),xo.get());function a(){Mi().clearTimeout(o),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}(e),n=new ho(e);return t.register("authEvent",(t=>{qn(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(_o,{type:_o},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[_o];void 0!==i&&t(!!i),Gn(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=vo(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Br()||Tr()||Lr()}};var Mo="@firebase/auth",Bo="0.23.2";class jo{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){qn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Fo=Ke("authIdTokenMaxAge")||300;let Uo=null;var zo;zo="Browser",yn(new dt("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;qn(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:zo,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jr(zo)},c=new Qr(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Er);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),yn(new dt("auth-internal",(e=>(e=>new jo(e))(Kr(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Sn(Mo,Bo,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(zo)),Sn(Mo,Bo,"esm2017");var Go,Wo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Vo={},Ho=Ho||{},qo=Wo||self;function Qo(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Ko(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Yo="closure_uid_"+(1e9*Math.random()>>>0),Jo=0;function Xo(e,t,n){return e.call.apply(e.bind,arguments)}function $o(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Zo(e,t,n){return(Zo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Xo:$o).apply(null,arguments)}function ea(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function ta(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function na(){this.s=this.s,this.o=this.o}na.prototype.s=!1,na.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Yo)&&e[Yo]||(e[Yo]=++Jo))},na.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ra=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function ia(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function oa(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Qo(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function aa(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}aa.prototype.h=function(){this.defaultPrevented=!0};var sa=function(){if(!qo.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{qo.addEventListener("test",(()=>{}),t),qo.removeEventListener("test",(()=>{}),t)}catch(n){}return e}();function la(e){return/^[\s\xa0]*$/.test(e)}function ca(){var e=qo.navigator;return e&&(e=e.userAgent)?e:""}function ua(e){return-1!=ca().indexOf(e)}function da(e){return da[" "](e),e}da[" "]=function(){};var ha,fa,pa=ua("Opera"),ga=ua("Trident")||ua("MSIE"),ma=ua("Edge"),va=ma||ga,ya=ua("Gecko")&&!(-1!=ca().toLowerCase().indexOf("webkit")&&!ua("Edge"))&&!(ua("Trident")||ua("MSIE"))&&!ua("Edge"),ba=-1!=ca().toLowerCase().indexOf("webkit")&&!ua("Edge");function wa(){var e=qo.document;return e?e.documentMode:void 0}e:{var Aa="",Ea=function(){var e=ca();return ya?/rv:([^\);]+)(\)|;)/.exec(e):ma?/Edge\/([\d\.]+)/.exec(e):ga?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):ba?/WebKit\/(\S+)/.exec(e):pa?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Ea&&(Aa=Ea?Ea[1]:""),ga){var xa=wa();if(null!=xa&&xa>parseFloat(Aa)){ha=String(xa);break e}}ha=Aa}if(qo.document&&ga){var Ia=wa();fa=Ia||(parseInt(ha,10)||void 0)}else fa=void 0;var Sa=fa;function Ca(e,t){if(aa.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ya){e:{try{da(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Da[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ca.$.h.call(this)}}ta(Ca,aa);var Da={2:"touch",3:"pen",4:"mouse"};Ca.prototype.h=function(){Ca.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Na="closure_listenable_"+(1e6*Math.random()|0),Ta=0;function ka(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Ta,this.fa=this.ia=!1}function Oa(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Pa(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Ra(e){const t={};for(const n in e)t[n]=e[n];return t}const _a="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function La(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<_a.length;t++)n=_a[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ma(e){this.src=e,this.g={},this.h=0}function Ba(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=ra(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Oa(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ja(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}Ma.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=ja(e,t,r,i);return-1<a?(t=e[a],n||(t.ia=!1)):((t=new ka(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var Fa="closure_lm_"+(1e6*Math.random()|0),Ua={};function za(e,t,n,r,i){if(r&&r.once)return Wa(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)za(e,t[o],n,r,i);return null}return n=Ja(n),e&&e[Na]?e.O(t,n,Ko(r)?!!r.capture:!!r,i):Ga(e,t,n,!1,r,i)}function Ga(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=Ko(i)?!!i.capture:!!i,s=Ka(e);if(s||(e[Fa]=s=new Ma(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Qa;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)sa||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(qa(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Wa(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Wa(e,t[o],n,r,i);return null}return n=Ja(n),e&&e[Na]?e.P(t,n,Ko(r)?!!r.capture:!!r,i):Ga(e,t,n,!0,r,i)}function Va(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Va(e,t[o],n,r,i);else r=Ko(r)?!!r.capture:!!r,n=Ja(n),e&&e[Na]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ja(o=e.g[t],n,r,i))&&(Oa(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Ka(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ja(t,n,r,i)),(n=-1<e?t[e]:null)&&Ha(n))}function Ha(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Na])Ba(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(qa(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ka(t))?(Ba(n,e),0==n.h&&(n.src=null,t[Fa]=null)):Oa(e)}}}function qa(e){return e in Ua?Ua[e]:Ua[e]="on"+e}function Qa(e,t){if(e.fa)e=!0;else{t=new Ca(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Ha(e),e=n.call(r,t)}return e}function Ka(e){return(e=e[Fa])instanceof Ma?e:null}var Ya="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ja(e){return"function"===typeof e?e:(e[Ya]||(e[Ya]=function(t){return e.handleEvent(t)}),e[Ya])}function Xa(){na.call(this),this.i=new Ma(this),this.S=this,this.J=null}function $a(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new aa(t,e);else if(t instanceof aa)t.target=t.target||e;else{var i=t;La(t=new aa(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=Za(a,r,!0,t)&&i}if(i=Za(a=t.g=e,r,!0,t)&&i,i=Za(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Za(a=t.g=n[o],r,!1,t)&&i}function Za(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.fa&&a.capture==n){var s=a.listener,l=a.la||a.src;a.ia&&Ba(e.i,a),i=!1!==s.call(l,r)&&i}}return i&&!r.defaultPrevented}ta(Xa,na),Xa.prototype[Na]=!0,Xa.prototype.removeEventListener=function(e,t,n,r){Va(this,e,t,n,r)},Xa.prototype.N=function(){if(Xa.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Oa(n[r]);delete t.g[e],t.h--}}this.J=null},Xa.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Xa.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var es=qo.JSON.stringify;function ts(){var e=ls;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var ns=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new rs),(e=>e.reset()));class rs{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function is(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function os(e){qo.setTimeout((()=>{throw e}),0)}let as,ss=!1,ls=new class{constructor(){this.h=this.g=null}add(e,t){const n=ns.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},cs=()=>{const e=qo.Promise.resolve(void 0);as=()=>{e.then(us)}};var us=()=>{for(var e;e=ts();){try{e.h.call(e.g)}catch(n){os(n)}var t=ns;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ss=!1};function ds(e,t){Xa.call(this),this.h=e||1,this.g=t||qo,this.j=Zo(this.qb,this),this.l=Date.now()}function hs(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function fs(e,t,n){if("function"===typeof e)n&&(e=Zo(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Zo(e.handleEvent,e)}return 2147483647<Number(t)?-1:qo.setTimeout(e,t||0)}function ps(e){e.g=fs((()=>{e.g=null,e.i&&(e.i=!1,ps(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}ta(ds,Xa),(Go=ds.prototype).ga=!1,Go.T=null,Go.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),$a(this,"tick"),this.ga&&(hs(this),this.start()))}},Go.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Go.N=function(){ds.$.N.call(this),hs(this),delete this.g};class gs extends na{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ps(this)}N(){super.N(),this.g&&(qo.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ms(e){na.call(this),this.h=e,this.g={}}ta(ms,na);var vs=[];function ys(e,t,n,r){Array.isArray(n)||(n&&(vs[0]=n.toString()),n=vs);for(var i=0;i<n.length;i++){var o=za(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function bs(e){Pa(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Ha(e)}),e),e.g={}}function ws(){this.g=!0}function As(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return es(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}ms.prototype.N=function(){ms.$.N.call(this),bs(this)},ms.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ws.prototype.Ea=function(){this.g=!1},ws.prototype.info=function(){};var Es={},xs=null;function Is(){return xs=xs||new Xa}function Ss(e){aa.call(this,Es.Ta,e)}function Cs(e){const t=Is();$a(t,new Ss(t))}function Ds(e,t){aa.call(this,Es.STAT_EVENT,e),this.stat=t}function Ns(e){const t=Is();$a(t,new Ds(t,e))}function Ts(e,t){aa.call(this,Es.Ua,e),this.size=t}function ks(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return qo.setTimeout((function(){e()}),t)}Es.Ta="serverreachability",ta(Ss,aa),Es.STAT_EVENT="statevent",ta(Ds,aa),Es.Ua="timingevent",ta(Ts,aa);var Os={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Ps={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Rs(){}function _s(e){return e.h||(e.h=e.i())}function Ls(){}Rs.prototype.h=null;var Ms,Bs={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function js(){aa.call(this,"d")}function Fs(){aa.call(this,"c")}function Us(){}function zs(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new ms(this),this.P=Ws,e=va?125:void 0,this.V=new ds(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Gs}function Gs(){this.i=null,this.g="",this.h=!1}ta(js,aa),ta(Fs,aa),ta(Us,Rs),Us.prototype.g=function(){return new XMLHttpRequest},Us.prototype.i=function(){return{}},Ms=new Us;var Ws=45e3,Vs={},Hs={};function qs(e,t,n){e.L=1,e.v=dl(al(t)),e.s=n,e.S=!0,Qs(e,null)}function Qs(e,t){e.G=Date.now(),Xs(e),e.A=al(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Il(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Gs,e.g=Sc(e.l,n?t:null,!e.s),0<e.O&&(e.M=new gs(Zo(e.Pa,e,e.g),e.O)),ys(e.U,e.g,"readystatechange",e.nb),t=e.I?Ra(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Cs(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Ks(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Ys(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=Js(e,n),r==Hs){4==t&&(e.o=4,Ns(14),i=!1),As(e.j,e.m,null,"[Incomplete Response]");break}if(r==Vs){e.o=4,Ns(15),As(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}As(e.j,e.m,r,null),nl(e,r)}Ks(e)&&r!=Hs&&r!=Vs&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ns(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),vc(t),t.M=!0,Ns(11))):(As(e.j,e.m,n,"[Invalid Chunked Response]"),tl(e),el(e))}function Js(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Hs:(n=Number(t.substring(n,r)),isNaN(n)?Vs:(r+=1)+n>t.length?Hs:(t=t.slice(r,r+n),e.C=r+n,t))}function Xs(e){e.Y=Date.now()+e.P,$s(e,e.P)}function $s(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ks(Zo(e.lb,e),t)}function Zs(e){e.B&&(qo.clearTimeout(e.B),e.B=null)}function el(e){0==e.l.H||e.J||wc(e.l,e)}function tl(e){Zs(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,hs(e.V),bs(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function nl(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Ol(n.i,e)))if(!e.K&&Ol(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;bc(n),cc(n)}mc(n),Ns(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=ks(Zo(n.ib,n),6e3));if(1>=kl(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else Ec(n,11)}else if((e.K||n.g==e)&&bc(n),!la(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Pl(o,o.h),o.h=null))}if(r.F){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,ul(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var a=e;if((r=n).wa=Ic(r,r.J?r.pa:null,r.Y),a.K){Rl(r.i,a);var s=a,l=r.L;l&&s.setTimeout(l),s.B&&(Zs(s),Xs(s)),r.g=a}else gc(r);0<n.j.length&&dc(n)}else"stop"!=c[0]&&"close"!=c[0]||Ec(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Ec(n,7):lc(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Cs()}catch(c){}}function rl(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Qo(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Qo(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Qo(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(Go=zs.prototype).setTimeout=function(e){this.P=e},Go.nb=function(e){e=e.target;const t=this.M;t&&3==nc(e)?t.l():this.Pa(e)},Go.Pa=function(e){try{if(e==this.g)e:{const u=nc(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||va||this.g&&(this.h.h||this.g.ja()||rc(this.g)))){this.J||4!=u||7==t||Cs(),Zs(this);var n=this.g.da();this.ca=n;t:if(Ks(this)){var r=rc(this.g);e="";var i=r.length,o=4==nc(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){tl(this),el(this);var a="";break t}this.h.i=new qo.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var s,l=this.g;if((s=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!la(s)){var c=s;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Ns(12),tl(this),el(this);break e}As(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nl(this,n)}this.S?(Ys(this,u,a),va&&this.i&&3==u&&(ys(this.U,this.V,"tick",this.mb),this.V.start())):(As(this.j,this.m,a,null),nl(this,a)),4==u&&tl(this),this.i&&!this.J&&(4==u?wc(this.l,this):(this.i=!1,Xs(this)))}else(function(e){const t={};e=(e.g&&2<=nc(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(la(e[r]))continue;var n=is(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.o=3,Ns(12)):(this.o=0,Ns(13)),tl(this),el(this)}}}catch(u){}},Go.mb=function(){if(this.g){var e=nc(this.g),t=this.g.ja();this.C<t.length&&(Zs(this),Ys(this,e,t),this.i&&4!=e&&Xs(this))}},Go.cancel=function(){this.J=!0,tl(this)},Go.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(Cs(),Ns(17)),tl(this),this.o=2,el(this)):$s(this,this.Y-e)};var il=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ol(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof ol){this.h=e.h,sl(this,e.j),this.s=e.s,this.g=e.g,ll(this,e.m),this.l=e.l;var t=e.i,n=new wl;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),cl(this,n),this.o=e.o}else e&&(t=String(e).match(il))?(this.h=!1,sl(this,t[1]||"",!0),this.s=hl(t[2]||""),this.g=hl(t[3]||"",!0),ll(this,t[4]),this.l=hl(t[5]||"",!0),cl(this,t[6]||"",!0),this.o=hl(t[7]||"")):(this.h=!1,this.i=new wl(null,this.h))}function al(e){return new ol(e)}function sl(e,t,n){e.j=n?hl(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ll(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function cl(e,t,n){t instanceof wl?(e.i=t,function(e,t){t&&!e.j&&(Al(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(El(this,t),Il(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=fl(t,yl)),e.i=new wl(t,e.h))}function ul(e,t,n){e.i.set(t,n)}function dl(e){return ul(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function hl(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function fl(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pl),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pl(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ol.prototype.toString=function(){var e=[],t=this.j;t&&e.push(fl(t,gl,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(fl(t,gl,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(fl(n,"/"==n.charAt(0)?vl:ml,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",fl(n,bl)),e.join("")};var gl=/[#\/\?@]/g,ml=/[#\?:]/g,vl=/[#\?]/g,yl=/[#\?@]/g,bl=/#/g;function wl(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Al(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function El(e,t){Al(e),t=Sl(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function xl(e,t){return Al(e),t=Sl(e,t),e.g.has(t)}function Il(e,t,n){El(e,t),0<n.length&&(e.i=null,e.g.set(Sl(e,t),ia(n)),e.h+=n.length)}function Sl(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Go=wl.prototype).add=function(e,t){Al(this),this.i=null,e=Sl(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Go.forEach=function(e,t){Al(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Go.ta=function(){Al(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Go.Z=function(e){Al(this);let t=[];if("string"===typeof e)xl(this,e)&&(t=t.concat(this.g.get(Sl(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Go.set=function(e,t){return Al(this),this.i=null,xl(this,e=Sl(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Go.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Go.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=o;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")};var Cl=class{constructor(e,t){this.g=e,this.map=t}};function Dl(e){this.l=e||Nl,qo.PerformanceNavigationTiming?e=0<(e=qo.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(qo.g&&qo.g.Ka&&qo.g.Ka()&&qo.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Nl=10;function Tl(e){return!!e.h||!!e.g&&e.g.size>=e.j}function kl(e){return e.h?1:e.g?e.g.size:0}function Ol(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Pl(e,t){e.g?e.g.add(t):e.h=t}function Rl(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function _l(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return ia(e.i)}Dl.prototype.cancel=function(){if(this.i=_l(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Ll,Ml=class{stringify(e){return qo.JSON.stringify(e,void 0)}parse(e){return qo.JSON.parse(e,void 0)}};function Bl(){this.g=new Ml}function jl(e,t,n){const r=n||"";try{rl(e,(function(e,n){let i=e;Ko(e)&&(i=es(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(zP){throw t.push(r+"type="+encodeURIComponent("_badmap")),zP}}function Fl(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function Ul(e){this.l=e.fc||null,this.j=e.ob||!1}function zl(e,t){Xa.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Gl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ta(Ul,Rs),Ul.prototype.g=function(){return new zl(this.l,this.j)},Ul.prototype.i=(Ll={},function(){return Ll}),ta(zl,Xa);var Gl=0;function Wl(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Vl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Hl(e)}function Hl(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Go=zl.prototype).open=function(e,t){if(this.readyState!=Gl)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Hl(this)},Go.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||qo).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Go.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Vl(this)),this.readyState=Gl},Go.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Hl(this)),this.g&&(this.readyState=3,Hl(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof qo.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Wl(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Go.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Vl(this):Hl(this),3==this.readyState&&Wl(this)}},Go.Za=function(e){this.g&&(this.response=this.responseText=e,Vl(this))},Go.Ya=function(e){this.g&&(this.response=e,Vl(this))},Go.ka=function(){this.g&&Vl(this)},Go.setRequestHeader=function(e,t){this.v.append(e,t)},Go.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Go.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(zl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ql=qo.JSON.parse;function Ql(e){Xa.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Kl,this.L=this.M=!1}ta(Ql,Xa);var Kl="",Yl=/^https?$/i,Jl=["POST","PUT"];function Xl(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,$l(e),ec(e)}function $l(e){e.F||(e.F=!0,$a(e,"complete"),$a(e,"error"))}function Zl(e){if(e.h&&"undefined"!=typeof Ho&&(!e.C[1]||4!=nc(e)||2!=e.da()))if(e.v&&4==nc(e))fs(e.La,0,e);else if($a(e,"readystatechange"),4==nc(e)){e.h=!1;try{const s=e.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===s){var i=String(e.I).match(il)[1]||null;!i&&qo.self&&qo.self.location&&(i=qo.self.location.protocol.slice(0,-1)),r=!Yl.test(i?i.toLowerCase():"")}n=r}if(n)$a(e,"complete"),$a(e,"success");else{e.m=6;try{var o=2<nc(e)?e.g.statusText:""}catch(a){o=""}e.j=o+" ["+e.da()+"]",$l(e)}}finally{ec(e)}}}function ec(e,t){if(e.g){tc(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||$a(e,"ready");try{n.onreadystatechange=r}catch(zP){}}}function tc(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(qo.clearTimeout(e.A),e.A=null)}function nc(e){return e.g?e.g.readyState:0}function rc(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Kl:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(lu){return null}}function ic(e){let t="";return Pa(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function oc(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ic(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ul(e,t,n))}function ac(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function sc(e){this.Ga=0,this.j=[],this.l=new ws,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ac("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ac("baseRetryDelayMs",5e3,e),this.hb=ac("retryDelaySeedMs",1e4,e),this.eb=ac("forwardChannelMaxRetries",2,e),this.xa=ac("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Dl(e&&e.concurrentRequestLimit),this.Ja=new Bl,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function lc(e){if(uc(e),3==e.H){var t=e.W++,n=al(e.I);if(ul(n,"SID",e.K),ul(n,"RID",t),ul(n,"TYPE","terminate"),fc(e,n),(t=new zs(e,e.l,t)).L=2,t.v=dl(al(n)),n=!1,qo.navigator&&qo.navigator.sendBeacon)try{n=qo.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&qo.Image&&((new Image).src=t.v,n=!0),n||(t.g=Sc(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Xs(t)}xc(e)}function cc(e){e.g&&(vc(e),e.g.cancel(),e.g=null)}function uc(e){cc(e),e.u&&(qo.clearTimeout(e.u),e.u=null),bc(e),e.i.cancel(),e.m&&("number"===typeof e.m&&qo.clearTimeout(e.m),e.m=null)}function dc(e){if(!Tl(e.i)&&!e.m){e.m=!0;var t=e.Na;as||cs(),ss||(as(),ss=!0),ls.add(t,e),e.C=0}}function hc(e,t){var n;n=t?t.m:e.W++;const r=al(e.I);ul(r,"SID",e.K),ul(r,"RID",n),ul(r,"AID",e.V),fc(e,r),e.o&&e.s&&oc(r,e.o,e.s),n=new zs(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=pc(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Pl(e.i,n),qs(n,r,t)}function fc(e,t){e.na&&Pa(e.na,(function(e,n){ul(t,n,e)})),e.h&&rl({},(function(e,n){ul(t,n,e)}))}function pc(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Zo(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=i[a].g;const s=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),o=!1;else try{jl(s,e,"req"+n+"_")}catch(bu){r&&r(s)}}if(o){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function gc(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;as||cs(),ss||(as(),ss=!0),ls.add(t,e),e.A=0}}function mc(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=ks(Zo(e.Ma,e),Ac(e,e.A)),e.A++,!0)}function vc(e){null!=e.B&&(qo.clearTimeout(e.B),e.B=null)}function yc(e){e.g=new zs(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=al(e.wa);ul(t,"RID","rpc"),ul(t,"SID",e.K),ul(t,"AID",e.V),ul(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&ul(t,"TO",e.qa),ul(t,"TYPE","xmlhttp"),fc(e,t),e.o&&e.s&&oc(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=dl(al(t)),n.s=null,n.S=!0,Qs(n,e)}function bc(e){null!=e.v&&(qo.clearTimeout(e.v),e.v=null)}function wc(e,t){var n=null;if(e.g==t){bc(e),vc(e),e.g=null;var r=2}else{if(!Ol(e.i,t))return;n=t.F,Rl(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;$a(r=Is(),new Ts(r,n)),dc(e)}else gc(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(kl(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=ks(Zo(e.Na,e,t),Ac(e,e.C)),e.C++,!0))}(e,t)||2==r&&mc(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Ec(e,5);break;case 4:Ec(e,10);break;case 3:Ec(e,6);break;default:Ec(e,2)}}function Ac(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Ec(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Zo(e.pb,e);n||(n=new ol("//www.google.com/images/cleardot.gif"),qo.location&&"http"==qo.location.protocol||sl(n,"https"),dl(n)),function(e,t){const n=new ws;if(qo.Image){const r=new Image;r.onload=ea(Fl,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ea(Fl,n,r,"TestLoadImage: error",!1,t),r.onabort=ea(Fl,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ea(Fl,n,r,"TestLoadImage: timeout",!1,t),qo.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ns(2);e.H=0,e.h&&e.h.za(t),xc(e),uc(e)}function xc(e){if(e.H=0,e.ma=[],e.h){const t=_l(e.i);0==t.length&&0==e.j.length||(oa(e.ma,t),oa(e.ma,e.j),e.i.i.length=0,ia(e.j),e.j.length=0),e.h.ya()}}function Ic(e,t,n){var r=n instanceof ol?al(n):new ol(n);if(""!=r.g)t&&(r.g=t+"."+r.g),ll(r,r.m);else{var i=qo.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new ol(null);r&&sl(o,r),t&&(o.g=t),i&&ll(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&ul(r,n,t),ul(r,"VER",e.ra),fc(e,r),r}function Sc(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Ql(new Ul({ob:!0})):new Ql(e.va)).Oa(e.J),t}function Cc(){}function Dc(){if(ga&&!(10<=Number(Sa)))throw Error("Environmental error: no available transport.")}function Nc(e,t){Xa.call(this),this.g=new sc(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!la(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!la(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Oc(this)}function Tc(e){js.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function kc(){Fs.call(this),this.status=1}function Oc(e){this.g=e}function Pc(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Rc(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],a=t+(o^n&(i^o))+r[0]+3614090360&4294967295;a=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(a<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((o=(t=n+((a=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=o+((a=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function _c(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(Go=Ql.prototype).Oa=function(e){this.M=e},Go.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ms.g(),this.C=this.u?_s(this.u):_s(Ms),this.g.onreadystatechange=Zo(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){return void Xl(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=qo.FormData&&e instanceof qo.FormData,!(0<=ra(Jl,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,s]of n)this.g.setRequestHeader(a,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{tc(this),0<this.B&&((this.L=function(e){return ga&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Zo(this.ua,this)):this.A=fs(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){Xl(this,o)}},Go.ua=function(){"undefined"!=typeof Ho&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$a(this,"timeout"),this.abort(8))},Go.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,$a(this,"complete"),$a(this,"abort"),ec(this))},Go.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ec(this,!0)),Ql.$.N.call(this)},Go.La=function(){this.s||(this.G||this.v||this.l?Zl(this):this.kb())},Go.kb=function(){Zl(this)},Go.isActive=function(){return!!this.g},Go.da=function(){try{return 2<nc(this)?this.g.status:-1}catch(Ll){return-1}},Go.ja=function(){try{return this.g?this.g.responseText:""}catch(Ll){return""}},Go.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ql(t)}},Go.Ia=function(){return this.m},Go.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Go=sc.prototype).ra=8,Go.H=1,Go.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new zs(this,this.l,e);let o=this.s;if(this.U&&(o?(o=Ra(o),La(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=pc(this,i,t),ul(n=al(this.I),"RID",e),ul(n,"CVER",22),this.F&&ul(n,"X-HTTP-Session-Id",this.F),fc(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(ic(o)))+"&"+t:this.o&&oc(n,this.o,o)),Pl(this.i,i),this.bb&&ul(n,"TYPE","init"),this.P?(ul(n,"$req",t),ul(n,"SID","null"),i.aa=!0,qs(i,n,null)):qs(i,n,t),this.H=2}}else 3==this.H&&(e?hc(this,e):0==this.j.length||Tl(this.i)||hc(this))},Go.Ma=function(){if(this.u=null,yc(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=ks(Zo(this.jb,this),e)}},Go.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ns(10),cc(this),yc(this))},Go.ib=function(){null!=this.v&&(this.v=null,cc(this),mc(this),Ns(19))},Go.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Ns(2)):(this.l.info("Failed to ping google.com"),Ns(1))},Go.isActive=function(){return!!this.h&&this.h.isActive(this)},(Go=Cc.prototype).Ba=function(){},Go.Aa=function(){},Go.za=function(){},Go.ya=function(){},Go.isActive=function(){return!0},Go.Va=function(){},Dc.prototype.g=function(e,t){return new Nc(e,t)},ta(Nc,Xa),Nc.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Ns(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Ic(e,null,e.Y),dc(e)},Nc.prototype.close=function(){lc(this.g)},Nc.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=es(e),e=n);t.j.push(new Cl(t.fb++,e)),3==t.H&&dc(t)},Nc.prototype.N=function(){this.g.h=null,delete this.j,lc(this.g),delete this.g,Nc.$.N.call(this)},ta(Tc,js),ta(kc,Fs),ta(Oc,Cc),Oc.prototype.Ba=function(){$a(this.g,"a")},Oc.prototype.Aa=function(e){$a(this.g,new Tc(e))},Oc.prototype.za=function(e){$a(this.g,new kc)},Oc.prototype.ya=function(){$a(this.g,"b")},ta(Pc,(function(){this.blockSize=-1})),Pc.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Pc.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)Rc(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){Rc(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){Rc(this,r),i=0;break}}this.h=i,this.i+=t},Pc.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Lc={};function Mc(e){return-128<=e&&128>e?function(e,t){var n=Lc;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new _c([0|e],0>e?-1:0)})):new _c([0|e],0>e?-1:0)}function Bc(e){if(isNaN(e)||!isFinite(e))return Fc;if(0>e)return Vc(Bc(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=jc;return new _c(t,0)}var jc=4294967296,Fc=Mc(0),Uc=Mc(1),zc=Mc(16777216);function Gc(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Wc(e){return-1==e.h}function Vc(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new _c(n,~e.h).add(Uc)}function Hc(e,t){return e.add(Vc(t))}function qc(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Qc(e,t){this.g=e,this.h=t}function Kc(e,t){if(Gc(t))throw Error("division by zero");if(Gc(e))return new Qc(Fc,Fc);if(Wc(e))return t=Kc(Vc(e),t),new Qc(Vc(t.g),Vc(t.h));if(Wc(t))return t=Kc(e,Vc(t)),new Qc(Vc(t.g),t.h);if(30<e.g.length){if(Wc(e)||Wc(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Uc,r=t;0>=r.X(e);)n=Yc(n),r=Yc(r);var i=Jc(n,1),o=Jc(r,1);for(r=Jc(r,2),n=Jc(n,2);!Gc(r);){var a=o.add(r);0>=a.X(e)&&(i=i.add(n),o=a),r=Jc(r,1),n=Jc(n,1)}return t=Hc(e,i.R(t)),new Qc(i,t)}for(i=Fc;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(o=Bc(n)).R(t);Wc(a)||0<a.X(e);)a=(o=Bc(n-=r)).R(t);Gc(o)&&(o=Uc),i=i.add(o),e=Hc(e,a)}return new Qc(i,e)}function Yc(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new _c(n,e.h)}function Jc(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new _c(i,e.h)}(Go=_c.prototype).ea=function(){if(Wc(this))return-Vc(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:jc+r)*t,t*=jc}return e},Go.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Gc(this))return"0";if(Wc(this))return"-"+Vc(this).toString(e);for(var t=Bc(Math.pow(e,6)),n=this,r="";;){var i=Kc(n,t).g,o=((0<(n=Hc(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Gc(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},Go.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Go.X=function(e){return Wc(e=Hc(this,e))?-1:Gc(e)?0:1},Go.abs=function(){return Wc(this)?Vc(this):this},Go.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),a=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=a>>>16,o&=65535,a&=65535,n[i]=a<<16|o}return new _c(n,-2147483648&n[n.length-1]?-1:0)},Go.R=function(e){if(Gc(this)||Gc(e))return Fc;if(Wc(this))return Wc(e)?Vc(this).R(Vc(e)):Vc(Vc(this).R(e));if(Wc(e))return Vc(this.R(Vc(e)));if(0>this.X(zc)&&0>e.X(zc))return Bc(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,a=65535&this.D(r),s=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=a*l,qc(n,2*r+2*i),n[2*r+2*i+1]+=o*l,qc(n,2*r+2*i+1),n[2*r+2*i+1]+=a*s,qc(n,2*r+2*i+1),n[2*r+2*i+2]+=o*s,qc(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new _c(n,0)},Go.gb=function(e){return Kc(this,e).h},Go.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new _c(n,this.h&e.h)},Go.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new _c(n,this.h|e.h)},Go.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new _c(n,this.h^e.h)},Dc.prototype.createWebChannel=Dc.prototype.g,Nc.prototype.send=Nc.prototype.u,Nc.prototype.open=Nc.prototype.m,Nc.prototype.close=Nc.prototype.close,Os.NO_ERROR=0,Os.TIMEOUT=8,Os.HTTP_ERROR=6,Ps.COMPLETE="complete",Ls.EventType=Bs,Bs.OPEN="a",Bs.CLOSE="b",Bs.ERROR="c",Bs.MESSAGE="d",Xa.prototype.listen=Xa.prototype.O,Ql.prototype.listenOnce=Ql.prototype.P,Ql.prototype.getLastError=Ql.prototype.Sa,Ql.prototype.getLastErrorCode=Ql.prototype.Ia,Ql.prototype.getStatus=Ql.prototype.da,Ql.prototype.getResponseJson=Ql.prototype.Wa,Ql.prototype.getResponseText=Ql.prototype.ja,Ql.prototype.send=Ql.prototype.ha,Ql.prototype.setWithCredentials=Ql.prototype.Oa,Pc.prototype.digest=Pc.prototype.l,Pc.prototype.reset=Pc.prototype.reset,Pc.prototype.update=Pc.prototype.j,_c.prototype.add=_c.prototype.add,_c.prototype.multiply=_c.prototype.R,_c.prototype.modulo=_c.prototype.gb,_c.prototype.compare=_c.prototype.X,_c.prototype.toNumber=_c.prototype.ea,_c.prototype.toString=_c.prototype.toString,_c.prototype.getBits=_c.prototype.D,_c.fromNumber=Bc,_c.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Vc(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Bc(Math.pow(n,8)),i=Fc,o=0;o<t.length;o+=8){var a=Math.min(8,t.length-o),s=parseInt(t.substring(o,o+a),n);8>a?(a=Bc(Math.pow(n,a)),i=i.R(a).add(Bc(s))):i=(i=i.R(r)).add(Bc(s))}return i};var Xc=Vo.createWebChannelTransport=function(){return new Dc},$c=Vo.getStatEventTarget=function(){return Is()},Zc=Vo.ErrorCode=Os,eu=Vo.EventType=Ps,tu=Vo.Event=Es,nu=Vo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ru=Vo.FetchXmlHttpFactory=Ul,iu=Vo.WebChannel=Ls,ou=Vo.XhrIo=Ql,au=Vo.Md5=Pc,su=Vo.Integer=_c;const lu="@firebase/firestore";class cu{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cu.UNAUTHENTICATED=new cu(null),cu.GOOGLE_CREDENTIALS=new cu("google-credentials-uid"),cu.FIRST_PARTY=new cu("first-party-uid"),cu.MOCK_USER=new cu("mock-user");let uu="9.23.0";const du=new At("@firebase/firestore");function hu(){return du.logLevel}function fu(e){if(du.logLevel<=mt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(mu);du.debug(`Firestore (${uu}): ${e}`,...i)}}function pu(e){if(du.logLevel<=mt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(mu);du.error(`Firestore (${uu}): ${e}`,...i)}}function gu(e){if(du.logLevel<=mt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(mu);du.warn(`Firestore (${uu}): ${e}`,...i)}}function mu(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function vu(){const e=`FIRESTORE (${uu}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw pu(e),new Error(e)}function yu(e,t){e||vu()}function bu(e,t){return e}const wu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Au extends et{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Eu{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class xu{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Iu{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(cu.UNAUTHENTICATED)))}shutdown(){}}class Su{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Cu{constructor(e){this.t=e,this.currentUser=cu.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Eu;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Eu,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{fu("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(fu("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Eu)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(fu("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(yu("string"==typeof t.accessToken),new xu(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return yu(null===e||"string"==typeof e),new cu(e)}}class Du{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=cu.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Nu{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Du(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(cu.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Tu{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ku{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&fu("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.T;return this.T=e.token,fu("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{fu("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):fu("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(yu("string"==typeof e.token),this.T=e.token,new Tu(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ou(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Pu{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Ou(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Ru(e,t){return e<t?-1:e>t?1:0}function _u(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Lu{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Au(wu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Au(wu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Au(wu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Au(wu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Lu.fromMillis(Date.now())}static fromDate(e){return Lu.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Lu(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ru(this.nanoseconds,e.nanoseconds):Ru(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Mu{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Mu(e)}static min(){return new Mu(new Lu(0,0))}static max(){return new Mu(new Lu(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Bu{constructor(e,t,n){void 0===t?t=0:t>e.length&&vu(),void 0===n?n=e.length-t:n>e.length-t&&vu(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Bu.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Bu?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ju extends Bu{construct(e,t,n){return new ju(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Au(wu.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new ju(e)}static emptyPath(){return new ju([])}}const Fu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Uu extends Bu{construct(e,t,n){return new Uu(e,t,n)}static isValidIdentifier(e){return Fu.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Uu.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Uu(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Au(wu.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Au(wu.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Au(wu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Au(wu.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Uu(t)}static emptyPath(){return new Uu([])}}class zu{constructor(e){this.path=e}static fromPath(e){return new zu(ju.fromString(e))}static fromName(e){return new zu(ju.fromString(e).popFirst(5))}static empty(){return new zu(ju.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ju.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ju.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new zu(new ju(e.slice()))}}class Gu{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Gu.UNKNOWN_ID=-1;function Wu(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Mu.fromTimestamp(1e9===r?new Lu(n+1,0):new Lu(n,r));return new Hu(i,zu.empty(),t)}function Vu(e){return new Hu(e.readTime,e.key,-1)}class Hu{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Hu(Mu.min(),zu.empty(),-1)}static max(){return new Hu(Mu.max(),zu.empty(),-1)}}function qu(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=zu.comparator(e.documentKey,t.documentKey),0!==n?n:Ru(e.largestBatchId,t.largestBatchId))}const Qu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ku{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Yu(e){if(e.code!==wu.FAILED_PRECONDITION||e.message!==Qu)throw e;fu("LocalStore","Unexpectedly lost primary lease")}class Ju{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&vu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ju(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Ju?t:Ju.resolve(t)}catch(e){return Ju.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Ju.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Ju.reject(t)}static resolve(e){return new Ju(((t,n)=>{t(e)}))}static reject(e){return new Ju(((t,n)=>{n(e)}))}static waitFor(e){return new Ju(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=Ju.resolve(!1);for(const n of e)t=t.next((e=>e?Ju.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Ju(((n,r)=>{const i=e.length,o=new Array(i);let a=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next((e=>{o[l]=e,++a,a===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new Ju(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function Xu(e){return"IndexedDbTransactionError"===e.name}class $u{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function Zu(e){return null==e}function ed(e){return 0===e&&1/e==-1/0}function td(e){return"number"==typeof e&&Number.isInteger(e)&&!ed(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}$u.ct=-1;const nd=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],rd=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],id=rd;function od(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ad(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function sd(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ld{constructor(e,t){this.comparator=e,this.root=t||ud.EMPTY}insert(e,t){return new ld(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ud.BLACK,null,null))}remove(e){return new ld(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ud.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cd(this.root,e,this.comparator,!1)}getReverseIterator(){return new cd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cd(this.root,e,this.comparator,!0)}}class cd{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ud{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ud.RED,this.left=null!=r?r:ud.EMPTY,this.right=null!=i?i:ud.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new ud(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ud.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ud.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ud.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ud.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vu();if(this.right.isRed())throw vu();const e=this.left.check();if(e!==this.right.check())throw vu();return e+(this.isRed()?0:1)}}ud.EMPTY=null,ud.RED=!0,ud.BLACK=!1,ud.EMPTY=new class{constructor(){this.size=0}get key(){throw vu()}get value(){throw vu()}get color(){throw vu()}get left(){throw vu()}get right(){throw vu()}copy(e,t,n,r,i){return this}insert(e,t,n){return new ud(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class dd{constructor(e){this.comparator=e,this.data=new ld(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new hd(this.data.getIterator())}getIteratorFrom(e){return new hd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof dd))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new dd(this.comparator);return t.data=e,t}}class hd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class fd{constructor(e){this.fields=e,e.sort(Uu.comparator)}static empty(){return new fd([])}unionWith(e){let t=new dd(Uu.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new fd(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return _u(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class pd extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class gd{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new pd("Invalid base64 string: "+e):e}}(e);return new gd(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new gd(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ru(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gd.EMPTY_BYTE_STRING=new gd("");const md=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vd(e){if(yu(!!e),"string"==typeof e){let t=0;const n=md.exec(e);if(yu(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:yd(e.seconds),nanos:yd(e.nanos)}}function yd(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function bd(e){return"string"==typeof e?gd.fromBase64String(e):gd.fromUint8Array(e)}function wd(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ad(e){const t=e.mapValue.fields.__previous_value__;return wd(t)?Ad(t):t}function Ed(e){const t=vd(e.mapValue.fields.__local_write_time__.timestampValue);return new Lu(t.seconds,t.nanos)}class xd{constructor(e,t,n,r,i,o,a,s,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=s,this.useFetchStreams=l}}class Id{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Id("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Id&&e.projectId===this.projectId&&e.database===this.database}}const Sd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Cd(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?wd(e)?4:Ud(e)?9007199254740991:10:vu()}function Dd(e,t){if(e===t)return!0;const n=Cd(e);if(n!==Cd(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ed(e).isEqual(Ed(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=vd(e.timestampValue),r=vd(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return bd(e.bytesValue).isEqual(bd(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return yd(e.geoPointValue.latitude)===yd(t.geoPointValue.latitude)&&yd(e.geoPointValue.longitude)===yd(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return yd(e.integerValue)===yd(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=yd(e.doubleValue),r=yd(t.doubleValue);return n===r?ed(n)===ed(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return _u(e.arrayValue.values||[],t.arrayValue.values||[],Dd);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(od(n)!==od(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Dd(n[i],r[i])))return!1;return!0}(e,t);default:return vu()}}function Nd(e,t){return void 0!==(e.values||[]).find((e=>Dd(e,t)))}function Td(e,t){if(e===t)return 0;const n=Cd(e),r=Cd(t);if(n!==r)return Ru(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ru(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=yd(e.integerValue||e.doubleValue),r=yd(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return kd(e.timestampValue,t.timestampValue);case 4:return kd(Ed(e),Ed(t));case 5:return Ru(e.stringValue,t.stringValue);case 6:return function(e,t){const n=bd(e),r=bd(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Ru(n[i],r[i]);if(0!==e)return e}return Ru(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Ru(yd(e.latitude),yd(t.latitude));return 0!==n?n:Ru(yd(e.longitude),yd(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Td(n[i],r[i]);if(e)return e}return Ru(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Sd.mapValue&&t===Sd.mapValue)return 0;if(e===Sd.mapValue)return 1;if(t===Sd.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let a=0;a<r.length&&a<o.length;++a){const e=Ru(r[a],o[a]);if(0!==e)return e;const t=Td(n[r[a]],i[o[a]]);if(0!==t)return t}return Ru(r.length,o.length)}(e.mapValue,t.mapValue);default:throw vu()}}function kd(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ru(e,t);const n=vd(e),r=vd(t),i=Ru(n.seconds,r.seconds);return 0!==i?i:Ru(n.nanos,r.nanos)}function Od(e){return Pd(e)}function Pd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=vd(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?bd(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,zu.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Pd(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Pd(e.fields[i])}`;return n+"}"}(e.mapValue):vu();var t,n}function Rd(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function _d(e){return!!e&&"integerValue"in e}function Ld(e){return!!e&&"arrayValue"in e}function Md(e){return!!e&&"nullValue"in e}function Bd(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function jd(e){return!!e&&"mapValue"in e}function Fd(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ad(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Fd(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Fd(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Ud(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class zd{constructor(e){this.value=e}static empty(){return new zd({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!jd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fd(t)}setAll(e){let t=Uu.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Fd(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());jd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Dd(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];jd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){ad(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new zd(Fd(this.value))}}function Gd(e){const t=[];return ad(e.fields,((e,n)=>{const r=new Uu([e]);if(jd(n)){const e=Gd(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new fd(t)}class Wd{constructor(e,t,n,r,i,o,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Wd(e,0,Mu.min(),Mu.min(),Mu.min(),zd.empty(),0)}static newFoundDocument(e,t,n,r){return new Wd(e,1,t,Mu.min(),n,r,0)}static newNoDocument(e,t){return new Wd(e,2,t,Mu.min(),Mu.min(),zd.empty(),0)}static newUnknownDocument(e,t){return new Wd(e,3,t,Mu.min(),Mu.min(),zd.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Mu.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zd.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zd.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mu.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Wd&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wd(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Vd{constructor(e,t){this.position=e,this.inclusive=t}}function Hd(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],a=e.position[i];if(r=o.field.isKeyField()?zu.comparator(zu.fromName(a.referenceValue),n.key):Td(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function qd(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Dd(e.position[n],t.position[n]))return!1;return!0}class Qd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Kd(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Yd{}class Jd extends Yd{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new ih(e,t,n):"array-contains"===t?new lh(e,n):"in"===t?new ch(e,n):"not-in"===t?new uh(e,n):"array-contains-any"===t?new dh(e,n):new Jd(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new oh(e,n):new ah(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Td(t,this.value)):null!==t&&Cd(this.value)===Cd(t)&&this.matchesComparison(Td(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return vu()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Xd extends Yd{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Xd(e,t)}matches(e){return $d(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft((e=>e.isInequality()));return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function $d(e){return"and"===e.op}function Zd(e){return eh(e)&&$d(e)}function eh(e){for(const t of e.filters)if(t instanceof Xd)return!1;return!0}function th(e){if(e instanceof Jd)return e.field.canonicalString()+e.op.toString()+Od(e.value);if(Zd(e))return e.filters.map((e=>th(e))).join(",");{const t=e.filters.map((e=>th(e))).join(",");return`${e.op}(${t})`}}function nh(e,t){return e instanceof Jd?function(e,t){return t instanceof Jd&&e.op===t.op&&e.field.isEqual(t.field)&&Dd(e.value,t.value)}(e,t):e instanceof Xd?function(e,t){return t instanceof Xd&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&nh(n,t.filters[r])),!0)}(e,t):void vu()}function rh(e){return e instanceof Jd?function(e){return`${e.field.canonicalString()} ${e.op} ${Od(e.value)}`}(e):e instanceof Xd?function(e){return e.op.toString()+" {"+e.getFilters().map(rh).join(" ,")+"}"}(e):"Filter"}class ih extends Jd{constructor(e,t,n){super(e,t,n),this.key=zu.fromName(n.referenceValue)}matches(e){const t=zu.comparator(e.key,this.key);return this.matchesComparison(t)}}class oh extends Jd{constructor(e,t){super(e,"in",t),this.keys=sh("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class ah extends Jd{constructor(e,t){super(e,"not-in",t),this.keys=sh("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function sh(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>zu.fromName(e.referenceValue)))}class lh extends Jd{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ld(t)&&Nd(t.arrayValue,this.value)}}class ch extends Jd{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Nd(this.value.arrayValue,t)}}class uh extends Jd{constructor(e,t){super(e,"not-in",t)}matches(e){if(Nd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Nd(this.value.arrayValue,t)}}class dh extends Jd{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ld(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Nd(this.value.arrayValue,e)))}}class hh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.dt=null}}function fh(e){return new hh(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function ph(e){const t=bu(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>th(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Zu(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Od(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Od(e))).join(",")),t.dt=e}return t.dt}function gh(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Kd(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!nh(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!qd(e.startAt,t.startAt)&&qd(e.endAt,t.endAt)}function mh(e){return zu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class vh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.wt=null,this._t=null,this.startAt,this.endAt}}function yh(e,t,n,r,i,o,a,s){return new vh(e,t,n,r,i,o,a,s)}function bh(e){return new vh(e)}function wh(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Ah(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Eh(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function xh(e){return null!==e.collectionGroup}function Ih(e){const t=bu(e);if(null===t.wt){t.wt=[];const e=Eh(t),n=Ah(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new Qd(e)),t.wt.push(new Qd(Uu.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Qd(Uu.keyField(),e))}}}return t.wt}function Sh(e){const t=bu(e);if(!t._t)if("F"===t.limitType)t._t=fh(t.path,t.collectionGroup,Ih(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of Ih(t)){const t="desc"===i.dir?"asc":"desc";e.push(new Qd(i.field,t))}const n=t.endAt?new Vd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Vd(t.startAt.position,t.startAt.inclusive):null;t._t=fh(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function Ch(e,t){t.getFirstInequalityField(),Eh(e);const n=e.filters.concat([t]);return new vh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Dh(e,t,n){return new vh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Nh(e,t){return gh(Sh(e),Sh(t))&&e.limitType===t.limitType}function Th(e){return`${ph(Sh(e))}|lt:${e.limitType}`}function kh(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>rh(e))).join(", ")}]`),Zu(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Od(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Od(e))).join(",")),`Target(${t})`}(Sh(e))}; limitType=${e.limitType})`}function Oh(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):zu.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Ih(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Hd(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Ih(e),t))&&!(e.endAt&&!function(e,t,n){const r=Hd(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Ih(e),t))}(e,t)}function Ph(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Rh(e){return(t,n)=>{let r=!1;for(const i of Ih(e)){const e=_h(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function _h(e,t,n){const r=e.field.isKeyField()?zu.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Td(r,i):vu()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return vu()}}class Lh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ad(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return sd(this.inner)}size(){return this.innerSize}}const Mh=new ld(zu.comparator);function Bh(){return Mh}const jh=new ld(zu.comparator);function Fh(){let e=jh;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Uh(e){let t=jh;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function zh(){return Wh()}function Gh(){return Wh()}function Wh(){return new Lh((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Vh=new ld(zu.comparator),Hh=new dd(zu.comparator);function qh(){let e=Hh;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Qh=new dd(Ru);function Kh(){return Qh}function Yh(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ed(t)?"-0":t}}function Jh(e){return{integerValue:""+e}}function Xh(e,t){return td(t)?Jh(t):Yh(e,t)}class $h{constructor(){this._=void 0}}function Zh(e,t,n){return e instanceof nf?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&wd(t)&&(t=Ad(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof rf?of(e,t):e instanceof af?sf(e,t):function(e,t){const n=tf(e,t),r=cf(n)+cf(e.gt);return _d(n)&&_d(e.gt)?Jh(r):Yh(e.serializer,r)}(e,t)}function ef(e,t,n){return e instanceof rf?of(e,t):e instanceof af?sf(e,t):n}function tf(e,t){return e instanceof lf?_d(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class nf extends $h{}class rf extends $h{constructor(e){super(),this.elements=e}}function of(e,t){const n=uf(t);for(const r of e.elements)n.some((e=>Dd(e,r)))||n.push(r);return{arrayValue:{values:n}}}class af extends $h{constructor(e){super(),this.elements=e}}function sf(e,t){let n=uf(t);for(const r of e.elements)n=n.filter((e=>!Dd(e,r)));return{arrayValue:{values:n}}}class lf extends $h{constructor(e,t){super(),this.serializer=e,this.gt=t}}function cf(e){return yd(e.integerValue||e.doubleValue)}function uf(e){return Ld(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class df{constructor(e,t){this.version=e,this.transformResults=t}}class hf{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new hf}static exists(e){return new hf(void 0,e)}static updateTime(e){return new hf(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ff(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class pf{}function gf(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Sf(e.key,hf.none()):new wf(e.key,e.data,hf.none());{const n=e.data,r=zd.empty();let i=new dd(Uu.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Af(e.key,r,new fd(i.toArray()),hf.none())}}function mf(e,t,n){e instanceof wf?function(e,t,n){const r=e.value.clone(),i=xf(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Af?function(e,t,n){if(!ff(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=xf(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ef(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function vf(e,t,n,r){return e instanceof wf?function(e,t,n,r){if(!ff(e.precondition,t))return n;const i=e.value.clone(),o=If(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Af?function(e,t,n,r){if(!ff(e.precondition,t))return n;const i=If(e.fieldTransforms,r,t),o=t.data;return o.setAll(Ef(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return ff(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function yf(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=tf(r.transform,e||null);null!=i&&(null===n&&(n=zd.empty()),n.set(r.field,i))}return n||null}function bf(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&_u(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof rf&&t instanceof rf||e instanceof af&&t instanceof af?_u(e.elements,t.elements,Dd):e instanceof lf&&t instanceof lf?Dd(e.gt,t.gt):e instanceof nf&&t instanceof nf}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class wf extends pf{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Af extends pf{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Ef(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function xf(e,t,n){const r=new Map;yu(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,ef(a,s,n[i]))}return r}function If(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,Zh(e,o,t))}return r}class Sf extends pf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Cf extends pf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Df{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&mf(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=vf(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=vf(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Gh();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=t.has(r.key)?null:a;const s=gf(o,a);null!==s&&n.set(r.key,s),o.isValidDocument()||o.convertToNoDocument(Mu.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),qh())}isEqual(e){return this.batchId===e.batchId&&_u(this.mutations,e.mutations,((e,t)=>bf(e,t)))&&_u(this.baseMutations,e.baseMutations,((e,t)=>bf(e,t)))}}class Nf{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){yu(e.mutations.length===n.length);let r=Vh;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Nf(e,t,n,r)}}class Tf{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class kf{constructor(e,t){this.count=e,this.unchangedNames=t}}var Of,Pf;function Rf(e){switch(e){default:return vu();case wu.CANCELLED:case wu.UNKNOWN:case wu.DEADLINE_EXCEEDED:case wu.RESOURCE_EXHAUSTED:case wu.INTERNAL:case wu.UNAVAILABLE:case wu.UNAUTHENTICATED:return!1;case wu.INVALID_ARGUMENT:case wu.NOT_FOUND:case wu.ALREADY_EXISTS:case wu.PERMISSION_DENIED:case wu.FAILED_PRECONDITION:case wu.ABORTED:case wu.OUT_OF_RANGE:case wu.UNIMPLEMENTED:case wu.DATA_LOSS:return!0}}function _f(e){if(void 0===e)return pu("GRPC error has no .code"),wu.UNKNOWN;switch(e){case Of.OK:return wu.OK;case Of.CANCELLED:return wu.CANCELLED;case Of.UNKNOWN:return wu.UNKNOWN;case Of.DEADLINE_EXCEEDED:return wu.DEADLINE_EXCEEDED;case Of.RESOURCE_EXHAUSTED:return wu.RESOURCE_EXHAUSTED;case Of.INTERNAL:return wu.INTERNAL;case Of.UNAVAILABLE:return wu.UNAVAILABLE;case Of.UNAUTHENTICATED:return wu.UNAUTHENTICATED;case Of.INVALID_ARGUMENT:return wu.INVALID_ARGUMENT;case Of.NOT_FOUND:return wu.NOT_FOUND;case Of.ALREADY_EXISTS:return wu.ALREADY_EXISTS;case Of.PERMISSION_DENIED:return wu.PERMISSION_DENIED;case Of.FAILED_PRECONDITION:return wu.FAILED_PRECONDITION;case Of.ABORTED:return wu.ABORTED;case Of.OUT_OF_RANGE:return wu.OUT_OF_RANGE;case Of.UNIMPLEMENTED:return wu.UNIMPLEMENTED;case Of.DATA_LOSS:return wu.DATA_LOSS;default:return vu()}}(Pf=Of||(Of={}))[Pf.OK=0]="OK",Pf[Pf.CANCELLED=1]="CANCELLED",Pf[Pf.UNKNOWN=2]="UNKNOWN",Pf[Pf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pf[Pf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pf[Pf.NOT_FOUND=5]="NOT_FOUND",Pf[Pf.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pf[Pf.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pf[Pf.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pf[Pf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pf[Pf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pf[Pf.ABORTED=10]="ABORTED",Pf[Pf.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pf[Pf.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pf[Pf.INTERNAL=13]="INTERNAL",Pf[Pf.UNAVAILABLE=14]="UNAVAILABLE",Pf[Pf.DATA_LOSS=15]="DATA_LOSS";class Lf{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Mf}static getOrCreateInstance(){return null===Mf&&(Mf=new Lf),Mf}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach((t=>t(e)))}}let Mf=null;function Bf(){return new TextEncoder}const jf=new su([4294967295,4294967295],0);function Ff(e){const t=Bf().encode(e),n=new au;return n.update(t),new Uint8Array(n.digest())}function Uf(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new su([n,r],0),new su([i,o],0)]}class zf{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Gf(`Invalid padding: ${t}`);if(n<0)throw new Gf(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Gf(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Gf(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=su.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(su.fromNumber(n)));return 1===r.compare(jf)&&(r=new su([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Ff(e),[n,r]=Uf(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);if(!this.At(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new zf(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.It)return;const t=Ff(e),[n,r]=Uf(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Gf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Wf{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Vf.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Wf(Mu.min(),r,new ld(Ru),Bh(),qh())}}class Vf{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Vf(n,t,qh(),qh(),qh())}}class Hf{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class qf{constructor(e,t){this.targetId=e,this.Vt=t}}class Qf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gd.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Kf{constructor(){this.St=0,this.Dt=Xf(),this.Ct=gd.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=qh(),t=qh(),n=qh();return this.Dt.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:vu()}})),new Vf(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=Xf()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Yf{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Bh(),this.zt=Jf(),this.Wt=new ld(Ru)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,(t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:vu()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach(((e,n)=>{this.te(n)&&t(n)}))}ne(e){var t;const n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){const o=i.target;if(mh(o))if(0===r){const e=new zu(o.path);this.Yt(n,e,Wd.newNoDocument(e,Mu.min()))}else yu(1===r);else{const i=this.ie(n);if(i!==r){const r=this.re(e,i);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=Lf.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,o,a,s,l;const c={localCacheCount:t,existenceFilterCount:n.count},u=n.unchangedNames;return u&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==u?void 0:u.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(a=null===(o=null===(i=null==u?void 0:u.bits)||void 0===i?void 0:i.bitmap)||void 0===o?void 0:o.length)&&void 0!==a?a:0,padding:null!==(l=null===(s=null==u?void 0:u.bits)||void 0===s?void 0:s.padding)&&void 0!==l?l:0}),c}(r,i,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=n;let s,l;try{s=bd(i).toUint8Array()}catch(e){if(e instanceof pd)return gu("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new zf(s,o,a)}catch(e){return gu(e instanceof Gf?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach((n=>{const i=this.Gt.ue(),o=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;t.vt(o)||(this.Yt(e,n,null),r++)})),r}ce(e){const t=new Map;this.Qt.forEach(((n,r)=>{const i=this.se(r);if(i){if(n.current&&mh(i.target)){const t=new zu(i.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,Wd.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}}));let n=qh();this.zt.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.jt.forEach(((t,n)=>n.setReadTime(e)));const r=new Wf(e,t,this.Wt,this.jt,n);return this.jt=Bh(),this.zt=Jf(),this.Wt=new ld(Ru),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Kf,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new dd(Ru),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||fu("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Kf),this.Gt.getRemoteKeysForTarget(e).forEach((t=>{this.Yt(e,t,null)}))}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Jf(){return new ld(zu.comparator)}function Xf(){return new ld(zu.comparator)}const $f={asc:"ASCENDING",desc:"DESCENDING"},Zf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ep={and:"AND",or:"OR"};class tp{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function np(e,t){return e.useProto3Json||Zu(t)?t:{value:t}}function rp(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ip(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function op(e,t){return rp(e,t.toTimestamp())}function ap(e){return yu(!!e),Mu.fromTimestamp(function(e){const t=vd(e);return new Lu(t.seconds,t.nanos)}(e))}function sp(e,t){return function(e){return new ju(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function lp(e){const t=ju.fromString(e);return yu(Np(t)),t}function cp(e,t){return sp(e.databaseId,t.path)}function up(e,t){const n=lp(t);if(n.get(1)!==e.databaseId.projectId)throw new Au(wu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Au(wu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new zu(pp(n))}function dp(e,t){return sp(e.databaseId,t)}function hp(e){const t=lp(e);return 4===t.length?ju.emptyPath():pp(t)}function fp(e){return new ju(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function pp(e){return yu(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function gp(e,t,n){return{name:cp(e,t),fields:n.value.mapValue.fields}}function mp(e,t){let n;if(t instanceof wf)n={update:gp(e,t.key,t.value)};else if(t instanceof Sf)n={delete:cp(e,t.key)};else if(t instanceof Af)n={update:gp(e,t.key,t.data),updateMask:Dp(t.fieldMask)};else{if(!(t instanceof Cf))return vu();n={verify:cp(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof nf)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof rf)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof af)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof lf)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw vu()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:op(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:vu()}(e,t.precondition)),n}function vp(e,t){return{documents:[dp(e,t.path)]}}function yp(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=dp(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=dp(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return Cp(Xd.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Ip(e.field),direction:Ap(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=np(e,t.limit);var s;return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt={before:(s=t.startAt).inclusive,values:s.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function bp(e){let t=hp(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){yu(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=wp(e);return t instanceof Xd&&Zd(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map((e=>function(e){return new Qd(Sp(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,Zu(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Vd(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Vd(n,t)}(n.endAt)),yh(t,i,a,o,s,"F",l,c)}function wp(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Sp(e.unaryFilter.field);return Jd.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Sp(e.unaryFilter.field);return Jd.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Sp(e.unaryFilter.field);return Jd.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Sp(e.unaryFilter.field);return Jd.create(i,"!=",{nullValue:"NULL_VALUE"});default:return vu()}}(e):void 0!==e.fieldFilter?function(e){return Jd.create(Sp(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return vu()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Xd.create(e.compositeFilter.filters.map((e=>wp(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return vu()}}(e.compositeFilter.op))}(e):vu()}function Ap(e){return $f[e]}function Ep(e){return Zf[e]}function xp(e){return ep[e]}function Ip(e){return{fieldPath:e.canonicalString()}}function Sp(e){return Uu.fromServerFormat(e.fieldPath)}function Cp(e){return e instanceof Jd?function(e){if("=="===e.op){if(Bd(e.value))return{unaryFilter:{field:Ip(e.field),op:"IS_NAN"}};if(Md(e.value))return{unaryFilter:{field:Ip(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Bd(e.value))return{unaryFilter:{field:Ip(e.field),op:"IS_NOT_NAN"}};if(Md(e.value))return{unaryFilter:{field:Ip(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ip(e.field),op:Ep(e.op),value:e.value}}}(e):e instanceof Xd?function(e){const t=e.getFilters().map((e=>Cp(e)));return 1===t.length?t[0]:{compositeFilter:{op:xp(e.op),filters:t}}}(e):vu()}function Dp(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Np(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Tp{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Mu.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Mu.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:gd.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=s}withSequenceNumber(e){return new Tp(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Tp(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Tp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Tp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class kp{constructor(e){this.fe=e}}function Op(e){const t=bp({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Dh(t,t.limit,"L"):t}class Pp{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(yd(e.integerValue));else if("doubleValue"in e){const n=yd(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),ed(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie(`${n.seconds||""}`),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(bd(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?Ud(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):vu()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const r of Object.keys(n))this.Te(r,t),this.me(n[r],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const r of n)this.me(r,t)}ve(e,t){this.ye(t,37),zu.fromName(e).path.forEach((e=>{this.ye(t,60),this.be(e,t)}))}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Pp.Ve=new Pp;class Rp{constructor(){this.rn=new _p}addToCollectionParentIndex(e,t){return this.rn.add(t),Ju.resolve()}getCollectionParents(e,t){return Ju.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Ju.resolve()}deleteFieldIndex(e,t){return Ju.resolve()}getDocumentsMatchingTarget(e,t){return Ju.resolve(null)}getIndexType(e,t){return Ju.resolve(0)}getFieldIndexes(e,t){return Ju.resolve([])}getNextCollectionGroupToUpdate(e){return Ju.resolve(null)}getMinOffset(e,t){return Ju.resolve(Hu.min())}getMinOffsetFromCollectionGroup(e,t){return Ju.resolve(Hu.min())}updateCollectionGroup(e,t,n){return Ju.resolve()}updateIndexEntries(e,t){return Ju.resolve()}}class _p{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new dd(ju.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new dd(ju.comparator)).toArray()}}new Uint8Array(0);class Lp{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Lp(e,Lp.DEFAULT_COLLECTION_PERCENTILE,Lp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Lp.DEFAULT_COLLECTION_PERCENTILE=10,Lp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Lp.DEFAULT=new Lp(41943040,Lp.DEFAULT_COLLECTION_PERCENTILE,Lp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Lp.DISABLED=new Lp(-1,0,0);class Mp{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Mp(0)}static Mn(){return new Mp(-1)}}class Bp{constructor(){this.changes=new Lh((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wd.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Ju.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class jp{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Fp{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&vf(n.mutation,e,fd.empty(),Lu.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,qh()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qh();const r=zh();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Fh();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=zh();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,qh())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Bh();const o=Wh(),a=Wh();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Af)?i=i.insert(t.key,t):void 0!==a?(o.set(t.key,a.mutation.getFieldMask()),vf(a.mutation,t,a.mutation.getFieldMask(),Lu.now())):o.set(t.key,fd.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new jp(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=Wh();let r=new ld(((e,t)=>e-t)),i=qh();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let a=n.get(e)||fd.empty();a=i.applyToLocalView(o,a),n.set(e,a);const s=(r.get(i.batchId)||qh()).add(e);r=r.insert(i.batchId,s)}))})).next((()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),s=r.key,l=r.value,c=Gh();l.forEach((e=>{if(!i.has(e)){const r=gf(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,s,c))}return Ju.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n){return function(e){return zu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):xh(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Ju.resolve(zh());let a=-1,s=i;return o.next((t=>Ju.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Ju.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{s=s.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,s,t,qh()))).next((e=>({batchId:a,changes:Uh(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new zu(t)).next((e=>{let t=Fh();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=Fh();return this.indexManager.getCollectionParents(e,r).next((o=>Ju.forEach(o,(o=>{const a=function(e,t){return new vh(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(r));return this.getDocumentsMatchingCollectionQuery(e,a,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)))).next((e=>{r.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Wd.newInvalidDocument(r)))}));let n=Fh();return e.forEach(((e,i)=>{const o=r.get(e);void 0!==o&&vf(o.mutation,i,fd.empty(),Lu.now()),Oh(t,i)&&(n=n.insert(e,i))})),n}))}}class Up{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Ju.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:ap(n.createTime)}),Ju.resolve()}getNamedQuery(e,t){return Ju.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:Op(e.bundledQuery),readTime:ap(e.readTime)}}(t)),Ju.resolve()}}class zp{constructor(){this.overlays=new ld(zu.comparator),this.ls=new Map}getOverlay(e,t){return Ju.resolve(this.overlays.get(t))}getOverlays(e,t){const n=zh();return Ju.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.we(e,t,r)})),Ju.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.ls.delete(n)),Ju.resolve()}getOverlaysForCollection(e,t,n){const r=zh(),i=t.length+1,o=new zu(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const e=a.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Ju.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new ld(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=zh(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=zh(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return Ju.resolve(a)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Tf(t,n));let i=this.ls.get(t);void 0===i&&(i=qh(),this.ls.set(t,i)),this.ls.set(t,i.add(n.key))}}class Gp{constructor(){this.fs=new dd(Wp.ds),this.ws=new dd(Wp._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new Wp(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.ys(new Wp(e,t))}ps(e,t){e.forEach((e=>this.removeReference(e,t)))}Is(e){const t=new zu(new ju([])),n=new Wp(t,e),r=new Wp(t,e+1),i=[];return this.ws.forEachInRange([n,r],(e=>{this.ys(e),i.push(e.key)})),i}Ts(){this.fs.forEach((e=>this.ys(e)))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new zu(new ju([])),n=new Wp(t,e),r=new Wp(t,e+1);let i=qh();return this.ws.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Wp(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Wp{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return zu.comparator(e.key,t.key)||Ru(e.As,t.As)}static _s(e,t){return Ru(e.As,t.As)||zu.comparator(e.key,t.key)}}class Vp{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new dd(Wp.ds)}checkEmpty(e){return Ju.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Df(i,t,n,r);this.mutationQueue.push(o);for(const a of r)this.Rs=this.Rs.add(new Wp(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ju.resolve(o)}lookupMutationBatch(e,t){return Ju.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),i=r<0?0:r;return Ju.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Ju.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Ju.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Wp(t,0),r=new Wp(t,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],(e=>{const t=this.Ps(e.As);i.push(t)})),Ju.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new dd(Ru);return t.forEach((e=>{const t=new Wp(e,0),r=new Wp(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],(e=>{n=n.add(e.As)}))})),Ju.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;zu.isDocumentKey(i)||(i=i.child(""));const o=new Wp(new zu(i),0);let a=new dd(Ru);return this.Rs.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.As)),!0)}),o),Ju.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach((e=>{const n=this.Ps(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){yu(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return Ju.forEach(t.mutations,(r=>{const i=new Wp(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Rs=n}))}Cn(e){}containsKey(e,t){const n=new Wp(t,0),r=this.Rs.firstAfterOrEqual(n);return Ju.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ju.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Hp{constructor(e){this.Ds=e,this.docs=new ld(zu.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ju.resolve(n?n.document.mutableCopy():Wd.newInvalidDocument(t))}getEntries(e,t){let n=Bh();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Wd.newInvalidDocument(e))})),Ju.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Bh();const o=t.path,a=new zu(o.child("")),s=this.docs.getIteratorFrom(a);for(;s.hasNext();){const{key:e,value:{document:a}}=s.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||qu(Vu(a),n)<=0||(r.has(a.key)||Oh(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Ju.resolve(i)}getAllFromCollectionGroup(e,t,n,r){vu()}Cs(e,t){return Ju.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new qp(this)}getSize(e){return Ju.resolve(this.size)}}class qp extends Bp{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)})),Ju.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Qp{constructor(e){this.persistence=e,this.xs=new Lh((e=>ph(e)),gh),this.lastRemoteSnapshotVersion=Mu.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Gp,this.targetCount=0,this.Ms=Mp.kn()}forEachTarget(e,t){return this.xs.forEach(((e,n)=>t(n))),Ju.resolve()}getLastRemoteSnapshotVersion(e){return Ju.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ju.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Ju.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),Ju.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Mp(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Ju.resolve()}updateTargetData(e,t){return this.Fn(t),Ju.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Ju.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.xs.forEach(((o,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.xs.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),Ju.waitFor(i).next((()=>r))}getTargetCount(e){return Ju.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return Ju.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),Ju.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Ju.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Ju.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return Ju.resolve(n)}containsKey(e,t){return Ju.resolve(this.ks.containsKey(t))}}class Kp{constructor(e,t){this.$s={},this.overlays={},this.Os=new $u(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Qp(this),this.indexManager=new Rp,this.remoteDocumentCache=function(e){return new Hp(e)}((e=>this.referenceDelegate.Ls(e))),this.serializer=new kp(t),this.qs=new Up(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new zp,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new Vp(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){fu("MemoryPersistence","Starting transaction:",e);const r=new Yp(this.Os.next());return this.referenceDelegate.Us(),n(r).next((e=>this.referenceDelegate.Ks(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gs(e,t){return Ju.or(Object.values(this.$s).map((n=>()=>n.containsKey(e,t))))}}class Yp extends Ku{constructor(e){super(),this.currentSequenceNumber=e}}class Jp{constructor(e){this.persistence=e,this.Qs=new Gp,this.js=null}static zs(e){return new Jp(e)}get Ws(){if(this.js)return this.js;throw vu()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),Ju.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),Ju.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Ju.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach((e=>this.Ws.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Ws.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ju.forEach(this.Ws,(n=>{const r=zu.fromPath(n);return this.Hs(e,r).next((e=>{e||t.removeEntry(r,Mu.min())}))})).next((()=>(this.js=null,t.apply(e))))}updateLimboDocument(e,t){return this.Hs(e,t).next((e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())}))}Ls(e){return 0}Hs(e,t){return Ju.or([()=>Ju.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Xp{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=qh(),r=qh();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Xp(e,t.fromCache,n,r)}}class $p{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next((i=>i||this.Gi(e,t,r,n))).next((n=>n||this.Qi(e,t)))}Ki(e,t){if(wh(t))return Ju.resolve(null);let n=Sh(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Dh(t,null,"F"),n=Sh(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=qh(...r);return this.Ui.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.ji(t,r);return this.zi(t,o,i,n.readTime)?this.Ki(e,Dh(t,null,"F")):this.Wi(e,o,t,n)}))))})))))}Gi(e,t,n,r){return wh(t)||r.isEqual(Mu.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((i=>{const o=this.ji(t,i);return this.zi(t,o,n,r)?this.Qi(e,t):(hu()<=mt.DEBUG&&fu("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),kh(t)),this.Wi(e,o,t,Wu(r,-1)))}))}ji(e,t){let n=new dd(Rh(e));return t.forEach(((t,r)=>{Oh(e,r)&&(n=n.add(r))})),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,t){return hu()<=mt.DEBUG&&fu("QueryEngine","Using full collection scan to execute query:",kh(t)),this.Ui.getDocumentsMatchingQuery(e,t,Hu.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Zp{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new ld(Ru),this.Yi=new Lh((e=>ph(e)),gh),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Fp(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ji)))}}function eg(e,t,n,r){return new Zp(e,t,n,r)}async function tg(e,t){const n=bu(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.tr(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let a=qh();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({er:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function ng(e){const t=bu(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Bs.getLastRemoteSnapshotVersion(e)))}function rg(e,t,n){let r=qh(),i=qh();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Bh();return n.forEach(((n,o)=>{const a=e.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Mu.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):fu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),{nr:r,sr:i}}))}function ig(e,t){const n=bu(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function og(e,t){const n=bu(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Bs.getTargetData(e,t).next((i=>i?(r=i,Ju.resolve(r)):n.Bs.allocateTargetId(e).next((i=>(r=new Tp(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}async function ag(e,t,n){const r=bu(e),i=r.Ji.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Xu(e))throw e;fu("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function sg(e,t,n){const r=bu(e);let i=Mu.min(),o=qh();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=bu(e),i=r.Yi.get(n);return void 0!==i?Ju.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,Sh(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.Hi.getDocumentsMatchingQuery(e,t,n?i:Mu.min(),n?o:qh()))).next((e=>(lg(r,Ph(t),e),{documents:e,ir:o})))))}function lg(e,t,n){let r=e.Xi.get(t)||Mu.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}class cg{constructor(){this.activeTargetIds=Kh()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ug{constructor(){this.Hr=new cg,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new cg,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class dg{Yr(e){}shutdown(){}}class hg{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){fu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){fu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let fg=null;function pg(){return null===fg?fg=268435456+Math.round(2147483648*Math.random()):fg++,"0x"+fg.toString(16)}const gg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mg{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const vg="WebChannelConnection";class yg extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,i){const o=pg(),a=this.To(e,t);fu("RestConnection",`Sending RPC '${e}' ${o}:`,a,n);const s={};return this.Eo(s,r,i),this.Ao(e,a,s,n).then((t=>(fu("RestConnection",`Received RPC '${e}' ${o}: `,t),t)),(t=>{throw gu("RestConnection",`RPC '${e}' ${o} failed with error: `,t,"url: ",a,"request:",n),t}))}vo(e,t,n,r,i,o){return this.Io(e,t,n,r,i)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+uu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}To(e,t){const n=gg[e];return`${this.mo}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const i=pg();return new Promise(((o,a)=>{const s=new ou;s.setWithCredentials(!0),s.listenOnce(eu.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case Zc.NO_ERROR:const t=s.getResponseJson();fu(vg,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),o(t);break;case Zc.TIMEOUT:fu(vg,`RPC '${e}' ${i} timed out`),a(new Au(wu.DEADLINE_EXCEEDED,"Request time out"));break;case Zc.HTTP_ERROR:const n=s.getStatus();if(fu(vg,`RPC '${e}' ${i} failed with status:`,n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(wu).indexOf(t)>=0?t:wu.UNKNOWN}(t.status);a(new Au(e,t.message))}else a(new Au(wu.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new Au(wu.UNAVAILABLE,"Connection failed."));break;default:vu()}}finally{fu(vg,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);fu(vg,`RPC '${e}' ${i} sending request:`,r),s.send(t,"POST",l,n,15)}))}Ro(e,t,n){const r=pg(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Xc(),a=$c(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.xmlHttpFactory=new ru({})),this.Eo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=i.join("");fu(vg,`Creating RPC '${e}' stream ${r}: ${c}`,s);const u=o.createWebChannel(c,s);let d=!1,h=!1;const f=new mg({ro:t=>{h?fu(vg,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(fu(vg,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),fu(vg,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},oo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,iu.EventType.OPEN,(()=>{h||fu(vg,`RPC '${e}' stream ${r} transport opened.`)})),p(u,iu.EventType.CLOSE,(()=>{h||(h=!0,fu(vg,`RPC '${e}' stream ${r} transport closed`),f.wo())})),p(u,iu.EventType.ERROR,(t=>{h||(h=!0,gu(vg,`RPC '${e}' stream ${r} transport errored:`,t),f.wo(new Au(wu.UNAVAILABLE,"The operation could not be completed")))})),p(u,iu.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];yu(!!i);const o=i,a=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(a){fu(vg,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=Of[e];if(void 0!==t)return _f(t)}(t),i=a.message;void 0===n&&(n=wu.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.wo(new Au(n,i)),u.close()}else fu(vg,`RPC '${e}' stream ${r} received:`,i),f._o(i)}})),p(a,tu.STAT_EVENT,(t=>{t.stat===nu.PROXY?fu(vg,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===nu.NOPROXY&&fu(vg,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.fo()}),0),f}}function bg(){return"undefined"!=typeof document?document:null}function wg(e){return new tp(e,!0)}class Ag{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&fu("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,(()=>(this.Co=Date.now(),e()))),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Eg{constructor(e,t,n,r,i,o,a,s){this.ii=e,this.$o=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=s,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Ag(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(()=>this.zo())))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===wu.RESOURCE_EXHAUSTED?(pu(t.toString()),pu("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===wu.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Fo===t&&this.Zo(n,r)}),(t=>{e((()=>{const e=new Au(wu.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)}))}))}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((()=>{n((()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,(()=>(this.Ko()&&(this.state=3),Promise.resolve()))),this.listener.uo())))})),this.stream.ao((e=>{n((()=>this.tu(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Go(){this.state=5,this.qo.No((async()=>{this.state=0,this.start()}))}tu(e){return fu("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget((()=>this.Fo===e?t():(fu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xg extends Eg{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:vu()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(yu(void 0===t||"string"==typeof t),gd.fromBase64String(t||"")):(yu(void 0===t||t instanceof Uint8Array),gd.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(e){const t=void 0===e.code?wu.UNKNOWN:_f(e.code);return new Au(t,e.message||"")}(a);n=new Qf(r,i,o,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=up(e,r.document.name),o=ap(r.document.updateTime),a=r.document.createTime?ap(r.document.createTime):Mu.min(),s=new zd({mapValue:{fields:r.document.fields}}),l=Wd.newFoundDocument(i,o,a,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Hf(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=up(e,r.document),o=r.readTime?ap(r.readTime):Mu.min(),a=Wd.newNoDocument(i,o),s=r.removedTargetIds||[];n=new Hf([],s,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=up(e,r.document),o=r.removedTargetIds||[];n=new Hf([],o,i,null)}else{if(!("filter"in t))return vu();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new kf(r,i),a=e.targetId;n=new qf(a,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Mu.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Mu.min():t.readTime?ap(t.readTime):Mu.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=fp(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=mh(r)?{documents:vp(e,r)}:{query:yp(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=ip(e,t.resumeToken);const r=np(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Mu.min())>0){n.readTime=rp(e,t.snapshotVersion.toTimestamp());const r=np(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vu()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=fp(this.serializer),t.removeTarget=e,this.Wo(t)}}class Ig extends Eg{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(yu(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(yu(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?ap(e.updateTime):ap(t);return n.isEqual(Mu.min())&&(n=ap(t)),new df(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=ap(e.commitTime);return this.listener.cu(n,t)}return yu(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=fp(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>mp(this.serializer,e)))};this.Wo(t)}}class Sg extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Au(wu.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,o]=r;return this.connection.Io(e,t,n,i,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===wu.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Au(wu.UNKNOWN,e.toString())}))}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,a]=i;return this.connection.vo(e,t,n,o,a,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===wu.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Au(wu.UNKNOWN,e.toString())}))}terminate(){this.lu=!0}}class Cg{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve()))))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(pu(t),this.mu=!1):fu("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Dg{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr((e=>{n.enqueueAndForget((async()=>{Mg(this)&&(fu("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=bu(e);t.vu.add(4),await Tg(t),t.bu.set("Unknown"),t.vu.delete(4),await Ng(t)}(this))}))})),this.bu=new Cg(n,r)}}async function Ng(e){if(Mg(e))for(const t of e.Ru)await t(!0)}async function Tg(e){for(const t of e.Ru)await t(!1)}function kg(e,t){const n=bu(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),Lg(n)?_g(n):em(n).Ko()&&Pg(n,t))}function Og(e,t){const n=bu(e),r=em(n);n.Au.delete(t),r.Ko()&&Rg(n,t),0===n.Au.size&&(r.Ko()?r.jo():Mg(n)&&n.bu.set("Unknown"))}function Pg(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Mu.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}em(e).su(t)}function Rg(e,t){e.Vu.qt(t),em(e).iu(t)}function _g(e){e.Vu=new Yf({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),em(e).start(),e.bu.gu()}function Lg(e){return Mg(e)&&!em(e).Uo()&&e.Au.size>0}function Mg(e){return 0===bu(e).vu.size}function Bg(e){e.Vu=void 0}async function jg(e){e.Au.forEach(((t,n)=>{Pg(e,t)}))}async function Fg(e,t){Bg(e),Lg(e)?(e.bu.Iu(t),_g(e)):e.bu.set("Unknown")}async function Ug(e,t,n){if(e.bu.set("Online"),t instanceof Qf&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){fu("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await zg(e,n)}else if(t instanceof Hf?e.Vu.Ht(t):t instanceof qf?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(Mu.min()))try{const t=await ng(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(gd.EMPTY_BYTE_STRING,r.snapshotVersion)),Rg(e,t);const i=new Tp(r.target,t,n,r.sequenceNumber);Pg(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){fu("RemoteStore","Failed to raise snapshot:",t),await zg(e,t)}}async function zg(e,t,n){if(!Xu(t))throw t;e.vu.add(1),await Tg(e),e.bu.set("Offline"),n||(n=()=>ng(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{fu("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await Ng(e)}))}function Gg(e,t){return t().catch((n=>zg(e,n,t)))}async function Wg(e){const t=bu(e),n=tm(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;Vg(t);)try{const e=await ig(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,Hg(t,e)}catch(e){await zg(t,e)}qg(t)&&Qg(t)}function Vg(e){return Mg(e)&&e.Eu.length<10}function Hg(e,t){e.Eu.push(t);const n=tm(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function qg(e){return Mg(e)&&!tm(e).Uo()&&e.Eu.length>0}function Qg(e){tm(e).start()}async function Kg(e){tm(e).hu()}async function Yg(e){const t=tm(e);for(const n of e.Eu)t.uu(n.mutations)}async function Jg(e,t,n){const r=e.Eu.shift(),i=Nf.from(r,t,n);await Gg(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Wg(e)}async function Xg(e,t){t&&tm(e).ou&&await async function(e,t){if(Rf(n=t.code)&&n!==wu.ABORTED){const n=e.Eu.shift();tm(e).Qo(),await Gg(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Wg(e)}var n}(e,t),qg(e)&&Qg(e)}async function $g(e,t){const n=bu(e);n.asyncQueue.verifyOperationInProgress(),fu("RemoteStore","RemoteStore received new credentials");const r=Mg(n);n.vu.add(3),await Tg(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await Ng(n)}async function Zg(e,t){const n=bu(e);t?(n.vu.delete(2),await Ng(n)):t||(n.vu.add(2),await Tg(n),n.bu.set("Unknown"))}function em(e){return e.Su||(e.Su=function(e,t,n){const r=bu(e);return r.fu(),new xg(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:jg.bind(null,e),ao:Fg.bind(null,e),nu:Ug.bind(null,e)}),e.Ru.push((async t=>{t?(e.Su.Qo(),Lg(e)?_g(e):e.bu.set("Unknown")):(await e.Su.stop(),Bg(e))}))),e.Su}function tm(e){return e.Du||(e.Du=function(e,t,n){const r=bu(e);return r.fu(),new Ig(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Kg.bind(null,e),ao:Xg.bind(null,e),au:Yg.bind(null,e),cu:Jg.bind(null,e)}),e.Ru.push((async t=>{t?(e.Du.Qo(),await Wg(e)):(await e.Du.stop(),e.Eu.length>0&&(fu("RemoteStore",`Stopping write stream with ${e.Eu.length} pending writes`),e.Eu=[]))}))),e.Du}class nm{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Eu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,a=new nm(e,t,o,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Au(wu.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rm(e,t){if(pu("AsyncQueue",`${t}: ${e}`),Xu(e))return new Au(wu.UNAVAILABLE,`${t}: ${e}`);throw e}class im{constructor(e){this.comparator=e?(t,n)=>e(t,n)||zu.comparator(t.key,n.key):(e,t)=>zu.comparator(e.key,t.key),this.keyedMap=Fh(),this.sortedSet=new ld(this.comparator)}static emptySet(e){return new im(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof im))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new im;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class om{constructor(){this.Cu=new ld(zu.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):vu():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal(((t,n)=>{e.push(n)})),e}}class am{constructor(e,t,n,r,i,o,a,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new am(e,t,im.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class sm{constructor(){this.Nu=void 0,this.listeners=[]}}class lm{constructor(){this.queries=new Lh((e=>Th(e)),Nh),this.onlineState="Unknown",this.ku=new Set}}async function cm(e,t){const n=bu(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new sm),i)try{o.Nu=await n.onListen(r)}catch(e){const n=rm(e,`Initialization of query '${kh(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,o),o.listeners.push(t),t.Mu(n.onlineState),o.Nu&&t.$u(o.Nu)&&fm(n)}async function um(e,t){const n=bu(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function dm(e,t){const n=bu(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(i)&&(r=!0);t.Nu=i}}r&&fm(n)}function hm(e,t,n){const r=bu(e),i=r.queries.get(t);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(t)}function fm(e){e.ku.forEach((e=>{e.next()}))}class pm{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new am(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=am.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class gm{constructor(e){this.key=e}}class mm{constructor(e){this.key=e}}class vm{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=qh(),this.mutatedKeys=qh(),this.tc=Rh(e),this.ec=new im(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new om,r=t?t.ec:this.ec;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Oh(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.rc(c,u)||(n.track({type:2,doc:u}),f=!0,(s&&this.tc(u,s)>0||l&&this.tc(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(s||l)&&(a=!0)),f&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ec:o,ic:n,zi:a,mutatedKeys:i}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vu()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc))),this.oc(n);const o=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,s=a!==this.Xu;return this.Xu=a,0!==i.length||s?{snapshot:new am(this.query,e.ec,r,i,e.mutatedKeys,0===a,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new om,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach((e=>this.Yu=this.Yu.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Yu=this.Yu.delete(e))),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=qh(),this.ec.forEach((e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))}));const t=[];return e.forEach((e=>{this.Zu.has(e)||t.push(new mm(e))})),this.Zu.forEach((n=>{e.has(n)||t.push(new gm(n))})),t}hc(e){this.Yu=e.ir,this.Zu=qh();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return am.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class ym{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class bm{constructor(e){this.key=e,this.fc=!1}}class wm{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Lh((e=>Th(e)),Nh),this._c=new Map,this.mc=new Set,this.gc=new ld(zu.comparator),this.yc=new Map,this.Ic=new Gp,this.Tc={},this.Ec=new Map,this.Ac=Mp.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function Am(e,t){const n=Fm(e);let r,i;const o=n.wc.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.lc();else{const e=await og(n.localStore,Sh(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await Em(n,t,r,"current"===o,e.resumeToken),n.isPrimaryClient&&kg(n.remoteStore,e)}return i}async function Em(e,t,n,r,i){e.Rc=(t,n,r)=>async function(e,t,n,r){let i=t.view.sc(n);i.zi&&(i=await sg(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.sc(n,i)})));const o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o);return Rm(e,t.targetId,a.cc),a.snapshot}(e,t,n,r);const o=await sg(e.localStore,t,!0),a=new vm(t,o.ir),s=a.sc(o.documents),l=Vf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(s,e.isPrimaryClient,l);Rm(e,n,c.cc);const u=new ym(t,n,a);return e.wc.set(t,u),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),c.snapshot}async function xm(e,t){const n=bu(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter((e=>!Nh(e,t)))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await ag(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),Og(n.remoteStore,r.targetId),Om(n,r.targetId)})).catch(Yu)):(Om(n,r.targetId),await ag(n.localStore,r.targetId,!0))}async function Im(e,t){const n=bu(e);try{const e=await function(e,t){const n=bu(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];t.targetChanges.forEach(((o,s)=>{const l=i.get(s);if(!l)return;a.push(n.Bs.removeMatchingKeys(e,o.removedDocuments,s).next((()=>n.Bs.addMatchingKeys(e,o.addedDocuments,s))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(gd.EMPTY_BYTE_STRING,Mu.min()).withLastLimboFreeSnapshotVersion(Mu.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&a.push(n.Bs.updateTargetData(e,c))}));let s=Bh(),l=qh();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(rg(e,o,t.documentUpdates).next((e=>{s=e.nr,l=e.sr}))),!r.isEqual(Mu.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next((t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return Ju.waitFor(a).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,s,l))).next((()=>s))})).then((e=>(n.Ji=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.yc.get(t);r&&(yu(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?yu(r.fc):e.removedDocuments.size>0&&(yu(r.fc),r.fc=!1))})),await Mm(n,e,t)}catch(e){await Yu(e)}}function Sm(e,t,n){const r=bu(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach(((n,r)=>{const i=r.view.Mu(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=bu(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.Mu(t)&&(r=!0)})),r&&fm(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Cm(e,t,n){const r=bu(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),o=i&&i.key;if(o){let e=new ld(zu.comparator);e=e.insert(o,Wd.newNoDocument(o,Mu.min()));const n=qh().add(o),i=new Wf(Mu.min(),new Map,new ld(Ru),e,n);await Im(r,i),r.gc=r.gc.remove(o),r.yc.delete(t),Lm(r)}else await ag(r.localStore,t,!1).then((()=>Om(r,t,n))).catch(Yu)}async function Dm(e,t){const n=bu(e),r=t.batch.batchId;try{const e=await function(e,t){const n=bu(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let a=Ju.resolve();return o.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);yu(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=qh();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);km(n,r,null),Tm(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Mm(n,e)}catch(e){await Yu(e)}}async function Nm(e,t,n){const r=bu(e);try{const e=await function(e,t){const n=bu(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(yu(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);km(r,t,n),Tm(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Mm(r,e)}catch(n){await Yu(n)}}function Tm(e,t){(e.Ec.get(t)||[]).forEach((e=>{e.resolve()})),e.Ec.delete(t)}function km(e,t,n){const r=bu(e);let i=r.Tc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function Om(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((t=>{e.Ic.containsKey(t)||Pm(e,t)}))}function Pm(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(Og(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),Lm(e))}function Rm(e,t,n){for(const r of n)r instanceof gm?(e.Ic.addReference(r.key,t),_m(e,r)):r instanceof mm?(fu("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||Pm(e,r.key)):vu()}function _m(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(fu("SyncEngine","New document in limbo: "+n),e.mc.add(r),Lm(e))}function Lm(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new zu(ju.fromString(t)),r=e.Ac.next();e.yc.set(r,new bm(n)),e.gc=e.gc.insert(n,r),kg(e.remoteStore,new Tp(Sh(bh(n.path)),r,"TargetPurposeLimboResolution",$u.ct))}}async function Mm(e,t,n){const r=bu(e),i=[],o=[],a=[];r.wc.isEmpty()||(r.wc.forEach(((e,s)=>{a.push(r.Rc(s,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Xp.Li(s.targetId,e);o.push(t)}})))})),await Promise.all(a),r.dc.nu(i),await async function(e,t){const n=bu(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Ju.forEach(t,(t=>Ju.forEach(t.Fi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Ju.forEach(t.Bi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Xu(e))throw e;fu("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ji.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(e,i)}}}(r.localStore,o))}async function Bm(e,t){const n=bu(e);if(!n.currentUser.isEqual(t)){fu("SyncEngine","User change. New user:",t.toKey());const e=await tg(n.localStore,t);n.currentUser=t,function(e){e.Ec.forEach((e=>{e.forEach((e=>{e.reject(new Au(wu.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Mm(n,e.er)}}function jm(e,t){const n=bu(e),r=n.yc.get(t);if(r&&r.fc)return qh().add(r.key);{let e=qh();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}function Fm(e){const t=bu(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Im.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=jm.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Cm.bind(null,t),t.dc.nu=dm.bind(null,t.eventManager),t.dc.Pc=hm.bind(null,t.eventManager),t}function Um(e){const t=bu(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Dm.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Nm.bind(null,t),t}class zm{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=wg(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return eg(this.persistence,new $p,e.initialUser,this.serializer)}createPersistence(e){return new Kp(Jp.zs,this.serializer)}createSharedClientState(e){return new ug}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Gm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Sm(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Bm.bind(null,this.syncEngine),await Zg(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new lm}createDatastore(e){const t=wg(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new yg(r));var r;return function(e,t,n,r){return new Sg(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>Sm(this.syncEngine,e,0),o=hg.D()?new hg:new dg,new Dg(t,n,r,i,o);var t,n,r,i,o}createSyncEngine(e,t){return function(e,t,n,r,i,o,a){const s=new wm(e,t,n,r,i,o);return a&&(s.vc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=bu(e);fu("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await Tg(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}class Wm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):pu("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Vm{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=cu.UNAUTHENTICATED,this.clientId=Pu.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{fu("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(fu("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Au(wu.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Eu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(zP){const n=rm(zP,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Hm(e,t){e.asyncQueue.verifyOperationInProgress(),fu("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await tg(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function qm(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Km(e);fu("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>$g(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>$g(t.remoteStore,n))),e._onlineComponents=t}function Qm(e){return"FirebaseError"===e.name?e.code===wu.FAILED_PRECONDITION||e.code===wu.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function Km(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){fu("FirestoreClient","Using user provided OfflineComponentProvider");try{await Hm(e,e._uninitializedComponentsProvider._offline)}catch(zP){const n=zP;if(!Qm(n))throw n;gu("Error using user provided cache. Falling back to memory cache: "+n),await Hm(e,new zm)}}else fu("FirestoreClient","Using default OfflineComponentProvider"),await Hm(e,new zm);return e._offlineComponents}async function Ym(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(fu("FirestoreClient","Using user provided OnlineComponentProvider"),await qm(e,e._uninitializedComponentsProvider._online)):(fu("FirestoreClient","Using default OnlineComponentProvider"),await qm(e,new Gm))),e._onlineComponents}function Jm(e){return Ym(e).then((e=>e.syncEngine))}async function Xm(e){const t=await Ym(e),n=t.eventManager;return n.onListen=Am.bind(null,t.syncEngine),n.onUnlisten=xm.bind(null,t.syncEngine),n}function $m(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Eu;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Wm({next:o=>{t.enqueueAndForget((()=>um(e,a)));const s=o.docs.has(n);!s&&o.fromCache?i.reject(new Au(wu.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Au(wu.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new pm(bh(n.path),o,{includeMetadataChanges:!0,Ku:!0});return cm(e,a)}(await Xm(e),e.asyncQueue,t,n,r))),r.promise}function Zm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Eu;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Wm({next:n=>{t.enqueueAndForget((()=>um(e,a))),n.fromCache&&"server"===r.source?i.reject(new Au(wu.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new pm(n,o,{includeMetadataChanges:!0,Ku:!0});return cm(e,a)}(await Xm(e),e.asyncQueue,t,n,r))),r.promise}function ev(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const tv=new Map;function nv(e,t,n){if(!n)throw new Au(wu.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function rv(e){if(!zu.isDocumentKey(e))throw new Au(wu.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function iv(e){if(zu.isDocumentKey(e))throw new Au(wu.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function ov(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":vu()}function av(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Au(wu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ov(e);throw new Au(wu.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}class sv{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Au(wu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Au(wu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Au(wu.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ev(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Au(wu.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Au(wu.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Au(wu.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class lv{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Au(wu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Au(wu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sv(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Iu;switch(e.type){case"firstParty":return new Nu(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Au(wu.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=tv.get(e);t&&(fu("ComponentProvider","Removing Datastore"),tv.delete(e),t.terminate())}(this),Promise.resolve()}}class cv{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dv(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cv(this.firestore,e,this._key)}}class uv{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new uv(this.firestore,e,this._query)}}class dv extends uv{constructor(e,t,n){super(e,t,bh(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cv(this.firestore,null,new zu(e))}withConverter(e){return new dv(this.firestore,e,this._path)}}function hv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ut(e),nv("collection","path",t),e instanceof lv){const n=ju.fromString(t,...r);return iv(n),new dv(e,null,n)}{if(!(e instanceof cv||e instanceof dv))throw new Au(wu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ju.fromString(t,...r));return iv(n),new dv(e.firestore,null,n)}}function fv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ut(e),1===arguments.length&&(t=Pu.A()),nv("doc","path",t),e instanceof lv){const n=ju.fromString(t,...r);return rv(n),new cv(e,null,new zu(n))}{if(!(e instanceof cv||e instanceof dv))throw new Au(wu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ju.fromString(t,...r));return rv(n),new cv(e.firestore,e instanceof dv?e.converter:null,new zu(n))}}class pv{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Ag(this,"async_queue_retry"),this.Xc=()=>{const e=bg();e&&fu("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=bg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=bg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise((()=>{}));const t=new Eu;return this.ta((()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Qc.push(e),this.ea())))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Xu(e))throw e;fu("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No((()=>this.ea()))}}ta(e){const t=this.Gc.then((()=>(this.Hc=!0,e().catch((e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw pu("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Hc=!1,e))))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=nm.createAndSchedule(this,e,t,n,(e=>this.na(e)));return this.zc.push(r),r}Zc(){this.Wc&&vu()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then((()=>{this.zc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()}))}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class gv extends lv{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new pv,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||vv(this),this._firestoreClient.terminate()}}function mv(e){return e._firestoreClient||vv(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function vv(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new xd(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,ev(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Vm(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class yv{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yv(gd.fromBase64String(e))}catch(e){throw new Au(wu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new yv(gd.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class bv{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Au(wu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Uu(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class wv{constructor(e){this._methodName=e}}class Av{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Au(wu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Au(wu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ru(this._lat,e._lat)||Ru(this._long,e._long)}}const Ev=/^__.*__$/;class xv{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Af(e,this.data,this.fieldMask,t,this.fieldTransforms):new wf(e,this.data,t,this.fieldTransforms)}}function Iv(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vu()}}class Sv{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Sv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Bv(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Iv(this.ca)&&Ev.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Cv{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||wg(e)}ya(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Sv({ca:e,methodName:t,ga:n,path:Uu.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dv(e){const t=e._freezeSettings(),n=wg(e._databaseId);return new Cv(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Nv(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.ya(o.merge||o.mergeFields?2:0,t,n,i);Rv("Data must be an object, but it was:",a,r);const s=Ov(r,a);let l,c;if(o.merge)l=new fd(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=_v(t,r,n);if(!a.contains(i))throw new Au(wu.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);jv(e,i)||e.push(i)}l=new fd(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new xv(new zd(s),l,c)}function Tv(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return kv(n,e.ya(r?4:3,t))}function kv(e,t){if(Pv(e=ut(e)))return Rv("Unsupported field value:",t,e),Ov(e,t);if(e instanceof wv)return function(e,t){if(!Iv(t.ca))throw t._a(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t._a(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=kv(i,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=ut(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Xh(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Lu.fromDate(e);return{timestampValue:rp(t.serializer,n)}}if(e instanceof Lu){const n=new Lu(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:rp(t.serializer,n)}}if(e instanceof Av)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof yv)return{bytesValue:ip(t.serializer,e._byteString)};if(e instanceof cv){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:sp(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a(`Unsupported field value: ${ov(e)}`)}(e,t)}function Ov(e,t){const n={};return sd(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ad(e,((e,r)=>{const i=kv(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Pv(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Lu||e instanceof Av||e instanceof yv||e instanceof cv||e instanceof wv)}function Rv(e,t,n){if(!Pv(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=ov(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function _v(e,t,n){if((t=ut(t))instanceof bv)return t._internalPath;if("string"==typeof t)return Mv(e,t);throw Bv("Field path arguments must be of type string or ",e,!1,void 0,n)}const Lv=new RegExp("[~\\*/\\[\\]]");function Mv(e,t,n){if(t.search(Lv)>=0)throw Bv(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new bv(...t.split("."))._internalPath}catch(r){throw Bv(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Bv(e,t,n,r,i){const o=r&&!r.isEmpty(),a=void 0!==i;let s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new Au(wu.INVALID_ARGUMENT,s+e+l)}function jv(e,t){return e.some((e=>e.isEqual(t)))}class Fv{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new cv(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Uv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(zv("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Uv extends Fv{data(){return super.data()}}function zv(e,t){return"string"==typeof t?Mv(e,t):t instanceof bv?t._internalPath:t._delegate._internalPath}function Gv(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Au(wu.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wv{}class Vv extends Wv{}function Hv(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof Wv&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof Kv)).length,n=e.filter((e=>e instanceof qv)).length;if(t>1||t>0&&n>0)throw new Au(wu.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class qv extends Vv{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new qv(e,t,n)}_apply(e){const t=this._parse(e);return Xv(e._query,t),new uv(e.firestore,e.converter,Ch(e._query,t))}_parse(e){const t=Dv(e.firestore),n=function(e,t,n,r,i,o,a){let s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Au(wu.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){Jv(a,o);const t=[];for(const n of a)t.push(Yv(r,e,n));s={arrayValue:{values:t}}}else s=Yv(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Jv(a,o),s=Tv(n,"where",a,"in"===o||"not-in"===o);return Jd.create(i,o,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Qv(e,t,n){const r=t,i=zv("where",e);return qv._create(i,r,n)}class Kv extends Wv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Kv(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Xd.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Xv(n,i),n=Ch(n,i)}(e._query,t),new uv(e.firestore,e.converter,Ch(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Yv(e,t,n){if("string"==typeof(n=ut(n))){if(""===n)throw new Au(wu.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xh(t)&&-1!==n.indexOf("/"))throw new Au(wu.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ju.fromString(n));if(!zu.isDocumentKey(r))throw new Au(wu.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Rd(e,new zu(r))}if(n instanceof cv)return Rd(e,n._key);throw new Au(wu.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ov(n)}.`)}function Jv(e,t){if(!Array.isArray(e)||0===e.length)throw new Au(wu.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Xv(e,t){if(t.isInequality()){const n=Eh(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Au(wu.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${r.toString()}'`);const i=Ah(e);null!==i&&$v(e,r,i)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Au(wu.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Au(wu.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function $v(e,t,n){if(!n.isEqual(t))throw new Au(wu.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Zv{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Cd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yd(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(bd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw vu()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return ad(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new Av(yd(e.latitude),yd(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Ad(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ed(e));default:return null}}convertTimestamp(e){const t=vd(e);return new Lu(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ju.fromString(e);yu(Np(n));const r=new Id(n.get(1),n.get(3)),i=new zu(n.popFirst(5));return r.isEqual(t)||pu(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function ey(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class ty{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ny extends Fv{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new ry(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(zv("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class ry extends ny{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class iy{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ty(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new ry(this._firestore,this._userDataWriter,n.key,n,new ty(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Au(wu.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new ry(e._firestore,e._userDataWriter,n.doc.key,n.doc,new ty(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new ry(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ty(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:oy(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function oy(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vu()}}function ay(e){e=av(e,cv);const t=av(e.firestore,gv);return $m(mv(t),e._key).then((n=>hy(t,e,n)))}class sy extends Zv{constructor(e){super(),this.firestore=e}convertBytes(e){return new yv(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new cv(this.firestore,null,t)}}function ly(e){e=av(e,uv);const t=av(e.firestore,gv),n=mv(t),r=new sy(t);return Gv(e._query),Zm(n,e._query).then((n=>new iy(t,r,e,n)))}function cy(e,t,n){e=av(e,cv);const r=av(e.firestore,gv),i=ey(e.converter,t,n);return dy(r,[Nv(Dv(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,hf.none())])}function uy(e,t){const n=av(e.firestore,gv),r=fv(e),i=ey(e.converter,t);return dy(n,[Nv(Dv(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,hf.exists(!1))]).then((()=>r))}function dy(e,t){return function(e,t){const n=new Eu;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Um(e);try{const e=await function(e,t){const n=bu(e),r=Lu.now(),i=t.reduce(((e,t)=>e.add(t.key)),qh());let o,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let s=Bh(),l=qh();return n.Zi.getEntries(e,i).next((e=>{s=e,s.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,s))).next((i=>{o=i;const a=[];for(const e of t){const t=yf(e,o.get(e.key).overlayedDocument);null!=t&&a.push(new Af(e.key,t,Gd(t.value.mapValue),hf.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:Uh(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new ld(Ru)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await Mm(r,e.changes),await Wg(r.remoteStore)}catch(e){const t=rm(e,"Failed to persist write");n.reject(t)}}(await Jm(e),t,n))),n.promise}(mv(e),t)}function hy(e,t,n){const r=n.docs.get(t._key),i=new sy(e);return new ny(e,i,t._key,r,new ty(n.hasPendingWrites,n.fromCache),t.converter)}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){uu=e}(En),yn(new dt("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),a=new gv(new Cu(e.getProvider("auth-internal")),new ku(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Au(wu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Id(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),Sn(lu,"3.13.0",e),Sn(lu,"3.13.0","esm2017")}();const fy="firebasestorage.googleapis.com",py="storageBucket";class gy extends et{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(yy(e),`Firebase Storage: ${t} (${yy(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gy.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return yy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var my,vy;function yy(e){return"storage/"+e}function by(){return new gy(my.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function wy(){return new gy(my.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ay(){return new gy(my.CANCELED,"User canceled the upload/download.")}function Ey(){return new gy(my.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function xy(e){return new gy(my.INVALID_ARGUMENT,e)}function Iy(){return new gy(my.APP_DELETED,"The Firebase app was deleted.")}function Sy(e,t){return new gy(my.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Cy(e){throw new gy(my.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(my||(my={}));class Dy{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Dy.makeFromUrl(e,t)}catch(zP){return new Dy(e,"")}if(""===n.path)return n;throw r=e,new gy(my.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),s=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${a}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp(`^https?://${t===fy?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:o}];for(let l=0;l<s.length;l++){const t=s[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new Dy(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new gy(my.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Ny{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function Ty(e){return"string"===typeof e||e instanceof String}function ky(e){return Oy()&&e instanceof Blob}function Oy(){return"undefined"!==typeof Blob&&!$e()}function Py(e,t,n,r){if(r<t)throw xy(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw xy(`Invalid value for '${e}'. Expected ${n} or less.`)}function Ry(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function _y(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function Ly(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(vy||(vy={}));class My{constructor(e,t,n,r,i,o,a,s,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=s,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new By(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===vy.NO_ERROR,i=n.getStatus();if(!t||Ly(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===vy.ABORT;return void e(!1,new By(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new By(o,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(zP){r(zP)}else if(null!==i){const e=by();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?Iy():Ay())}else{r(wy())}};this.canceled_?t(0,new By(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,a=!1,s=0;function l(){return 2===s}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function h(){o&&clearTimeout(o)}function f(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||a)return h(),void u.call(null,e,...n);let o;r<64&&(r*=2),1===s?(s=2,o=0):o=1e3*(r+Math.random()),d(o)}let p=!1;function g(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),d(0)):e||(s=1)))}return d(0),o=setTimeout((()=>{a=!0,g(!0)}),n),g}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class By{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function jy(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Fy(){const e=jy();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(Oy())return new Blob(n);throw new gy(my.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function Uy(e){if("undefined"===typeof atob)throw t="base-64",new gy(my.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`);var t;return atob(e)}const zy="raw",Gy="base64",Wy="base64url",Vy="data_url";class Hy{constructor(e,t){this.data=e,this.contentType=t||null}}function qy(e,t){switch(e){case zy:return new Hy(Qy(t));case Gy:case Wy:return new Hy(Ky(e,t));case Vy:return new Hy(function(e){const t=new Yy(e);return t.base64?Ky(Gy,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(zP){throw Sy(Vy,"Malformed data URL.")}return Qy(t)}(t.rest)}(t),new Yy(t).contentType)}throw by()}function Qy(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Ky(e,t){switch(e){case Gy:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw Sy(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case Wy:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw Sy(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Uy(t)}catch(zP){if(zP.message.includes("polyfill"))throw zP;throw Sy(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Yy{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Sy(Vy,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){const n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class Jy{constructor(e,t){let n=0,r="";ky(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(ky(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new Jy(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Jy(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Oy()){const e=t.map((e=>e instanceof Jy?e.data_:e));return new Jy(Fy.apply(null,e))}{const e=t.map((e=>Ty(e)?qy(zy,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new Jy(r,!0)}}uploadData(){return this.data_}}function Xy(e){let t;try{t=JSON.parse(e)}catch(zP){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function $y(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Zy(e,t){return t}class eb{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Zy}}let tb=null;function nb(){if(tb)return tb;const e=[];e.push(new eb("bucket")),e.push(new eb("generation")),e.push(new eb("metageneration")),e.push(new eb("name","fullPath",!0));const t=new eb("name");t.xform=function(e,t){return function(e){return!Ty(e)||e.length<2?e:$y(e)}(t)},e.push(t);const n=new eb("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new eb("timeCreated")),e.push(new eb("updated")),e.push(new eb("md5Hash",null,!0)),e.push(new eb("cacheControl",null,!0)),e.push(new eb("contentDisposition",null,!0)),e.push(new eb("contentEncoding",null,!0)),e.push(new eb("contentLanguage",null,!0)),e.push(new eb("contentType",null,!0)),e.push(new eb("metadata","customMetadata",!0)),tb=e,tb}function rb(e,t,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const e=n[o];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new Dy(n,r);return t._makeStorageReference(i)}})}(r,e),r}function ib(e,t,n){const r=Xy(t);if(null===r)return null;return rb(e,r,n)}function ob(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class ab{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function sb(e){if(!e)throw by()}function lb(e,t){return function(n,r){const i=ib(e,r,t);return sb(null!==i),i}}function cb(e,t){return function(n,r){const i=ib(e,r,t);return sb(null!==i),function(e,t,n,r){const i=Xy(t);if(null===i)return null;if(!Ty(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const a=encodeURIComponent;return o.split(",").map((t=>{const i=e.bucket,o=e.fullPath;return Ry("/b/"+a(i)+"/o/"+a(o),n,r)+_y({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function ub(e){return function(t,n){let r;var i,o;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new gy(my.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new gy(my.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new gy(my.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new gy(my.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function db(e){const t=ub(e);return function(n,r){let i=t(n,r);var o;return 404===n.getStatus()&&(o=e.path,i=new gy(my.OBJECT_NOT_FOUND,"Object '"+o+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function hb(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function fb(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};const s=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;const l=hb(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+ob(l,n)+"\r\n--"+s+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+s+"--",d=Jy.getBlob(c,r,u);if(null===d)throw Ey();const h={name:l.fullPath},f=Ry(o,e.host,e._protocol),p=e.maxUploadRetryTime,g=new ab(f,"POST",lb(e,n),p);return g.urlParams=h,g.headers=a,g.body=d.uploadData(),g.errorHandler=ub(t),g}class pb{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=vy.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=vy.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=vy.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw Cy("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Cy("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Cy("cannot .getStatus() before sending");try{return this.xhr_.status}catch(zP){return-1}}getResponse(){if(!this.sent_)throw Cy("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Cy("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class gb extends pb{initXhr(){this.xhr_.responseType="text"}}function mb(){return new gb}class vb{constructor(e,t){this._service=e,this._location=t instanceof Dy?t:Dy.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new vb(e,t)}get root(){const e=new Dy(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return $y(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Dy(this._location.bucket,e);return new vb(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new gy(my.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function yb(e,t,n){e._throwIfRoot("uploadBytes");const r=fb(e.storage,e._location,nb(),new Jy(t,!0),n);return e.storage.makeRequestWithTokens(r,mb).then((t=>({metadata:t,ref:e})))}function bb(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=Ry(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new ab(r,"GET",cb(e,n),i);return o.errorHandler=db(t),o}(e.storage,e._location,nb());return e.storage.makeRequestWithTokens(t,mb).then((e=>{if(null===e)throw new gy(my.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function wb(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=Ry(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new ab(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=db(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,mb)}function Ab(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Dy(e._location.bucket,n);return new vb(e.storage,r)}function Eb(e,t){if(e instanceof Sb){const n=e;if(null==n._bucket)throw new gy(my.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+py+"' property when initializing the app?");const r=new vb(n,n._bucket);return null!=t?Eb(r,t):r}return void 0!==t?Ab(e,t):e}function xb(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Sb)return new vb(e,t);throw xy("To use ref(service, url), the first argument must be a Storage instance.")}return Eb(e,t)}function Ib(e,t){const n=null===t||void 0===t?void 0:t[py];return null==n?null:Dy.makeFromBucketSpec(n,e)}class Sb{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=fy,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Dy.makeFromBucketSpec(r,this._host):Ib(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Dy.makeFromBucketSpec(this._url,e):this._bucket=Ib(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Py("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Py("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new vb(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Ny(Iy());{const o=function(e,t,n,r,i,o){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const s=_y(e.urlParams),l=e.url+s,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new My(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then((()=>this._requests.delete(o)),(()=>this._requests.delete(o))),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Cb="@firebase/storage",Db="0.11.2",Nb="storage";function Tb(e,t,n){return yb(e=ut(e),t,n)}function kb(e){return bb(e=ut(e))}function Ob(e){return wb(e=ut(e))}function Pb(e,t){return xb(e=ut(e),t)}function Rb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In(),t=arguments.length>1?arguments[1]:void 0;e=ut(e);const n=bn(e,Nb).getImmediate({identifier:t}),r=qe("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:Je(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}function _b(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new Sb(r,i,o,n,En)}yn(new dt(Nb,_b,"PUBLIC").setMultipleInstances(!0)),Sn(Cb,Db,""),Sn(Cb,Db,"esm2017");const Lb=xn({apiKey:"AIzaSyD73uU5AWIeWZ_SQU9vRRLExil7ctKqa3U",authDomain:"client-portal-2025.firebaseapp.com",projectId:"client-portal-2025",storageBucket:"client-portal-2025.firebasestorage.app",messagingSenderId:"941830572273",appId:"1:941830572273:web:52299f1989bab446f38150"}),Mb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In();const t=bn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=bn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(rt(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Gn(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Lo,persistence:[Qi,ki,Pi]}),r=Ke("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Fo)return;const r=null===t||void 0===t?void 0:t.token;Uo!==r&&(Uo=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){ut(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(e,t,n,r){ut(e).onIdTokenChanged(t,n,r)}(n,(t=>e(t)))}var i;const o=He("auth");return o&&Jr(n,`http://${o}`),n}(Lb),Bb=function(e,t){const n="string"==typeof e?e:t||"(default)",r=bn("object"==typeof e?e:In(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=qe("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=av(e,lv))._getSettings(),a=`${t}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==a&&gu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=cu.MOCK_USER;else{t=Je(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Au(wu.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new cu(o)}e._authCredentials=new Su(new xu(t,n))}}(r,...e)}return r}(Lb),jb=Rb(Lb);function Fb(e){var t;let{isOpen:n,onClose:r,brief:i}=e;if(!n||!i)return null;const{answers:o,type:a,createdAt:l}=i;return(0,s.createPortal)((0,Le.jsx)("div",{style:Ub,children:(0,Le.jsxs)("div",{style:zb,children:[(0,Le.jsx)("button",{onClick:r,style:Gb,children:"\xd7"}),(0,Le.jsxs)("h2",{style:{marginBottom:"0.5rem"},children:[(null===a||void 0===a?void 0:a.charAt(0).toUpperCase())+(null===a||void 0===a?void 0:a.slice(1))," Brief"]}),(0,Le.jsxs)("p",{style:{fontStyle:"italic",marginBottom:"1.5rem"},children:["Created: ",null===l||void 0===l||null===(t=l.toDate)||void 0===t?void 0:t.call(l).toLocaleDateString()]}),o?(0,Le.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:Object.entries(o).map((e=>{let[t,n]=e;return(0,Le.jsxs)("div",{style:{borderBottom:"1px solid #eee",paddingBottom:"0.75rem"},children:[(0,Le.jsxs)("p",{style:{fontWeight:"bold",marginBottom:"0.25rem"},children:["Q: ",(null===n||void 0===n?void 0:n.questionText)||"Unknown Question"]}),(0,Le.jsx)("p",{style:{marginLeft:"1rem",color:null!==n&&void 0!==n&&n.answerText?"#333":"#888",fontStyle:null!==n&&void 0!==n&&n.answerText?"normal":"italic"},children:(null===n||void 0===n?void 0:n.answerText)||"(No answer provided)"})]},t)}))}):(0,Le.jsx)("p",{children:"No answers available."})]})}),document.body)}const Ub={position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},zb={background:"#fff",padding:"2rem",borderRadius:"12px",maxWidth:"600px",width:"90%",maxHeight:"90vh",overflowY:"auto",position:"relative"},Gb={position:"absolute",top:"1rem",right:"1rem",background:"transparent",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#333"};function Wb(e){let{message:t="Loading..."}=e;return(0,Le.jsxs)("div",{style:Vb,children:[(0,Le.jsx)("div",{className:"spinner"}),(0,Le.jsx)("p",{style:{marginTop:"1rem",color:"var(--text-primary)",fontSize:"1.1rem"},children:t}),(0,Le.jsx)("style",{children:"\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n          \n          .spinner {\n            width: 40px;\n            height: 40px;\n            border: 5px solid var(--border-color);\n            border-top-color: #007bff;\n            border-radius: 50%;\n            animation: spin 1s linear infinite;\n          }\n        "})]})}const Vb={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"50vh",textAlign:"center"};function Hb(){const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)({}),[o,a]=(0,i.useState)([]),[s,l]=(0,i.useState)(!0),[c,u]=(0,i.useState)({}),[d,h]=(0,i.useState)(null),[f,p]=(0,i.useState)(!1),[g,m]=(0,i.useState)(!1),[v,y]=(0,i.useState)(!1),[b,w]=(0,i.useState)(""),[A,E]=(0,i.useState)(""),[x,I]=(0,i.useState)(""),[S,C]=(0,i.useState)(""),[D,N]=(0,i.useState)({message:"",type:""}),[T,k]=(0,i.useState)(!1),[O,P]=(0,i.useState)("branding"),[R,_]=(0,i.useState)(""),L=ne(),M=(0,i.useCallback)((async()=>{const e=Mb.currentUser;if(!e)return;const n=e.uid,i=Hv(hv(Bb,"projects"),Qv("designerId","==",n)),o=(await ly(i)).docs.map((e=>({id:e.id,...e.data()})));t(o);const s=await ly(Hv(hv(Bb,"creativeBriefs"))),c={};s.docs.forEach((e=>{const t=e.data(),n=t.projectId;o.find((e=>e.id===n))&&(c[n]||(c[n]=[]),c[n].push({id:e.id,...t}))})),r(c);const u=Hv(hv(Bb,"clients"),Qv("designerId","==",n)),d=(await ly(u)).docs.map((e=>({id:e.id,...e.data()})));a(d),l(!1)}),[]);(0,i.useEffect)((()=>{M()}),[M]);const B=function(e){N({message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),setTimeout((()=>{N({message:"",type:""})}),3e3)},j=e=>{const t=o.find((t=>t.id===e));return t?t.name:"Unknown Client"};return s?(0,Le.jsx)(Wb,{message:"Fetching your dashboard..."}):(0,Le.jsxs)("div",{className:"dashboard-container",children:[(0,Le.jsx)("h2",{children:"Dashboard"}),(0,Le.jsx)("div",{className:"d-flex justify-content-between align-items-left mb-4",children:(0,Le.jsxs)("div",{children:[(0,Le.jsx)("button",{className:"btn btn-primary me-2 mr-3",onClick:()=>p(!0),children:"Add Client"}),(0,Le.jsx)("button",{className:"btn btn-primary me-2 mr-3",onClick:()=>m(!0),children:"Add Project"}),(0,Le.jsx)("button",{className:"btn btn-primary",onClick:()=>y(!0),children:"Create New Questionnaire"})]})}),D.message&&(0,Le.jsx)("div",{className:"alert "+("success"===D.type?"alert-success":"alert-danger"),children:D.message}),(0,Le.jsx)("h3",{className:"h3 text-gray-800",children:"Your Projects"}),0===e.length?(0,Le.jsx)("div",{className:"card shadow",children:(0,Le.jsx)("div",{className:"card-body",children:"No projects yet."})}):(0,Le.jsx)("div",{className:"projects-container",children:e.map((e=>{var t,r;return(0,Le.jsxs)("div",{className:"card shadow",children:[(0,Le.jsxs)("div",{className:"card-header py-3 d-flex justify-content-between align-items-center",children:[(0,Le.jsxs)("h6",{className:"m-0 text-primary",children:["Client: ",j(e.clientId)]}),(0,Le.jsxs)("span",{className:`badge badge-${e.type}`,children:[e.type.charAt(0).toUpperCase()+e.type.slice(1)," Project - ",e.status]})]}),(0,Le.jsx)("div",{className:"card-body",children:(0,Le.jsxs)("div",{className:"project-info col-6",children:[(0,Le.jsx)("div",{className:"client-info mb-3"}),(0,Le.jsx)("div",{className:"project-actions",children:(0,Le.jsx)("button",{className:"btn btn-secondary mb-2 w-100",onClick:()=>L(`/project/${e.id}/assets`),children:"Assets"})}),(0,Le.jsxs)("div",{className:"action-buttons",children:["branding"===e.type&&(0,Le.jsx)("button",{className:"btn btn-info btn-sm mb-2 w-100",onClick:()=>L(`/choose-template/${e.type}?projectId=${e.id}&wizard=true`),children:"Start Creative Brief"}),"website"===e.type&&(0,Le.jsx)("button",{className:"btn btn-info btn-sm mb-2 w-100",onClick:()=>L(`/choose-template/${e.type}?projectId=${e.id}&wizard=true`),children:"Start Creative Brief"}),"app"===e.type&&(0,Le.jsx)("button",{className:"btn btn-info btn-sm mb-2 w-100",onClick:()=>L(`/choose-template/${e.type}?projectId=${e.id}&wizard=true`),children:"Start Creative Brief"})]}),(0,Le.jsxs)("div",{className:"brief-toggle text-primary cursor-pointer",onClick:()=>{return t=e.id,void u((e=>({...e,[t]:!e[t]})));var t},children:[c[e.id]?"\u25be":"\u25b8"," Briefs (",(null===(t=n[e.id])||void 0===t?void 0:t.length)||0,")"]}),c[e.id]&&(0,Le.jsx)("div",{className:"briefs-container mt-2",children:(null===(r=n[e.id])||void 0===r?void 0:r.length)>0?n[e.id].sort(((e,t)=>{var n,r,i,o;return(null===(n=t.createdAt)||void 0===n||null===(r=n.toDate)||void 0===r?void 0:r.call(n))-(null===(i=e.createdAt)||void 0===i||null===(o=i.toDate)||void 0===o?void 0:o.call(i))})).map((e=>{var t,n;return(0,Le.jsxs)("button",{className:"btn btn-light btn-sm w-100 text-left mb-2",onClick:()=>(e=>{h(e)})(e),children:["View Brief (",e.type,") - ",null===(t=e.createdAt)||void 0===t||null===(n=t.toDate)||void 0===n?void 0:n.call(t).toLocaleDateString()]},e.id)})):(0,Le.jsx)("p",{className:"text-muted font-italic",children:"No creative briefs yet."})})]})})]},e.id)}))}),d&&(0,Le.jsx)(Fb,{isOpen:!0,onClose:()=>{h(null)},brief:d}),f&&(0,Le.jsx)("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,Le.jsx)("div",{className:"modal-dialog",children:(0,Le.jsxs)("div",{className:"modal-content",children:[(0,Le.jsxs)("div",{className:"modal-header",children:[(0,Le.jsx)("h5",{className:"modal-title",children:"Add New Client"}),(0,Le.jsx)("button",{type:"button",className:"btn btn-outline-danger ms-2 delete-question",onClick:()=>p(!1),children:"X"})]}),(0,Le.jsx)("div",{className:"modal-body",children:(0,Le.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=Mb.currentUser.uid;await(async(e,t,n)=>{try{return(await uy(hv(Bb,"clients"),{name:e,email:t,designerId:fv(Bb,"users",n)})).id}catch(r){throw console.error("Error adding client:",r),r}})(b,A,e);B("Client added successfully!","success"),p(!1),w(""),E(""),await M()}catch(t){B("Failed to add client.","error")}},children:[(0,Le.jsxs)("div",{className:"mb-3",children:[(0,Le.jsx)("label",{className:"form-label",children:"Client Name"}),(0,Le.jsx)("input",{type:"text",className:"form-control",value:b,onChange:e=>w(e.target.value),required:!0})]}),(0,Le.jsxs)("div",{className:"mb-3",children:[(0,Le.jsx)("label",{className:"form-label",children:"Client Email"}),(0,Le.jsx)("input",{type:"email",className:"form-control",value:A,onChange:e=>E(e.target.value),required:!0})]}),(0,Le.jsxs)("div",{className:"modal-footer",children:[(0,Le.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>p(!1),children:"Cancel"}),(0,Le.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Add Client"})]})]})})]})})}),g&&(0,Le.jsx)("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,Le.jsx)("div",{className:"modal-dialog",children:(0,Le.jsxs)("div",{className:"modal-content",children:[(0,Le.jsxs)("div",{className:"modal-header",children:[(0,Le.jsx)("h5",{className:"modal-title",children:"Add New Project"}),(0,Le.jsx)("button",{type:"button",className:"btn btn-outline-danger ms-2 delete-question",onClick:()=>m(!1),children:"X"})]}),(0,Le.jsx)("div",{className:"modal-body",children:(0,Le.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=Mb.currentUser.uid;await async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"branding";try{return(await uy(hv(Bb,"projects"),{clientId:fv(Bb,"clients",e),designerId:fv(Bb,"users",t),type:n,status:"in-progress",createdAt:new Date})).id}catch(r){throw console.error("Error adding project:",r),r}}(S,e,O);B("Project added successfully!","success"),m(!1),C(""),P("branding"),await M()}catch(t){B("Failed to add project.","error")}},children:[(0,Le.jsxs)("div",{className:"mb-3",children:[(0,Le.jsx)("label",{className:"form-label",children:"Project Name"}),(0,Le.jsx)("input",{type:"text",className:"form-control",value:x,onChange:e=>I(e.target.value),required:!0})]}),(0,Le.jsxs)("div",{className:"mb-3",children:[(0,Le.jsx)("label",{className:"form-label",children:"Client"}),(0,Le.jsxs)("select",{className:"form-select",value:S,onChange:e=>C(e.target.value),required:!0,children:[(0,Le.jsx)("option",{value:"",children:"Select a client"}),o.map((e=>(0,Le.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),(0,Le.jsxs)("div",{className:"modal-footer",children:[(0,Le.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>m(!1),children:"Cancel"}),(0,Le.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Add Project"})]})]})})]})})}),v&&(0,Le.jsx)("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,Le.jsx)("div",{className:"modal-dialog",children:(0,Le.jsxs)("div",{className:"modal-content",children:[(0,Le.jsxs)("div",{className:"modal-header",children:[(0,Le.jsx)("h5",{className:"modal-title",children:"Create New Questionnaire"}),(0,Le.jsx)("button",{type:"button",className:"btn btn-outline-danger ms-2 delete-question",onClick:()=>y(!1),children:"X"})]}),(0,Le.jsx)("div",{className:"modal-body",children:(0,Le.jsxs)("div",{className:"mb-4",children:[(0,Le.jsx)("h5",{children:"What type of questionnaire do you want to create?"}),(0,Le.jsxs)("div",{className:"d-grid gap-2 questionnaire-types",children:[(0,Le.jsx)("button",{className:"btn btn-secondary mr-3",onClick:()=>{y(!1),L("/choose-template/website")},children:"Website Questionnaire"}),(0,Le.jsx)("button",{className:"btn btn-secondary mr-3",onClick:()=>{y(!1),L("/choose-template/app")},children:"App Questionnaire"}),(0,Le.jsx)("button",{className:"btn btn-secondary mr-3",onClick:()=>{y(!1),L("/choose-template/branding")},children:"Branding Questionnaire"})]})]})})]})})})]})}const qb=[{id:"group-business",name:"Business Info",questions:[{id:"question-b1",text:"What is the name of your business or project?",type:"text"},{id:"question-b2",text:"Describe what your business/product/service does.",type:"textarea"},{id:"question-b3",text:"What problem are you solving for your customers or users?",type:"textarea"}]},{id:"group-goals-values",name:"Goals and Values",questions:[{id:"question-b4",text:"What are your short and long-term goals for this project?",type:"textarea"},{id:"question-b5",text:"What does success look like for this project?",type:"textarea"},{id:"question-b6",text:"Do you have an established mission statement or core values?",type:"textarea"}]},{id:"group-audience-competitors",name:"Audience and Competitors",questions:[{id:"question-b7",text:"Who is your primary target audience? (Age, gender, occupation, interests, tech-savviness, etc.)",type:"textarea"},{id:"question-b8",text:"Who are your competitors, and how do you differ from them?",type:"textarea"},{id:"question-b9",text:"Upload any reference materials or inspiration",type:"file",accept:"image/*,.pdf"}]}],Qb=[{id:"group-website-basics",name:"Website Basics",questions:[{id:"question-w1",text:"What is the primary purpose of your website?"},{id:"question-w2",text:"Do you have an existing website? If yes, what are its current limitations?"},{id:"question-w3",text:"What are the main actions you want visitors to take on your website?"}]},{id:"group-website-content",name:"Content and Features",questions:[{id:"question-w4",text:"What key features or functionality do you need? (e.g., contact forms, booking system, e-commerce)"},{id:"question-w5",text:"Do you have content ready (text, images, videos) or will you need help creating it?"},{id:"question-w6",text:"Will you need a blog or news section?"}]},{id:"group-website-design",name:"Design Preferences",questions:[{id:"question-w7",text:"Are there any websites you like the design of? Please provide examples."},{id:"question-w8",text:"Do you have brand guidelines (colors, fonts, logos) that need to be followed?"},{id:"question-w9",text:"How would you describe your desired website style? (e.g., minimal, bold, professional, playful)"}]}],Kb=[{id:"group-app-basics",name:"App Basics",questions:[{id:"question-a1",text:"What platforms do you want to target? (iOS, Android, both)"},{id:"question-a2",text:"What is the core functionality of your app?"},{id:"question-a3",text:"What problem does your app solve for users?"}]},{id:"group-app-features",name:"Features and Technology",questions:[{id:"question-a4",text:"What are the must-have features for your MVP (Minimum Viable Product)?"},{id:"question-a5",text:"Will users need to create accounts? What type of authentication?"},{id:"question-a6",text:"Do you need offline functionality?"},{id:"question-a7",text:"Will the app need to integrate with any external services or APIs?"}]},{id:"group-app-ux",name:"User Experience",questions:[{id:"question-a8",text:"What apps do you like the user experience of? Please provide examples."},{id:"question-a9",text:"How do you envision users navigating through your app?"},{id:"question-a10",text:"Are there any specific accessibility requirements?"}]}];function Yb(){const{type:e,projectId:t}=re(),[n]=_e(),r=n.get("templateId"),o=ne(),[a,s]=(0,i.useState)([]),[l,c]=(0,i.useState)(0),[u,d]=(0,i.useState)({}),[h,f]=(0,i.useState)({}),[p,g]=(0,i.useState)({}),[m,v]=(0,i.useState)(!0),[y,b]=(0,i.useState)([]);(0,i.useEffect)((()=>{(async()=>{try{var t;let n;if("default"===r)n=qb;else if(r){const e=Mb.currentUser;if(!e)throw new Error("No authenticated user found.");const t=fv(Bb,"users",e.uid,"questionnaireTemplates",r),i=await ay(t);if(i.exists()){n=i.data().groups.flatMap((e=>e.questions))}else console.error("Template not found"),n=qb}const i={title:`${e.charAt(0).toUpperCase()+e.slice(1)} Questionnaire`,questions:n.map((e=>({name:e.id,label:e.text,type:"text"})))},o=await fetch("/wizardQuestions.json"),a=(null===(t=(await o.json())[e])||void 0===t?void 0:t.slice(1))||[];s([i,...a])}catch(n){console.error("Error loading questions:",n);const t=await fetch("/wizardQuestions.json"),r=await t.json();s(r[e]||[])}finally{v(!1)}})()}),[e,r]),(0,i.useEffect)((()=>{(async()=>{try{if("default"===r)return void b(qb);const e=Mb.currentUser;if(!e)throw new Error("No authenticated user");const t=fv(Bb,"users",e.uid,"questionnaireTemplates",r),n=await ay(t);n.exists()?b(n.data().groups):(console.error("Template not found"),b(qb))}catch(e){console.error("Error loading template:",e),b(qb)}})()}),[r]);const w=()=>{window.confirm("Are you sure you want to cancel? Your progress will be lost.")&&o("/dashboard")};if(!a.length)return(0,Le.jsx)("p",{children:"Loading questions..."});if(l>=a.length)return(0,Le.jsxs)("div",{style:{maxWidth:"600px",margin:"0 auto",padding:"2rem"},children:[(0,Le.jsxs)("h2",{style:{marginBottom:"0.5rem"},children:[e.charAt(0).toUpperCase()+e.slice(1)," Brief Review"]}),(0,Le.jsx)("p",{style:{fontStyle:"italic",marginBottom:"1.5rem"},children:"Please review your answers before submitting"}),(0,Le.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:Object.entries(u).map((e=>{let[t,n]=e;const r=a.flatMap((e=>e.questions)).find((e=>e.name===t));return Array.isArray(n)?(0,Le.jsxs)("div",{style:{borderBottom:"1px solid #eee",paddingBottom:"0.75rem"},children:[(0,Le.jsxs)("p",{style:{fontWeight:"bold",marginBottom:"0.25rem"},children:["Q: ",(null===r||void 0===r?void 0:r.label)||"Unknown Question"]}),(0,Le.jsx)("div",{style:{marginLeft:"1rem"},children:n.map(((e,t)=>(0,Le.jsx)("div",{style:{marginBottom:"0.5rem"},children:"imageUpload"===(null===r||void 0===r?void 0:r.type)&&e?(0,Le.jsx)("img",{src:e,alt:`Upload ${t+1}`,style:{maxWidth:"80px",marginTop:"0.5rem"}}):(0,Le.jsx)("p",{style:{color:e?"#333":"#888",fontStyle:e?"normal":"italic"},children:e||"(No answer provided)"})},t)))})]},t):(0,Le.jsxs)("div",{style:{borderBottom:"1px solid #eee",paddingBottom:"0.75rem"},children:[(0,Le.jsxs)("p",{style:{fontWeight:"bold",marginBottom:"0.25rem"},children:["Q: ",(null===r||void 0===r?void 0:r.label)||"Unknown Question"]}),(0,Le.jsx)("p",{style:{marginLeft:"1rem",color:n?"#333":"#888",fontStyle:n?"normal":"italic"},children:n||"(No answer provided)"})]},t)}))}),(0,Le.jsxs)("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem"},children:[(0,Le.jsx)("button",{onClick:w,className:"btn-secondary",children:"Cancel"}),(0,Le.jsx)("button",{onClick:async()=>{try{await(async(e,t,n)=>{if(!e||!n)throw new Error("Missing projectId or type");return await uy(hv(Bb,"creativeBriefs"),{projectId:fv(Bb,"projects",e),type:n,answers:t,createdAt:new Date})})(t,u,e),alert("Submission saved!"),o("/dashboard")}catch(n){alert("Failed to save submission.")}},className:"primary",children:"Submit"})]})]});const A=a[l];return(0,Le.jsxs)("div",{className:"container",children:[(0,Le.jsx)("h2",{children:A.title}),A.questions.map((e=>{var n;return(0,Le.jsxs)("div",{children:[(0,Le.jsx)("label",{children:e.label}),"imageUpload"===e.type?(0,Le.jsxs)(Le.Fragment,{children:[[0,1,2].map((n=>{var r;return(0,Le.jsxs)("div",{children:[(0,Le.jsx)("input",{type:"file",accept:"image/*",onChange:r=>(async(e,n,r)=>{const i=e.target.files[0];if(!i)return;const o=[];if(["image/jpeg","image/png"].includes(i.type))if(i.size>5242880)o.push(`${i.name} exceeds 5MB.`);else try{const e=Pb(jb,`projects/${t}/${n}/${i.name}`),o=await Tb(e,i),a=await kb(o.ref);d((e=>{const t=[...e[n]||[]];return t[r]=a,{...e,[n]:t}})),f((e=>{const t=[...e[n]||[]];return t[r]=URL.createObjectURL(i),{...e,[n]:t}}))}catch(a){o.push(`Failed to upload ${i.name}`)}else o.push(`${i.name} is not a valid image type.`);g((e=>({...e,[n]:o})))})(r,e.name,n)}),(null===(r=h[e.name])||void 0===r?void 0:r[n])&&(0,Le.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginTop:"0.5rem"},children:[(0,Le.jsx)("img",{src:h[e.name][n],alt:"preview",width:"80"}),(0,Le.jsx)("button",{type:"button",onClick:()=>{return t=e.name,r=n,d((e=>{const n=[...e[t]||[]];return n[r]=null,{...e,[t]:n}})),void f((e=>{const n=[...e[t]||[]];return n[r]=null,{...e,[t]:n}}));var t,r},children:"Remove"})]})]},n)})),(null===(n=p[e.name])||void 0===n?void 0:n.length)>0&&(0,Le.jsx)("ul",{style:{color:"red"},children:p[e.name].map(((e,t)=>(0,Le.jsx)("li",{children:e},t)))})]}):"textarea"===e.type?(0,Le.jsx)("textarea",{value:u[e.name]||"",onChange:t=>d((n=>({...n,[e.name]:t.target.value})))}):"textList"===e.type?[...Array(3)].map(((t,n)=>(0,Le.jsx)("input",{type:"text",className:"col-8",placeholder:`Example link ${n+1}`,value:u[e.name]&&u[e.name][n]||"",onChange:t=>{const r=[...u[e.name]||[]];r[n]=t.target.value,d((t=>({...t,[e.name]:r})))}},n))):(0,Le.jsx)("input",{type:e.type,value:u[e.name]||"",onChange:t=>d((n=>({...n,[e.name]:t.target.value})))})]},e.name)})),(0,Le.jsxs)("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem"},children:[(0,Le.jsx)("button",{onClick:w,className:"btn-secondary",children:"Cancel"}),l>0&&(0,Le.jsx)("button",{onClick:()=>c(l-1),className:"btn-primary",children:"Back"}),(0,Le.jsx)("button",{onClick:()=>c(l+1),className:"btn-primary",children:"Next"})]})]})}function Jb(){return(0,Le.jsx)(Yb,{})}function Xb(){const e=ne();return(0,Le.jsxs)("div",{className:"container",children:[(0,Le.jsx)("h1",{children:"Welcome to BrandEZ"}),(0,Le.jsx)("p",{children:"Your guided path to better brand, web, or app design discovery."}),(0,Le.jsx)("button",{onClick:()=>e("/dashboard"),children:"Enter Dashboard"})]})}function $b(){const{isDarkMode:e,toggleDarkMode:t}=(0,i.useContext)(Me);return(0,Le.jsx)("button",{onClick:t,className:"btn btn-outline-secondary",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:e?"\u2600\ufe0f Light":"\ud83c\udf19 Dark"})}function Zb(){const[e,t]=(0,i.useState)(null),n=ne();(0,i.useEffect)((()=>{(async()=>{var e;const n=Mb.currentUser;if(!n)return;const r=await ay(fv(Bb,"users",n.uid));t(null===(e=r.data())||void 0===e?void 0:e.role)})()}),[]);return(0,Le.jsxs)("nav",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem",background:"var(--bg-card)",borderBottom:"1px solid var(--border-color)"},children:[(0,Le.jsx)("h2",{style:{margin:0},children:(0,Le.jsx)(Oe,{to:"/",style:{color:"var(--text-primary)",textDecoration:"none"},children:"BrandEZ"})}),(0,Le.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:["designer"===e&&(0,Le.jsx)(Oe,{to:"/dashboard",style:{color:"var(--text-primary)",textDecoration:"none"},children:"Dashboard"}),"client"===e&&(0,Le.jsx)(Oe,{to:"/client-dashboard",style:{color:"var(--text-primary)",textDecoration:"none"},children:"My Projects"}),(0,Le.jsx)($b,{}),(0,Le.jsx)("button",{onClick:async()=>{await function(e){return ut(e).signOut()}(Mb),n("/login")},className:"btn btn-outline-secondary",children:"Log Out"})]})]})}function ew(e){let{children:t}=e;return(0,Le.jsxs)(Le.Fragment,{children:[(0,Le.jsx)(Zb,{}),(0,Le.jsx)("main",{className:"dashboard-container",children:t})]})}function tw(){const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)([]);return(0,i.useEffect)((()=>{(async()=>{const e=Mb.currentUser;if(!e)return;const n=fv(Bb,"users",e.uid),i=await ay(n);if(i.exists()){t(i.data().name);const e=Hv(hv(Bb,"projects"),Qv("clientId","==",n)),o=(await ly(e)).docs.map((e=>({id:e.id,...e.data()})));r(o)}})()}),[]),(0,Le.jsxs)("div",{className:"container",children:[(0,Le.jsxs)("h2",{children:["Welcome, ",e]}),(0,Le.jsx)("h3",{children:"Your Projects"}),0===n.length?(0,Le.jsx)("p",{children:"No projects yet."}):(0,Le.jsx)("ul",{children:n.map((e=>(0,Le.jsxs)("li",{children:[(0,Le.jsx)("strong",{children:e.type})," \u2013 ",e.status]},e.id)))})]})}function nw(e){let{children:t,role:n}=e;const[r,o]=(0,i.useState)(null),[a,s]=(0,i.useState)(null),[l,c]=(0,i.useState)(!0);return(0,i.useEffect)((()=>{const e=function(e,t,n,r){return ut(e).onAuthStateChanged(t,n,r)}(Mb,(async e=>{if(e){var t;o(e);const n=null===(t=(await ay(fv(Bb,"users",e.uid))).data())||void 0===t?void 0:t.role;s(n)}c(!1)}));return()=>e()}),[]),l?(0,Le.jsx)("p",{children:"Loading..."}):r?n&&a!==n?(0,Le.jsx)(ye,{to:"/"}):t:(0,Le.jsx)(ye,{to:"/login"})}function rw(){const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[o,a]=(0,i.useState)(""),[s,l]=(0,i.useState)("designer"),[c,u]=(0,i.useState)(""),[d,h]=(0,i.useState)(!1),f=ne();return(0,Le.jsx)("div",{className:"row justify-content-center",children:(0,Le.jsx)("div",{className:"col-md-6",children:(0,Le.jsx)("div",{className:"card shadow",children:(0,Le.jsxs)("div",{className:"card-body p-5",children:[(0,Le.jsx)("h2",{className:"text-center mb-4",children:"Sign Up"}),c&&(0,Le.jsx)("div",{className:"alert alert-danger",children:c}),(0,Le.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),h(!0),u(""),n!==o)return u("Passwords do not match"),void h(!1);try{const t=await async function(e,t,n){var r;const i=Kr(e),o={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let a;if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await Hr(i,o,"signUpPassword");a=vi(i,e)}else a=vi(i,o).catch((async e=>{if("auth/missing-recaptcha-token"===e.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const e=await Hr(i,o,"signUpPassword");return vi(i,e)}return Promise.reject(e)}));const s=await a.catch((e=>Promise.reject(e))),l=await yi._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(l.user),l}(Mb,e,n),r=t.user;await cy(fv(Bb,"users",r.uid),{email:r.email,role:s,createdAt:new Date}),f("designer"===s?"/dashboard":"/client-dashboard")}catch(r){u(r.message.includes("email-already-in-use")?"An account with this email already exists":"Failed to create account. Please try again."),console.error(r)}finally{h(!1)}},children:[(0,Le.jsxs)("div",{className:"mb-3",children:[(0,Le.jsx)("label",{className:"form-label",children:"Email"}),(0,Le.jsx)("input",{type:"email",className:"form-control",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,Le.jsxs)("div",{className:"mb-3",children:[(0,Le.jsx)("label",{className:"form-label",children:"Password"}),(0,Le.jsx)("input",{type:"password",className:"form-control",value:n,onChange:e=>r(e.target.value),required:!0})]}),(0,Le.jsxs)("div",{className:"mb-3",children:[(0,Le.jsx)("label",{className:"form-label",children:"Confirm Password"}),(0,Le.jsx)("input",{type:"password",className:"form-control",value:o,onChange:e=>a(e.target.value),required:!0})]}),(0,Le.jsxs)("div",{className:"mb-4",children:[(0,Le.jsx)("label",{className:"form-label",children:"I am a..."}),(0,Le.jsxs)("select",{className:"form-select",value:s,onChange:e=>l(e.target.value),children:[(0,Le.jsx)("option",{value:"designer",children:"Designer"}),(0,Le.jsx)("option",{value:"client",children:"Client"})]})]}),(0,Le.jsx)("button",{type:"submit",className:"btn btn-primary w-100",disabled:d,children:d?"Creating Account...":"Sign Up"})]}),(0,Le.jsxs)("div",{className:"text-center mt-3",children:["Already have an account? ",(0,Le.jsx)(Oe,{to:"/login",children:"Log In"})]})]})})})})}function iw(e){let{isOpen:t,onClose:n}=e;const[r,o]=(0,i.useState)(""),[a,s]=(0,i.useState)(""),[l,c]=(0,i.useState)(""),[u,d]=(0,i.useState)(!1);return t?(0,Le.jsx)("div",{className:"modal show d-block",tabIndex:"-1",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,Le.jsx)("div",{className:"modal-dialog",children:(0,Le.jsxs)("div",{className:"modal-content",children:[(0,Le.jsxs)("div",{className:"modal-header",children:[(0,Le.jsx)("h5",{className:"modal-title",children:"Reset Password"}),(0,Le.jsx)("button",{type:"button",className:"btn-close",onClick:n,"aria-label":"Close"})]}),(0,Le.jsxs)("div",{className:"modal-body",children:[a&&(0,Le.jsx)("div",{className:"alert alert-success",children:a}),l&&(0,Le.jsx)("div",{className:"alert alert-danger",children:l}),(0,Le.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),d(!0),s(""),c("");try{await async function(e,t,n){var r;const i=Kr(e),o={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await Hr(i,o,"getOobCode",!0);n&&Ci(i,e,n),await ri(i,e)}else n&&Ci(i,o,n),await ri(i,o).catch((async e=>{if("auth/missing-recaptcha-token"!==e.code)return Promise.reject(e);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const e=await Hr(i,o,"getOobCode",!0);n&&Ci(i,e,n),await ri(i,e)}}))}(Mb,r),s("Password reset email sent! Please check your inbox."),o("")}catch(t){c("Failed to reset password. Please check your email address."),console.error(t)}finally{d(!1)}},children:[(0,Le.jsxs)("div",{className:"mb-3",children:[(0,Le.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email address"}),(0,Le.jsx)("input",{type:"email",className:"form-control",id:"email",value:r,onChange:e=>o(e.target.value),placeholder:"Enter your email",required:!0})]}),(0,Le.jsxs)("div",{className:"modal-footer",children:[(0,Le.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:n,children:"Close"}),(0,Le.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"Sending...":"Send Reset Link"})]})]})]})]})})}):null}function ow(){const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[o,a]=(0,i.useState)(""),[s,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!1),d=ne();return(0,Le.jsxs)("div",{className:"dashboard-container login-page",children:[(0,Le.jsx)("div",{className:"row justify-content-center",children:(0,Le.jsx)("div",{className:"col-md-6",children:(0,Le.jsx)("div",{className:"card shadow",children:(0,Le.jsxs)("div",{className:"card-body p-5",children:[(0,Le.jsx)("h2",{className:"text-center mb-4",children:"Log In"}),o&&(0,Le.jsx)("div",{className:"alert alert-danger",children:o}),(0,Le.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),l(!0),a("");try{await function(e,t,n){return Si(ut(e),ui.credential(t,n))}(Mb,e,n),d("/dashboard")}catch(r){a("Failed to sign in. Please check your credentials."),console.error(r)}finally{l(!1)}},children:[(0,Le.jsxs)("div",{className:"mb-3",children:[(0,Le.jsx)("label",{className:"form-label",children:"Email"}),(0,Le.jsx)("input",{type:"email",className:"form-control",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,Le.jsxs)("div",{className:"mb-3",children:[(0,Le.jsx)("label",{className:"form-label",children:"Password"}),(0,Le.jsx)("input",{type:"password",className:"form-control",value:n,onChange:e=>r(e.target.value),required:!0})]}),(0,Le.jsx)("button",{type:"submit",className:"btn btn-primary w-100",disabled:s,children:s?"Logging in...":"Log In"})]}),(0,Le.jsx)("div",{className:"text-center mt-3",children:(0,Le.jsx)("button",{className:"btn btn-link",onClick:()=>u(!0),children:"Forgot Password?"})}),(0,Le.jsxs)("div",{className:"text-center mt-3",children:["Need an account? ",(0,Le.jsx)(Oe,{to:"/signup",children:"Sign Up"})]})]})})})}),(0,Le.jsx)(iw,{isOpen:c,onClose:()=>u(!1)})]})}function aw(e,t){return aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},aw(e,t)}function sw(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,aw(e,t)}function lw(){return lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lw.apply(null,arguments)}function cw(e){return cw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cw(e)}function uw(e){var t=function(e,t){if("object"!=cw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=cw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==cw(t)?t:t+""}function dw(e,t,n){return(t=uw(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hw(Object(n),!0).forEach((function(t){dw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pw(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}console.log("Default Questions:",qb);var gw="function"===typeof Symbol&&Symbol.observable||"@@observable",mw=function(){return Math.random().toString(36).substring(7).split("").join(".")},vw={INIT:"@@redux/INIT"+mw(),REPLACE:"@@redux/REPLACE"+mw(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+mw()}};function yw(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function bw(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(pw(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(pw(1));return n(bw)(e,t)}if("function"!==typeof e)throw new Error(pw(2));var i=e,o=t,a=[],s=a,l=!1;function c(){s===a&&(s=a.slice())}function u(){if(l)throw new Error(pw(3));return o}function d(e){if("function"!==typeof e)throw new Error(pw(4));if(l)throw new Error(pw(5));var t=!0;return c(),s.push(e),function(){if(t){if(l)throw new Error(pw(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),a=null}}}function h(e){if(!yw(e))throw new Error(pw(7));if("undefined"===typeof e.type)throw new Error(pw(8));if(l)throw new Error(pw(9));try{l=!0,o=i(o,e)}finally{l=!1}for(var t=a=s,n=0;n<t.length;n++){(0,t[n])()}return e}return h({type:vw.INIT}),(r={dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(pw(10));i=e,h({type:vw.REPLACE})}})[gw]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(pw(11));function n(){e.next&&e.next(u())}return n(),{unsubscribe:t(n)}}})[gw]=function(){return this},e},r}function ww(e,t){return function(){return t(e.apply(this,arguments))}}function Aw(e,t){if("function"===typeof e)return ww(e,t);if("object"!==typeof e||null===e)throw new Error(pw(16));var n={};for(var r in e){var i=e[r];"function"===typeof i&&(n[r]=ww(i,t))}return n}function Ew(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var xw=i.createContext(null);var Iw=function(e){e()},Sw=function(){return Iw};var Cw={notify:function(){},get:function(){return[]}};function Dw(e,t){var n,r=Cw;function i(){a.onStateChange&&a.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=Sw(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var a={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=Cw)},getListeners:function(){return r}};return a}var Nw="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?i.useLayoutEffect:i.useEffect;const Tw=function(e){var t=e.store,n=e.context,r=e.children,o=(0,i.useMemo)((function(){var e=Dw(t);return{store:t,subscription:e}}),[t]),a=(0,i.useMemo)((function(){return t.getState()}),[t]);Nw((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),a!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[o,a]);var s=n||xw;return i.createElement(s.Provider,{value:o},r)};function kw(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}var Ow=n(219),Pw=n.n(Ow),Rw=n(86),_w=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],Lw=["reactReduxForwardedRef"],Mw=[],Bw=[null,null];function jw(e,t){var n=e[1];return[t.payload,n+1]}function Fw(e,t,n){Nw((function(){return e.apply(void 0,t)}),n)}function Uw(e,t,n,r,i,o,a){e.current=r,t.current=i,n.current=!1,o.current&&(o.current=null,a())}function zw(e,t,n,r,i,o,a,s,l,c){if(e){var u=!1,d=null,h=function(){if(!u){var e,n,h=t.getState();try{e=r(h,i.current)}catch(zP){n=zP,d=zP}n||(d=null),e===o.current?a.current||l():(o.current=e,s.current=e,a.current=!0,c({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=h,n.trySubscribe(),h();return function(){if(u=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}}var Gw=function(){return[null,0]};function Ww(e,t){void 0===t&&(t={});var n=t,r=n.getDisplayName,o=void 0===r?function(e){return"ConnectAdvanced("+e+")"}:r,a=n.methodName,s=void 0===a?"connectAdvanced":a,l=n.renderCountProp,c=void 0===l?void 0:l,u=n.shouldHandleStateChanges,d=void 0===u||u,h=n.storeKey,f=void 0===h?"store":h,p=(n.withRef,n.forwardRef),g=void 0!==p&&p,m=n.context,v=void 0===m?xw:m,y=kw(n,_w),b=v;return function(t){var n=t.displayName||t.name||"Component",r=o(n),a=lw({},y,{getDisplayName:o,methodName:s,renderCountProp:c,shouldHandleStateChanges:d,storeKey:f,displayName:r,wrappedComponentName:n,WrappedComponent:t}),l=y.pure;var u=l?i.useMemo:function(e){return e()};function h(n){var r=(0,i.useMemo)((function(){var e=n.reactReduxForwardedRef,t=kw(n,Lw);return[n.context,e,t]}),[n]),o=r[0],s=r[1],l=r[2],c=(0,i.useMemo)((function(){return o&&o.Consumer&&(0,Rw.isContextConsumer)(i.createElement(o.Consumer,null))?o:b}),[o,b]),h=(0,i.useContext)(c),f=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(h)&&Boolean(h.store);var p=f?n.store:h.store,g=(0,i.useMemo)((function(){return function(t){return e(t.dispatch,a)}(p)}),[p]),m=(0,i.useMemo)((function(){if(!d)return Bw;var e=Dw(p,f?null:h.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[p,f,h]),v=m[0],y=m[1],w=(0,i.useMemo)((function(){return f?h:lw({},h,{subscription:v})}),[f,h,v]),A=(0,i.useReducer)(jw,Mw,Gw),E=A[0][0],x=A[1];if(E&&E.error)throw E.error;var I=(0,i.useRef)(),S=(0,i.useRef)(l),C=(0,i.useRef)(),D=(0,i.useRef)(!1),N=u((function(){return C.current&&l===S.current?C.current:g(p.getState(),l)}),[p,E,l]);Fw(Uw,[S,I,D,l,N,C,y]),Fw(zw,[d,p,v,g,S,I,D,C,y,x],[p,v,g]);var T=(0,i.useMemo)((function(){return i.createElement(t,lw({},N,{ref:s}))}),[s,t,N]);return(0,i.useMemo)((function(){return d?i.createElement(c.Provider,{value:w},T):T}),[c,T,w])}var p=l?i.memo(h):h;if(p.WrappedComponent=t,p.displayName=h.displayName=r,g){var m=i.forwardRef((function(e,t){return i.createElement(p,lw({},e,{reactReduxForwardedRef:t}))}));return m.displayName=r,m.WrappedComponent=t,Pw()(m,t)}return Pw()(p,t)}}function Vw(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function Hw(e,t){if(Vw(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!Vw(e[n[i]],t[n[i]]))return!1;return!0}function qw(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function Qw(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function Kw(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=Qw(e);var i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=Qw(i),i=r(t,n)),i},r}}const Yw=[function(e){return"function"===typeof e?Kw(e):void 0},function(e){return e?void 0:qw((function(e){return{dispatch:e}}))},function(e){return e&&"object"===typeof e?qw((function(t){return function(e,t){var n={},r=function(r){var i=e[r];"function"===typeof i&&(n[r]=function(){return t(i.apply(void 0,arguments))})};for(var i in e)r(i);return n}(e,t)})):void 0}];const Jw=[function(e){return"function"===typeof e?Kw(e):void 0},function(e){return e?void 0:qw((function(){return{}}))}];function Xw(e,t,n){return lw({},n,e,t)}const $w=[function(e){return"function"===typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,o=n.areMergedPropsEqual,a=!1;return function(t,n,s){var l=e(t,n,s);return a?i&&o(l,r)||(r=l):(a=!0,r=l),r}}}(e):void 0},function(e){return e?void 0:function(){return Xw}}];var Zw=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function eA(e,t,n,r){return function(i,o){return n(e(i,o),t(r,o),o)}}function tA(e,t,n,r,i){var o,a,s,l,c,u=i.areStatesEqual,d=i.areOwnPropsEqual,h=i.areStatePropsEqual,f=!1;function p(i,f){var p=!d(f,a),g=!u(i,o,f,a);return o=i,a=f,p&&g?(s=e(o,a),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a)):p?(e.dependsOnOwnProps&&(s=e(o,a)),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a)):g?function(){var t=e(o,a),r=!h(t,s);return s=t,r&&(c=n(s,l,a)),c}():c}return function(i,u){return f?p(i,u):(s=e(o=i,a=u),l=t(r,a),c=n(s,l,a),f=!0,c)}}function nA(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=kw(t,Zw),a=n(e,o),s=r(e,o),l=i(e,o);return(o.pure?tA:eA)(a,s,l,e,o)}var rA=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function iA(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function oA(e,t){return e===t}function aA(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?Ww:n,i=t.mapStateToPropsFactories,o=void 0===i?Jw:i,a=t.mapDispatchToPropsFactories,s=void 0===a?Yw:a,l=t.mergePropsFactories,c=void 0===l?$w:l,u=t.selectorFactory,d=void 0===u?nA:u;return function(e,t,n,i){void 0===i&&(i={});var a=i,l=a.pure,u=void 0===l||l,h=a.areStatesEqual,f=void 0===h?oA:h,p=a.areOwnPropsEqual,g=void 0===p?Hw:p,m=a.areStatePropsEqual,v=void 0===m?Hw:m,y=a.areMergedPropsEqual,b=void 0===y?Hw:y,w=kw(a,rA),A=iA(e,o,"mapStateToProps"),E=iA(t,s,"mapDispatchToProps"),x=iA(n,c,"mergeProps");return r(d,lw({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:A,initMapDispatchToProps:E,initMergeProps:x,pure:u,areStatesEqual:f,areOwnPropsEqual:g,areStatePropsEqual:v,areMergedPropsEqual:b},w))}}const sA=aA();var lA;function cA(e,t){var n=(0,i.useState)((function(){return{inputs:t,result:e()}}))[0],r=(0,i.useRef)(!0),o=(0,i.useRef)(n),a=r.current||Boolean(t&&o.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,o.current.inputs))?o.current:{inputs:t,result:e()};return(0,i.useEffect)((function(){r.current=!1,o.current=a}),[a]),a.result}lA=s.unstable_batchedUpdates,Iw=lA;var uA=cA,dA=function(e,t){return cA((function(){return e}),t)},hA="Invariant failed";var fA=function(e){var t=e.top,n=e.right,r=e.bottom,i=e.left;return{top:t,right:n,bottom:r,left:i,width:n-i,height:r-t,x:i,y:t,center:{x:(n+i)/2,y:(r+t)/2}}},pA=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},gA=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},mA={top:0,right:0,bottom:0,left:0},vA=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?mA:n,i=e.border,o=void 0===i?mA:i,a=e.padding,s=void 0===a?mA:a,l=fA(pA(t,r)),c=fA(gA(t,o)),u=fA(gA(c,s));return{marginBox:l,borderBox:fA(t),paddingBox:c,contentBox:u,margin:r,border:o,padding:s}},yA=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&function(e){if(!e)throw new Error(hA)}(!1),n},bA=function(e,t){var n,r,i=e.borderBox,o=e.border,a=e.margin,s=e.padding,l=(r=t,{top:(n=i).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return vA({borderBox:l,border:o,margin:a,padding:s})},wA=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),bA(e,t)},AA=function(e,t){var n={top:yA(t.marginTop),right:yA(t.marginRight),bottom:yA(t.marginBottom),left:yA(t.marginLeft)},r={top:yA(t.paddingTop),right:yA(t.paddingRight),bottom:yA(t.paddingBottom),left:yA(t.paddingLeft)},i={top:yA(t.borderTopWidth),right:yA(t.borderRightWidth),bottom:yA(t.borderBottomWidth),left:yA(t.borderLeftWidth)};return vA({borderBox:e,margin:n,padding:r,border:i})},EA=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return AA(t,n)},xA=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function IA(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],i=t[n],!(r===i||xA(r)&&xA(i)))return!1;var r,i;return!0}const SA=function(e,t){var n;void 0===t&&(t=IA);var r,i=[],o=!1;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return o&&n===this&&t(a,i)||(r=e.apply(this,a),o=!0,n=this,i=a),r}};const CA=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];t=i,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};function DA(e,t){}DA.bind(null,"warn"),DA.bind(null,"error");function NA(){}function TA(e,t,n){var r=t.map((function(t){var r=function(e,t){return lw({},e,{},t)}(n,t.options);return e.addEventListener(t.eventName,t.fn,r),function(){e.removeEventListener(t.eventName,t.fn,r)}}));return function(){r.forEach((function(e){e()}))}}var kA="Invariant failed";function OA(e){this.message=e}function PA(e,t){if(!e)throw new OA(kA)}OA.prototype.toString=function(){return this.message};var RA=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).callbacks=null,t.unbind=NA,t.onWindowError=function(e){var n=t.getCallbacks();n.isDragging()&&n.tryAbort(),e.error instanceof OA&&e.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(e){t.callbacks=e},t}sw(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unbind=TA(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(e){if(!(e instanceof OA))throw e;this.setState({})},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(i.Component),_A=function(e){return e+1},LA=function(e,t){var n=e.droppableId===t.droppableId,r=_A(e.index),i=_A(t.index);return n?"\n      You have moved the item from position "+r+"\n      to position "+i+"\n    ":"\n    You have moved the item from position "+r+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+i+"\n  "},MA=function(e,t,n){return t.droppableId===n.droppableId?"\n      The item "+e+"\n      has been combined with "+n.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+n.draggableId+"\n      in list "+n.droppableId+"\n    "},BA=function(e){return"\n  The item has returned to its starting position\n  of "+_A(e.index)+"\n"},jA="\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",FA=function(e){return"\n  You have lifted an item in position "+_A(e.source.index)+"\n"},UA=function(e){var t=e.destination;if(t)return LA(e.source,t);var n=e.combine;return n?MA(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},zA=function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+BA(e.source)+"\n    ";var t=e.destination,n=e.combine;return t?"\n      You have dropped the item.\n      "+LA(e.source,t)+"\n    ":n?"\n      You have dropped the item.\n      "+MA(e.draggableId,e.source,n)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+BA(e.source)+"\n  "},GA={x:0,y:0},WA=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},VA=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},HA=function(e,t){return e.x===t.x&&e.y===t.y},qA=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},QA=function(e,t,n){var r;return void 0===n&&(n=0),(r={})[e]=t,r["x"===e?"y":"x"]=n,r},KA=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},YA=function(e,t){return Math.min.apply(Math,t.map((function(t){return KA(e,t)})))},JA=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},XA=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},$A=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},ZA=function(e,t){return t&&t.shouldClipSubject?function(e,t){var n=fA({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n}(t.pageMarginBox,e):fA(e)},eE=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,i=e.frame,o=function(e,t){return t?XA(e,t.scroll.diff.displacement):e}(t.marginBox,i),a=function(e,t,n){var r;return n&&n.increasedBy?lw({},e,((r={})[t.end]=e[t.end]+n.increasedBy[t.line],r)):e}(o,r,n);return{page:t,withPlaceholder:n,active:ZA(a,i)}},tE=function(e,t){e.frame||PA(!1);var n=e.frame,r=VA(t,n.scroll.initial),i=qA(r),o=lw({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}});return lw({},e,{frame:o,subject:eE({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o})})};function nE(e){return Object.values?Object.values(e):Object.keys(e).map((function(t){return e[t]}))}function rE(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function iE(e,t){if(e.find)return e.find(t);var n=rE(e,t);return-1!==n?e[n]:void 0}function oE(e){return Array.prototype.slice.call(e)}var aE=SA((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),sE=SA((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),lE=SA((function(e){return nE(e)})),cE=SA((function(e){return nE(e)})),uE=SA((function(e,t){var n=cE(t).filter((function(t){return e===t.descriptor.droppableId})).sort((function(e,t){return e.descriptor.index-t.descriptor.index}));return n}));function dE(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function hE(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var fE=SA((function(e,t){return t.filter((function(t){return t.descriptor.id!==e.descriptor.id}))})),pE=function(e,t){return e.descriptor.droppableId===t.descriptor.id},gE={point:GA,value:0},mE={invisible:{},visible:{},all:[]},vE={displaced:mE,displacedBy:gE,at:null},yE=function(e,t){return function(n){return e<=n&&n<=t}},bE=function(e){var t=yE(e.top,e.bottom),n=yE(e.left,e.right);return function(r){if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;var i=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(i&&o)return!0;var a=r.top<e.top&&r.bottom>e.bottom,s=r.left<e.left&&r.right>e.right;return!(!a||!s)||(a&&o||s&&i)}},wE=function(e){var t=yE(e.top,e.bottom),n=yE(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)}},AE={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},EE={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},xE=function(e){var t=e.target,n=e.destination,r=e.viewport,i=e.withDroppableDisplacement,o=e.isVisibleThroughFrameFn,a=i?function(e,t){var n=t.frame?t.frame.scroll.diff.displacement:GA;return XA(e,n)}(t,n):t;return function(e,t,n){return!!t.subject.active&&n(t.subject.active)(e)}(a,n,o)&&function(e,t,n){return n(t)(e)}(a,r,o)},IE=function(e){return xE(lw({},e,{isVisibleThroughFrameFn:bE}))},SE=function(e){return xE(lw({},e,{isVisibleThroughFrameFn:wE}))};function CE(e){var t=e.afterDragging,n=e.destination,r=e.displacedBy,i=e.viewport,o=e.forceShouldAnimate,a=e.last;return t.reduce((function(e,t){var s=function(e,t){var n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return fA(pA(n,r))}(t,r),l=t.descriptor.id;if(e.all.push(l),!IE({target:s,destination:n,viewport:i,withDroppableDisplacement:!0}))return e.invisible[t.descriptor.id]=!0,e;var c=function(e,t,n){if("boolean"===typeof n)return n;if(!t)return!0;var r=t.invisible,i=t.visible;if(r[e])return!1;var o=i[e];return!o||o.shouldAnimate}(l,a,o),u={draggableId:l,shouldAnimate:c};return e.visible[l]=u,e}),{all:[],visible:{},invisible:{}})}function DE(e){var t=e.insideDestination,n=e.inHomeList,r=e.displacedBy,i=e.destination,o=function(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(t,{inHomeList:n});return{displaced:mE,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:o}}}}function NE(e){var t=e.draggable,n=e.insideDestination,r=e.destination,i=e.viewport,o=e.displacedBy,a=e.last,s=e.index,l=e.forceShouldAnimate,c=pE(t,r);if(null==s)return DE({insideDestination:n,inHomeList:c,displacedBy:o,destination:r});var u=iE(n,(function(e){return e.descriptor.index===s}));if(!u)return DE({insideDestination:n,inHomeList:c,displacedBy:o,destination:r});var d=fE(t,n),h=n.indexOf(u);return{displaced:CE({afterDragging:d.slice(h),destination:r,displacedBy:o,last:a,viewport:i.frame,forceShouldAnimate:l}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function TE(e,t){return Boolean(t.effected[e])}var kE=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,i=e.draggables,o=e.destination,a=e.insideDestination,s=e.previousImpact,l=e.viewport,c=e.afterCritical,u=s.at;if(u||PA(!1),"REORDER"===u.type){var d=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.insideDestination,i=e.location;if(!r.length)return null;var o=i.index,a=t?o+1:o-1,s=r[0].descriptor.index,l=r[r.length-1].descriptor.index;return a<s||a>(n?l:l+1)?null:a}({isMovingForward:t,isInHomeList:n,location:u.destination,insideDestination:a});return null==d?null:NE({draggable:r,insideDestination:a,destination:o,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:d})}var h=function(e){var t=e.isMovingForward,n=e.destination,r=e.draggables,i=e.combine,o=e.afterCritical;if(!n.isCombineEnabled)return null;var a=i.draggableId,s=r[a].descriptor.index;return TE(a,o)?t?s:s-1:t?s+1:s}({isMovingForward:t,destination:o,displaced:s.displaced,draggables:i,combine:u.combine,afterCritical:c});return null==h?null:NE({draggable:r,insideDestination:a,destination:o,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:h})},OE=function(e){var t=e.afterCritical,n=e.impact,r=e.draggables,i=hE(n);i||PA(!1);var o=i.draggableId,a=r[o].page.borderBox.center,s=function(e){var t=e.displaced,n=e.afterCritical,r=e.combineWith,i=e.displacedBy,o=Boolean(t.visible[r]||t.invisible[r]);return TE(r,n)?o?GA:qA(i.point):o?i.point:GA}({displaced:n.displaced,afterCritical:t,combineWith:o,displacedBy:n.displacedBy});return WA(a,s)},PE=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},RE=function(e,t,n){return t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2},_E=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return QA(t.line,n.marginBox[t.end]+PE(t,r),RE(t,n.marginBox,r))},LE=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return QA(t.line,n.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,r),RE(t,n.marginBox,r))},ME=function(e){var t=e.impact,n=e.draggable,r=e.draggables,i=e.droppable,o=e.afterCritical,a=uE(i.descriptor.id,r),s=n.page,l=i.axis;if(!a.length)return function(e){var t=e.axis,n=e.moveInto,r=e.isMoving;return QA(t.line,n.contentBox[t.start]+PE(t,r),RE(t,n.contentBox,r))}({axis:l,moveInto:i.page,isMoving:s});var c=t.displaced,u=t.displacedBy,d=c.all[0];if(d){var h=r[d];if(TE(d,o))return LE({axis:l,moveRelativeTo:h.page,isMoving:s});var f=bA(h.page,u.point);return LE({axis:l,moveRelativeTo:f,isMoving:s})}var p=a[a.length-1];if(p.descriptor.id===n.descriptor.id)return s.borderBox.center;if(TE(p.descriptor.id,o)){var g=bA(p.page,qA(o.displacedBy.point));return _E({axis:l,moveRelativeTo:g,isMoving:s})}return _E({axis:l,moveRelativeTo:p.page,isMoving:s})},BE=function(e,t){var n=e.frame;return n?WA(t,n.scroll.diff.displacement):t},jE=function(e){var t=function(e){var t=e.impact,n=e.draggable,r=e.droppable,i=e.draggables,o=e.afterCritical,a=n.page.borderBox.center,s=t.at;return r&&s?"REORDER"===s.type?ME({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:o}):OE({impact:t,draggables:i,afterCritical:o}):a}(e),n=e.droppable;return n?BE(n,t):t},FE=function(e,t){var n=VA(t,e.scroll.initial),r=qA(n);return{frame:fA({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function UE(e,t){return e.map((function(e){return t[e]}))}var zE=function(e){var t=e.pageBorderBoxCenter,n=e.draggable,r=function(e,t){return WA(e.scroll.diff.displacement,t)}(e.viewport,t),i=VA(r,n.page.borderBox.center);return WA(n.client.borderBox.center,i)},GE=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,i=e.viewport,o=e.withDroppableDisplacement,a=e.onlyOnMainAxis,s=void 0!==a&&a,l=VA(r,t.page.borderBox.center),c={target:XA(t.page.borderBox,l),destination:n,withDroppableDisplacement:o,viewport:i};return s?function(e){return xE(lw({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var n=yE(e.top,e.bottom),r=yE(e.left,e.right);return function(e){return t===AE?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)}})}));var t}(c):SE(c)},WE=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.draggables,o=e.previousImpact,a=e.viewport,s=e.previousPageBorderBoxCenter,l=e.previousClientSelection,c=e.afterCritical;if(!r.isEnabled)return null;var u=uE(r.descriptor.id,i),d=pE(n,r),h=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.insideDestination,o=e.previousImpact;if(!r.isCombineEnabled)return null;if(!dE(o))return null;function a(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:r.descriptor.id}};return lw({},o,{at:t})}var s=o.displaced.all,l=s.length?s[0]:null;if(t)return l?a(l):null;var c=fE(n,i);if(!l)return c.length?a(c[c.length-1].descriptor.id):null;var u=rE(c,(function(e){return e.descriptor.id===l}));-1===u&&PA(!1);var d=u-1;return d<0?null:a(c[d].descriptor.id)}({isMovingForward:t,draggable:n,destination:r,insideDestination:u,previousImpact:o})||kE({isMovingForward:t,isInHomeList:d,draggable:n,draggables:i,destination:r,insideDestination:u,previousImpact:o,viewport:a,afterCritical:c});if(!h)return null;var f=jE({impact:h,draggable:n,droppable:r,draggables:i,afterCritical:c});if(GE({draggable:n,destination:r,newPageBorderBoxCenter:f,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:zE({pageBorderBoxCenter:f,draggable:n,viewport:a}),impact:h,scrollJumpRequest:null};var p=VA(f,s),g=function(e){var t=e.impact,n=e.viewport,r=e.destination,i=e.draggables,o=e.maxScrollChange,a=FE(n,WA(n.scroll.current,o)),s=r.frame?tE(r,WA(r.frame.scroll.current,o)):r,l=t.displaced,c=CE({afterDragging:UE(l.all,i),destination:r,displacedBy:t.displacedBy,viewport:a.frame,last:l,forceShouldAnimate:!1}),u=CE({afterDragging:UE(l.all,i),destination:s,displacedBy:t.displacedBy,viewport:n.frame,last:l,forceShouldAnimate:!1}),d={},h={},f=[l,c,u];return l.all.forEach((function(e){var t=function(e,t){for(var n=0;n<t.length;n++){var r=t[n].visible[e];if(r)return r}return null}(e,f);t?h[e]=t:d[e]=!0})),lw({},t,{displaced:{all:l.all,invisible:d,visible:h}})}({impact:h,viewport:a,destination:r,draggables:i,maxScrollChange:p});return{clientSelection:l,impact:g,scrollJumpRequest:p}},VE=function(e){var t=e.subject.active;return t||PA(!1),t},HE=function(e,t){var n=e.page.borderBox.center;return TE(e.descriptor.id,t)?VA(n,t.displacedBy.point):n},qE=function(e,t){var n=e.page.borderBox;return TE(e.descriptor.id,t)?XA(n,qA(t.displacedBy.point)):n},QE=SA((function(e,t){var n=t[e.line];return{value:n,point:QA(e.line,n)}})),KE=function(e,t){return lw({},e,{scroll:lw({},e.scroll,{max:t})})},YE=function(e,t,n){var r=e.frame;pE(t,e)&&PA(!1),e.subject.withPlaceholder&&PA(!1);var i=QE(e.axis,t.displaceBy).point,o=function(e,t,n){var r=e.axis;if("virtual"===e.descriptor.mode)return QA(r.line,t[r.line]);var i=e.subject.page.contentBox[r.size],o=uE(e.descriptor.id,n).reduce((function(e,t){return e+t.client.marginBox[r.size]}),0)+t[r.line]-i;return o<=0?null:QA(r.line,o)}(e,i,n),a={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r)return lw({},e,{subject:eE({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame})});var s=o?WA(r.scroll.max,o):r.scroll.max,l=KE(r,s);return lw({},e,{subject:eE({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:l}),frame:l})},JE=function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,i=e.isOver,o=e.draggables,a=e.droppables,s=e.viewport,l=e.afterCritical,c=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,i=e.droppables,o=e.viewport,a=r.subject.active;if(!a)return null;var s=r.axis,l=yE(a[s.start],a[s.end]),c=lE(i).filter((function(e){return e!==r})).filter((function(e){return e.isEnabled})).filter((function(e){return Boolean(e.subject.active)})).filter((function(e){return bE(o.frame)(VE(e))})).filter((function(e){var n=VE(e);return t?a[s.crossAxisEnd]<n[s.crossAxisEnd]:n[s.crossAxisStart]<a[s.crossAxisStart]})).filter((function(e){var t=VE(e),n=yE(t[s.start],t[s.end]);return l(t[s.start])||l(t[s.end])||n(a[s.start])||n(a[s.end])})).sort((function(e,n){var r=VE(e)[s.crossAxisStart],i=VE(n)[s.crossAxisStart];return t?r-i:i-r})).filter((function(e,t,n){return VE(e)[s.crossAxisStart]===VE(n[0])[s.crossAxisStart]}));if(!c.length)return null;if(1===c.length)return c[0];var u=c.filter((function(e){return yE(VE(e)[s.start],VE(e)[s.end])(n[s.line])}));return 1===u.length?u[0]:u.length>1?u.sort((function(e,t){return VE(e)[s.start]-VE(t)[s.start]}))[0]:c.sort((function(e,t){var r=YA(n,$A(VE(e))),i=YA(n,$A(VE(t)));return r!==i?r-i:VE(e)[s.start]-VE(t)[s.start]}))[0]}({isMovingForward:t,pageBorderBoxCenter:n,source:i,droppables:a,viewport:s});if(!c)return null;var u=uE(c.descriptor.id,o),d=function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,i=e.insideDestination,o=e.afterCritical,a=i.filter((function(e){return SE({target:qE(e,o),destination:r,viewport:n.frame,withDroppableDisplacement:!0})})).sort((function(e,n){var i=KA(t,BE(r,HE(e,o))),a=KA(t,BE(r,HE(n,o)));return i<a?-1:a<i?1:e.descriptor.index-n.descriptor.index}));return a[0]||null}({pageBorderBoxCenter:n,viewport:s,destination:c,insideDestination:u,afterCritical:l}),h=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,i=e.draggable,o=e.draggables,a=e.destination,s=e.viewport,l=e.afterCritical;if(!n){if(r.length)return null;var c={displaced:mE,displacedBy:gE,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},u=jE({impact:c,draggable:i,droppable:a,draggables:o,afterCritical:l}),d=pE(i,a)?a:YE(a,i,o);return GE({draggable:i,destination:d,newPageBorderBoxCenter:u,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?c:null}var h=Boolean(t[a.axis.line]<=n.page.borderBox.center[a.axis.line]),f=function(){var e=n.descriptor.index;return n.descriptor.id===i.descriptor.id||h?e:e+1}(),p=QE(a.axis,i.displaceBy);return NE({draggable:i,insideDestination:r,destination:a,viewport:s,displacedBy:p,last:mE,index:f})}({previousPageBorderBoxCenter:n,destination:c,draggable:r,draggables:o,moveRelativeTo:d,insideDestination:u,viewport:s,afterCritical:l});if(!h)return null;var f=jE({impact:h,draggable:r,droppable:c,draggables:o,afterCritical:l});return{clientSelection:zE({pageBorderBoxCenter:f,draggable:r,viewport:s}),impact:h,scrollJumpRequest:null}},XE=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},$E=function(e){var t=e.state,n=e.type,r=function(e,t){var n=XE(e);return n?t[n]:null}(t.impact,t.dimensions.droppables),i=Boolean(r),o=t.dimensions.droppables[t.critical.droppable.id],a=r||o,s=a.axis.direction,l="vertical"===s&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===s&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(l&&!i)return null;var c="MOVE_DOWN"===n||"MOVE_RIGHT"===n,u=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,h=t.dimensions,f=h.draggables,p=h.droppables;return l?WE({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,destination:a,draggables:f,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):JE({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,isOver:a,draggables:f,droppables:p,viewport:t.viewport,afterCritical:t.afterCritical})};function ZE(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function ex(e){var t=yE(e.top,e.bottom),n=yE(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}function tx(e){var t=e.pageBorderBox,n=e.draggable,r=e.droppables,i=lE(r).filter((function(e){if(!e.isEnabled)return!1;var n,r,i=e.subject.active;if(!i)return!1;if(r=i,!((n=t).left<r.right&&n.right>r.left&&n.top<r.bottom&&n.bottom>r.top))return!1;if(ex(i)(t.center))return!0;var o=e.axis,a=i.center[o.crossAxisLine],s=t[o.crossAxisStart],l=t[o.crossAxisEnd],c=yE(i[o.crossAxisStart],i[o.crossAxisEnd]),u=c(s),d=c(l);return!u&&!d||(u?s<a:l>a)}));return i.length?1===i.length?i[0].descriptor.id:function(e){var t=e.pageBorderBox,n=e.draggable,r=e.candidates,i=n.page.borderBox.center,o=r.map((function(e){var n=e.axis,r=QA(e.axis.line,t.center[n.line],e.page.borderBox.center[n.crossAxisLine]);return{id:e.descriptor.id,distance:KA(i,r)}})).sort((function(e,t){return t.distance-e.distance}));return o[0]?o[0].id:null}({pageBorderBox:t,draggable:n,candidates:i}):null}var nx=function(e,t){return fA(XA(e,t))};function rx(e){var t=e.displaced,n=e.id;return Boolean(t.visible[n]||t.invisible[n])}var ix=function(e){var t=e.pageOffset,n=e.draggable,r=e.draggables,i=e.droppables,o=e.previousImpact,a=e.viewport,s=e.afterCritical,l=nx(n.page.borderBox,t),c=tx({pageBorderBox:l,draggable:n,droppables:i});if(!c)return vE;var u=i[c],d=uE(u.descriptor.id,r),h=function(e,t){var n=e.frame;return n?nx(t,n.scroll.diff.value):t}(u,l);return function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,i=e.destination,o=e.insideDestination,a=e.afterCritical;if(!i.isCombineEnabled)return null;var s=i.axis,l=QE(i.axis,t.displaceBy),c=l.value,u=n[s.start],d=n[s.end],h=iE(fE(t,o),(function(e){var t=e.descriptor.id,n=e.page.borderBox,i=n[s.size]/4,o=TE(t,a),l=rx({displaced:r.displaced,id:t});return o?l?d>n[s.start]+i&&d<n[s.end]-i:u>n[s.start]-c+i&&u<n[s.end]-c-i:l?d>n[s.start]+c+i&&d<n[s.end]+c-i:u>n[s.start]+i&&u<n[s.end]-i}));return h?{displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:h.descriptor.id,droppableId:i.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:h,draggable:n,previousImpact:o,destination:u,insideDestination:d,afterCritical:s})||function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,r=e.destination,i=e.insideDestination,o=e.last,a=e.viewport,s=e.afterCritical,l=r.axis,c=QE(r.axis,n.displaceBy),u=c.value,d=t[l.start],h=t[l.end],f=iE(fE(n,i),(function(e){var t=e.descriptor.id,n=e.page.borderBox.center[l.line],r=TE(t,s),i=rx({displaced:o,id:t});return r?i?h<=n:d<n-u:i?h<=n+u:d<n})),p=function(e){var t=e.draggable,n=e.closest,r=e.inHomeList;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:f,inHomeList:pE(n,r)});return NE({draggable:n,insideDestination:i,destination:r,viewport:a,last:o,displacedBy:c,index:p})}({pageBorderBoxWithDroppableScroll:h,draggable:n,destination:u,insideDestination:d,last:o.displaced,viewport:a,afterCritical:s})},ox=function(e,t){var n;return lw({},e,((n={})[t.descriptor.id]=t,n))},ax=function(e){var t=e.previousImpact,n=e.impact,r=e.droppables,i=XE(t),o=XE(n);if(!i)return r;if(i===o)return r;var a=r[i];if(!a.subject.withPlaceholder)return r;var s=function(e){var t=e.subject.withPlaceholder;t||PA(!1);var n=e.frame;if(!n)return lw({},e,{subject:eE({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null})});var r=t.oldFrameMaxScroll;r||PA(!1);var i=KE(n,r);return lw({},e,{subject:eE({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null}),frame:i})}(a);return ox(r,s)},sx=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,i=e.viewport,o=e.impact,a=e.scrollJumpRequest,s=i||t.viewport,l=r||t.dimensions,c=n||t.current.client.selection,u=VA(c,t.initial.client.selection),d={offset:u,selection:c,borderBoxCenter:WA(t.initial.client.borderBoxCenter,u)},h={selection:WA(d.selection,s.scroll.current),borderBoxCenter:WA(d.borderBoxCenter,s.scroll.current),offset:WA(d.offset,s.scroll.diff.value)},f={client:d,page:h};if("COLLECTING"===t.phase)return lw({phase:"COLLECTING"},t,{dimensions:l,viewport:s,current:f});var p=l.draggables[t.critical.draggable.id],g=o||ix({pageOffset:h.offset,draggable:p,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:s,afterCritical:t.afterCritical}),m=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,i=e.previousImpact,o=e.impact,a=ax({previousImpact:i,impact:o,droppables:r}),s=XE(o);if(!s)return a;var l=r[s];if(pE(t,l))return a;if(l.subject.withPlaceholder)return a;var c=YE(l,t,n);return ox(a,c)}({draggable:p,impact:g,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables});return lw({},t,{current:f,dimensions:{draggables:l.draggables,droppables:m},impact:g,viewport:s,scrollJumpRequest:a||null,forceShouldAnimate:!a&&null})};var lx=function(e){var t=e.impact,n=e.viewport,r=e.draggables,i=e.destination,o=e.forceShouldAnimate,a=t.displaced,s=function(e,t){return e.map((function(e){return t[e]}))}(a.all,r);return lw({},t,{displaced:CE({afterDragging:s,destination:i,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:o,last:a})})},cx=function(e){var t=e.impact,n=e.draggable,r=e.droppable,i=e.draggables,o=e.viewport,a=e.afterCritical,s=jE({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:a});return zE({pageBorderBoxCenter:s,draggable:n,viewport:o})},ux=function(e){var t=e.state,n=e.dimensions,r=e.viewport;"SNAP"!==t.movementMode&&PA(!1);var i=t.impact,o=r||t.viewport,a=n||t.dimensions,s=a.draggables,l=a.droppables,c=s[t.critical.draggable.id],u=XE(i);u||PA(!1);var d=l[u],h=lx({impact:i,viewport:o,destination:d,draggables:s}),f=cx({impact:h,draggable:c,droppable:d,draggables:s,viewport:o,afterCritical:t.afterCritical});return sx({impact:h,clientSelection:f,state:t,dimensions:a,viewport:o})},dx=function(e){var t=e.draggable,n=e.home,r=e.draggables,i=e.viewport,o=QE(n.axis,t.displaceBy),a=uE(n.descriptor.id,r),s=a.indexOf(t);-1===s&&PA(!1);var l,c=a.slice(s+1),u=c.reduce((function(e,t){return e[t.descriptor.id]=!0,e}),{}),d={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:o,effected:u};return{impact:{displaced:CE({afterDragging:c,destination:n,displacedBy:o,last:null,viewport:i.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:(l=t.descriptor,{index:l.index,droppableId:l.droppableId})}},afterCritical:d}},hx=function(e){0},fx=function(e){0},px=function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,i=r.scroll.diff.value;return t.map((function(e){var t=e.descriptor.droppableId,o=function(e){var t=e.frame;return t||PA(!1),t}(n[t]),a=o.scroll.diff.value,s=function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,i=bA(t.client,n),o=wA(i,r);return lw({},t,{placeholder:lw({},t.placeholder,{client:i}),client:i,page:o})}({draggable:e,offset:WA(i,a),initialWindowScroll:r.scroll.initial});return s}))},gx=function(e){return"SNAP"===e.movementMode},mx=function(e,t,n){var r=function(e,t){return{draggables:e.draggables,droppables:ox(e.droppables,t)}}(e.dimensions,t);return!gx(e)||n?sx({state:e,dimensions:r}):ux({state:e,dimensions:r})};function vx(e){return e.isDragging&&"SNAP"===e.movementMode?lw({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var yx={phase:"IDLE",completed:null,shouldFlush:!1},bx=function(e,t){if(void 0===e&&(e=yx),"FLUSH"===t.type)return lw({},yx,{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&PA(!1);var n=t.payload,r=n.critical,i=n.clientSelection,o=n.viewport,a=n.dimensions,s=n.movementMode,l=a.draggables[r.draggable.id],c=a.droppables[r.droppable.id],u={selection:i,borderBoxCenter:l.client.borderBox.center,offset:GA},d={client:u,page:{selection:WA(u.selection,o.scroll.initial),borderBoxCenter:WA(u.selection,o.scroll.initial),offset:WA(u.selection,o.scroll.diff.value)}},h=lE(a.droppables).every((function(e){return!e.isFixedOnPage})),f=dx({draggable:l,home:c,draggables:a.draggables,viewport:o}),p=f.impact;return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:s,dimensions:a,initial:d,current:d,isWindowScrollAllowed:h,impact:p,afterCritical:f.afterCritical,onLiftImpact:p,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&PA(!1),lw({phase:"COLLECTING"},e,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&PA(!1),function(e){var t=e.state,n=e.published;hx();var r=n.modified.map((function(e){var n=t.dimensions.droppables[e.droppableId];return tE(n,e.scroll)})),i=lw({},t.dimensions.droppables,{},aE(r)),o=sE(px({additions:n.additions,updatedDroppables:i,viewport:t.viewport})),a=lw({},t.dimensions.draggables,{},o);n.removals.forEach((function(e){delete a[e]}));var s={droppables:i,draggables:a},l=XE(t.impact),c=l?s.droppables[l]:null,u=s.draggables[t.critical.draggable.id],d=s.droppables[t.critical.droppable.id],h=dx({draggable:u,home:d,draggables:a,viewport:t.viewport}),f=h.impact,p=h.afterCritical,g=c&&c.isCombineEnabled?t.impact:f,m=ix({pageOffset:t.current.page.offset,draggable:s.draggables[t.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:g,viewport:t.viewport,afterCritical:p});fx();var v=lw({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:m,onLiftImpact:f,dimensions:s,afterCritical:p,forceShouldAnimate:!1});return"COLLECTING"===t.phase?v:lw({phase:"DROP_PENDING"},v,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;ZE(e)||PA(!1);var g=t.payload.client;return HA(g,e.current.client.selection)?e:sx({state:e,clientSelection:g,impact:gx(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return vx(e);if("COLLECTING"===e.phase)return vx(e);ZE(e)||PA(!1);var m=t.payload,v=m.id,y=m.newScroll,b=e.dimensions.droppables[v];if(!b)return e;var w=tE(b,y);return mx(e,w,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;ZE(e)||PA(!1);var A=t.payload,E=A.id,x=A.isEnabled,I=e.dimensions.droppables[E];I||PA(!1),I.isEnabled===x&&PA(!1);var S=lw({},I,{isEnabled:x});return mx(e,S,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;ZE(e)||PA(!1);var C=t.payload,D=C.id,N=C.isCombineEnabled,T=e.dimensions.droppables[D];T||PA(!1),T.isCombineEnabled===N&&PA(!1);var k=lw({},T,{isCombineEnabled:N});return mx(e,k,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;ZE(e)||PA(!1),e.isWindowScrollAllowed||PA(!1);var O=t.payload.newScroll;if(HA(e.viewport.scroll.current,O))return vx(e);var P=FE(e.viewport,O);return gx(e)?ux({state:e,viewport:P}):sx({state:e,viewport:P})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!ZE(e))return e;var R=t.payload.maxScroll;if(HA(R,e.viewport.scroll.max))return e;var _=lw({},e.viewport,{scroll:lw({},e.viewport.scroll,{max:R})});return lw({phase:"DRAGGING"},e,{viewport:_})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&PA(!1);var L=$E({state:e,type:t.type});return L?sx({state:e,impact:L.impact,clientSelection:L.clientSelection,scrollJumpRequest:L.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var M=t.payload.reason;return"COLLECTING"!==e.phase&&PA(!1),lw({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:M})}if("DROP_ANIMATE"===t.type){var B=t.payload,j=B.completed,F=B.dropDuration,U=B.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&PA(!1),{phase:"DROP_ANIMATING",completed:j,dropDuration:F,newHomeClientOffset:U,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},wx=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},Ax=function(){return{type:"COLLECTION_STARTING",payload:null}},Ex=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},xx=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},Ix=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},Sx=function(e){return{type:"MOVE",payload:e}},Cx=function(){return{type:"MOVE_UP",payload:null}},Dx=function(){return{type:"MOVE_DOWN",payload:null}},Nx=function(){return{type:"MOVE_RIGHT",payload:null}},Tx=function(){return{type:"MOVE_LEFT",payload:null}},kx=function(e){return{type:"DROP_COMPLETE",payload:e}},Ox=function(e){return{type:"DROP",payload:e}},Px=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}};var Rx="cubic-bezier(.2,1,.1,1)",_x={drop:0,combining:.7},Lx={drop:.75},Mx=.2+"s "+"cubic-bezier(0.2, 0, 0, 1)",Bx={fluid:"opacity "+Mx,snap:"transform "+Mx+", opacity "+Mx,drop:function(e){var t=e+"s "+Rx;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+Mx,placeholder:"height "+Mx+", width "+Mx+", margin "+Mx},jx=function(e){return HA(e,GA)?null:"translate("+e.x+"px, "+e.y+"px)"},Fx=jx,Ux=function(e,t){var n=jx(e);return n?t?n+" scale("+Lx.drop+")":n:null},zx=.33,Gx=.55,Wx=Gx-zx,Vx=function(e){var t=e.getState,n=e.dispatch;return function(e){return function(r){if("DROP"===r.type){var i=t(),o=r.payload.reason;if("COLLECTING"!==i.phase){if("IDLE"!==i.phase){"DROP_PENDING"===i.phase&&i.isWaiting&&PA(!1),"DRAGGING"!==i.phase&&"DROP_PENDING"!==i.phase&&PA(!1);var a=i.critical,s=i.dimensions,l=s.draggables[i.critical.draggable.id],c=function(e){var t=e.draggables,n=e.reason,r=e.lastImpact,i=e.home,o=e.viewport,a=e.onLiftImpact;return r.at&&"DROP"===n?"REORDER"===r.at.type?{impact:r,didDropInsideDroppable:!0}:{impact:lw({},r,{displaced:mE}),didDropInsideDroppable:!0}:{impact:lx({draggables:t,impact:a,destination:i,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),u=c.impact,d=c.didDropInsideDroppable,h=d?dE(u):null,f=d?hE(u):null,p={index:a.draggable.index,droppableId:a.droppable.id},g={draggableId:l.descriptor.id,type:l.descriptor.type,source:p,reason:o,mode:i.movementMode,destination:h,combine:f},m=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,i=e.viewport,o=e.afterCritical,a=r.draggables,s=r.droppables,l=XE(t),c=l?s[l]:null,u=s[n.descriptor.droppableId],d=cx({impact:t,draggable:n,draggables:a,afterCritical:o,droppable:c||u,viewport:i});return VA(d,n.client.borderBox.center)}({impact:u,draggable:l,dimensions:s,viewport:i.viewport,afterCritical:i.afterCritical}),v={critical:i.critical,afterCritical:i.afterCritical,result:g,impact:u};if(!HA(i.current.client.offset,m)||Boolean(g.combine)){var y=function(e){var t=e.current,n=e.destination,r=e.reason,i=KA(t,n);if(i<=0)return zx;if(i>=1500)return Gx;var o=zx+Wx*(i/1500);return Number(("CANCEL"===r?.6*o:o).toFixed(2))}({current:i.current.client.offset,destination:m,reason:o});n(function(e){return{type:"DROP_ANIMATE",payload:e}}({newHomeClientOffset:m,dropDuration:y,completed:v}))}else n(kx({completed:v}))}}else n(function(e){return{type:"DROP_PENDING",payload:e}}({reason:o}))}else e(r)}}},Hx=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function qx(e){var t=e.onWindowScroll;var n=CA((function(){t(Hx())})),r=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(t){t.target!==window&&t.target!==window.document||e()}}}(n),i=NA;function o(){return i!==NA}return{start:function(){o()&&PA(!1),i=TA(window,[r])},stop:function(){o()||PA(!1),n.cancel(),i(),i=NA},isActive:o}}var Qx=function(e){var t=qx({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(n){t.isActive()||"INITIAL_PUBLISH"!==n.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(n)&&t.stop(),e(n)}}},Kx=function(){var e=[];return{add:function(t){var n=setTimeout((function(){return function(t){var n=rE(e,(function(e){return e.timerId===t}));-1===n&&PA(!1),e.splice(n,1)[0].callback()}(n)})),r={timerId:n,callback:t};e.push(r)},flush:function(){if(e.length){var t=[].concat(e);e.length=0,t.forEach((function(e){clearTimeout(e.timerId),e.callback()}))}}}},Yx=function(e,t){hx(),t(),fx()},Jx=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},Xx=function(e,t,n,r){if(e){var i=function(e){var t=!1,n=!1,r=setTimeout((function(){n=!0})),i=function(i){t||n||(t=!0,e(i),clearTimeout(r))};return i.wasCalled=function(){return t},i}(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}else n(r(t))},$x=function(e,t){var n=function(e,t){var n=Kx(),r=null,i=function(n){r||PA(!1),r=null,Yx(0,(function(){return Xx(e().onDragEnd,n,t,zA)}))};return{beforeCapture:function(t,n){r&&PA(!1),Yx(0,(function(){var r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})}))},beforeStart:function(t,n){r&&PA(!1),Yx(0,(function(){var r=e().onBeforeDragStart;r&&r(Jx(t,n))}))},start:function(i,o){r&&PA(!1);var a=Jx(i,o);r={mode:o,lastCritical:i,lastLocation:a.source,lastCombine:null},n.add((function(){Yx(0,(function(){return Xx(e().onDragStart,a,t,FA)}))}))},update:function(i,o){var a=dE(o),s=hE(o);r||PA(!1);var l=!function(e,t){if(e===t)return!0;var n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r}(i,r.lastCritical);l&&(r.lastCritical=i);var c,u,d=(u=a,!(null==(c=r.lastLocation)&&null==u||null!=c&&null!=u&&c.droppableId===u.droppableId&&c.index===u.index));d&&(r.lastLocation=a);var h=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId}(r.lastCombine,s);if(h&&(r.lastCombine=s),l||d||h){var f=lw({},Jx(i,r.mode),{combine:s,destination:a});n.add((function(){Yx(0,(function(){return Xx(e().onDragUpdate,f,t,UA)}))}))}},flush:function(){r||PA(!1),n.flush()},drop:i,abort:function(){if(r){var e=lw({},Jx(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});i(e)}}}}(e,t);return function(e){return function(t){return function(r){if("BEFORE_INITIAL_CAPTURE"!==r.type){if("INITIAL_PUBLISH"===r.type){var i=r.payload.critical;return n.beforeStart(i,r.payload.movementMode),t(r),void n.start(i,r.payload.movementMode)}if("DROP_COMPLETE"===r.type){var o=r.payload.completed.result;return n.flush(),t(r),void n.drop(o)}if(t(r),"FLUSH"!==r.type){var a=e.getState();"DRAGGING"===a.phase&&n.update(a.critical,a.impact)}else n.abort()}else n.beforeCapture(r.payload.draggableId,r.payload.movementMode)}}}},Zx=function(e){return function(t){return function(n){if("DROP_ANIMATION_FINISHED"===n.type){var r=e.getState();"DROP_ANIMATING"!==r.phase&&PA(!1),e.dispatch(kx({completed:r.completed}))}else t(n)}}},eI=function(e){var t=null,n=null;return function(r){return function(i){if("FLUSH"!==i.type&&"DROP_COMPLETE"!==i.type&&"DROP_ANIMATION_FINISHED"!==i.type||(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(i),"DROP_ANIMATE"===i.type){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame((function(){n=null,t=TA(window,[o])}))}}}},tI=function(e){return function(t){return function(n){if(t(n),"PUBLISH_WHILE_DRAGGING"===n.type){var r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(Ox({reason:r.reason})))}}}},nI=Ew,rI=function(e){var t,n=e.dimensionMarshal,r=e.focusMarshal,i=e.styleMarshal,o=e.getResponders,a=e.announce,s=e.autoScroller;return bw(bx,nI(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(pw(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return r=Ew.apply(void 0,o)(n.dispatch),fw(fw({},n),{},{dispatch:r})}}}((t=i,function(){return function(e){return function(n){"INITIAL_PUBLISH"===n.type&&t.dragging(),"DROP_ANIMATE"===n.type&&t.dropping(n.payload.completed.result.reason),"FLUSH"!==n.type&&"DROP_COMPLETE"!==n.type||t.resting(),e(n)}}}),function(e){return function(){return function(t){return function(n){"DROP_COMPLETE"!==n.type&&"FLUSH"!==n.type&&"DROP_ANIMATE"!==n.type||e.stopPublishing(),t(n)}}}}(n),function(e){return function(t){var n=t.getState,r=t.dispatch;return function(t){return function(i){if("LIFT"===i.type){var o=i.payload,a=o.id,s=o.clientSelection,l=o.movementMode,c=n();"DROP_ANIMATING"===c.phase&&r(kx({completed:c.completed})),"IDLE"!==n().phase&&PA(!1),r({type:"FLUSH",payload:null}),r({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:a,movementMode:l}});var u={draggableId:a,scrollOptions:{shouldPublishImmediately:"SNAP"===l}},d=e.startPublishing(u),h=d.critical,f=d.dimensions,p=d.viewport;r({type:"INITIAL_PUBLISH",payload:{critical:h,dimensions:f,clientSelection:s,movementMode:l,viewport:p}})}else t(i)}}}}(n),Vx,Zx,eI,tI,function(e){return function(t){return function(n){return function(r){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(r))return e.stop(),void n(r);if("INITIAL_PUBLISH"===r.type){n(r);var i=t.getState();return"DRAGGING"!==i.phase&&PA(!1),void e.start(i)}n(r),e.scroll(t.getState())}}}}(s),Qx,function(e){var t=!1;return function(){return function(n){return function(r){if("INITIAL_PUBLISH"===r.type)return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if("FLUSH"===r.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===r.type){t=!1;var i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(r),$x(o,a))))};var iI=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,i=e.width,o=VA({x:n,y:t},{x:i,y:r});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},oI=function(){var e=document.documentElement;return e||PA(!1),e},aI=function(){var e=oI();return iI({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},sI=function(e){var t=e.critical,n=e.scrollOptions,r=e.registry;hx();var i=function(){var e=Hx(),t=aI(),n=e.y,r=e.x,i=oI(),o=i.clientWidth,a=i.clientHeight;return{frame:fA({top:n,left:r,right:r+o,bottom:n+a}),scroll:{initial:e,current:e,max:t,diff:{value:GA,displacement:GA}}}}(),o=i.scroll.current,a=t.droppable,s=r.droppable.getAllByType(a.type).map((function(e){return e.callbacks.getDimensionAndWatchScroll(o,n)})),l=r.draggable.getAllByType(t.draggable.type).map((function(e){return e.getDimension(o)})),c={draggables:sE(l),droppables:aE(s)};return fx(),{dimensions:c,critical:t,viewport:i}};function lI(e,t,n){return n.descriptor.id!==t.id&&(n.descriptor.type===t.type&&"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode)}var cI=function(e,t){var n=null,r=function(e){var t=e.registry,n=e.callbacks,r={additions:{},removals:{},modified:{}},i=null,o=function(){i||(n.collectionStarting(),i=requestAnimationFrame((function(){i=null,hx();var e=r,o=e.additions,a=e.removals,s=e.modified,l=Object.keys(o).map((function(e){return t.draggable.getById(e).getDimension(GA)})).sort((function(e,t){return e.descriptor.index-t.descriptor.index})),c=Object.keys(s).map((function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}})),u={additions:l,removals:Object.keys(a),modified:c};r={additions:{},removals:{},modified:{}},fx(),n.publish(u)})))};return{add:function(e){var t=e.descriptor.id;r.additions[t]=e,r.modified[e.descriptor.droppableId]=!0,r.removals[t]&&delete r.removals[t],o()},remove:function(e){var t=e.descriptor;r.removals[t.id]=!0,r.modified[t.droppableId]=!0,r.additions[t.id]&&delete r.additions[t.id],o()},stop:function(){i&&(cancelAnimationFrame(i),i=null,r={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=function(t){n||PA(!1);var i=n.critical.draggable;"ADDITION"===t.type&&lI(e,i,t.value)&&r.add(t.value),"REMOVAL"===t.type&&lI(e,i,t.value)&&r.remove(t.value)},o={updateDroppableIsEnabled:function(r,i){e.droppable.exists(r)||PA(!1),n&&t.updateDroppableIsEnabled({id:r,isEnabled:i})},updateDroppableIsCombineEnabled:function(r,i){n&&(e.droppable.exists(r)||PA(!1),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:i}))},scrollDroppable:function(t,r){n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:function(r,i){n&&(e.droppable.exists(r)||PA(!1),t.updateDroppableScroll({id:r,newScroll:i}))},startPublishing:function(t){n&&PA(!1);var r=e.draggable.getById(t.draggableId),o=e.droppable.getById(r.descriptor.droppableId),a={draggable:r.descriptor,droppable:o.descriptor},s=e.subscribe(i);return n={critical:a,unsubscribe:s},sI({critical:a,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(n){r.stop();var t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach((function(e){return e.callbacks.dragStopped()})),n.unsubscribe(),n=null}}};return o},uI=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason)},dI=function(e){window.scrollBy(e.x,e.y)},hI=SA((function(e){return lE(e).filter((function(e){return!!e.isEnabled&&!!e.frame}))})),fI=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var i=r[n];return i.frame?i:null}var o=function(e,t){var n=iE(hI(t),(function(t){return t.frame||PA(!1),ex(t.frame.pageMarginBox)(e)}));return n}(t,r);return o},pI=.25,gI=.05,mI=28,vI=function(e){return Math.pow(e,2)},yI={stopDampeningAt:1200,accelerateAt:360},bI=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,i=n-t;return 0===i?0:(r-t)/i},wI=yI.accelerateAt,AI=yI.stopDampeningAt,EI=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,i=e.shouldUseTimeDampening,o=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return mI;if(e===t.startScrollingFrom)return 1;var n=bI({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=mI*vI(1-n);return Math.ceil(r)}(t,n);return 0===o?0:i?Math.max(function(e,t){var n=t,r=AI,i=Date.now()-n;if(i>=AI)return e;if(i<wI)return 1;var o=bI({startOfRange:wI,endOfRange:r,current:i}),a=e*vI(o);return Math.ceil(a)}(o,r),1):o},xI=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,i=e.axis,o=e.shouldUseTimeDampening,a=function(e,t){return{startScrollingFrom:e[t.size]*pI,maxScrollValueAt:e[t.size]*gI}}(t,i);return n[i.end]<n[i.start]?EI({distanceToEdge:n[i.end],thresholds:a,dragStartTime:r,shouldUseTimeDampening:o}):-1*EI({distanceToEdge:n[i.start],thresholds:a,dragStartTime:r,shouldUseTimeDampening:o})},II=JA((function(e){return 0===e?0:e})),SI=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,i=e.center,o=e.shouldUseTimeDampening,a={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},s=xI({container:n,distanceToEdges:a,dragStartTime:t,axis:AE,shouldUseTimeDampening:o}),l=xI({container:n,distanceToEdges:a,dragStartTime:t,axis:EE,shouldUseTimeDampening:o}),c=II({x:l,y:s});if(HA(c,GA))return null;var u=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,i=n.height>t.height,o=n.width>t.width;return o||i?o&&i?null:{x:o?0:r.x,y:i?0:r.y}:r}({container:n,subject:r,proposedScroll:c});return u?HA(u,GA)?null:u:null},CI=JA((function(e){return 0===e?0:e>0?1:-1})),DI=function(){var e=function(e,t){return e<0?e:e>t?e-t:0};return function(t){var n=t.current,r=t.max,i=t.change,o=WA(n,i),a={x:e(o.x,r.x),y:e(o.y,r.y)};return HA(a,GA)?null:a}}(),NI=function(e){var t=e.max,n=e.current,r=e.change,i={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},o=CI(r),a=DI({max:i,current:n,change:o});return!a||(0!==o.x&&0===a.x||0!==o.y&&0===a.y)},TI=function(e,t){return NI({current:e.scroll.current,max:e.scroll.max,change:t})},kI=function(e,t){var n=e.frame;return!!n&&NI({current:n.scroll.current,max:n.scroll.max,change:t})},OI=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,i=e.scrollWindow,o=e.scrollDroppable,a=t.current.page.borderBoxCenter,s=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var l=function(e){var t=e.viewport,n=e.subject,r=e.center,i=e.dragStartTime,o=e.shouldUseTimeDampening,a=SI({dragStartTime:i,container:t.frame,subject:n,center:r,shouldUseTimeDampening:o});return a&&TI(t,a)?a:null}({dragStartTime:n,viewport:t.viewport,subject:s,center:a,shouldUseTimeDampening:r});if(l)return void i(l)}var c=fI({center:a,destination:XE(t.impact),droppables:t.dimensions.droppables});if(c){var u=function(e){var t=e.droppable,n=e.subject,r=e.center,i=e.dragStartTime,o=e.shouldUseTimeDampening,a=t.frame;if(!a)return null;var s=SI({dragStartTime:i,container:a.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:o});return s&&kI(t,s)?s:null}({dragStartTime:n,droppable:c,subject:s,center:a,shouldUseTimeDampening:r});u&&o(c.descriptor.id,u)}},PI=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow,i=function(e,t){if(!kI(e,t))return t;var r=function(e,t){var n=e.frame;return n&&kI(e,t)?DI({current:n.scroll.current,max:n.scroll.max,change:t}):null}(e,t);if(!r)return n(e.descriptor.id,t),null;var i=VA(t,r);return n(e.descriptor.id,i),VA(t,i)},o=function(e,t,n){if(!e)return n;if(!TI(t,n))return n;var i=function(e,t){if(!TI(e,t))return null;var n=e.scroll.max,r=e.scroll.current;return DI({current:r,max:n,change:t})}(t,n);if(!i)return r(n),null;var o=VA(n,i);return r(o),VA(n,o)};return function(e){var n=e.scrollJumpRequest;if(n){var r=XE(e.impact);r||PA(!1);var a=i(e.dimensions.droppables[r],n);if(a){var s=e.viewport,l=o(e.isWindowScrollAllowed,s,a);l&&function(e,n){var r=WA(e.current.client.selection,n);t({client:r})}(e,l)}}}},RI=function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,i=function(e){var t=e.scrollWindow,n=e.scrollDroppable,r=CA(t),i=CA(n),o=null,a=function(e){o||PA(!1);var t=o,n=t.shouldUseTimeDampening,a=t.dragStartTime;OI({state:e,scrollWindow:r,scrollDroppable:i,dragStartTime:a,shouldUseTimeDampening:n})};return{start:function(e){hx(),o&&PA(!1);var t=Date.now(),n=!1,r=function(){n=!0};OI({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:r,scrollDroppable:r}),o={dragStartTime:t,shouldUseTimeDampening:n},fx(),n&&a(e)},stop:function(){o&&(r.cancel(),i.cancel(),o=null)},scroll:a}}({scrollWindow:n,scrollDroppable:t}),o=PI({move:r,scrollWindow:n,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&o(e):i.scroll(e))},start:i.start,stop:i.stop}},_I="data-rbd",LI=function(){var e=_I+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),MI=function(){var e=_I+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),BI=function(){var e=_I+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),jI={contextId:_I+"-scroll-container-context-id"},FI=function(e,t){return e.map((function(e){var n=e.styles[t];return n?e.selector+" { "+n+" }":""})).join(" ")},UI="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?i.useLayoutEffect:i.useEffect,zI=function(){var e=document.querySelector("head");return e||PA(!1),e},GI=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function WI(e,t){var n=uA((function(){return function(e){var t,n=(t=e,function(e){return"["+e+'="'+t+'"]'}),r=function(){var e="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ";return{selector:n(LI.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:e,dragging:"pointer-events: none;",dropAnimating:e}}}(),i=[function(){var e="\n      transition: "+Bx.outOfTheWay+";\n    ";return{selector:n(MI.contextId),styles:{dragging:e,dropAnimating:e,userCancel:e}}}(),r,{selector:n(BI.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:FI(i,"always"),resting:FI(i,"resting"),dragging:FI(i,"dragging"),dropAnimating:FI(i,"dropAnimating"),userCancel:FI(i,"userCancel")}}(e)}),[e]),r=(0,i.useRef)(null),o=(0,i.useRef)(null),a=dA(SA((function(e){var t=o.current;t||PA(!1),t.textContent=e})),[]),s=dA((function(e){var t=r.current;t||PA(!1),t.textContent=e}),[]);UI((function(){(r.current||o.current)&&PA(!1);var i=GI(t),l=GI(t);return r.current=i,o.current=l,i.setAttribute(_I+"-always",e),l.setAttribute(_I+"-dynamic",e),zI().appendChild(i),zI().appendChild(l),s(n.always),a(n.resting),function(){var e=function(e){var t=e.current;t||PA(!1),zI().removeChild(t),e.current=null};e(r),e(o)}}),[t,s,a,n.always,n.resting,e]);var l=dA((function(){return a(n.dragging)}),[a,n.dragging]),c=dA((function(e){a("DROP"!==e?n.userCancel:n.dropAnimating)}),[a,n.dropAnimating,n.userCancel]),u=dA((function(){o.current&&a(n.resting)}),[a,n.resting]);return uA((function(){return{dragging:l,dropping:c,resting:u}}),[l,c,u])}var VI=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function HI(e){return e instanceof VI(e).HTMLElement}function qI(e,t){var n="["+LI.contextId+'="'+e+'"]',r=oE(document.querySelectorAll(n));if(!r.length)return null;var i=iE(r,(function(e){return e.getAttribute(LI.draggableId)===t}));return i&&HI(i)?i:null}function QI(){var e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach((function(t){return t(e)}))}function r(t){return e.draggables[t]||null}var i={register:function(t){e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:function(t,n){var r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var i=t.descriptor.id,o=r(i);o&&t.uniqueId===o.uniqueId&&(delete e.draggables[i],n({type:"REMOVAL",value:t}))},getById:function(e){var t=r(e);return t||PA(!1),t},findById:r,exists:function(e){return Boolean(r(e))},getAllByType:function(t){return nE(e.draggables).filter((function(e){return e.descriptor.type===t}))}};function o(t){return e.droppables[t]||null}var a={register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var n=o(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=o(e);return t||PA(!1),t},findById:o,exists:function(e){return Boolean(o(e))},getAllByType:function(t){return nE(e.droppables).filter((function(e){return e.descriptor.type===t}))}};return{draggable:i,droppable:a,subscribe:function(e){return t.push(e),function(){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var KI=i.createContext(null),YI=function(){var e=document.body;return e||PA(!1),e},JI={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};var XI=0,$I={separator:"::"};function ZI(e,t){return void 0===t&&(t=$I),uA((function(){return""+e+t.separator+XI++}),[t.separator,e])}var eS=i.createContext(null);function tS(e){0}function nS(e,t){tS()}function rS(){nS()}function iS(e){var t=(0,i.useRef)(e);return(0,i.useEffect)((function(){t.current=e})),t}var oS,aS=((oS={})[13]=!0,oS[9]=!0,oS),sS=function(e){aS[e.keyCode]&&e.preventDefault()},lS=function(){var e="visibilitychange";return"undefined"===typeof document?e:iE([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],(function(e){return"on"+e in document}))||e}();var cS,uS={type:"IDLE"};function dS(e){var t=e.cancel,n=e.completed,r=e.getPhase,i=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t=e.button,n=e.clientX,o=e.clientY;if(0===t){var a={x:n,y:o},s=r();if("DRAGGING"===s.type)return e.preventDefault(),void s.actions.move(a);"PENDING"!==s.type&&PA(!1);var l=s.point;if(c=l,u=a,Math.abs(u.x-c.x)>=5||Math.abs(u.y-c.y)>=5){var c,u;e.preventDefault();var d=s.actions.fluidLift(a);i({type:"DRAGGING",actions:d})}}}},{eventName:"mouseup",fn:function(e){var i=r();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===r().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==r().type)return 27===e.keyCode?(e.preventDefault(),void t()):void sS(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===r().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var n=r();"IDLE"===n.type&&PA(!1),n.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:lS,fn:t}]}function hS(){}var fS=((cS={})[34]=!0,cS[33]=!0,cS[36]=!0,cS[35]=!0,cS);function pS(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:function(r){return 27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(fS[r.keyCode]?r.preventDefault():sS(r))}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:lS,fn:n}]}var gS={type:"IDLE"};var mS={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function vS(e,t){if(null==t)return!1;if(Boolean(mS[t.tagName.toLowerCase()]))return!0;var n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&vS(e,t.parentElement)}function yS(e,t){var n=t.target;return!!HI(n)&&vS(e,n)}var bS=function(e){return fA(e.getBoundingClientRect()).center};var wS=function(){var e="matches";return"undefined"===typeof document?e:iE([e,"msMatchesSelector","webkitMatchesSelector"],(function(e){return e in Element.prototype}))||e}();function AS(e,t){return null==e?null:e[wS](t)?e:AS(e.parentElement,t)}function ES(e,t){return e.closest?e.closest(t):AS(e,t)}function xS(e,t){var n=t.target;if(!function(e){return e instanceof VI(e).Element}(n))return null;var r=function(e){return"["+LI.contextId+'="'+e+'"]'}(e),i=ES(n,r);return i&&HI(i)?i:null}function IS(e){e.preventDefault()}function SS(e){var t=e.expected,n=e.phase,r=e.isLockActive;e.shouldWarn;return!!r()&&t===n}function CS(e){var t=e.lockAPI,n=e.store,r=e.registry,i=e.draggableId;if(t.isClaimed())return!1;var o=r.draggable.findById(i);return!!o&&(!!o.options.isEnabled&&!!uI(n.getState(),i))}function DS(e){var t=e.lockAPI,n=e.contextId,r=e.store,i=e.registry,o=e.draggableId,a=e.forceSensorStop,s=e.sourceEvent;if(!CS({lockAPI:t,store:r,registry:i,draggableId:o}))return null;var l=i.draggable.getById(o),c=function(e,t){var n="["+MI.contextId+'="'+e+'"]',r=iE(oE(document.querySelectorAll(n)),(function(e){return e.getAttribute(MI.id)===t}));return r&&HI(r)?r:null}(n,l.descriptor.id);if(!c)return null;if(s&&!l.options.canDragInteractiveElements&&yS(c,s))return null;var u=t.claim(a||NA),d="PRE_DRAG";function h(){return l.options.shouldRespectForcePress}function f(){return t.isActive(u)}var p=function(e,t){SS({expected:e,phase:d,isLockActive:f,shouldWarn:!0})&&r.dispatch(t())}.bind(null,"DRAGGING");function g(e){function n(){t.release(),d="COMPLETED"}function i(t,i){if(void 0===i&&(i={shouldBlockNextClick:!1}),e.cleanup(),i.shouldBlockNextClick){var o=TA(window,[{eventName:"click",fn:IS,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(o)}n(),r.dispatch(Ox({reason:t}))}return"PRE_DRAG"!==d&&(n(),"PRE_DRAG"!==d&&PA(!1)),r.dispatch(function(e){return{type:"LIFT",payload:e}}(e.liftActionArgs)),d="DRAGGING",lw({isActive:function(){return SS({expected:"DRAGGING",phase:d,isLockActive:f,shouldWarn:!1})},shouldRespectForcePress:h,drop:function(e){return i("DROP",e)},cancel:function(e){return i("CANCEL",e)}},e.actions)}var m={isActive:function(){return SS({expected:"PRE_DRAG",phase:d,isLockActive:f,shouldWarn:!1})},shouldRespectForcePress:h,fluidLift:function(e){var t=CA((function(e){p((function(){return Sx({client:e})}))}));return lw({},g({liftActionArgs:{id:o,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}}),{move:t})},snapLift:function(){var e={moveUp:function(){return p(Cx)},moveRight:function(){return p(Nx)},moveDown:function(){return p(Dx)},moveLeft:function(){return p(Tx)}};return g({liftActionArgs:{id:o,clientSelection:bS(c),movementMode:"SNAP"},cleanup:NA,actions:e})},abort:function(){SS({expected:"PRE_DRAG",phase:d,isLockActive:f,shouldWarn:!0})&&t.release()}};return m}var NS=[function(e){var t=(0,i.useRef)(uS),n=(0,i.useRef)(NA),r=uA((function(){return{eventName:"mousedown",fn:function(t){if(!t.defaultPrevented&&0===t.button&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var r=e.findClosestDraggableId(t);if(r){var i=e.tryGetLock(r,s,{sourceEvent:t});if(i){t.preventDefault();var o={x:t.clientX,y:t.clientY};n.current(),u(i,o)}}}}}}),[e]),o=uA((function(){return{eventName:"webkitmouseforcewillbegin",fn:function(t){if(!t.defaultPrevented){var n=e.findClosestDraggableId(t);if(n){var r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}}}}}),[e]),a=dA((function(){n.current=TA(window,[o,r],{passive:!1,capture:!0})}),[o,r]),s=dA((function(){"IDLE"!==t.current.type&&(t.current=uS,n.current(),a())}),[a]),l=dA((function(){var e=t.current;s(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[s]),c=dA((function(){var e=dS({cancel:l,completed:s,getPhase:function(){return t.current},setPhase:function(e){t.current=e}});n.current=TA(window,e,{capture:!0,passive:!1})}),[l,s]),u=dA((function(e,n){"IDLE"!==t.current.type&&PA(!1),t.current={type:"PENDING",point:n,actions:e},c()}),[c]);UI((function(){return a(),function(){n.current()}}),[a])},function(e){var t=(0,i.useRef)(hS),n=uA((function(){return{eventName:"keydown",fn:function(n){if(!n.defaultPrevented&&32===n.keyCode){var i=e.findClosestDraggableId(n);if(i){var o=e.tryGetLock(i,l,{sourceEvent:n});if(o){n.preventDefault();var a=!0,s=o.snapLift();t.current(),t.current=TA(window,pS(s,l),{capture:!0,passive:!1})}}}function l(){a||PA(!1),a=!1,t.current(),r()}}}}),[e]),r=dA((function(){t.current=TA(window,[n],{passive:!1,capture:!0})}),[n]);UI((function(){return r(),function(){t.current()}}),[r])},function(e){var t=(0,i.useRef)(gS),n=(0,i.useRef)(NA),r=dA((function(){return t.current}),[]),o=dA((function(e){t.current=e}),[]),a=uA((function(){return{eventName:"touchstart",fn:function(t){if(!t.defaultPrevented){var r=e.findClosestDraggableId(t);if(r){var i=e.tryGetLock(r,l,{sourceEvent:t});if(i){var o=t.touches[0],a={x:o.clientX,y:o.clientY};n.current(),h(i,a)}}}}}}),[e]),s=dA((function(){n.current=TA(window,[a],{capture:!0,passive:!1})}),[a]),l=dA((function(){var e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),o(gS),n.current(),s())}),[s,o]),c=dA((function(){var e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[l]),u=dA((function(){var e={capture:!0,passive:!1},t={cancel:c,completed:l,getPhase:r},i=TA(window,function(e){var t=e.cancel,n=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var n=r();if("DRAGGING"===n.type){n.hasMoved=!0;var i=e.touches[0],o={x:i.clientX,y:i.clientY};e.preventDefault(),n.actions.move(o)}else t()}},{eventName:"touchend",fn:function(e){var i=r();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===r().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var n=r();"IDLE"===n.type&&PA(!1);var i=e.touches[0];if(i&&i.force>=.15){var o=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return o?n.hasMoved?void e.preventDefault():void t():void e.preventDefault();o&&t()}}},{eventName:lS,fn:t}]}(t),e),o=TA(window,function(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===n().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:lS,fn:t}]}(t),e);n.current=function(){i(),o()}}),[c,r,l]),d=dA((function(){var e=r();"PENDING"!==e.type&&PA(!1);var t=e.actions.fluidLift(e.point);o({type:"DRAGGING",actions:t,hasMoved:!1})}),[r,o]),h=dA((function(e,t){"IDLE"!==r().type&&PA(!1);var n=setTimeout(d,120);o({type:"PENDING",point:t,actions:e,longPressTimerId:n}),u()}),[u,r,o,d]);UI((function(){return s(),function(){n.current();var e=r();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),o(gS))}}),[r,s,o]),UI((function(){return TA(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])}),[])}];function TS(e){var t=e.contextId,n=e.store,r=e.registry,o=e.customSensors,a=e.enableDefaultSensors,s=[].concat(a?NS:[],o||[]),l=(0,i.useState)((function(){return function(){var e=null;function t(){e||PA(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&PA(!1);var n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()}))[0],c=dA((function(e,t){e.isDragging&&!t.isDragging&&l.tryAbandon()}),[l]);UI((function(){var e=n.getState();return n.subscribe((function(){var t=n.getState();c(e,t),e=t}))}),[l,n,c]),UI((function(){return l.tryAbandon}),[l.tryAbandon]);var u=dA((function(e){return CS({lockAPI:l,registry:r,store:n,draggableId:e})}),[l,r,n]),d=dA((function(e,i,o){return DS({lockAPI:l,registry:r,contextId:t,store:n,draggableId:e,forceSensorStop:i,sourceEvent:o&&o.sourceEvent?o.sourceEvent:null})}),[t,l,r,n]),h=dA((function(e){return function(e,t){var n=xS(e,t);return n?n.getAttribute(LI.draggableId):null}(t,e)}),[t]),f=dA((function(e){var t=r.draggable.findById(e);return t?t.options:null}),[r.draggable]),p=dA((function(){l.isClaimed()&&(l.tryAbandon(),"IDLE"!==n.getState().phase&&n.dispatch({type:"FLUSH",payload:null}))}),[l,n]),g=dA(l.isClaimed,[l]),m=uA((function(){return{canGetLock:u,tryGetLock:d,findClosestDraggableId:h,findOptionsForDraggable:f,tryReleaseLock:p,isLockClaimed:g}}),[u,d,h,f,p,g]);tS();for(var v=0;v<s.length;v++)s[v](m)}function kS(e){return e.current||PA(!1),e.current}function OS(e){var t=e.contextId,n=e.setCallbacks,r=e.sensors,o=e.nonce,a=e.dragHandleUsageInstructions,s=(0,i.useRef)(null);rS();var l=iS(e),c=dA((function(){return function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}}(l.current)}),[l]),u=function(e){var t=uA((function(){return function(e){return"rbd-announcement-"+e}(e)}),[e]),n=(0,i.useRef)(null);(0,i.useEffect)((function(){var e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),lw(e.style,JI),YI().appendChild(e),function(){setTimeout((function(){var t=YI();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)}))}}),[t]);var r=dA((function(e){var t=n.current;t&&(t.textContent=e)}),[]);return r}(t),d=function(e){var t=e.contextId,n=e.text,r=ZI("hidden-text",{separator:"-"}),o=uA((function(){return"rbd-hidden-text-"+(e={contextId:t,uniqueId:r}).contextId+"-"+e.uniqueId;var e}),[r,t]);return(0,i.useEffect)((function(){var e=document.createElement("div");return e.id=o,e.textContent=n,e.style.display="none",YI().appendChild(e),function(){var t=YI();t.contains(e)&&t.removeChild(e)}}),[o,n]),o}({contextId:t,text:a}),h=WI(t,o),f=dA((function(e){kS(s).dispatch(e)}),[]),p=uA((function(){return Aw({publishWhileDragging:wx,updateDroppableScroll:Ex,updateDroppableIsEnabled:xx,updateDroppableIsCombineEnabled:Ix,collectionStarting:Ax},f)}),[f]),g=function(){var e=uA(QI,[]);return(0,i.useEffect)((function(){return function(){requestAnimationFrame(e.clean)}}),[e]),e}(),m=uA((function(){return cI(g,p)}),[g,p]),v=uA((function(){return RI(lw({scrollWindow:dI,scrollDroppable:m.scrollDroppable},Aw({move:Sx},f)))}),[m.scrollDroppable,f]),y=function(e){var t=(0,i.useRef)({}),n=(0,i.useRef)(null),r=(0,i.useRef)(null),o=(0,i.useRef)(!1),a=dA((function(e,n){var r={id:e,focus:n};return t.current[e]=r,function(){var n=t.current;n[e]!==r&&delete n[e]}}),[]),s=dA((function(t){var n=qI(e,t);n&&n!==document.activeElement&&n.focus()}),[e]),l=dA((function(e,t){n.current===e&&(n.current=t)}),[]),c=dA((function(){r.current||o.current&&(r.current=requestAnimationFrame((function(){r.current=null;var e=n.current;e&&s(e)})))}),[s]),u=dA((function(e){n.current=null;var t=document.activeElement;t&&t.getAttribute(LI.draggableId)===e&&(n.current=e)}),[]);return UI((function(){return o.current=!0,function(){o.current=!1;var e=r.current;e&&cancelAnimationFrame(e)}}),[]),uA((function(){return{register:a,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l}}),[a,u,c,l])}(t),b=uA((function(){return rI({announce:u,autoScroller:v,dimensionMarshal:m,focusMarshal:y,getResponders:c,styleMarshal:h})}),[u,v,m,y,c,h]);s.current=b;var w=dA((function(){var e=kS(s);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})}),[]),A=dA((function(){var e=kS(s).getState();return e.isDragging||"DROP_ANIMATING"===e.phase}),[]);n(uA((function(){return{isDragging:A,tryAbort:w}}),[A,w]));var E=dA((function(e){return uI(kS(s).getState(),e)}),[]),x=dA((function(){return ZE(kS(s).getState())}),[]),I=uA((function(){return{marshal:m,focus:y,contextId:t,canLift:E,isMovementAllowed:x,dragHandleUsageInstructionsId:d,registry:g}}),[t,m,d,y,E,x,g]);return TS({contextId:t,store:b,registry:g,customSensors:r,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,i.useEffect)((function(){return w}),[w]),i.createElement(eS.Provider,{value:I},i.createElement(Tw,{context:KI,store:b},e.children))}var PS=0;function RS(e){var t=uA((function(){return""+PS++}),[]),n=e.dragHandleUsageInstructions||jA;return i.createElement(RA,null,(function(r){return i.createElement(OS,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)}))}var _S=function(e){return function(t){return e===t}},LS=_S("scroll"),MS=_S("auto"),BS=(_S("visible"),function(e,t){return t(e.overflowX)||t(e.overflowY)}),jS=function(e){var t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return BS(n,LS)||BS(n,MS)},FS=function e(t){return null==t||t===document.body||t===document.documentElement?null:jS(t)?t:e(t.parentElement)},US=function(e){return{x:e.scrollLeft,y:e.scrollTop}},zS=function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))},GS=function(e){return{closestScrollable:FS(e),isFixedOnPage:zS(e)}},WS=function(e){var t=e.ref,n=e.descriptor,r=e.env,i=e.windowScroll,o=e.direction,a=e.isDropDisabled,s=e.isCombineEnabled,l=e.shouldClipSubject,c=r.closestScrollable,u=function(e,t){var n=EA(e);if(!t)return n;if(e!==t)return n;var r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,o=r+t.scrollHeight,a=i+t.scrollWidth,s=pA({top:r,right:a,bottom:o,left:i},n.border);return vA({borderBox:s,margin:n.margin,border:n.border,padding:n.padding})}(t,c),d=wA(u,i),h=function(){if(!c)return null;var e=EA(c),t={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:e,page:wA(e,i),scroll:US(c),scrollSize:t,shouldClipSubject:l}}(),f=function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,i=e.isFixedOnPage,o=e.direction,a=e.client,s=e.page,l=e.closest,c=function(){if(!l)return null;var e=l.scrollSize,t=l.client,n=iI({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:n,diff:{value:GA,displacement:GA}}}}(),u="vertical"===o?AE:EE;return{descriptor:t,isCombineEnabled:r,isFixedOnPage:i,axis:u,isEnabled:n,client:a,page:s,frame:c,subject:eE({page:s,withPlaceholder:null,axis:u,frame:c})}}({descriptor:n,isEnabled:!a,isCombineEnabled:s,isFixedOnPage:r.isFixedOnPage,direction:o,client:u,page:d,closest:h});return f},VS={passive:!1},HS={passive:!0},qS=function(e){return e.shouldPublishImmediately?VS:HS};function QS(e){var t=(0,i.useContext)(e);return t||PA(!1),t}var KS=function(e){return e&&e.env.closestScrollable||null};function YS(){}var JS={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},XS=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate,i=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate;return t||"close"===r?JS:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}}({isAnimatingOpenOnMount:t,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==r?Bx.placeholder:null}};var $S=i.memo((function(e){var t=(0,i.useRef)(null),n=dA((function(){t.current&&(clearTimeout(t.current),t.current=null)}),[]),r=e.animate,o=e.onTransitionEnd,a=e.onClose,s=e.contextId,l=(0,i.useState)("open"===e.animate),c=l[0],u=l[1];(0,i.useEffect)((function(){return c?"open"!==r?(n(),u(!1),YS):t.current?YS:(t.current=setTimeout((function(){t.current=null,u(!1)})),n):YS}),[r,c,n]);var d=dA((function(e){"height"===e.propertyName&&(o(),"close"===r&&a())}),[r,a,o]),h=XS({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return i.createElement(e.placeholder.tagName,{style:h,"data-rbd-placeholder-context-id":s,onTransitionEnd:d,ref:e.innerRef})})),ZS=i.createContext(null);var eC=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return sw(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)},t}(i.PureComponent),tC=5e3,nC=4500,rC=function(e,t){return t?Bx.drop(t.duration):e?Bx.snap:Bx.fluid},iC=function(e,t){return e?t?_x.drop:_x.combining:null};function oC(e){return"DRAGGING"===e.type?function(e){var t=e.dimension.client,n=e.offset,r=e.combineWith,i=e.dropping,o=Boolean(r),a=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode}(e),s=Boolean(i),l=s?Ux(n,o):Fx(n);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:rC(a,i),transform:l,opacity:iC(o,s),zIndex:s?nC:tC,pointerEvents:"none"}}(e):{transform:Fx((t=e).offset),transition:t.shouldAnimateDisplacement?null:"none"};var t}function aC(e){var t=ZI("draggable"),n=e.descriptor,r=e.registry,o=e.getDraggableRef,a=e.canDragInteractiveElements,s=e.shouldRespectForcePress,l=e.isEnabled,c=uA((function(){return{canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:l}}),[a,l,s]),u=dA((function(e){var t=o();return t||PA(!1),function(e,t,n){void 0===n&&(n=GA);var r=window.getComputedStyle(t),i=t.getBoundingClientRect(),o=AA(i,r),a=wA(o,n);return{descriptor:e,placeholder:{client:o,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:o.marginBox.width,y:o.marginBox.height},client:o,page:a}}(n,t,e)}),[n,o]),d=uA((function(){return{uniqueId:t,descriptor:n,options:c,getDimension:u}}),[n,u,c,t]),h=(0,i.useRef)(d),f=(0,i.useRef)(!0);UI((function(){return r.draggable.register(h.current),function(){return r.draggable.unregister(h.current)}}),[r.draggable]),UI((function(){if(f.current)f.current=!1;else{var e=h.current;h.current=d,r.draggable.update(d,e)}}),[d,r.draggable])}function sC(e,t,n){nS()}function lC(e){e.preventDefault()}var cC=function(e,t){return e===t},uC=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null};function dC(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var hC={mapped:{type:"SECONDARY",offset:GA,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:dC(null)}};var fC=sA((function(){var e=function(){var e=SA((function(e,t){return{x:e,y:t}})),t=SA((function(e,t,n,r,i){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(i),dropAnimation:i,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}})),n=SA((function(e,n,r,i,o,a,s){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:o,combineWith:a,mode:n,offset:e,dimension:r,forceShouldAnimate:s,snapshot:t(n,i,o,a,null)}}}));return function(r,i){if(r.isDragging){if(r.critical.draggable.id!==i.draggableId)return null;var o=r.current.client.offset,a=r.dimensions.draggables[i.draggableId],s=XE(r.impact),l=(u=r.impact).at&&"COMBINE"===u.at.type?u.at.combine.draggableId:null,c=r.forceShouldAnimate;return n(e(o.x,o.y),r.movementMode,a,i.isClone,s,l,c)}var u;if("DROP_ANIMATING"===r.phase){var d=r.completed;if(d.result.draggableId!==i.draggableId)return null;var h=i.isClone,f=r.dimensions.draggables[i.draggableId],p=d.result,g=p.mode,m=uC(p),v=function(e){return e.combine?e.combine.draggableId:null}(p),y={duration:r.dropDuration,curve:Rx,moveTo:r.newHomeClientOffset,opacity:v?_x.drop:null,scale:v?Lx.drop:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:f,dropping:y,draggingOver:m,combineWith:v,mode:g,forceShouldAnimate:null,snapshot:t(g,h,m,v,y)}}}return null}}(),t=function(){var e=SA((function(e,t){return{x:e,y:t}})),t=SA(dC),n=SA((function(e,n,r){return void 0===n&&(n=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:r,snapshot:t(n)}}})),r=function(e){return e?n(GA,e,!0):null},i=function(t,i,o,a){var s=o.displaced.visible[t],l=Boolean(a.inVirtualList&&a.effected[t]),c=hE(o),u=c&&c.draggableId===t?i:null;if(!s){if(!l)return r(u);if(o.displaced.invisible[t])return null;var d=qA(a.displacedBy.point),h=e(d.x,d.y);return n(h,u,!0)}if(l)return r(u);var f=o.displacedBy.point,p=e(f.x,f.y);return n(p,u,s.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:i(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var n=e.completed;return n.result.draggableId===t.draggableId?null:i(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return function(n,r){return e(n,r)||t(n,r)||hC}}),{dropAnimationFinished:Px},null,{context:KI,pure:!0,areStatePropsEqual:cC})((function(e){var t=(0,i.useRef)(null),n=dA((function(e){t.current=e}),[]),r=dA((function(){return t.current}),[]),o=QS(eS),a=o.contextId,s=o.dragHandleUsageInstructionsId,l=o.registry,c=QS(ZS),u=c.type,d=c.droppableId,h=uA((function(){return{id:e.draggableId,index:e.index,type:u,droppableId:d}}),[e.draggableId,e.index,u,d]),f=e.children,p=e.draggableId,g=e.isEnabled,m=e.shouldRespectForcePress,v=e.canDragInteractiveElements,y=e.isClone,b=e.mapped,w=e.dropAnimationFinished;sC(),tS(),y||aC(uA((function(){return{descriptor:h,registry:l,getDraggableRef:r,canDragInteractiveElements:v,shouldRespectForcePress:m,isEnabled:g}}),[h,l,r,v,m,g]));var A=uA((function(){return g?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":p,"data-rbd-drag-handle-context-id":a,draggable:!1,onDragStart:lC}:null}),[a,s,p,g]),E=dA((function(e){"DRAGGING"===b.type&&b.dropping&&"transform"===e.propertyName&&w()}),[w,b]),x=uA((function(){var e=oC(b),t="DRAGGING"===b.type&&b.dropping?E:null;return{innerRef:n,draggableProps:{"data-rbd-draggable-context-id":a,"data-rbd-draggable-id":p,style:e,onTransitionEnd:t},dragHandleProps:A}}),[a,A,p,b,E,n]),I=uA((function(){return{draggableId:h.id,type:h.type,source:{index:h.index,droppableId:h.droppableId}}}),[h.droppableId,h.id,h.index,h.type]);return f(x,b.snapshot,I)}));function pC(e){return QS(ZS).isUsingCloneFor!==e.draggableId||e.isClone?i.createElement(fC,e):null}function gC(e){var t="boolean"!==typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),r=Boolean(e.shouldRespectForcePress);return i.createElement(pC,lw({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}var mC=function(e,t){return e===t.droppable.type},vC=function(e,t){return t.draggables[e.draggable.id]};var yC={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||PA(!1),document.body}},bC=sA((function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=lw({},e,{shouldAnimatePlaceholder:!1}),n=SA((function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}})),r=SA((function(r,i,o,a,s,l){var c=s.descriptor.id;if(s.descriptor.droppableId===r){var u=l?{render:l,dragging:n(s.descriptor)}:null,d={isDraggingOver:o,draggingOverWith:o?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!1,snapshot:d,useClone:u}}if(!i)return t;if(!a)return e;var h={isDraggingOver:o,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!0,snapshot:h,useClone:null}}));return function(n,i){var o=i.droppableId,a=i.type,s=!i.isDropDisabled,l=i.renderClone;if(n.isDragging){var c=n.critical;if(!mC(a,c))return t;var u=vC(c,n.dimensions),d=XE(n.impact)===o;return r(o,s,d,d,u,l)}if("DROP_ANIMATING"===n.phase){var h=n.completed;if(!mC(a,h.critical))return t;var f=vC(h.critical,n.dimensions);return r(o,s,uC(h.result)===o,XE(h.impact)===o,f,l)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){var p=n.completed;if(!mC(a,p.critical))return t;var g=XE(p.impact)===o,m=Boolean(p.impact.at&&"COMBINE"===p.impact.at.type),v=p.critical.droppable.id===o;return g?m?e:t:v?e:t}return t}}),{updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}},null,{context:KI,pure:!0,areStatePropsEqual:cC})((function(e){var t=(0,i.useContext)(eS);t||PA(!1);var n=t.contextId,r=t.isMovementAllowed,o=(0,i.useRef)(null),a=(0,i.useRef)(null),l=e.children,c=e.droppableId,u=e.type,d=e.mode,h=e.direction,f=e.ignoreContainerClipping,p=e.isDropDisabled,g=e.isCombineEnabled,m=e.snapshot,v=e.useClone,y=e.updateViewportMaxScroll,b=e.getContainerForClone,w=dA((function(){return o.current}),[]),A=dA((function(e){o.current=e}),[]),E=(dA((function(){return a.current}),[]),dA((function(e){a.current=e}),[]));nS();var x=dA((function(){r()&&y({maxScroll:aI()})}),[r,y]);!function(e){var t=(0,i.useRef)(null),n=QS(eS),r=ZI("droppable"),o=n.registry,a=n.marshal,s=iS(e),l=uA((function(){return{id:e.droppableId,type:e.type,mode:e.mode}}),[e.droppableId,e.mode,e.type]),c=(0,i.useRef)(l),u=uA((function(){return SA((function(e,n){t.current||PA(!1);var r={x:e,y:n};a.updateDroppableScroll(l.id,r)}))}),[l.id,a]),d=dA((function(){var e=t.current;return e&&e.env.closestScrollable?US(e.env.closestScrollable):GA}),[]),h=dA((function(){var e=d();u(e.x,e.y)}),[d,u]),f=uA((function(){return CA(h)}),[h]),p=dA((function(){var e=t.current,n=KS(e);e&&n||PA(!1),e.scrollOptions.shouldPublishImmediately?h():f()}),[f,h]),g=dA((function(e,r){t.current&&PA(!1);var i=s.current,o=i.getDroppableRef();o||PA(!1);var a=GS(o),c={ref:o,descriptor:l,env:a,scrollOptions:r};t.current=c;var u=WS({ref:o,descriptor:l,env:a,windowScroll:e,direction:i.direction,isDropDisabled:i.isDropDisabled,isCombineEnabled:i.isCombineEnabled,shouldClipSubject:!i.ignoreContainerClipping}),d=a.closestScrollable;return d&&(d.setAttribute(jI.contextId,n.contextId),d.addEventListener("scroll",p,qS(c.scrollOptions))),u}),[n.contextId,l,p,s]),m=dA((function(){var e=t.current,n=KS(e);return e&&n||PA(!1),US(n)}),[]),v=dA((function(){var e=t.current;e||PA(!1);var n=KS(e);t.current=null,n&&(f.cancel(),n.removeAttribute(jI.contextId),n.removeEventListener("scroll",p,qS(e.scrollOptions)))}),[p,f]),y=dA((function(e){var n=t.current;n||PA(!1);var r=KS(n);r||PA(!1),r.scrollTop+=e.y,r.scrollLeft+=e.x}),[]),b=uA((function(){return{getDimensionAndWatchScroll:g,getScrollWhileDragging:m,dragStopped:v,scroll:y}}),[v,g,m,y]),w=uA((function(){return{uniqueId:r,descriptor:l,callbacks:b}}),[b,l,r]);UI((function(){return c.current=w.descriptor,o.droppable.register(w),function(){t.current&&v(),o.droppable.unregister(w)}}),[b,l,v,w,a,o.droppable]),UI((function(){t.current&&a.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)}),[e.isDropDisabled,a]),UI((function(){t.current&&a.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,a])}({droppableId:c,type:u,mode:d,direction:h,isDropDisabled:p,isCombineEnabled:g,ignoreContainerClipping:f,getDroppableRef:w});var I=i.createElement(eC,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(function(e){var t=e.onClose,r=e.data,o=e.animate;return i.createElement($S,{placeholder:r,onClose:t,innerRef:E,animate:o,contextId:n,onTransitionEnd:x})})),S=uA((function(){return{innerRef:A,placeholder:I,droppableProps:{"data-rbd-droppable-id":c,"data-rbd-droppable-context-id":n}}}),[n,c,I,A]),C=v?v.dragging.draggableId:null,D=uA((function(){return{droppableId:c,type:u,isUsingCloneFor:C}}),[c,C,u]);return i.createElement(ZS.Provider,{value:D},l(S,m),function(){if(!v)return null;var e=v.dragging,t=v.render,n=i.createElement(pC,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(function(n,r){return t(n,r,e)}));return s.createPortal(n,b())}())}));function wC(e){let{question:t,index:n,onChange:r}=e;return(0,Le.jsx)(gC,{draggableId:t.id,index:n,children:e=>(0,Le.jsx)("div",{ref:e.innerRef,...e.draggableProps,...e.dragHandleProps,style:{padding:"0.5rem",marginBottom:"0.5rem",background:"#f9f9f9",borderRadius:"6px",display:"flex",alignItems:"center",...e.draggableProps.style},className:"draggable-item",children:(0,Le.jsx)("input",{type:"text",value:t.text,onChange:e=>r(e.target.value),placeholder:"Enter question",style:{width:"100%",padding:"0.5rem",fontSize:"1rem"}})})})}function AC(e){let{group:t,index:n,setGroups:r}=e;const[o,a]=(0,i.useState)(t.groupName);return(0,Le.jsxs)("div",{style:{marginBottom:"2rem",padding:"1rem",border:"1px solid #ccc",borderRadius:"8px"},children:[(0,Le.jsx)("input",{type:"text",value:o,onChange:e=>{const n=e.target.value;a(n),r((e=>{const r=[...e];return r.find((e=>e.id===t.id)).groupName=n,r}))},style:{fontSize:"1.2rem",marginBottom:"1rem",width:"100%"}}),(0,Le.jsx)(bC,{droppableId:t.id,children:e=>(0,Le.jsxs)("div",{...e.droppableProps,ref:e.innerRef,children:[t.questions.map(((e,n)=>(0,Le.jsx)(wC,{question:e,index:n,onChange:n=>((e,n)=>{r((r=>{const i=[...r],o=i.find((e=>e.id===t.id)).questions.find((t=>t.id===e));return o.text=n,i}))})(e.id,n)},e.id))),e.placeholder]})}),(0,Le.jsx)("button",{style:{marginTop:"1rem"},onClick:()=>{const e={id:Date.now().toString(),text:""};r((n=>{const r=[...n];return r.find((e=>e.id===t.id)).questions.push(e),r}))},children:"+ Add Question"})]})}function EC(e){let{groups:t,setGroups:n}=e;return(0,Le.jsx)("div",{style:{marginTop:"2rem"},children:t.map(((e,t)=>(0,Le.jsx)(AC,{group:e,index:t,setGroups:n},e.id)))})}function xC(e){let{addGroup:t}=e;const[n,r]=(0,i.useState)("");return(0,Le.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,Le.jsx)("input",{type:"text",value:n,onChange:e=>r(e.target.value),placeholder:"New Group Name",style:{marginRight:"1rem"}}),(0,Le.jsx)("button",{onClick:()=>{n.trim()&&(t(n.trim()),r(""))},children:"Add Group"})]})}function IC(e){let{onSave:t,onClose:n}=e;const[r,o]=(0,i.useState)("");return(0,Le.jsx)("div",{className:"modal-overlay",children:(0,Le.jsxs)("div",{className:"modal",children:[(0,Le.jsx)("h3",{children:"Name Your Questionnaire Template"}),(0,Le.jsx)("input",{type:"text",value:r,onChange:e=>o(e.target.value),placeholder:"Ex: Modern Brand Discovery",style:{width:"80%",margin:"1rem 0"}}),(0,Le.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,Le.jsx)("button",{onClick:()=>{r.trim()&&t(r.trim())},className:"btn btn-primary",children:"Save Template"}),(0,Le.jsx)("button",{className:"btn btn-secondary",onClick:n,children:"Cancel"})]})]})})}bC.defaultProps=yC;function SC(){const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!1),[o,a]=(0,i.useState)(!1);return(0,Le.jsxs)("div",{style:{padding:"2rem"},children:[(0,Le.jsx)("h2",{children:"Edit Grouped Questionnaire"}),(0,Le.jsx)(xC,{addGroup:e=>{const n={id:Date.now().toString(),groupName:e,questions:[]};t((e=>[...e,n]))}}),(0,Le.jsx)(RS,{onDragEnd:e=>{},children:(0,Le.jsx)(EC,{groups:e,setGroups:t})}),(0,Le.jsx)("div",{style:{marginTop:"2rem"},children:(0,Le.jsx)("button",{onClick:()=>r(!0),disabled:o,children:o?"Saving...":"Save As Template"})}),n&&(0,Le.jsx)(IC,{onSave:async t=>{try{a(!0);const n={name:t,type:"branding",groups:e,createdAt:new Date};await(async e=>{const t=Mb.currentUser;if(!t)throw new Error("No authenticated user found.");const n=hv(fv(Bb,"users",t.uid),"questionnaireTemplates");await uy(n,e)})(n),alert("Template saved successfully!")}catch(n){console.error("Error saving template:",n),alert("Failed to save template.")}finally{a(!1),r(!1)}},onClose:()=>r(!1)})]})}function CC(){const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(""),[o,a]=(0,i.useState)(!0),s=ne(),{type:l}=re(),[c]=_e(),u="true"===c.get("wizard");(0,i.useEffect)((()=>{(async()=>{try{const e=Mb.currentUser;if(!e)throw new Error("No authenticated user");const n=Hv(hv(Bb,"users",e.uid,"questionnaireTemplates"),Qv("type","==",l)),r=(await ly(n)).docs.map((e=>({id:e.id,...e.data()})));r.unshift({id:"default",name:"Default Template",groups:qb}),t(r)}catch(e){console.error("Error loading templates:",e)}finally{a(!1)}})()}),[l]);return o?(0,Le.jsx)("p",{children:"Loading templates..."}):(0,Le.jsxs)("div",{style:{padding:"2rem"},children:[(0,Le.jsx)("h2",{children:u?`Choose a ${l.charAt(0).toUpperCase()+l.slice(1)} Template`:`Create New ${l.charAt(0).toUpperCase()+l.slice(1)} Template`}),0===e.length?(0,Le.jsx)("div",{style:{marginBottom:"2rem"},children:(0,Le.jsx)("p",{children:"No templates found. You can start with a default template."})}):(0,Le.jsxs)(Le.Fragment,{children:[(0,Le.jsx)("div",{children:(0,Le.jsxs)("select",{value:n,onChange:e=>r(e.target.value),style:{width:"100%",padding:"1rem",fontSize:"1rem",marginBottom:"1rem"},children:[(0,Le.jsx)("option",{value:"",children:"Select a template to start from"}),e.map((e=>(0,Le.jsx)("option",{value:e.id,children:e.name},e.id)))]})}),(0,Le.jsx)("button",{onClick:()=>{n&&s(u?`/wizard/${l}/${n}`:`/template/create/${l}?baseTemplate=${n}`)},disabled:!n,className:"btn-primary",children:u?"Continue With Selected Template":"Use As Starting Point"})]}),(0,Le.jsx)("div",{style:{marginTop:"2rem"},children:(0,Le.jsx)("button",{onClick:()=>{s(u?`/wizard/${l}/default`:`/template/create/${l}`)},className:"btn-secondary",children:u?"Start With Default Brief":"Start Fresh"})})]})}const DC=JSON.parse('{"branding":[{"id":"b1","text":"What is your company name?"},{"id":"b2","text":"Who is your target audience?"},{"id":"b3","text":"What style of logo do you prefer?"}],"website":[{"id":"w1","text":"What is the primary purpose of your website?"},{"id":"w2","text":"What features does your website need?"}],"app":[{"id":"a1","text":"Describe your app concept."},{"id":"a2","text":"What platforms will your app support?"}]}');function NC(){const{type:e,templateId:t}=re(),[n,r]=(0,i.useState)(!0),[o,a]=(0,i.useState)([]),[s,l]=(0,i.useState)("");return(0,i.useEffect)((()=>{(async()=>{try{if("default"===t)a(DC[e]||[]);else{const e=Mb.currentUser;if(!e)throw new Error("No user authenticated.");const n=fv(Bb,"users",e.uid,"questionnaireTemplates",t),r=await ay(n);if(!r.exists())throw new Error("Template not found.");const i=r.data().groups.flatMap((e=>e.questions));a(i)}}catch(n){console.error("Error loading project:",n),l(n.message)}finally{r(!1)}})()}),[e,t]),n?(0,Le.jsx)("p",{children:"Loading brief..."}):s?(0,Le.jsxs)("p",{style:{color:"red"},children:["Error: ",s]}):(0,Le.jsx)("div",{style:{padding:"2rem"},children:(0,Le.jsx)(Yb,{initialQuestions:o})})}function TC(){var e;const{briefId:t}=re(),[n,r]=(0,i.useState)(null),[o,a]=(0,i.useState)(!0),[s,l]=(0,i.useState)(null),c=ne();if((0,i.useEffect)((()=>{(async()=>{try{const e=fv(Bb,"creativeBriefs",t),n=await ay(e);if(!n.exists())throw new Error("Brief not found.");r(n.data())}catch(e){console.error("Error loading brief:",e),l("Failed to load brief.")}finally{a(!1)}})()}),[t]),o)return(0,Le.jsx)(Wb,{message:"Fetching brief details..."});if(s)return(0,Le.jsx)("p",{style:{color:"red"},children:s});const{type:u,createdAt:d,answers:h}=n;return(0,Le.jsxs)("div",{style:{maxWidth:"800px",margin:"0 auto",padding:"2rem"},children:[(0,Le.jsx)("button",{onClick:()=>c(-1),style:{marginBottom:"1rem"},children:"\u2190 Back"}),(0,Le.jsxs)("h2",{children:[(null===u||void 0===u?void 0:u.charAt(0).toUpperCase())+(null===u||void 0===u?void 0:u.slice(1))," Brief"]}),(0,Le.jsxs)("p",{style:{fontStyle:"italic",marginBottom:"2rem"},children:["Created: ",null===d||void 0===d||null===(e=d.toDate)||void 0===e?void 0:e.call(d).toLocaleDateString()]}),h?(0,Le.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:Object.entries(h).map((e=>{let[t,n]=e;return(0,Le.jsxs)("div",{style:{borderBottom:"1px solid #ddd",paddingBottom:"0.5rem"},children:[(0,Le.jsxs)("strong",{children:["Question ID: ",t]}),(0,Le.jsxs)("p",{children:["Answer: ",n]})]},t)}))}):(0,Le.jsx)("p",{children:"No answers recorded."})]})}function kC(e){let{questions:t,setQuestions:n}=e;return(0,Le.jsx)(RS,{onDragEnd:e=>{if(!e.destination)return;const r=Array.from(t),[i]=r.splice(e.source.index,1);r.splice(e.destination.index,0,i),n(r)},children:(0,Le.jsx)(bC,{droppableId:"questions",children:e=>(0,Le.jsxs)("ul",{...e.droppableProps,ref:e.innerRef,style:{padding:0,listStyle:"none",marginBottom:"2rem"},children:[t.map(((e,t)=>(0,Le.jsx)(gC,{draggableId:e.id,index:t,children:t=>(0,Le.jsx)("li",{ref:t.innerRef,...t.draggableProps,...t.dragHandleProps,style:{...t.draggableProps.style,padding:"1rem",marginBottom:"0.5rem",background:"#f2f2f2",borderRadius:"6px",cursor:"grab"},className:"draggable-item",children:e.text})},e.id))),e.placeholder]})})})}function OC(){const[e]=_e(),[t,n]=(0,i.useState)([]);(0,i.useEffect)((()=>{"default"===e.get("template")&&n(qb)}),[e]);return(0,Le.jsxs)("div",{style:{padding:"2rem"},children:[(0,Le.jsx)("h1",{children:"Create New Questionnaire"}),(0,Le.jsx)(RS,{onDragEnd:e=>{if(!e.destination)return;const r=Array.from(t),[i]=r.splice(e.source.index,1);r.splice(e.destination.index,0,i),n(r)},children:(0,Le.jsx)(kC,{questions:t,setQuestions:n})})]})}function PC(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var RC=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),_C=()=>Math.random().toString(36).substring(7).split("").join("."),LC={INIT:`@@redux/INIT${_C()}`,REPLACE:`@@redux/REPLACE${_C()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${_C()}`};function MC(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function BC(e,t,n){if("function"!==typeof e)throw new Error(PC(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(PC(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(PC(1));return n(BC)(e,t)}let r=e,i=t,o=new Map,a=o,s=0,l=!1;function c(){a===o&&(a=new Map,o.forEach(((e,t)=>{a.set(t,e)})))}function u(){if(l)throw new Error(PC(3));return i}function d(e){if("function"!==typeof e)throw new Error(PC(4));if(l)throw new Error(PC(5));let t=!0;c();const n=s++;return a.set(n,e),function(){if(t){if(l)throw new Error(PC(6));t=!1,c(),a.delete(n),o=null}}}function h(e){if(!MC(e))throw new Error(PC(7));if("undefined"===typeof e.type)throw new Error(PC(8));if("string"!==typeof e.type)throw new Error(PC(17));if(l)throw new Error(PC(9));try{l=!0,i=r(i,e)}finally{l=!1}return(o=a).forEach((e=>{e()})),e}h({type:LC.INIT});return{dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(PC(10));r=e,h({type:LC.REPLACE})},[RC]:function(){const e=d;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(PC(11));function n(){const e=t;e.next&&e.next(u())}n();return{unsubscribe:e(n)}},[RC](){return this}}}}}function jC(e,t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t(e.apply(this,r))}}function FC(e,t){if("function"===typeof e)return jC(e,t);if("object"!==typeof e||null===e)throw new Error(PC(16));const n={};for(const r in e){const i=e[r];"function"===typeof i&&(n[r]=jC(i,t))}return n}function UC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce(((e,t)=>function(){return e(t(...arguments))}))}n(237);var zC=i.version.startsWith("19"),GC=Symbol.for(zC?"react.transitional.element":"react.element"),WC=Symbol.for("react.portal"),VC=Symbol.for("react.fragment"),HC=Symbol.for("react.strict_mode"),qC=Symbol.for("react.profiler"),QC=Symbol.for("react.consumer"),KC=Symbol.for("react.context"),YC=Symbol.for("react.forward_ref"),JC=Symbol.for("react.suspense"),XC=Symbol.for("react.suspense_list"),$C=Symbol.for("react.memo"),ZC=Symbol.for("react.lazy"),eD=YC,tD=$C;function nD(e){if("object"===typeof e&&null!==e){const{$$typeof:t}=e;switch(t){case GC:switch(e=e.type){case VC:case qC:case HC:case JC:case XC:return e;default:switch(e=e&&e.$$typeof){case KC:case YC:case ZC:case $C:case QC:return e;default:return t}}case WC:return t}}}function rD(e,t,n,r,i){let o,a,s,l,c,{areStatesEqual:u,areOwnPropsEqual:d,areStatePropsEqual:h}=i,f=!1;function p(i,f){const p=!d(f,a),g=!u(i,o,f,a);return o=i,a=f,p&&g?(s=e(o,a),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a),c):p?(e.dependsOnOwnProps&&(s=e(o,a)),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a),c):g?function(){const t=e(o,a),r=!h(t,s);return s=t,r&&(c=n(s,l,a)),c}():c}return function(i,u){return f?p(i,u):(o=i,a=u,s=e(o,a),l=t(r,a),c=n(s,l,a),f=!0,c)}}function iD(e){return function(t){const n=e(t);function r(){return n}return r.dependsOnOwnProps=!1,r}}function oD(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function aD(e,t){return function(t,n){let{displayName:r}=n;const i=function(e,t){return i.dependsOnOwnProps?i.mapToProps(e,t):i.mapToProps(e,void 0)};return i.dependsOnOwnProps=!0,i.mapToProps=function(t,n){i.mapToProps=e,i.dependsOnOwnProps=oD(e);let r=i(t,n);return"function"===typeof r&&(i.mapToProps=r,i.dependsOnOwnProps=oD(r),r=i(t,n)),r},i}}function sD(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function lD(e,t,n){return{...n,...e,...t}}function cD(e){e()}var uD={notify(){},get:()=>[]};function dD(e,t){let n,r=uD,i=0,o=!1;function a(){c.onStateChange&&c.onStateChange()}function s(){i++,n||(n=t?t.addNestedSub(a):e.subscribe(a),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){cD((()=>{let t=e;for(;t;)t.callback(),t=t.next}))},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function l(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=uD)}const c={addNestedSub:function(e){s();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:a,isSubscribed:function(){return o},trySubscribe:function(){o||(o=!0,s())},tryUnsubscribe:function(){o&&(o=!1,l())},getListeners:()=>r};return c}var hD=(()=>!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement))(),fD=(()=>"undefined"!==typeof navigator&&"ReactNative"===navigator.product)(),pD=(()=>hD||fD?i.useLayoutEffect:i.useEffect)();function gD(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function mD(e,t){if(gD(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!gD(e[n[i]],t[n[i]]))return!1;return!0}var vD={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},yD={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},bD={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},wD={[eD]:{$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},[tD]:bD};function AD(e){return nD(e)===$C?bD:wD[e.$$typeof]||vD}var ED=Object.defineProperty,xD=Object.getOwnPropertyNames,ID=Object.getOwnPropertySymbols,SD=Object.getOwnPropertyDescriptor,CD=Object.getPrototypeOf,DD=Object.prototype;function ND(e,t){if("string"!==typeof t){if(DD){const n=CD(t);n&&n!==DD&&ND(e,n)}let n=xD(t);ID&&(n=n.concat(ID(t)));const r=AD(e),i=AD(t);for(let o=0;o<n.length;++o){const a=n[o];if(!yD[a]&&(!i||!i[a])&&(!r||!r[a])){const n=SD(t,a);try{ED(e,a,n)}catch(zP){}}}}return e}var TD=Symbol.for("react-redux-context"),kD="undefined"!==typeof globalThis?globalThis:{};function OD(){if(!i.createContext)return{};const e=kD[TD]??=new Map;let t=e.get(i.createContext);return t||(t=i.createContext(null),e.set(i.createContext,t)),t}var PD=OD(),RD=[null,null];function _D(e,t,n,r,i,o){e.current=r,n.current=!1,i.current&&(i.current=null,o())}function LD(e,t){return e===t}var MD=function(e,t,n){let{pure:r,areStatesEqual:o=LD,areOwnPropsEqual:a=mD,areStatePropsEqual:s=mD,areMergedPropsEqual:l=mD,forwardRef:c=!1,context:u=PD}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const d=u,h=function(e){return e?"function"===typeof e?aD(e):sD(e,"mapStateToProps"):iD((()=>({})))}(e),f=function(e){return e&&"object"===typeof e?iD((t=>function(e,t){const n={};for(const r in e){const i=e[r];"function"===typeof i&&(n[r]=function(){return t(i(...arguments))})}return n}(e,t))):e?"function"===typeof e?aD(e):sD(e,"mapDispatchToProps"):iD((e=>({dispatch:e})))}(t),p=function(e){return e?"function"===typeof e?function(e){return function(t,n){let r,{displayName:i,areMergedPropsEqual:o}=n,a=!1;return function(t,n,i){const s=e(t,n,i);return a?o(s,r)||(r=s):(a=!0,r=s),r}}}(e):sD(e,"mergeProps"):()=>lD}(n),g=Boolean(e);return e=>{const t=e.displayName||e.name||"Component",n=`Connect(${t})`,r={shouldHandleStateChanges:g,displayName:n,wrappedComponentName:t,WrappedComponent:e,initMapStateToProps:h,initMapDispatchToProps:f,initMergeProps:p,areStatesEqual:o,areStatePropsEqual:s,areOwnPropsEqual:a,areMergedPropsEqual:l};function u(t){const[n,o,a]=i.useMemo((()=>{const{reactReduxForwardedRef:e,...n}=t;return[t.context,e,n]}),[t]),s=i.useMemo((()=>d),[n,d]),l=i.useContext(s),c=Boolean(t.store)&&Boolean(t.store.getState)&&Boolean(t.store.dispatch),u=Boolean(l)&&Boolean(l.store);const h=c?t.store:l.store,f=u?l.getServerState:h.getState,p=i.useMemo((()=>function(e,t){let{initMapStateToProps:n,initMapDispatchToProps:r,initMergeProps:i,...o}=t;return rD(n(e,o),r(e,o),i(e,o),e,o)}(h.dispatch,r)),[h]),[m,v]=i.useMemo((()=>{if(!g)return RD;const e=dD(h,c?void 0:l.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[h,c,l]),y=i.useMemo((()=>c?l:{...l,subscription:m}),[c,l,m]),b=i.useRef(void 0),w=i.useRef(a),A=i.useRef(void 0),E=i.useRef(!1),x=i.useRef(!1),I=i.useRef(void 0);pD((()=>(x.current=!0,()=>{x.current=!1})),[]);const S=i.useMemo((()=>()=>A.current&&a===w.current?A.current:p(h.getState(),a)),[h,a]),C=i.useMemo((()=>e=>m?function(e,t,n,r,i,o,a,s,l,c,u){if(!e)return()=>{};let d=!1,h=null;const f=()=>{if(d||!s.current)return;const e=t.getState();let n,f;try{n=r(e,i.current)}catch(zP){f=zP,h=zP}f||(h=null),n===o.current?a.current||c():(o.current=n,l.current=n,a.current=!0,u())};return n.onStateChange=f,n.trySubscribe(),f(),()=>{if(d=!0,n.tryUnsubscribe(),n.onStateChange=null,h)throw h}}(g,h,m,p,w,b,E,x,A,v,e):()=>{}),[m]);var D,N,T;let k;D=_D,N=[w,b,E,a,A,v],pD((()=>D(...N)),T);try{k=i.useSyncExternalStore(C,S,f?()=>p(f(),a):S)}catch(P){throw I.current&&(P.message+=`\nThe error may be correlated with this previous error:\n${I.current.stack}\n\n`),P}pD((()=>{I.current=void 0,A.current=void 0,b.current=k}));const O=i.useMemo((()=>i.createElement(e,{...k,ref:o})),[o,e,k]);return i.useMemo((()=>g?i.createElement(s.Provider,{value:y},O):O),[s,O,y])}const m=i.memo(u);if(m.WrappedComponent=e,m.displayName=u.displayName=n,c){const t=i.forwardRef((function(e,t){return i.createElement(m,{...e,reactReduxForwardedRef:t})})),r=t;return r.displayName=n,r.WrappedComponent=e,ND(r,e)}return ND(m,e)}};var BD=function(e){const{children:t,context:n,serverState:r,store:o}=e,a=i.useMemo((()=>{const e=dD(o);return{store:o,subscription:e,getServerState:r?()=>r:void 0}}),[o,r]),s=i.useMemo((()=>o.getState()),[o]);pD((()=>{const{subscription:e}=a;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==o.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[a,s]);const l=n||PD;return i.createElement(l.Provider,{value:a},t)};function jD(e,t){}jD.bind(null,"warn"),jD.bind(null,"error");function FD(){}function UD(e,t,n){const r=t.map((t=>{const r=function(e,t){return{...e,...t}}(n,t.options);return e.addEventListener(t.eventName,t.fn,r),function(){e.removeEventListener(t.eventName,t.fn,r)}}));return function(){r.forEach((e=>{e()}))}}const zD="Invariant failed";class GD extends Error{}function WD(e,t){throw new GD(zD)}GD.prototype.toString=function(){return this.message};class VD extends i.Component{constructor(){super(...arguments),this.callbacks=null,this.unbind=FD,this.onWindowError=e=>{const t=this.getCallbacks();t.isDragging()&&t.tryAbort();e.error instanceof GD&&e.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=e=>{this.callbacks=e}}componentDidMount(){this.unbind=UD(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(!(e instanceof GD))throw e;this.setState({})}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const HD=e=>e+1,qD=(e,t)=>{const n=e.droppableId===t.droppableId,r=HD(e.index),i=HD(t.index);return n?`\n      You have moved the item from position ${r}\n      to position ${i}\n    `:`\n    You have moved the item from position ${r}\n    in list ${e.droppableId}\n    to list ${t.droppableId}\n    in position ${i}\n  `},QD=(e,t,n)=>t.droppableId===n.droppableId?`\n      The item ${e}\n      has been combined with ${n.draggableId}`:`\n      The item ${e}\n      in list ${t.droppableId}\n      has been combined with ${n.draggableId}\n      in list ${n.droppableId}\n    `,KD=e=>`\n  The item has returned to its starting position\n  of ${HD(e.index)}\n`,YD={dragHandleUsageInstructions:"\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",onDragStart:e=>`\n  You have lifted an item in position ${HD(e.source.index)}\n`,onDragUpdate:e=>{const t=e.destination;if(t)return qD(e.source,t);const n=e.combine;return n?QD(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},onDragEnd:e=>{if("CANCEL"===e.reason)return`\n      Movement cancelled.\n      ${KD(e.source)}\n    `;const t=e.destination,n=e.combine;return t?`\n      You have dropped the item.\n      ${qD(e.source,t)}\n    `:n?`\n      You have dropped the item.\n      ${QD(e.draggableId,e.source,n)}\n    `:`\n    The item has been dropped while not over a drop area.\n    ${KD(e.source)}\n  `}};function JD(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(n=e[i],r=t[i],!(n===r||Number.isNaN(n)&&Number.isNaN(r)))return!1;var n,r;return!0}function XD(e,t){const n=(0,i.useState)((()=>({inputs:t,result:e()})))[0],r=(0,i.useRef)(!0),o=(0,i.useRef)(n),a=r.current||Boolean(t&&o.current.inputs&&JD(t,o.current.inputs))?o.current:{inputs:t,result:e()};return(0,i.useEffect)((()=>{r.current=!1,o.current=a}),[a]),a.result}function $D(e,t){return XD((()=>e),t)}const ZD={x:0,y:0},eN=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),tN=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),nN=(e,t)=>e.x===t.x&&e.y===t.y,rN=e=>({x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}),iN=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return"x"===e?{x:t,y:n}:{x:n,y:t}},oN=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),aN=(e,t)=>Math.min(...t.map((t=>oN(e,t)))),sN=e=>t=>({x:e(t.x),y:e(t.y)});const lN=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),cN=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],uN=(e,t)=>t&&t.shouldClipSubject?((e,t)=>{const n=fA({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n})(t.pageMarginBox,e):fA(e);var dN=e=>{let{page:t,withPlaceholder:n,axis:r,frame:i}=e;const o=((e,t)=>t?lN(e,t.scroll.diff.displacement):e)(t.marginBox,i),a=((e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e)(o,r,n);return{page:t,withPlaceholder:n,active:uN(a,i)}},hN=(e,t)=>{e.frame||WD();const n=e.frame,r=tN(t,n.scroll.initial),i=rN(r),o={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}},a=dN({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o});return{...e,frame:o,subject:a}};function fN(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:JD,n=null;function r(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;const a=e.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){n=null},r}const pN=fN((e=>e.reduce(((e,t)=>(e[t.descriptor.id]=t,e)),{}))),gN=fN((e=>e.reduce(((e,t)=>(e[t.descriptor.id]=t,e)),{}))),mN=fN((e=>Object.values(e))),vN=fN((e=>Object.values(e)));var yN=fN(((e,t)=>{const n=vN(t).filter((t=>e===t.descriptor.droppableId)).sort(((e,t)=>e.descriptor.index-t.descriptor.index));return n}));function bN(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function wN(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var AN=fN(((e,t)=>t.filter((t=>t.descriptor.id!==e.descriptor.id)))),EN=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const xN={point:ZD,value:0},IN={invisible:{},visible:{},all:[]},SN={displaced:IN,displacedBy:xN,at:null};var CN=(e,t)=>n=>e<=n&&n<=t,DN=e=>{const t=CN(e.top,e.bottom),n=CN(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const i=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(i&&o)return!0;const a=r.top<e.top&&r.bottom>e.bottom,s=r.left<e.left&&r.right>e.right;if(a&&s)return!0;return a&&o||s&&i}},NN=e=>{const t=CN(e.top,e.bottom),n=CN(e.left,e.right);return e=>t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)};const TN={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},kN={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};const ON=e=>{let{target:t,destination:n,viewport:r,withDroppableDisplacement:i,isVisibleThroughFrameFn:o}=e;const a=i?((e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:ZD;return lN(e,n)})(t,n):t;return((e,t,n)=>!!t.subject.active&&n(t.subject.active)(e))(a,n,o)&&((e,t,n)=>n(t)(e))(a,r,o)},PN=e=>ON({...e,isVisibleThroughFrameFn:NN});function RN(e){let{afterDragging:t,destination:n,displacedBy:r,viewport:i,forceShouldAnimate:o,last:a}=e;return t.reduce((function(e,t){const s=function(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return fA(pA(n,r))}(t,r),l=t.descriptor.id;e.all.push(l);var c;if(!(c={target:s,destination:n,viewport:i,withDroppableDisplacement:!0},ON({...c,isVisibleThroughFrameFn:DN})))return e.invisible[t.descriptor.id]=!0,e;const u=((e,t,n)=>{if("boolean"===typeof n)return n;if(!t)return!0;const{invisible:r,visible:i}=t;if(r[e])return!1;const o=i[e];return!o||o.shouldAnimate})(l,a,o),d={draggableId:l,shouldAnimate:u};return e.visible[l]=d,e}),{all:[],visible:{},invisible:{}})}function _N(e){let{insideDestination:t,inHomeList:n,displacedBy:r,destination:i}=e;const o=function(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(t,{inHomeList:n});return{displaced:IN,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:o}}}}function LN(e){let{draggable:t,insideDestination:n,destination:r,viewport:i,displacedBy:o,last:a,index:s,forceShouldAnimate:l}=e;const c=EN(t,r);if(null==s)return _N({insideDestination:n,inHomeList:c,displacedBy:o,destination:r});const u=n.find((e=>e.descriptor.index===s));if(!u)return _N({insideDestination:n,inHomeList:c,displacedBy:o,destination:r});const d=AN(t,n),h=n.indexOf(u);return{displaced:RN({afterDragging:d.slice(h),destination:r,displacedBy:o,last:a,viewport:i.frame,forceShouldAnimate:l}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function MN(e,t){return Boolean(t.effected[e])}var BN=e=>{let{isMovingForward:t,isInHomeList:n,draggable:r,draggables:i,destination:o,insideDestination:a,previousImpact:s,viewport:l,afterCritical:c}=e;const u=s.at;if(u||WD(),"REORDER"===u.type){const e=(e=>{let{isMovingForward:t,isInHomeList:n,insideDestination:r,location:i}=e;if(!r.length)return null;const o=i.index,a=t?o+1:o-1,s=r[0].descriptor.index,l=r[r.length-1].descriptor.index;return a<s||a>(n?l:l+1)?null:a})({isMovingForward:t,isInHomeList:n,location:u.destination,insideDestination:a});return null==e?null:LN({draggable:r,insideDestination:a,destination:o,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:e})}const d=(e=>{let{isMovingForward:t,destination:n,draggables:r,combine:i,afterCritical:o}=e;if(!n.isCombineEnabled)return null;const a=i.draggableId,s=r[a].descriptor.index;return MN(a,o)?t?s:s-1:t?s+1:s})({isMovingForward:t,destination:o,displaced:s.displaced,draggables:i,combine:u.combine,afterCritical:c});return null==d?null:LN({draggable:r,insideDestination:a,destination:o,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:d})},jN=e=>{let{afterCritical:t,impact:n,draggables:r}=e;const i=wN(n);i||WD();const o=i.draggableId,a=r[o].page.borderBox.center,s=(e=>{let{displaced:t,afterCritical:n,combineWith:r,displacedBy:i}=e;const o=Boolean(t.visible[r]||t.invisible[r]);return MN(r,n)?o?ZD:rN(i.point):o?i.point:ZD})({displaced:n.displaced,afterCritical:t,combineWith:o,displacedBy:n.displacedBy});return eN(a,s)};const FN=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,UN=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,zN=e=>{let{axis:t,moveRelativeTo:n,isMoving:r}=e;return iN(t.line,n.marginBox[t.end]+FN(t,r),UN(t,n.marginBox,r))},GN=e=>{let{axis:t,moveRelativeTo:n,isMoving:r}=e;return iN(t.line,n.marginBox[t.start]-((e,t)=>t.margin[e.end]+t.borderBox[e.size]/2)(t,r),UN(t,n.marginBox,r))};var WN=e=>{let{impact:t,draggable:n,draggables:r,droppable:i,afterCritical:o}=e;const a=yN(i.descriptor.id,r),s=n.page,l=i.axis;if(!a.length)return(e=>{let{axis:t,moveInto:n,isMoving:r}=e;return iN(t.line,n.contentBox[t.start]+FN(t,r),UN(t,n.contentBox,r))})({axis:l,moveInto:i.page,isMoving:s});const{displaced:c,displacedBy:u}=t,d=c.all[0];if(d){const e=r[d];if(MN(d,o))return GN({axis:l,moveRelativeTo:e.page,isMoving:s});const t=bA(e.page,u.point);return GN({axis:l,moveRelativeTo:t,isMoving:s})}const h=a[a.length-1];if(h.descriptor.id===n.descriptor.id)return s.borderBox.center;if(MN(h.descriptor.id,o)){const e=bA(h.page,rN(o.displacedBy.point));return zN({axis:l,moveRelativeTo:e,isMoving:s})}return zN({axis:l,moveRelativeTo:h.page,isMoving:s})},VN=(e,t)=>{const n=e.frame;return n?eN(t,n.scroll.diff.displacement):t};var HN=e=>{const t=(e=>{let{impact:t,draggable:n,droppable:r,draggables:i,afterCritical:o}=e;const a=n.page.borderBox.center,s=t.at;return r&&s?"REORDER"===s.type?WN({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:o}):jN({impact:t,draggables:i,afterCritical:o}):a})(e),n=e.droppable;return n?VN(n,t):t},qN=(e,t)=>{const n=tN(t,e.scroll.initial),r=rN(n);return{frame:fA({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function QN(e,t){return e.map((e=>t[e]))}var KN=e=>{let{pageBorderBoxCenter:t,draggable:n,viewport:r}=e;const i=((e,t)=>eN(e.scroll.diff.displacement,t))(r,t),o=tN(i,n.page.borderBox.center);return eN(n.client.borderBox.center,o)},YN=e=>{let{draggable:t,destination:n,newPageBorderBoxCenter:r,viewport:i,withDroppableDisplacement:o,onlyOnMainAxis:a=!1}=e;const s=tN(r,t.page.borderBox.center),l={target:lN(t.page.borderBox,s),destination:n,withDroppableDisplacement:o,viewport:i};return a?(e=>{return ON({...e,isVisibleThroughFrameFn:(t=e.destination.axis,e=>{const n=CN(e.top,e.bottom),r=CN(e.left,e.right);return e=>t===TN?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)})});var t})(l):PN(l)},JN=e=>{let{isMovingForward:t,draggable:n,destination:r,draggables:i,previousImpact:o,viewport:a,previousPageBorderBoxCenter:s,previousClientSelection:l,afterCritical:c}=e;if(!r.isEnabled)return null;const u=yN(r.descriptor.id,i),d=EN(n,r),h=(e=>{let{isMovingForward:t,draggable:n,destination:r,insideDestination:i,previousImpact:o}=e;if(!r.isCombineEnabled)return null;if(!bN(o))return null;function a(e){const t={type:"COMBINE",combine:{draggableId:e,droppableId:r.descriptor.id}};return{...o,at:t}}const s=o.displaced.all,l=s.length?s[0]:null;if(t)return l?a(l):null;const c=AN(n,i);if(!l)return c.length?a(c[c.length-1].descriptor.id):null;const u=c.findIndex((e=>e.descriptor.id===l));-1===u&&WD();const d=u-1;return d<0?null:a(c[d].descriptor.id)})({isMovingForward:t,draggable:n,destination:r,insideDestination:u,previousImpact:o})||BN({isMovingForward:t,isInHomeList:d,draggable:n,draggables:i,destination:r,insideDestination:u,previousImpact:o,viewport:a,afterCritical:c});if(!h)return null;const f=HN({impact:h,draggable:n,droppable:r,draggables:i,afterCritical:c});if(YN({draggable:n,destination:r,newPageBorderBoxCenter:f,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})){return{clientSelection:KN({pageBorderBoxCenter:f,draggable:n,viewport:a}),impact:h,scrollJumpRequest:null}}const p=tN(f,s),g=(e=>{let{impact:t,viewport:n,destination:r,draggables:i,maxScrollChange:o}=e;const a=qN(n,eN(n.scroll.current,o)),s=r.frame?hN(r,eN(r.frame.scroll.current,o)):r,l=t.displaced,c=RN({afterDragging:QN(l.all,i),destination:r,displacedBy:t.displacedBy,viewport:a.frame,last:l,forceShouldAnimate:!1}),u=RN({afterDragging:QN(l.all,i),destination:s,displacedBy:t.displacedBy,viewport:n.frame,last:l,forceShouldAnimate:!1}),d={},h={},f=[l,c,u];return l.all.forEach((e=>{const t=function(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}(e,f);t?h[e]=t:d[e]=!0})),{...t,displaced:{all:l.all,invisible:d,visible:h}}})({impact:h,viewport:a,destination:r,draggables:i,maxScrollChange:p});return{clientSelection:l,impact:g,scrollJumpRequest:p}};const XN=e=>{const t=e.subject.active;return t||WD(),t};const $N=(e,t)=>{const n=e.page.borderBox.center;return MN(e.descriptor.id,t)?tN(n,t.displacedBy.point):n},ZN=(e,t)=>{const n=e.page.borderBox;return MN(e.descriptor.id,t)?lN(n,rN(t.displacedBy.point)):n};var eT=fN((function(e,t){const n=t[e.line];return{value:n,point:iN(e.line,n)}}));const tT=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),nT=(e,t,n)=>{const r=e.frame;EN(t,e)&&WD(),e.subject.withPlaceholder&&WD();const i=eT(e.axis,t.displaceBy).point,o=((e,t,n)=>{const r=e.axis;if("virtual"===e.descriptor.mode)return iN(r.line,t[r.line]);const i=e.subject.page.contentBox[r.size],o=yN(e.descriptor.id,n).reduce(((e,t)=>e+t.client.marginBox[r.size]),0)+t[r.line]-i;return o<=0?null:iN(r.line,o)})(e,i,n),a={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const t=dN({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame});return{...e,subject:t}}const s=o?eN(r.scroll.max,o):r.scroll.max,l=tT(r,s),c=dN({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:l});return{...e,subject:c,frame:l}};var rT=e=>{let{isMovingForward:t,previousPageBorderBoxCenter:n,draggable:r,isOver:i,draggables:o,droppables:a,viewport:s,afterCritical:l}=e;const c=(e=>{let{isMovingForward:t,pageBorderBoxCenter:n,source:r,droppables:i,viewport:o}=e;const a=r.subject.active;if(!a)return null;const s=r.axis,l=CN(a[s.start],a[s.end]),c=mN(i).filter((e=>e!==r)).filter((e=>e.isEnabled)).filter((e=>Boolean(e.subject.active))).filter((e=>DN(o.frame)(XN(e)))).filter((e=>{const n=XN(e);return t?a[s.crossAxisEnd]<n[s.crossAxisEnd]:n[s.crossAxisStart]<a[s.crossAxisStart]})).filter((e=>{const t=XN(e),n=CN(t[s.start],t[s.end]);return l(t[s.start])||l(t[s.end])||n(a[s.start])||n(a[s.end])})).sort(((e,n)=>{const r=XN(e)[s.crossAxisStart],i=XN(n)[s.crossAxisStart];return t?r-i:i-r})).filter(((e,t,n)=>XN(e)[s.crossAxisStart]===XN(n[0])[s.crossAxisStart]));if(!c.length)return null;if(1===c.length)return c[0];const u=c.filter((e=>CN(XN(e)[s.start],XN(e)[s.end])(n[s.line])));return 1===u.length?u[0]:u.length>1?u.sort(((e,t)=>XN(e)[s.start]-XN(t)[s.start]))[0]:c.sort(((e,t)=>{const r=aN(n,cN(XN(e))),i=aN(n,cN(XN(t)));return r!==i?r-i:XN(e)[s.start]-XN(t)[s.start]}))[0]})({isMovingForward:t,pageBorderBoxCenter:n,source:i,droppables:a,viewport:s});if(!c)return null;const u=yN(c.descriptor.id,o),d=(e=>{let{pageBorderBoxCenter:t,viewport:n,destination:r,insideDestination:i,afterCritical:o}=e;const a=i.filter((e=>PN({target:ZN(e,o),destination:r,viewport:n.frame,withDroppableDisplacement:!0}))).sort(((e,n)=>{const i=oN(t,VN(r,$N(e,o))),a=oN(t,VN(r,$N(n,o)));return i<a?-1:a<i?1:e.descriptor.index-n.descriptor.index}));return a[0]||null})({pageBorderBoxCenter:n,viewport:s,destination:c,insideDestination:u,afterCritical:l}),h=(e=>{let{previousPageBorderBoxCenter:t,moveRelativeTo:n,insideDestination:r,draggable:i,draggables:o,destination:a,viewport:s,afterCritical:l}=e;if(!n){if(r.length)return null;const e={displaced:IN,displacedBy:xN,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},t=HN({impact:e,draggable:i,droppable:a,draggables:o,afterCritical:l}),n=EN(i,a)?a:nT(a,i,o);return YN({draggable:i,destination:n,newPageBorderBoxCenter:t,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?e:null}const c=Boolean(t[a.axis.line]<=n.page.borderBox.center[a.axis.line]),u=(()=>{const e=n.descriptor.index;return n.descriptor.id===i.descriptor.id||c?e:e+1})(),d=eT(a.axis,i.displaceBy);return LN({draggable:i,insideDestination:r,destination:a,viewport:s,displacedBy:d,last:IN,index:u})})({previousPageBorderBoxCenter:n,destination:c,draggable:r,draggables:o,moveRelativeTo:d,insideDestination:u,viewport:s,afterCritical:l});if(!h)return null;const f=HN({impact:h,draggable:r,droppable:c,draggables:o,afterCritical:l});return{clientSelection:KN({pageBorderBoxCenter:f,draggable:r,viewport:s}),impact:h,scrollJumpRequest:null}},iT=e=>{const t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null};var oT=e=>{let{state:t,type:n}=e;const r=((e,t)=>{const n=iT(e);return n?t[n]:null})(t.impact,t.dimensions.droppables),i=Boolean(r),o=t.dimensions.droppables[t.critical.droppable.id],a=r||o,s=a.axis.direction,l="vertical"===s&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===s&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(l&&!i)return null;const c="MOVE_DOWN"===n||"MOVE_RIGHT"===n,u=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,{draggables:h,droppables:f}=t.dimensions;return l?JN({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,destination:a,draggables:h,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):rT({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,isOver:a,draggables:h,droppables:f,viewport:t.viewport,afterCritical:t.afterCritical})};function aT(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function sT(e){const t=CN(e.top,e.bottom),n=CN(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}function lT(e){let{pageBorderBox:t,draggable:n,droppables:r}=e;const i=mN(r).filter((e=>{if(!e.isEnabled)return!1;const n=e.subject.active;if(!n)return!1;if(i=n,!((r=t).left<i.right&&r.right>i.left&&r.top<i.bottom&&r.bottom>i.top))return!1;var r,i;if(sT(n)(t.center))return!0;const o=e.axis,a=n.center[o.crossAxisLine],s=t[o.crossAxisStart],l=t[o.crossAxisEnd],c=CN(n[o.crossAxisStart],n[o.crossAxisEnd]),u=c(s),d=c(l);return!u&&!d||(u?s<a:l>a)}));return i.length?1===i.length?i[0].descriptor.id:function(e){let{pageBorderBox:t,draggable:n,candidates:r}=e;const i=n.page.borderBox.center,o=r.map((e=>{const n=e.axis,r=iN(e.axis.line,t.center[n.line],e.page.borderBox.center[n.crossAxisLine]);return{id:e.descriptor.id,distance:oN(i,r)}})).sort(((e,t)=>t.distance-e.distance));return o[0]?o[0].id:null}({pageBorderBox:t,draggable:n,candidates:i}):null}const cT=(e,t)=>fA(lN(e,t));function uT(e){let{displaced:t,id:n}=e;return Boolean(t.visible[n]||t.invisible[n])}var dT=e=>{let{pageOffset:t,draggable:n,draggables:r,droppables:i,previousImpact:o,viewport:a,afterCritical:s}=e;const l=cT(n.page.borderBox,t),c=lT({pageBorderBox:l,draggable:n,droppables:i});if(!c)return SN;const u=i[c],d=yN(u.descriptor.id,r),h=((e,t)=>{const n=e.frame;return n?cT(t,n.scroll.diff.value):t})(u,l);return(e=>{let{draggable:t,pageBorderBoxWithDroppableScroll:n,previousImpact:r,destination:i,insideDestination:o,afterCritical:a}=e;if(!i.isCombineEnabled)return null;const s=i.axis,l=eT(i.axis,t.displaceBy),c=l.value,u=n[s.start],d=n[s.end],h=AN(t,o).find((e=>{const t=e.descriptor.id,n=e.page.borderBox,i=n[s.size]/4,o=MN(t,a),l=uT({displaced:r.displaced,id:t});return o?l?d>n[s.start]+i&&d<n[s.end]-i:u>n[s.start]-c+i&&u<n[s.end]-c-i:l?d>n[s.start]+c+i&&d<n[s.end]+c-i:u>n[s.start]+i&&u<n[s.end]-i}));return h?{displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:h.descriptor.id,droppableId:i.descriptor.id}}}:null})({pageBorderBoxWithDroppableScroll:h,draggable:n,previousImpact:o,destination:u,insideDestination:d,afterCritical:s})||(e=>{let{pageBorderBoxWithDroppableScroll:t,draggable:n,destination:r,insideDestination:i,last:o,viewport:a,afterCritical:s}=e;const l=r.axis,c=eT(r.axis,n.displaceBy),u=c.value,d=t[l.start],h=t[l.end],f=AN(n,i).find((e=>{const t=e.descriptor.id,n=e.page.borderBox.center[l.line],r=MN(t,s),i=uT({displaced:o,id:t});return r?i?h<=n:d<n-u:i?h<=n+u:d<n}))||null,p=function(e){let{draggable:t,closest:n,inHomeList:r}=e;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:f,inHomeList:EN(n,r)});return LN({draggable:n,insideDestination:i,destination:r,viewport:a,last:o,displacedBy:c,index:p})})({pageBorderBoxWithDroppableScroll:h,draggable:n,destination:u,insideDestination:d,last:o.displaced,viewport:a,afterCritical:s})},hT=(e,t)=>({...e,[t.descriptor.id]:t});const fT=e=>{let{previousImpact:t,impact:n,droppables:r}=e;const i=iT(t),o=iT(n);if(!i)return r;if(i===o)return r;const a=r[i];if(!a.subject.withPlaceholder)return r;const s=(e=>{const t=e.subject.withPlaceholder;t||WD();const n=e.frame;if(!n){const t=dN({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:t}}const r=t.oldFrameMaxScroll;r||WD();const i=tT(n,r),o=dN({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return{...e,subject:o,frame:i}})(a);return hT(r,s)};var pT=e=>{let{state:t,clientSelection:n,dimensions:r,viewport:i,impact:o,scrollJumpRequest:a}=e;const s=i||t.viewport,l=r||t.dimensions,c=n||t.current.client.selection,u=tN(c,t.initial.client.selection),d={offset:u,selection:c,borderBoxCenter:eN(t.initial.client.borderBoxCenter,u)},h={selection:eN(d.selection,s.scroll.current),borderBoxCenter:eN(d.borderBoxCenter,s.scroll.current),offset:eN(d.offset,s.scroll.diff.value)},f={client:d,page:h};if("COLLECTING"===t.phase)return{...t,dimensions:l,viewport:s,current:f};const p=l.draggables[t.critical.draggable.id],g=o||dT({pageOffset:h.offset,draggable:p,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:s,afterCritical:t.afterCritical}),m=(e=>{let{draggable:t,draggables:n,droppables:r,previousImpact:i,impact:o}=e;const a=fT({previousImpact:i,impact:o,droppables:r}),s=iT(o);if(!s)return a;const l=r[s];if(EN(t,l))return a;if(l.subject.withPlaceholder)return a;const c=nT(l,t,n);return hT(a,c)})({draggable:p,impact:g,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables});return{...t,current:f,dimensions:{draggables:l.draggables,droppables:m},impact:g,viewport:s,scrollJumpRequest:a||null,forceShouldAnimate:!a&&null}};var gT=e=>{let{impact:t,viewport:n,draggables:r,destination:i,forceShouldAnimate:o}=e;const a=t.displaced,s=function(e,t){return e.map((e=>t[e]))}(a.all,r),l=RN({afterDragging:s,destination:i,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:o,last:a});return{...t,displaced:l}},mT=e=>{let{impact:t,draggable:n,droppable:r,draggables:i,viewport:o,afterCritical:a}=e;const s=HN({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:a});return KN({pageBorderBoxCenter:s,draggable:n,viewport:o})},vT=e=>{let{state:t,dimensions:n,viewport:r}=e;"SNAP"!==t.movementMode&&WD();const i=t.impact,o=r||t.viewport,a=n||t.dimensions,{draggables:s,droppables:l}=a,c=s[t.critical.draggable.id],u=iT(i);u||WD();const d=l[u],h=gT({impact:i,viewport:o,destination:d,draggables:s}),f=mT({impact:h,draggable:c,droppable:d,draggables:s,viewport:o,afterCritical:t.afterCritical});return pT({impact:h,clientSelection:f,state:t,dimensions:a,viewport:o})},yT=e=>{let{draggable:t,home:n,draggables:r,viewport:i}=e;const o=eT(n.axis,t.displaceBy),a=yN(n.descriptor.id,r),s=a.indexOf(t);-1===s&&WD();const l=a.slice(s+1),c=l.reduce(((e,t)=>(e[t.descriptor.id]=!0,e)),{}),u={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:o,effected:c};var d;return{impact:{displaced:RN({afterDragging:l,destination:n,displacedBy:o,last:null,viewport:i.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:(d=t.descriptor,{index:d.index,droppableId:d.droppableId})}},afterCritical:u}};const bT=e=>{0},wT=e=>{0};var AT=e=>{let{additions:t,updatedDroppables:n,viewport:r}=e;const i=r.scroll.diff.value;return t.map((e=>{const t=e.descriptor.droppableId,o=(e=>{const t=e.frame;return t||WD(),t})(n[t]),a=o.scroll.diff.value,s=(e=>{let{draggable:t,offset:n,initialWindowScroll:r}=e;const i=bA(t.client,n),o=wA(i,r);return{...t,placeholder:{...t.placeholder,client:i},client:i,page:o}})({draggable:e,offset:eN(i,a),initialWindowScroll:r.scroll.initial});return s}))};const ET=e=>"SNAP"===e.movementMode,xT=(e,t,n)=>{const r=((e,t)=>({draggables:e.draggables,droppables:hT(e.droppables,t)}))(e.dimensions,t);return!ET(e)||n?pT({state:e,dimensions:r}):vT({state:e,dimensions:r})};function IT(e){return e.isDragging&&"SNAP"===e.movementMode?{...e,scrollJumpRequest:null}:e}const ST={phase:"IDLE",completed:null,shouldFlush:!1};var CT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ST,t=arguments.length>1?arguments[1]:void 0;if("FLUSH"===t.type)return{...ST,shouldFlush:!0};if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&WD();const{critical:n,clientSelection:r,viewport:i,dimensions:o,movementMode:a}=t.payload,s=o.draggables[n.draggable.id],l=o.droppables[n.droppable.id],c={selection:r,borderBoxCenter:s.client.borderBox.center,offset:ZD},u={client:c,page:{selection:eN(c.selection,i.scroll.initial),borderBoxCenter:eN(c.selection,i.scroll.initial),offset:eN(c.selection,i.scroll.diff.value)}},d=mN(o.droppables).every((e=>!e.isFixedOnPage)),{impact:h,afterCritical:f}=yT({draggable:s,home:l,draggables:o.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:a,dimensions:o,initial:u,current:u,isWindowScrollAllowed:d,impact:h,afterCritical:f,onLiftImpact:h,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&WD();return{...e,phase:"COLLECTING"}}if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&WD(),(e=>{let{state:t,published:n}=e;bT();const r=n.modified.map((e=>{const n=t.dimensions.droppables[e.droppableId];return hN(n,e.scroll)})),i={...t.dimensions.droppables,...pN(r)},o=gN(AT({additions:n.additions,updatedDroppables:i,viewport:t.viewport})),a={...t.dimensions.draggables,...o};n.removals.forEach((e=>{delete a[e]}));const s={droppables:i,draggables:a},l=iT(t.impact),c=l?s.droppables[l]:null,u=s.draggables[t.critical.draggable.id],d=s.droppables[t.critical.droppable.id],{impact:h,afterCritical:f}=yT({draggable:u,home:d,draggables:a,viewport:t.viewport}),p=c&&c.isCombineEnabled?t.impact:h,g=dT({pageOffset:t.current.page.offset,draggable:s.draggables[t.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:p,viewport:t.viewport,afterCritical:f});wT();const m={...t,phase:"DRAGGING",impact:g,onLiftImpact:h,dimensions:s,afterCritical:f,forceShouldAnimate:!1};return"COLLECTING"===t.phase?m:{...m,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}})({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;aT(e)||WD();const{client:n}=t.payload;return nN(n,e.current.client.selection)?e:pT({state:e,clientSelection:n,impact:ET(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return IT(e);if("COLLECTING"===e.phase)return IT(e);aT(e)||WD();const{id:n,newScroll:r}=t.payload,i=e.dimensions.droppables[n];if(!i)return e;const o=hN(i,r);return xT(e,o,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;aT(e)||WD();const{id:n,isEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||WD(),i.isEnabled===r&&WD();const o={...i,isEnabled:r};return xT(e,o,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;aT(e)||WD();const{id:n,isCombineEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||WD(),i.isCombineEnabled===r&&WD();const o={...i,isCombineEnabled:r};return xT(e,o,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;aT(e)||WD(),e.isWindowScrollAllowed||WD();const n=t.payload.newScroll;if(nN(e.viewport.scroll.current,n))return IT(e);const r=qN(e.viewport,n);return ET(e)?vT({state:e,viewport:r}):pT({state:e,viewport:r})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!aT(e))return e;const n=t.payload.maxScroll;if(nN(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&WD();const n=oT({state:e,type:t.type});return n?pT({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){const n=t.payload.reason;"COLLECTING"!==e.phase&&WD();return{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if("DROP_ANIMATE"===t.type){const{completed:n,dropDuration:r,newHomeClientOffset:i}=t.payload;"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&WD();return{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:e.dimensions}}if("DROP_COMPLETE"===t.type){const{completed:e}=t.payload;return{phase:"IDLE",completed:e,shouldFlush:!1}}return e};function DT(e,t){return e instanceof Object&&"type"in e&&e.type===t}const NT=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),TT=()=>({type:"COLLECTION_STARTING",payload:null}),kT=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),OT=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),PT=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),RT=e=>({type:"MOVE",payload:e}),_T=()=>({type:"MOVE_UP",payload:null}),LT=()=>({type:"MOVE_DOWN",payload:null}),MT=()=>({type:"MOVE_RIGHT",payload:null}),BT=()=>({type:"MOVE_LEFT",payload:null}),jT=e=>({type:"DROP_COMPLETE",payload:e}),FT=e=>({type:"DROP",payload:e}),UT=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});const zT="cubic-bezier(.2,1,.1,1)",GT={drop:0,combining:.7},WT={drop:.75},VT={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},HT=`${VT.outOfTheWay}s ${"cubic-bezier(0.2, 0, 0, 1)"}`,qT={fluid:`opacity ${HT}`,snap:`transform ${HT}, opacity ${HT}`,drop:e=>{const t=`${e}s ${zT}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${HT}`,placeholder:`height ${HT}, width ${HT}, margin ${HT}`},QT=e=>nN(e,ZD)?void 0:`translate(${e.x}px, ${e.y}px)`,KT=QT,YT=(e,t)=>{const n=QT(e);if(n)return t?`${n} scale(${WT.drop})`:n},{minDropTime:JT,maxDropTime:XT}=VT,$T=XT-JT;const ZT=e=>{let{getState:t,dispatch:n}=e;return e=>r=>{if(!DT(r,"DROP"))return void e(r);const i=t(),o=r.payload.reason;if("COLLECTING"===i.phase)return void n((e=>({type:"DROP_PENDING",payload:e}))({reason:o}));if("IDLE"===i.phase)return;"DROP_PENDING"===i.phase&&i.isWaiting&&WD(),"DRAGGING"!==i.phase&&"DROP_PENDING"!==i.phase&&WD();const a=i.critical,s=i.dimensions,l=s.draggables[i.critical.draggable.id],{impact:c,didDropInsideDroppable:u}=(e=>{let{draggables:t,reason:n,lastImpact:r,home:i,viewport:o,onLiftImpact:a}=e;if(!r.at||"DROP"!==n)return{impact:gT({draggables:t,impact:a,destination:i,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1};return"REORDER"===r.at.type?{impact:r,didDropInsideDroppable:!0}:{impact:{...r,displaced:IN},didDropInsideDroppable:!0}})({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),d=u?bN(c):null,h=u?wN(c):null,f={index:a.draggable.index,droppableId:a.droppable.id},p={draggableId:l.descriptor.id,type:l.descriptor.type,source:f,reason:o,mode:i.movementMode,destination:d,combine:h},g=(e=>{let{impact:t,draggable:n,dimensions:r,viewport:i,afterCritical:o}=e;const{draggables:a,droppables:s}=r,l=iT(t),c=l?s[l]:null,u=s[n.descriptor.droppableId],d=mT({impact:t,draggable:n,draggables:a,afterCritical:o,droppable:c||u,viewport:i});return tN(d,n.client.borderBox.center)})({impact:c,draggable:l,dimensions:s,viewport:i.viewport,afterCritical:i.afterCritical}),m={critical:i.critical,afterCritical:i.afterCritical,result:p,impact:c};if(!(!nN(i.current.client.offset,g)||Boolean(p.combine)))return void n(jT({completed:m}));const v=(e=>{let{current:t,destination:n,reason:r}=e;const i=oN(t,n);if(i<=0)return JT;if(i>=1500)return XT;const o=JT+$T*(i/1500);return Number(("CANCEL"===r?.6*o:o).toFixed(2))})({current:i.current.client.offset,destination:g,reason:o});n((e=>({type:"DROP_ANIMATE",payload:e}))({newHomeClientOffset:g,dropDuration:v,completed:m}))}};var ek=()=>({x:window.pageXOffset,y:window.pageYOffset});function tk(e){let{onWindowScroll:t}=e;const n=CA((function(){t(ek())})),r=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}(n);let i=FD;function o(){return i!==FD}return{start:function(){o()&&WD(),i=UD(window,[r])},stop:function(){o()||WD(),n.cancel(),i(),i=FD},isActive:o}}const nk=e=>{const t=tk({onWindowScroll:t=>{e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return e=>n=>{!t.isActive()&&DT(n,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&(e=>DT(e,"DROP_COMPLETE")||DT(e,"DROP_ANIMATE")||DT(e,"FLUSH"))(n)&&t.stop(),e(n)}};var rk=()=>{const e=[];return{add:t=>{const n=setTimeout((()=>(t=>{const n=e.findIndex((e=>e.timerId===t));-1===n&&WD();const[r]=e.splice(n,1);r.callback()})(n))),r={timerId:n,callback:t};e.push(r)},flush:()=>{if(!e.length)return;const t=[...e];e.length=0,t.forEach((e=>{clearTimeout(e.timerId),e.callback()}))}}};const ik=(e,t)=>{bT(),t(),wT()},ok=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function ak(e,t,n,r){if(!e)return void n(r(t));const i=(e=>{let t=!1,n=!1;const r=setTimeout((()=>{n=!0})),i=i=>{t||n||(t=!0,e(i),clearTimeout(r))};return i.wasCalled=()=>t,i})(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}var sk=(e,t)=>{const n=((e,t)=>{const n=rk();let r=null;const i=n=>{r||WD(),r=null,ik(0,(()=>ak(e().onDragEnd,n,t,YD.onDragEnd)))};return{beforeCapture:(t,n)=>{r&&WD(),ik(0,(()=>{const r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})}))},beforeStart:(t,n)=>{r&&WD(),ik(0,(()=>{const r=e().onBeforeDragStart;r&&r(ok(t,n))}))},start:(i,o)=>{r&&WD();const a=ok(i,o);r={mode:o,lastCritical:i,lastLocation:a.source,lastCombine:null},n.add((()=>{ik(0,(()=>ak(e().onDragStart,a,t,YD.onDragStart)))}))},update:(i,o)=>{const a=bN(o),s=wN(o);r||WD();const l=!((e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r})(i,r.lastCritical);l&&(r.lastCritical=i);const c=(d=a,!(null==(u=r.lastLocation)&&null==d||null!=u&&null!=d&&u.droppableId===d.droppableId&&u.index===d.index));var u,d;c&&(r.lastLocation=a);const h=!((e,t)=>null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId)(r.lastCombine,s);if(h&&(r.lastCombine=s),!l&&!c&&!h)return;const f={...ok(i,r.mode),combine:s,destination:a};n.add((()=>{ik(0,(()=>ak(e().onDragUpdate,f,t,YD.onDragUpdate)))}))},flush:()=>{r||WD(),n.flush()},drop:i,abort:()=>{if(!r)return;const e={...ok(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};i(e)}}})(e,t);return e=>t=>r=>{if(DT(r,"BEFORE_INITIAL_CAPTURE"))return void n.beforeCapture(r.payload.draggableId,r.payload.movementMode);if(DT(r,"INITIAL_PUBLISH")){const e=r.payload.critical;return n.beforeStart(e,r.payload.movementMode),t(r),void n.start(e,r.payload.movementMode)}if(DT(r,"DROP_COMPLETE")){const e=r.payload.completed.result;return n.flush(),t(r),void n.drop(e)}if(t(r),DT(r,"FLUSH"))return void n.abort();const i=e.getState();"DRAGGING"===i.phase&&n.update(i.critical,i.impact)}};const lk=e=>t=>n=>{if(!DT(n,"DROP_ANIMATION_FINISHED"))return void t(n);const r=e.getState();"DROP_ANIMATING"!==r.phase&&WD(),e.dispatch(jT({completed:r.completed}))},ck=e=>{let t=null,n=null;return r=>i=>{if((DT(i,"FLUSH")||DT(i,"DROP_COMPLETE")||DT(i,"DROP_ANIMATION_FINISHED"))&&(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(i),!DT(i,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame((()=>{n=null,t=UD(window,[o])}))}};var uk=e=>t=>n=>r=>{if((e=>DT(e,"DROP_COMPLETE")||DT(e,"DROP_ANIMATE")||DT(e,"FLUSH"))(r))return e.stop(),void n(r);if(DT(r,"INITIAL_PUBLISH")){n(r);const i=t.getState();return"DRAGGING"!==i.phase&&WD(),void e.start(i)}n(r),e.scroll(t.getState())};const dk=e=>t=>n=>{if(t(n),!DT(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(FT({reason:r.reason})))},hk=UC;var fk=e=>{let{dimensionMarshal:t,focusMarshal:n,styleMarshal:r,getResponders:i,announce:o,autoScroller:a}=e;return BC(CT,hk(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(PC(15))};const a={getState:i.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return o(e,...n)}},s=t.map((e=>e(a)));return o=UC(...s)(i.dispatch),{...i,dispatch:o}}}((s=r,()=>e=>t=>{DT(t,"INITIAL_PUBLISH")&&s.dragging(),DT(t,"DROP_ANIMATE")&&s.dropping(t.payload.completed.result.reason),(DT(t,"FLUSH")||DT(t,"DROP_COMPLETE"))&&s.resting(),e(t)}),(e=>()=>t=>n=>{(DT(n,"DROP_COMPLETE")||DT(n,"FLUSH")||DT(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)})(t),(e=>t=>{let{getState:n,dispatch:r}=t;return t=>i=>{if(!DT(i,"LIFT"))return void t(i);const{id:o,clientSelection:a,movementMode:s}=i.payload,l=n();"DROP_ANIMATING"===l.phase&&r(jT({completed:l.completed})),"IDLE"!==n().phase&&WD(),r({type:"FLUSH",payload:null}),r({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:o,movementMode:s}});const c={draggableId:o,scrollOptions:{shouldPublishImmediately:"SNAP"===s}},{critical:u,dimensions:d,viewport:h}=e.startPublishing(c);r({type:"INITIAL_PUBLISH",payload:{critical:u,dimensions:d,clientSelection:a,movementMode:s,viewport:h}})}})(t),ZT,lk,ck,dk,uk(a),nk,(e=>{let t=!1;return()=>n=>r=>{if(DT(r,"INITIAL_PUBLISH"))return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if(DT(r,"FLUSH"))return t=!1,void e.tryRestoreFocusRecorded();if(DT(r,"DROP_COMPLETE")){t=!1;const n=r.payload.completed.result;n.combine&&e.tryShiftRecord(n.draggableId,n.combine.draggableId),e.tryRestoreFocusRecorded()}}}})(n),sk(i,o))));var s};var pk=e=>{let{scrollHeight:t,scrollWidth:n,height:r,width:i}=e;const o=tN({x:n,y:t},{x:i,y:r});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},gk=()=>{const e=document.documentElement;return e||WD(),e},mk=()=>{const e=gk();return pk({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},vk=e=>{let{critical:t,scrollOptions:n,registry:r}=e;bT();const i=(()=>{const e=ek(),t=mk(),n=e.y,r=e.x,i=gk(),o=i.clientWidth,a=i.clientHeight;return{frame:fA({top:n,left:r,right:r+o,bottom:n+a}),scroll:{initial:e,current:e,max:t,diff:{value:ZD,displacement:ZD}}}})(),o=i.scroll.current,a=t.droppable,s=r.droppable.getAllByType(a.type).map((e=>e.callbacks.getDimensionAndWatchScroll(o,n))),l=r.draggable.getAllByType(t.draggable.type).map((e=>e.getDimension(o))),c={draggables:gN(l),droppables:pN(s)};wT();return{dimensions:c,critical:t,viewport:i}};function yk(e,t,n){if(n.descriptor.id===t.id)return!1;if(n.descriptor.type!==t.type)return!1;return"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode}var bk=(e,t)=>{let n=null;const r=function(e){let{registry:t,callbacks:n}=e,r={additions:{},removals:{},modified:{}},i=null;const o=()=>{i||(n.collectionStarting(),i=requestAnimationFrame((()=>{i=null,bT();const{additions:e,removals:o,modified:a}=r,s=Object.keys(e).map((e=>t.draggable.getById(e).getDimension(ZD))).sort(((e,t)=>e.descriptor.index-t.descriptor.index)),l=Object.keys(a).map((e=>({droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}))),c={additions:s,removals:Object.keys(o),modified:l};r={additions:{},removals:{},modified:{}},wT(),n.publish(c)})))};return{add:e=>{const t=e.descriptor.id;r.additions[t]=e,r.modified[e.descriptor.droppableId]=!0,r.removals[t]&&delete r.removals[t],o()},remove:e=>{const t=e.descriptor;r.removals[t.id]=!0,r.modified[t.droppableId]=!0,r.additions[t.id]&&delete r.additions[t.id],o()},stop:()=>{i&&(cancelAnimationFrame(i),i=null,r={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=t=>{n||WD();const i=n.critical.draggable;"ADDITION"===t.type&&yk(e,i,t.value)&&r.add(t.value),"REMOVAL"===t.type&&yk(e,i,t.value)&&r.remove(t.value)},o={updateDroppableIsEnabled:(r,i)=>{e.droppable.exists(r)||WD(),n&&t.updateDroppableIsEnabled({id:r,isEnabled:i})},updateDroppableIsCombineEnabled:(r,i)=>{n&&(e.droppable.exists(r)||WD(),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:i}))},scrollDroppable:(t,r)=>{n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:(r,i)=>{n&&(e.droppable.exists(r)||WD(),t.updateDroppableScroll({id:r,newScroll:i}))},startPublishing:t=>{n&&WD();const r=e.draggable.getById(t.draggableId),o=e.droppable.getById(r.descriptor.droppableId),a={draggable:r.descriptor,droppable:o.descriptor},s=e.subscribe(i);return n={critical:a,unsubscribe:s},vk({critical:a,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:()=>{if(!n)return;r.stop();const t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach((e=>e.callbacks.dragStopped())),n.unsubscribe(),n=null}};return o},wk=(e,t)=>"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason),Ak=e=>{window.scrollBy(e.x,e.y)};const Ek=fN((e=>mN(e).filter((e=>!!e.isEnabled&&!!e.frame))));var xk=e=>{let{center:t,destination:n,droppables:r}=e;if(n){const e=r[n];return e.frame?e:null}const i=((e,t)=>{const n=Ek(t).find((t=>(t.frame||WD(),sT(t.frame.pageMarginBox)(e))))||null;return n})(t,r);return i};const Ik={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var Sk=e=>{let{startOfRange:t,endOfRange:n,current:r}=e;const i=n-t;if(0===i)return 0;return(r-t)/i},Ck=e=>{let{distanceToEdge:t,thresholds:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o}=e;const a=function(e,t){const n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>Ik)();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return n.maxPixelScroll;if(e===t.startScrollingFrom)return 1;const r=1-Sk({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),i=n.maxPixelScroll*n.ease(r);return Math.ceil(i)}(t,n,o);return 0===a?0:i?Math.max(((e,t,n)=>{const r=n(),i=r.durationDampening.accelerateAt,o=r.durationDampening.stopDampeningAt,a=t,s=o,l=Date.now()-a;if(l>=o)return e;if(l<i)return 1;const c=Sk({startOfRange:i,endOfRange:s,current:l}),u=e*r.ease(c);return Math.ceil(u)})(a,r,o),1):a},Dk=e=>{let{container:t,distanceToEdges:n,dragStartTime:r,axis:i,shouldUseTimeDampening:o,getAutoScrollerOptions:a}=e;const s=function(e,t){const n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>Ik)();return{startScrollingFrom:e[t.size]*n.startFromPercentage,maxScrollValueAt:e[t.size]*n.maxScrollAtPercentage}}(t,i,a);return n[i.end]<n[i.start]?Ck({distanceToEdge:n[i.end],thresholds:s,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a}):-1*Ck({distanceToEdge:n[i.start],thresholds:s,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a})};const Nk=sN((e=>0===e?0:e));var Tk=e=>{let{dragStartTime:t,container:n,subject:r,center:i,shouldUseTimeDampening:o,getAutoScrollerOptions:a}=e;const s={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},l=Dk({container:n,distanceToEdges:s,dragStartTime:t,axis:TN,shouldUseTimeDampening:o,getAutoScrollerOptions:a}),c=Dk({container:n,distanceToEdges:s,dragStartTime:t,axis:kN,shouldUseTimeDampening:o,getAutoScrollerOptions:a}),u=Nk({x:c,y:l});if(nN(u,ZD))return null;const d=(e=>{let{container:t,subject:n,proposedScroll:r}=e;const i=n.height>t.height,o=n.width>t.width;return o||i?o&&i?null:{x:o?0:r.x,y:i?0:r.y}:r})({container:n,subject:r,proposedScroll:u});return d?nN(d,ZD)?null:d:null};const kk=sN((e=>0===e?0:e>0?1:-1)),Ok=(()=>{const e=(e,t)=>e<0?e:e>t?e-t:0;return t=>{let{current:n,max:r,change:i}=t;const o=eN(n,i),a={x:e(o.x,r.x),y:e(o.y,r.y)};return nN(a,ZD)?null:a}})(),Pk=e=>{let{max:t,current:n,change:r}=e;const i={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},o=kk(r),a=Ok({max:i,current:n,change:o});return!a||(0!==o.x&&0===a.x||0!==o.y&&0===a.y)},Rk=(e,t)=>Pk({current:e.scroll.current,max:e.scroll.max,change:t}),_k=(e,t)=>{const n=e.frame;return!!n&&Pk({current:n.scroll.current,max:n.scroll.max,change:t})};var Lk=e=>{let{state:t,dragStartTime:n,shouldUseTimeDampening:r,scrollWindow:i,scrollDroppable:o,getAutoScrollerOptions:a}=e;const s=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const e=(e=>{let{viewport:t,subject:n,center:r,dragStartTime:i,shouldUseTimeDampening:o,getAutoScrollerOptions:a}=e;const s=Tk({dragStartTime:i,container:t.frame,subject:n,center:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a});return s&&Rk(t,s)?s:null})({dragStartTime:n,viewport:t.viewport,subject:l,center:s,shouldUseTimeDampening:r,getAutoScrollerOptions:a});if(e)return void i(e)}const c=xk({center:s,destination:iT(t.impact),droppables:t.dimensions.droppables});if(!c)return;const u=(e=>{let{droppable:t,subject:n,center:r,dragStartTime:i,shouldUseTimeDampening:o,getAutoScrollerOptions:a}=e;const s=t.frame;if(!s)return null;const l=Tk({dragStartTime:i,container:s.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a});return l&&_k(t,l)?l:null})({dragStartTime:n,droppable:c,subject:l,center:s,shouldUseTimeDampening:r,getAutoScrollerOptions:a});u&&o(c.descriptor.id,u)},Mk=e=>{let{move:t,scrollDroppable:n,scrollWindow:r}=e;const i=(e,t)=>{if(!_k(e,t))return t;const r=((e,t)=>{const n=e.frame;return n&&_k(e,t)?Ok({current:n.scroll.current,max:n.scroll.max,change:t}):null})(e,t);if(!r)return n(e.descriptor.id,t),null;const i=tN(t,r);n(e.descriptor.id,i);return tN(t,i)},o=(e,t,n)=>{if(!e)return n;if(!Rk(t,n))return n;const i=((e,t)=>{if(!Rk(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return Ok({current:r,max:n,change:t})})(t,n);if(!i)return r(n),null;const o=tN(n,i);r(o);return tN(n,o)};return e=>{const n=e.scrollJumpRequest;if(!n)return;const r=iT(e.impact);r||WD();const a=i(e.dimensions.droppables[r],n);if(!a)return;const s=e.viewport,l=o(e.isWindowScrollAllowed,s,a);l&&((e,n)=>{const r=eN(e.current.client.selection,n);t({client:r})})(e,l)}},Bk=e=>{let{scrollDroppable:t,scrollWindow:n,move:r,getAutoScrollerOptions:i}=e;const o=(e=>{let{scrollWindow:t,scrollDroppable:n,getAutoScrollerOptions:r=()=>Ik}=e;const i=CA(t),o=CA(n);let a=null;const s=e=>{a||WD();const{shouldUseTimeDampening:t,dragStartTime:n}=a;Lk({state:e,scrollWindow:i,scrollDroppable:o,dragStartTime:n,shouldUseTimeDampening:t,getAutoScrollerOptions:r})};return{start:e=>{bT(),a&&WD();const t=Date.now();let n=!1;const i=()=>{n=!0};Lk({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:i,scrollDroppable:i,getAutoScrollerOptions:r}),a={dragStartTime:t,shouldUseTimeDampening:n},wT(),n&&s(e)},stop:()=>{a&&(i.cancel(),o.cancel(),a=null)},scroll:s}})({scrollWindow:n,scrollDroppable:t,getAutoScrollerOptions:i}),a=Mk({move:r,scrollWindow:n,scrollDroppable:t});return{scroll:e=>{i().disabled||"DRAGGING"!==e.phase||("FLUID"!==e.movementMode?e.scrollJumpRequest&&a(e):o.scroll(e))},start:o.start,stop:o.stop}};const jk="data-rfd",Fk=(()=>{const e=`${jk}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),Uk=(()=>{const e=`${jk}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),zk=(()=>{const e=`${jk}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),Gk={contextId:`${jk}-scroll-container-context-id`},Wk=(e,t)=>e.map((e=>{const n=e.styles[t];return n?`${e.selector} { ${n} }`:""})).join(" ");const Vk="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?i.useLayoutEffect:i.useEffect,Hk=()=>{const e=document.querySelector("head");return e||WD(),e},qk=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function Qk(e,t){const n=XD((()=>(e=>{const t=(n=e,e=>`[${e}="${n}"]`);var n;const r=(()=>{const e="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ";return{selector:t(Fk.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:e,dragging:"pointer-events: none;",dropAnimating:e}}})(),i=[(()=>{const e=`\n      transition: ${qT.outOfTheWay};\n    `;return{selector:t(Uk.contextId),styles:{dragging:e,dropAnimating:e,userCancel:e}}})(),r,{selector:t(zk.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:Wk(i,"always"),resting:Wk(i,"resting"),dragging:Wk(i,"dragging"),dropAnimating:Wk(i,"dropAnimating"),userCancel:Wk(i,"userCancel")}})(e)),[e]),r=(0,i.useRef)(null),o=(0,i.useRef)(null),a=$D(fN((e=>{const t=o.current;t||WD(),t.textContent=e})),[]),s=$D((e=>{const t=r.current;t||WD(),t.textContent=e}),[]);Vk((()=>{(r.current||o.current)&&WD();const i=qk(t),l=qk(t);return r.current=i,o.current=l,i.setAttribute(`${jk}-always`,e),l.setAttribute(`${jk}-dynamic`,e),Hk().appendChild(i),Hk().appendChild(l),s(n.always),a(n.resting),()=>{const e=e=>{const t=e.current;t||WD(),Hk().removeChild(t),e.current=null};e(r),e(o)}}),[t,s,a,n.always,n.resting,e]);const l=$D((()=>a(n.dragging)),[a,n.dragging]),c=$D((e=>{a("DROP"!==e?n.userCancel:n.dropAnimating)}),[a,n.dropAnimating,n.userCancel]),u=$D((()=>{o.current&&a(n.resting)}),[a,n.resting]);return XD((()=>({dragging:l,dropping:c,resting:u})),[l,c,u])}function Kk(e,t){return Array.from(e.querySelectorAll(t))}var Yk=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function Jk(e){return e instanceof Yk(e).HTMLElement}function Xk(e,t){const n=`[${Fk.contextId}="${e}"]`,r=Kk(document,n);if(!r.length)return null;const i=r.find((e=>e.getAttribute(Fk.draggableId)===t));return i&&Jk(i)?i:null}function $k(){const e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach((t=>t(e)))}function r(t){return e.draggables[t]||null}const i={register:t=>{e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:(t,n)=>{const r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:t=>{const i=t.descriptor.id,o=r(i);o&&t.uniqueId===o.uniqueId&&(delete e.draggables[i],e.droppables[t.descriptor.droppableId]&&n({type:"REMOVAL",value:t}))},getById:function(e){const t=r(e);return t||WD(),t},findById:r,exists:e=>Boolean(r(e)),getAllByType:t=>Object.values(e.draggables).filter((e=>e.descriptor.type===t))};function o(t){return e.droppables[t]||null}const a={register:t=>{e.droppables[t.descriptor.id]=t},unregister:t=>{const n=o(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){const t=o(e);return t||WD(),t},findById:o,exists:e=>Boolean(o(e)),getAllByType:t=>Object.values(e.droppables).filter((e=>e.descriptor.type===t))};return{draggable:i,droppable:a,subscribe:function(e){return t.push(e),function(){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var Zk=i.createContext(null),eO=()=>{const e=document.body;return e||WD(),e};const tO={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};const nO={separator:"::"};function rO(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nO;const n=i.useId();return XD((()=>`${e}${t.separator}${n}`),[t.separator,e,n])}var iO=i.createContext(null);function oO(e){0}function aO(e,t){oO()}function sO(){aO()}function lO(e){const t=(0,i.useRef)(e);return(0,i.useEffect)((()=>{t.current=e})),t}function cO(e){return"IDLE"!==e.phase&&"DROP_ANIMATING"!==e.phase&&e.isDragging}const uO=9,dO=13,hO=33,fO=34,pO=35,gO=36,mO={[dO]:!0,[uO]:!0};var vO=e=>{mO[e.keyCode]&&e.preventDefault()};const yO=(()=>{const e="visibilitychange";if("undefined"===typeof document)return e;return[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find((e=>`on${e}`in document))||e})();const bO={type:"IDLE"};function wO(e){let{cancel:t,completed:n,getPhase:r,setPhase:i}=e;return[{eventName:"mousemove",fn:e=>{const{button:t,clientX:n,clientY:o}=e;if(0!==t)return;const a={x:n,y:o},s=r();if("DRAGGING"===s.type)return e.preventDefault(),void s.actions.move(a);"PENDING"!==s.type&&WD();const l=s.point;if(c=l,u=a,!(Math.abs(u.x-c.x)>=5||Math.abs(u.y-c.y)>=5))return;var c,u;e.preventDefault();const d=s.actions.fluidLift(a);i({type:"DRAGGING",actions:d})}},{eventName:"mouseup",fn:e=>{const i=r();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"mousedown",fn:e=>{"DRAGGING"===r().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:e=>{if("PENDING"!==r().type)return 27===e.keyCode?(e.preventDefault(),void t()):void vO(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{"PENDING"===r().type&&t()}},{eventName:"webkitmouseforcedown",fn:e=>{const n=r();"IDLE"===n.type&&WD(),n.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:yO,fn:t}]}function AO(){}const EO={[fO]:!0,[hO]:!0,[gO]:!0,[pO]:!0};function xO(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:r=>27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(EO[r.keyCode]?r.preventDefault():vO(r))},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:yO,fn:n}]}const IO={type:"IDLE"};const SO=["input","button","textarea","select","option","optgroup","video","audio"];function CO(e,t){if(null==t)return!1;if(SO.includes(t.tagName.toLowerCase()))return!0;const n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&CO(e,t.parentElement)}function DO(e,t){const n=t.target;return!!Jk(n)&&CO(e,n)}var NO=e=>fA(e.getBoundingClientRect()).center;const TO=(()=>{const e="matches";if("undefined"===typeof document)return e;return[e,"msMatchesSelector","webkitMatchesSelector"].find((e=>e in Element.prototype))||e})();function kO(e,t){return null==e?null:e[TO](t)?e:kO(e.parentElement,t)}function OO(e,t){return e.closest?e.closest(t):kO(e,t)}function PO(e,t){const n=t.target;if(!function(e){return e instanceof Yk(e).Element}(n))return null;const r=function(e){return`[${Fk.contextId}="${e}"]`}(e),i=OO(n,r);return i&&Jk(i)?i:null}function RO(e){e.preventDefault()}function _O(e){let{expected:t,phase:n,isLockActive:r,shouldWarn:i}=e;return!!r()&&t===n}function LO(e){let{lockAPI:t,store:n,registry:r,draggableId:i}=e;if(t.isClaimed())return!1;const o=r.draggable.findById(i);return!!o&&(!!o.options.isEnabled&&!!wk(n.getState(),i))}function MO(e){let{lockAPI:t,contextId:n,store:r,registry:i,draggableId:o,forceSensorStop:a,sourceEvent:s}=e;if(!LO({lockAPI:t,store:r,registry:i,draggableId:o}))return null;const l=i.draggable.getById(o),c=function(e,t){const n=`[${Uk.contextId}="${e}"]`,r=Kk(document,n).find((e=>e.getAttribute(Uk.id)===t));return r&&Jk(r)?r:null}(n,l.descriptor.id);if(!c)return null;if(s&&!l.options.canDragInteractiveElements&&DO(c,s))return null;const u=t.claim(a||FD);let d="PRE_DRAG";function h(){return l.options.shouldRespectForcePress}function f(){return t.isActive(u)}const p=function(e,t){_O({expected:e,phase:d,isLockActive:f,shouldWarn:!0})&&r.dispatch(t())}.bind(null,"DRAGGING");function g(e){function n(){t.release(),d="COMPLETED"}function i(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shouldBlockNextClick:!1};if(e.cleanup(),i.shouldBlockNextClick){const e=UD(window,[{eventName:"click",fn:RO,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(e)}n(),r.dispatch(FT({reason:t}))}return"PRE_DRAG"!==d&&(n(),WD()),r.dispatch((e=>({type:"LIFT",payload:e}))(e.liftActionArgs)),d="DRAGGING",{isActive:()=>_O({expected:"DRAGGING",phase:d,isLockActive:f,shouldWarn:!1}),shouldRespectForcePress:h,drop:e=>i("DROP",e),cancel:e=>i("CANCEL",e),...e.actions}}const m={isActive:()=>_O({expected:"PRE_DRAG",phase:d,isLockActive:f,shouldWarn:!1}),shouldRespectForcePress:h,fluidLift:function(e){const t=CA((e=>{p((()=>RT({client:e})))}));return{...g({liftActionArgs:{id:o,clientSelection:e,movementMode:"FLUID"},cleanup:()=>t.cancel(),actions:{move:t}}),move:t}},snapLift:function(){const e={moveUp:()=>p(_T),moveRight:()=>p(MT),moveDown:()=>p(LT),moveLeft:()=>p(BT)};return g({liftActionArgs:{id:o,clientSelection:NO(c),movementMode:"SNAP"},cleanup:FD,actions:e})},abort:function(){_O({expected:"PRE_DRAG",phase:d,isLockActive:f,shouldWarn:!0})&&t.release()}};return m}const BO=[function(e){const t=(0,i.useRef)(bO),n=(0,i.useRef)(FD),r=XD((()=>({eventName:"mousedown",fn:function(t){if(t.defaultPrevented)return;if(0!==t.button)return;if(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)return;const r=e.findClosestDraggableId(t);if(!r)return;const i=e.tryGetLock(r,s,{sourceEvent:t});if(!i)return;t.preventDefault();const o={x:t.clientX,y:t.clientY};n.current(),u(i,o)}})),[e]),o=XD((()=>({eventName:"webkitmouseforcewillbegin",fn:t=>{if(t.defaultPrevented)return;const n=e.findClosestDraggableId(t);if(!n)return;const r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}})),[e]),a=$D((function(){n.current=UD(window,[o,r],{passive:!1,capture:!0})}),[o,r]),s=$D((()=>{"IDLE"!==t.current.type&&(t.current=bO,n.current(),a())}),[a]),l=$D((()=>{const e=t.current;s(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[s]),c=$D((function(){const e=wO({cancel:l,completed:s,getPhase:()=>t.current,setPhase:e=>{t.current=e}});n.current=UD(window,e,{capture:!0,passive:!1})}),[l,s]),u=$D((function(e,n){"IDLE"!==t.current.type&&WD(),t.current={type:"PENDING",point:n,actions:e},c()}),[c]);Vk((function(){return a(),function(){n.current()}}),[a])},function(e){const t=(0,i.useRef)(AO),n=XD((()=>({eventName:"keydown",fn:function(n){if(n.defaultPrevented)return;if(32!==n.keyCode)return;const i=e.findClosestDraggableId(n);if(!i)return;const o=e.tryGetLock(i,l,{sourceEvent:n});if(!o)return;n.preventDefault();let a=!0;const s=o.snapLift();function l(){a||WD(),a=!1,t.current(),r()}t.current(),t.current=UD(window,xO(s,l),{capture:!0,passive:!1})}})),[e]),r=$D((function(){t.current=UD(window,[n],{passive:!1,capture:!0})}),[n]);Vk((function(){return r(),function(){t.current()}}),[r])},function(e){const t=(0,i.useRef)(IO),n=(0,i.useRef)(FD),r=$D((function(){return t.current}),[]),o=$D((function(e){t.current=e}),[]),a=XD((()=>({eventName:"touchstart",fn:function(t){if(t.defaultPrevented)return;const r=e.findClosestDraggableId(t);if(!r)return;const i=e.tryGetLock(r,l,{sourceEvent:t});if(!i)return;const o=t.touches[0],{clientX:a,clientY:s}=o,c={x:a,y:s};n.current(),h(i,c)}})),[e]),s=$D((function(){n.current=UD(window,[a],{capture:!0,passive:!1})}),[a]),l=$D((()=>{const e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),o(IO),n.current(),s())}),[s,o]),c=$D((()=>{const e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[l]),u=$D((function(){const e={capture:!0,passive:!1},t={cancel:c,completed:l,getPhase:r},i=UD(window,function(e){let{cancel:t,completed:n,getPhase:r}=e;return[{eventName:"touchmove",options:{capture:!1},fn:e=>{const n=r();if("DRAGGING"!==n.type)return void t();n.hasMoved=!0;const{clientX:i,clientY:o}=e.touches[0],a={x:i,y:o};e.preventDefault(),n.actions.move(a)}},{eventName:"touchend",fn:e=>{const i=r();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"touchcancel",fn:e=>{"DRAGGING"===r().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:e=>{const n=r();"IDLE"===n.type&&WD();const i=e.touches[0];if(!i)return;if(!(i.force>=.15))return;const o=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return o?n.hasMoved?void e.preventDefault():void t():void e.preventDefault();o&&t()}},{eventName:yO,fn:t}]}(t),e),o=UD(window,function(e){let{cancel:t,getPhase:n}=e;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:e=>{e.preventDefault()}},{eventName:"keydown",fn:e=>{"DRAGGING"===n().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:yO,fn:t}]}(t),e);n.current=function(){i(),o()}}),[c,r,l]),d=$D((function(){const e=r();"PENDING"!==e.type&&WD();const t=e.actions.fluidLift(e.point);o({type:"DRAGGING",actions:t,hasMoved:!1})}),[r,o]),h=$D((function(e,t){"IDLE"!==r().type&&WD();const n=setTimeout(d,120);o({type:"PENDING",point:t,actions:e,longPressTimerId:n}),u()}),[u,r,o,d]);Vk((function(){return s(),function(){n.current();const e=r();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),o(IO))}}),[r,s,o]),Vk((function(){return UD(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])}),[])}];function jO(e){let{contextId:t,store:n,registry:r,customSensors:o,enableDefaultSensors:a}=e;const s=[...a?BO:[],...o||[]],l=(0,i.useState)((()=>function(){let e=null;function t(){e||WD(),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&WD();const n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()))[0],c=$D((function(e,t){cO(e)&&!cO(t)&&l.tryAbandon()}),[l]);Vk((function(){let e=n.getState();return n.subscribe((()=>{const t=n.getState();c(e,t),e=t}))}),[l,n,c]),Vk((()=>l.tryAbandon),[l.tryAbandon]);const u=$D((e=>LO({lockAPI:l,registry:r,store:n,draggableId:e})),[l,r,n]),d=$D(((e,i,o)=>MO({lockAPI:l,registry:r,contextId:t,store:n,draggableId:e,forceSensorStop:i||null,sourceEvent:o&&o.sourceEvent?o.sourceEvent:null})),[t,l,r,n]),h=$D((e=>function(e,t){const n=PO(e,t);return n?n.getAttribute(Fk.draggableId):null}(t,e)),[t]),f=$D((e=>{const t=r.draggable.findById(e);return t?t.options:null}),[r.draggable]),p=$D((function(){l.isClaimed()&&(l.tryAbandon(),"IDLE"!==n.getState().phase&&n.dispatch({type:"FLUSH",payload:null}))}),[l,n]),g=$D((()=>l.isClaimed()),[l]),m=XD((()=>({canGetLock:u,tryGetLock:d,findClosestDraggableId:h,findOptionsForDraggable:f,tryReleaseLock:p,isLockClaimed:g})),[u,d,h,f,p,g]);oO();for(let i=0;i<s.length;i++)s[i](m)}function FO(e){return e.current||WD(),e.current}function UO(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:o,dragHandleUsageInstructions:a}=e,l=(0,i.useRef)(null);sO();const c=lO(e),u=$D((()=>(e=>({onBeforeCapture:t=>{(0,s.flushSync)((()=>{e.onBeforeCapture&&e.onBeforeCapture(t)}))},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}))(c.current)),[c]),d=$D((()=>(e=>({...Ik,...e.autoScrollerOptions,durationDampening:{...Ik.durationDampening,...e.autoScrollerOptions}}))(c.current)),[c]),h=function(e){const t=XD((()=>(e=>`rfd-announcement-${e}`)(e)),[e]),n=(0,i.useRef)(null);(0,i.useEffect)((function(){const e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),lw(e.style,tO),eO().appendChild(e),function(){setTimeout((function(){const t=eO();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)}))}}),[t]);const r=$D((e=>{const t=n.current;t&&(t.textContent=e)}),[]);return r}(t),f=function(e){let{contextId:t,text:n}=e;const r=rO("hidden-text",{separator:"-"}),o=XD((()=>function(e){let{contextId:t,uniqueId:n}=e;return`rfd-hidden-text-${t}-${n}`}({contextId:t,uniqueId:r})),[r,t]);return(0,i.useEffect)((function(){const e=document.createElement("div");return e.id=o,e.textContent=n,e.style.display="none",eO().appendChild(e),function(){const t=eO();t.contains(e)&&t.removeChild(e)}}),[o,n]),o}({contextId:t,text:a}),p=Qk(t,o),g=$D((e=>{FO(l).dispatch(e)}),[]),m=XD((()=>FC({publishWhileDragging:NT,updateDroppableScroll:kT,updateDroppableIsEnabled:OT,updateDroppableIsCombineEnabled:PT,collectionStarting:TT},g)),[g]),v=function(){const e=XD($k,[]);return(0,i.useEffect)((()=>function(){e.clean()}),[e]),e}(),y=XD((()=>bk(v,m)),[v,m]),b=XD((()=>Bk({scrollWindow:Ak,scrollDroppable:y.scrollDroppable,getAutoScrollerOptions:d,...FC({move:RT},g)})),[y.scrollDroppable,g,d]),w=function(e){const t=(0,i.useRef)({}),n=(0,i.useRef)(null),r=(0,i.useRef)(null),o=(0,i.useRef)(!1),a=$D((function(e,n){const r={id:e,focus:n};return t.current[e]=r,function(){const n=t.current;n[e]!==r&&delete n[e]}}),[]),s=$D((function(t){const n=Xk(e,t);n&&n!==document.activeElement&&n.focus()}),[e]),l=$D((function(e,t){n.current===e&&(n.current=t)}),[]),c=$D((function(){r.current||o.current&&(r.current=requestAnimationFrame((()=>{r.current=null;const e=n.current;e&&s(e)})))}),[s]),u=$D((function(e){n.current=null;const t=document.activeElement;t&&t.getAttribute(Fk.draggableId)===e&&(n.current=e)}),[]);return Vk((()=>(o.current=!0,function(){o.current=!1;const e=r.current;e&&cancelAnimationFrame(e)})),[]),XD((()=>({register:a,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l})),[a,u,c,l])}(t),A=XD((()=>fk({announce:h,autoScroller:b,dimensionMarshal:y,focusMarshal:w,getResponders:u,styleMarshal:p})),[h,b,y,w,u,p]);l.current=A;const E=$D((()=>{const e=FO(l);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})}),[]),x=$D((()=>{const e=FO(l).getState();return"DROP_ANIMATING"===e.phase||"IDLE"!==e.phase&&e.isDragging}),[]);n(XD((()=>({isDragging:x,tryAbort:E})),[x,E]));const I=$D((e=>wk(FO(l).getState(),e)),[]),S=$D((()=>aT(FO(l).getState())),[]),C=XD((()=>({marshal:y,focus:w,contextId:t,canLift:I,isMovementAllowed:S,dragHandleUsageInstructionsId:f,registry:v})),[t,y,f,w,I,S,v]);return jO({contextId:t,store:A,registry:v,customSensors:r||null,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,i.useEffect)((()=>E),[E]),i.createElement(iO.Provider,{value:C},i.createElement(BD,{context:Zk,store:A},e.children))}function zO(e){const t=i.useId(),n=e.dragHandleUsageInstructions||YD.dragHandleUsageInstructions;return i.createElement(VD,null,(r=>i.createElement(UO,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children)))}const GO=5e3,WO=4500,VO=(e,t)=>t?qT.drop(t.duration):e?qT.snap:qT.fluid,HO=(e,t)=>{if(e)return t?GT.drop:GT.combining};function qO(e){return"DRAGGING"===e.type?function(e){const t=e.dimension.client,{offset:n,combineWith:r,dropping:i}=e,o=Boolean(r),a=(e=>null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode)(e),s=Boolean(i),l=s?YT(n,o):KT(n);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:VO(a,i),transform:l,opacity:HO(o,s),zIndex:s?WO:GO,pointerEvents:"none"}}(e):{transform:KT((t=e).offset),transition:t.shouldAnimateDisplacement?void 0:"none"};var t}function QO(e){const t=rO("draggable"),{descriptor:n,registry:r,getDraggableRef:o,canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:l}=e,c=XD((()=>({canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:l})),[a,l,s]),u=$D((e=>{const t=o();return t||WD(),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ZD;const r=window.getComputedStyle(t),i=t.getBoundingClientRect(),o=AA(i,r),a=wA(o,n);return{descriptor:e,placeholder:{client:o,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:o.marginBox.width,y:o.marginBox.height},client:o,page:a}}(n,t,e)}),[n,o]),d=XD((()=>({uniqueId:t,descriptor:n,options:c,getDimension:u})),[n,u,c,t]),h=(0,i.useRef)(d),f=(0,i.useRef)(!0);Vk((()=>(r.draggable.register(h.current),()=>r.draggable.unregister(h.current))),[r.draggable]),Vk((()=>{if(f.current)return void(f.current=!1);const e=h.current;h.current=d,r.draggable.update(d,e)}),[d,r.draggable])}var KO=i.createContext(null);function YO(e){const t=(0,i.useContext)(e);return t||WD(),t}function JO(e){e.preventDefault()}var XO=(e,t)=>e===t,$O=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};function ZO(){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,combineWith:null}}const eP={mapped:{type:"SECONDARY",offset:ZD,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:ZO(null)}};const tP=MD((()=>{const e=function(){const e=fN(((e,t)=>({x:e,y:t}))),t=fN((function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return{isDragging:!0,isClone:t,isDropAnimating:Boolean(i),dropAnimation:i,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}})),n=fN((function(e,n,r,i){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;return{mapped:{type:"DRAGGING",dropping:null,draggingOver:o,combineWith:a,mode:n,offset:e,dimension:r,forceShouldAnimate:arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,snapshot:t(n,i,o,a,null)}}}));return(r,i)=>{if(cO(r)){if(r.critical.draggable.id!==i.draggableId)return null;const t=r.current.client.offset,a=r.dimensions.draggables[i.draggableId],s=iT(r.impact),l=(o=r.impact).at&&"COMBINE"===o.at.type?o.at.combine.draggableId:null,c=r.forceShouldAnimate;return n(e(t.x,t.y),r.movementMode,a,i.isClone,s,l,c)}var o;if("DROP_ANIMATING"===r.phase){const e=r.completed;if(e.result.draggableId!==i.draggableId)return null;const n=i.isClone,o=r.dimensions.draggables[i.draggableId],a=e.result,s=a.mode,l=$O(a),c=(e=>e.combine?e.combine.draggableId:null)(a),u={duration:r.dropDuration,curve:zT,moveTo:r.newHomeClientOffset,opacity:c?GT.drop:null,scale:c?WT.drop:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:o,dropping:u,draggingOver:l,combineWith:c,mode:s,forceShouldAnimate:null,snapshot:t(s,n,l,c,u)}}}return null}}(),t=function(){const e=fN(((e,t)=>({x:e,y:t}))),t=fN(ZO),n=fN((function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:arguments.length>2?arguments[2]:void 0,snapshot:t(n)}}})),r=e=>e?n(ZD,e,!0):null,i=(t,i,o,a)=>{const s=o.displaced.visible[t],l=Boolean(a.inVirtualList&&a.effected[t]),c=wN(o),u=c&&c.draggableId===t?i:null;if(!s){if(!l)return r(u);if(o.displaced.invisible[t])return null;const i=rN(a.displacedBy.point),s=e(i.x,i.y);return n(s,u,!0)}if(l)return r(u);const d=o.displacedBy.point,h=e(d.x,d.y);return n(h,u,s.shouldAnimate)};return(e,t)=>{if(cO(e))return e.critical.draggable.id===t.draggableId?null:i(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){const n=e.completed;return n.result.draggableId===t.draggableId?null:i(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return(n,r)=>e(n,r)||t(n,r)||eP}),{dropAnimationFinished:UT},null,{context:Zk,areStatePropsEqual:XO})((e=>{const t=(0,i.useRef)(null),n=$D((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t.current=e}),[]),r=$D((()=>t.current),[]),{contextId:o,dragHandleUsageInstructionsId:a,registry:l}=YO(iO),{type:c,droppableId:u}=YO(KO),d=XD((()=>({id:e.draggableId,index:e.index,type:c,droppableId:u})),[e.draggableId,e.index,c,u]),{children:h,draggableId:f,isEnabled:p,shouldRespectForcePress:g,canDragInteractiveElements:m,isClone:v,mapped:y,dropAnimationFinished:b}=e;if(aO(),oO(),!v){QO(XD((()=>({descriptor:d,registry:l,getDraggableRef:r,canDragInteractiveElements:m,shouldRespectForcePress:g,isEnabled:p})),[d,l,r,m,g,p]))}const w=XD((()=>p?{tabIndex:0,role:"button","aria-describedby":a,"data-rfd-drag-handle-draggable-id":f,"data-rfd-drag-handle-context-id":o,draggable:!1,onDragStart:JO}:null),[o,a,f,p]),A=$D((e=>{"DRAGGING"===y.type&&y.dropping&&"transform"===e.propertyName&&(0,s.flushSync)(b)}),[b,y]),E=XD((()=>{const e=qO(y),t="DRAGGING"===y.type&&y.dropping?A:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":o,"data-rfd-draggable-id":f,style:e,onTransitionEnd:t},dragHandleProps:w}}),[o,w,f,y,A,n]),x=XD((()=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}})),[d.droppableId,d.id,d.index,d.type]);return i.createElement(i.Fragment,null,h(E,y.snapshot,x))}));function nP(e){return YO(KO).isUsingCloneFor!==e.draggableId||e.isClone?i.createElement(tP,e):null}function rP(e){const t="boolean"!==typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),r=Boolean(e.shouldRespectForcePress);return i.createElement(nP,lw({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const iP=e=>t=>e===t,oP=iP("scroll"),aP=iP("auto"),sP=(iP("visible"),(e,t)=>t(e.overflowX)||t(e.overflowY)),lP=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return sP(n,oP)||sP(n,aP)},cP=e=>null==e||e===document.body||e===document.documentElement?null:lP(e)?e:cP(e.parentElement);var uP=e=>({x:e.scrollLeft,y:e.scrollTop});const dP=e=>{if(!e)return!1;return"fixed"===window.getComputedStyle(e).position||dP(e.parentElement)};var hP=e=>{let{ref:t,descriptor:n,env:r,windowScroll:i,direction:o,isDropDisabled:a,isCombineEnabled:s,shouldClipSubject:l}=e;const c=r.closestScrollable,u=((e,t)=>{const n=EA(e);if(!t)return n;if(e!==t)return n;const r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,o=r+t.scrollHeight,a=i+t.scrollWidth,s=pA({top:r,right:a,bottom:o,left:i},n.border);return vA({borderBox:s,margin:n.margin,border:n.border,padding:n.padding})})(t,c),d=wA(u,i),h=(()=>{if(!c)return null;const e=EA(c),t={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:e,page:wA(e,i),scroll:uP(c),scrollSize:t,shouldClipSubject:l}})(),f=(e=>{let{descriptor:t,isEnabled:n,isCombineEnabled:r,isFixedOnPage:i,direction:o,client:a,page:s,closest:l}=e;const c=(()=>{if(!l)return null;const{scrollSize:e,client:t}=l,n=pk({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:n,diff:{value:ZD,displacement:ZD}}}})(),u="vertical"===o?TN:kN;return{descriptor:t,isCombineEnabled:r,isFixedOnPage:i,axis:u,isEnabled:n,client:a,page:s,frame:c,subject:dN({page:s,withPlaceholder:null,axis:u,frame:c})}})({descriptor:n,isEnabled:!a,isCombineEnabled:s,isFixedOnPage:r.isFixedOnPage,direction:o,client:u,page:d,closest:h});return f};const fP={passive:!1},pP={passive:!0};var gP=e=>e.shouldPublishImmediately?fP:pP;const mP=e=>e&&e.env.closestScrollable||null;function vP(e){const t=(0,i.useRef)(null),n=YO(iO),r=rO("droppable"),{registry:o,marshal:a}=n,s=lO(e),l=XD((()=>({id:e.droppableId,type:e.type,mode:e.mode})),[e.droppableId,e.mode,e.type]),c=(0,i.useRef)(l),u=XD((()=>fN(((e,n)=>{t.current||WD();const r={x:e,y:n};a.updateDroppableScroll(l.id,r)}))),[l.id,a]),d=$D((()=>{const e=t.current;return e&&e.env.closestScrollable?uP(e.env.closestScrollable):ZD}),[]),h=$D((()=>{const e=d();u(e.x,e.y)}),[d,u]),f=XD((()=>CA(h)),[h]),p=$D((()=>{const e=t.current,n=mP(e);e&&n||WD();e.scrollOptions.shouldPublishImmediately?h():f()}),[f,h]),g=$D(((e,r)=>{t.current&&WD();const i=s.current,o=i.getDroppableRef();o||WD();const a=(e=>({closestScrollable:cP(e),isFixedOnPage:dP(e)}))(o),c={ref:o,descriptor:l,env:a,scrollOptions:r};t.current=c;const u=hP({ref:o,descriptor:l,env:a,windowScroll:e,direction:i.direction,isDropDisabled:i.isDropDisabled,isCombineEnabled:i.isCombineEnabled,shouldClipSubject:!i.ignoreContainerClipping}),d=a.closestScrollable;return d&&(d.setAttribute(Gk.contextId,n.contextId),d.addEventListener("scroll",p,gP(c.scrollOptions))),u}),[n.contextId,l,p,s]),m=$D((()=>{const e=t.current,n=mP(e);return e&&n||WD(),uP(n)}),[]),v=$D((()=>{const e=t.current;e||WD();const n=mP(e);t.current=null,n&&(f.cancel(),n.removeAttribute(Gk.contextId),n.removeEventListener("scroll",p,gP(e.scrollOptions)))}),[p,f]),y=$D((e=>{const n=t.current;n||WD();const r=mP(n);r||WD(),r.scrollTop+=e.y,r.scrollLeft+=e.x}),[]),b=XD((()=>({getDimensionAndWatchScroll:g,getScrollWhileDragging:m,dragStopped:v,scroll:y})),[v,g,m,y]),w=XD((()=>({uniqueId:r,descriptor:l,callbacks:b})),[b,l,r]);Vk((()=>(c.current=w.descriptor,o.droppable.register(w),()=>{t.current&&v(),o.droppable.unregister(w)})),[b,l,v,w,a,o.droppable]),Vk((()=>{t.current&&a.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)}),[e.isDropDisabled,a]),Vk((()=>{t.current&&a.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,a])}function yP(){}const bP={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},wP=e=>{let{isAnimatingOpenOnMount:t,placeholder:n,animate:r}=e;const i=(e=>{let{isAnimatingOpenOnMount:t,placeholder:n,animate:r}=e;return t||"close"===r?bP:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}})({isAnimatingOpenOnMount:t,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==r?qT.placeholder:null}};var AP=i.memo((e=>{const t=(0,i.useRef)(null),n=$D((()=>{t.current&&(clearTimeout(t.current),t.current=null)}),[]),{animate:r,onTransitionEnd:o,onClose:a,contextId:s}=e,[l,c]=(0,i.useState)("open"===e.animate);(0,i.useEffect)((()=>l?"open"!==r?(n(),c(!1),yP):t.current?yP:(t.current=setTimeout((()=>{t.current=null,c(!1)})),n):yP),[r,l,n]);const u=$D((e=>{"height"===e.propertyName&&(o(),"close"===r&&a())}),[r,a,o]),d=wP({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return i.createElement(e.placeholder.tagName,{style:d,"data-rfd-placeholder-context-id":s,onTransitionEnd:u,ref:e.innerRef})}));class EP extends i.PureComponent{constructor(){super(...arguments),this.state={isVisible:Boolean(this.props.on),data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{"close"===this.state.animate&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const xP={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||WD(),document.body}},IP=e=>{let t,n={...e};for(t in xP)void 0===e[t]&&(n={...n,[t]:xP[t]});return n},SP=(e,t)=>e===t.droppable.type,CP=(e,t)=>t.draggables[e.draggable.id],DP=MD((()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=fN((e=>({draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}))),r=fN(((r,i,o,a,s,l)=>{const c=s.descriptor.id;if(s.descriptor.droppableId===r){const e=l?{render:l,dragging:n(s.descriptor)}:null,t={isDraggingOver:o,draggingOverWith:o?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!1,snapshot:t,useClone:e}}if(!i)return t;if(!a)return e;const u={isDraggingOver:o,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!0,snapshot:u,useClone:null}}));return(n,i)=>{const o=IP(i),a=o.droppableId,s=o.type,l=!o.isDropDisabled,c=o.renderClone;if(cO(n)){const e=n.critical;if(!SP(s,e))return t;const i=CP(e,n.dimensions),o=iT(n.impact)===a;return r(a,l,o,o,i,c)}if("DROP_ANIMATING"===n.phase){const e=n.completed;if(!SP(s,e.critical))return t;const i=CP(e.critical,n.dimensions);return r(a,l,$O(e.result)===a,iT(e.impact)===a,i,c)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){const r=n.completed;if(!SP(s,r.critical))return t;const i=iT(r.impact)===a,o=Boolean(r.impact.at&&"COMBINE"===r.impact.at.type),l=r.critical.droppable.id===a;return i?o?e:t:l?e:t}return t}}),{updateViewportMaxScroll:e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e})},((e,t,n)=>({...IP(n),...e,...t})),{context:Zk,areStatePropsEqual:XO})((e=>{const t=(0,i.useContext)(iO);t||WD();const{contextId:n,isMovementAllowed:r}=t,o=(0,i.useRef)(null),a=(0,i.useRef)(null),{children:l,droppableId:c,type:u,mode:d,direction:h,ignoreContainerClipping:f,isDropDisabled:p,isCombineEnabled:g,snapshot:m,useClone:v,updateViewportMaxScroll:y,getContainerForClone:b}=e,w=$D((()=>o.current),[]),A=$D((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;o.current=e}),[]),E=($D((()=>a.current),[]),$D((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;a.current=e}),[]));aO();const x=$D((()=>{r()&&y({maxScroll:mk()})}),[r,y]);vP({droppableId:c,type:u,mode:d,direction:h,isDropDisabled:p,isCombineEnabled:g,ignoreContainerClipping:f,getDroppableRef:w});const I=XD((()=>i.createElement(EP,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(e=>{let{onClose:t,data:r,animate:o}=e;return i.createElement(AP,{placeholder:r,onClose:t,innerRef:E,animate:o,contextId:n,onTransitionEnd:x})}))),[n,x,e.placeholder,e.shouldAnimatePlaceholder,E]),S=XD((()=>({innerRef:A,placeholder:I,droppableProps:{"data-rfd-droppable-id":c,"data-rfd-droppable-context-id":n}})),[n,c,I,A]),C=v?v.dragging.draggableId:null,D=XD((()=>({droppableId:c,type:u,isUsingCloneFor:C})),[c,C,u]);return i.createElement(KO.Provider,{value:D},l(S,m),function(){if(!v)return null;const{dragging:e,render:t}=v,n=i.createElement(nP,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},((n,r)=>t(n,r,e)));return s.createPortal(n,b())}())})),NP=["What is your company name?","What industry are you in?","How long have you been in business?","What is your company size?","What is your business model?","What are your main products or services?","What is your unique selling proposition?"],TP=["Who is your target audience?","What is the age range of your target market?","What are your customers' pain points?","Where are your customers located?","What is the income level of your target market?","What are your customers' buying habits?"],kP=["What colors represent your brand?","What emotions should your brand evoke?","Do you have any existing brand guidelines?","What brands inspire you?","What design styles do you prefer?","What should your brand communicate?"];function OP(e){let{value:t,onChange:n,type:r="text",suggestions:o=[]}=e;const[a,s]=(0,i.useState)(!1),[l,c]=(0,i.useState)([]),u=(0,i.useRef)(null),d=(0,i.useRef)(null);(0,i.useEffect)((()=>{if(t){const e=o.filter((e=>e.toLowerCase().includes(t.toLowerCase())));c(e)}else c(o)}),[t,o]),(0,i.useEffect)((()=>{const e=e=>{d.current&&!d.current.contains(e.target)&&u.current&&!u.current.contains(e.target)&&s(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}),[]);const h=()=>{s(!0)};return(0,Le.jsxs)("div",{className:"position-relative",style:{width:"100%"},children:["textarea"===r?(0,Le.jsx)("textarea",{ref:u,value:t,onChange:e=>n(e.target.value),onFocus:h,className:"form-control",rows:"3"}):(0,Le.jsx)("input",{ref:u,type:"text",value:t,onChange:e=>n(e.target.value),onFocus:h,className:"form-control"}),a&&l.length>0&&(0,Le.jsx)("div",{ref:d,className:"suggestions-dropdown",children:l.map(((e,t)=>(0,Le.jsx)("div",{className:"suggestion-item",onClick:()=>(e=>{n(e),s(!1)})(e),children:e},t)))})]})}const PP=e=>{let{question:t,onChange:n,onFileUpload:r}=e;const[o,a]=(0,i.useState)(0),[s,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(""),[d,h]=(0,i.useState)(null),f=["image/jpeg","image/jpg","image/png","application/pdf"],p=async e=>{if((e=>(u(""),!!e&&(f.includes(e.type)?!(e.size>5242880)||(u("File size must be less than 5MB."),!1):(u("Only JPG, JPEG, PNG and PDF files are allowed."),!1))))(e))try{if(l(!0),u(""),e.type.startsWith("image/")){const t=new FileReader;t.onloadend=()=>{h(t.result)},t.readAsDataURL(e)}else h(null);const t=Pb(Rb(),`uploads/${Mb.currentUser.uid}/${Date.now()}_${e.name}`);await Tb(t,e);const n=await kb(t);r(n)}catch(c){console.error("Error uploading file:",c),u("Failed to upload file. Please try again.")}finally{l(!1),a(0)}},g=()=>t.text.toLowerCase().includes("color")||t.text.toLowerCase().includes("design")||t.text.toLowerCase().includes("brand")?kP:t.text.toLowerCase().includes("audience")||t.text.toLowerCase().includes("customer")||t.text.toLowerCase().includes("market")?TP:NP;switch(t.type){case"textarea":return(0,Le.jsx)(OP,{value:t.text,onChange:n,type:"textarea",suggestions:g()});case"file":return(0,Le.jsxs)("div",{className:"w-100",children:[(0,Le.jsx)("div",{className:"mb-2",children:(0,Le.jsx)(OP,{value:t.text,onChange:n,suggestions:g()})}),(0,Le.jsxs)("div",{children:[(0,Le.jsx)("input",{type:"file",accept:".jpg,.jpeg,.png,.pdf",onChange:e=>p(e.target.files[0]),className:"form-control",style:{maxWidth:"300px"},disabled:s}),c&&(0,Le.jsx)("div",{className:"text-danger mt-2",style:{maxWidth:"300px"},children:c}),s&&(0,Le.jsx)("div",{className:"progress mt-2",style:{maxWidth:"300px"},children:(0,Le.jsxs)("div",{className:"progress-bar",role:"progressbar",style:{width:`${o}%`},children:[o,"%"]})}),(d||t.fileUrl)&&(0,Le.jsx)("div",{className:"mt-2",style:{maxWidth:"80px"},children:t.fileUrl&&t.fileUrl.toLowerCase().endsWith(".pdf")?(0,Le.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Le.jsx)("i",{className:"fas fa-file-pdf me-2",style:{fontSize:"24px"}}),(0,Le.jsx)("a",{href:t.fileUrl,target:"_blank",rel:"noopener noreferrer",children:"View PDF"})]}):(0,Le.jsx)("img",{src:d||t.fileUrl,alt:"Upload preview",className:"img-fluid",style:{width:"80px",objectFit:"contain",border:"1px solid #dee2e6",borderRadius:"4px"}})})]})]});default:return(0,Le.jsx)(OP,{value:t.text,onChange:n,suggestions:g()})}},RP=i.memo((e=>{let{group:t,groupIndex:n,onQuestionChange:r,onQuestionDelete:o,onGroupNameChange:a,isExpanded:s,onToggleExpand:l,onAddQuestion:c}=e;const[u,d]=(0,i.useState)("text"),h=()=>{c(n,u)};return(0,Le.jsx)(rP,{draggableId:t.id,index:n,children:e=>(0,Le.jsxs)("div",{ref:e.innerRef,...e.draggableProps,className:"card mb-3",children:[(0,Le.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",...e.dragHandleProps,children:[(0,Le.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Le.jsx)("button",{className:"btn btn-link p-0 me-2",onClick:()=>l(t.id),title:s?"Collapse group":"Expand group",children:(0,Le.jsx)("i",{className:"fas fa-chevron-"+(s?"down":"right")})}),(0,Le.jsx)("input",{type:"text",value:t.name,onChange:e=>a(n,e.target.value),className:"form-control",placeholder:"Group Name",style:{minWidth:"500px"}})]}),(0,Le.jsxs)("span",{className:"text-muted",children:[t.questions.length," question",1!==t.questions.length?"s":""]})]}),(0,Le.jsx)(DP,{droppableId:t.id,type:"question",children:e=>(0,Le.jsxs)("div",{ref:e.innerRef,...e.droppableProps,className:"card-body "+(s?"":"d-none"),children:[t.questions.map(((e,t)=>(0,Le.jsx)(rP,{draggableId:e.id,index:t,children:i=>(0,Le.jsxs)("div",{ref:i.innerRef,...i.draggableProps,className:"p-3 mb-2 rounded d-flex align-items-center bg-white border draggable-item",children:[(0,Le.jsx)("div",{...i.dragHandleProps,className:"me-3",children:"\u22ee\u22ee"}),(0,Le.jsx)(PP,{question:e,onChange:e=>r(n,t,e),onFileUpload:e=>{}}),(0,Le.jsx)("button",{onClick:()=>o(n,t),className:"btn btn-outline-danger ms-2 delete-question",type:"button",title:"Delete question",children:"x"})]})},e.id))),e.placeholder,(0,Le.jsxs)("div",{className:"d-flex mt-3",children:[(0,Le.jsxs)("select",{className:"form-select me-2 mr-3",style:{width:"auto"},value:u,onChange:e=>d(e.target.value),children:[(0,Le.jsx)("option",{value:"text",children:"Text Input"}),(0,Le.jsx)("option",{value:"textarea",children:"Text Area"}),(0,Le.jsx)("option",{value:"file",children:"File Upload"})]}),(0,Le.jsx)("button",{className:"btn btn-primary",onClick:h,children:"Add Question"})]})]})})]})})})),_P=()=>{const{templateId:e,type:t}=re(),[n]=_e(),r=n.get("baseTemplate"),[o,a]=(0,i.useState)([]),[s,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(new Set),d=ne(),[h,f]=(0,i.useState)(""),[p,g]=(0,i.useState)(!1);(0,i.useEffect)((()=>{(async()=>{try{const n=Mb.currentUser;if(!n)throw new Error("No authenticated user");if("create"===e){if(r&&"default"!==r){const e=fv(Bb,"users",n.uid,"questionnaireTemplates",r),t=await ay(e);if(t.exists())return void a(t.data().groups)}switch(t){case"website":a(Qb);break;case"app":a(Kb);break;default:a(qb)}return}const i=fv(Bb,"users",n.uid,"questionnaireTemplates",e),o=await ay(i);if(o.exists())a(o.data().groups);else switch(console.error("Template not found"),t){case"website":a(Qb);break;case"app":a(Kb);break;default:a(qb)}}catch(n){console.error("Error loading template:",n),a(qb)}})()}),[e,t,r]);const m=(e,t,n)=>{const r=[...o];r[e].questions[t].text=n,a(r)},v=(e,t)=>{const n=[...o];n[e].questions.splice(t,1),a(n)},y=(e,t)=>{const n=[...o];n[e].name=t,a(n)},b=e=>{u((t=>{const n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n}))},w=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";const n=[...o];n[e].questions.push({id:`question-${Date.now()}`,text:"New Question",type:t,accept:"file"===t?"image/*,.pdf":void 0,fileUrl:null}),a(n)};return(0,Le.jsxs)("div",{className:"p-4",children:[(0,Le.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,Le.jsx)("h2",{children:"Edit Questions"}),(0,Le.jsxs)("div",{children:[(0,Le.jsx)("button",{className:"btn btn-secondary me-2 mr-3",onClick:()=>d("/dashboard"),children:"Cancel"}),"default"!==e&&(0,Le.jsx)("button",{className:"btn btn-danger me-2 mr-3",onClick:async()=>{var t;if("default"!==e){if(window.confirm("Are you sure you want to delete this template? This action cannot be undone."))try{const n=Mb.currentUser;if(!n)throw new Error("No authenticated user");const r=fv(Bb,"users",n.uid,"questionnaireTemplates",e);await(t=r,dy(av(t.firestore,gv),[new Sf(t._key,hf.none())])),d("/dashboard")}catch(n){console.error("Error deleting template:",n),alert("Failed to delete template. Please try again.")}}else alert("Cannot delete the default template")},children:"Delete Template"}),(0,Le.jsx)("button",{className:"btn btn-primary",onClick:()=>g(!0),disabled:s,children:s?"Saving...":"Save Template"})]})]}),(0,Le.jsx)(zO,{onDragEnd:e=>{if(!e.destination)return;const{source:t,destination:n,type:r}=e;if("group"===r){const e=Array.from(o),[r]=e.splice(t.index,1);return e.splice(n.index,0,r),void a(e)}const i=o.find((e=>e.id===t.droppableId)),s=o.find((e=>e.id===n.droppableId)),l=[...o],c=o.findIndex((e=>e.id===t.droppableId)),u=o.findIndex((e=>e.id===n.droppableId));if(t.droppableId===n.droppableId){const e=Array.from(i.questions),[r]=e.splice(t.index,1);e.splice(n.index,0,r),l[c].questions=e}else{const e=Array.from(i.questions),r=Array.from(s.questions),[o]=e.splice(t.index,1);r.splice(n.index,0,o),l[c].questions=e,l[u].questions=r}a(l)},children:(0,Le.jsx)(DP,{droppableId:"groups",type:"group",children:e=>(0,Le.jsxs)("div",{ref:e.innerRef,...e.droppableProps,children:[o.map(((e,t)=>(0,Le.jsx)("div",{className:"mb-4",children:(0,Le.jsx)(RP,{group:e,groupIndex:t,onQuestionChange:m,onQuestionDelete:v,onGroupNameChange:y,isExpanded:c.has(e.id),onToggleExpand:b,onAddQuestion:w})},e.id))),e.placeholder]})})}),(0,Le.jsx)("div",{className:"mt-4",children:(0,Le.jsx)("button",{className:"btn btn-primary",onClick:()=>{const e=`group-${Date.now()}`,t={id:e,name:"New Group",questions:[]};a([...o,t]),u((t=>new Set([...t,e])))},children:"Add New Group"})}),p&&(0,Le.jsx)("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,Le.jsx)("div",{className:"modal-dialog",children:(0,Le.jsx)("div",{className:"modal-content",children:(0,Le.jsxs)("form",{onSubmit:t=>{t.preventDefault(),g(!1),async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if("default"!==e||t)try{l(!0);const n=Mb.currentUser;if(!n)throw new Error("No authenticated user");const r="default"===e?`template-${Date.now()}`:e,i=fv(Bb,"users",n.uid,"questionnaireTemplates",r);await cy(i,{name:t||h||"Untitled Template",groups:o,updatedAt:new Date,type:"branding"},{merge:!0}),d("/dashboard")}catch(n){console.error("Error saving template:",n),alert("Failed to save template. Please try again.")}finally{l(!1)}else g(!0)}(h)},children:[(0,Le.jsx)("div",{className:"modal-header",children:(0,Le.jsx)("h5",{className:"modal-title",children:"Name Your Template"})}),(0,Le.jsx)("div",{className:"modal-body",children:(0,Le.jsxs)("div",{className:"form-group",children:[(0,Le.jsx)("label",{htmlFor:"templateName",className:"form-label",children:"Template Name"}),(0,Le.jsx)("input",{type:"text",className:"form-control",id:"templateName",value:h,onChange:e=>f(e.target.value),placeholder:"Enter template name",required:!0,autoFocus:!0})]})}),(0,Le.jsxs)("div",{className:"modal-footer",children:[(0,Le.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>g(!1),children:"Cancel"}),(0,Le.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:!h.trim(),children:"Save Template"})]})]})})})})]})},LP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAbcAAAG3CAYAAAA3lxvrAAAACXBIWXMAAAsSAAALEgHS3X78AAAZNklEQVR4nO3d3XVUR9o24Lu+5XMxEdCOQHojoB0BmggQEZiJwDgCyxEgIhg5AjcRDEQwIoKBCOo76C0sYwz66a7aXfu61tLygVHXIxn33VW7nqpSaw1fVkpZJ3mZ5EnfSmBY/6q1nvcugvEU4fZXQg2aepPktNb6oXchjOP/9S5gTkopj0op50l+j2CDVp4kuSqlnPYuhHGYuU1KKSdJLpM87l0LLNj/1Vrf9i6Cw2fmlqSUcpZkE8EGvW2mD5rwIIufuU3B9qp3HcAn75OceAbHQyw63KZPiP/pXQfwF++SrAUc97XYZclSyqNslyKB+TlOctG7CA7XYsMtyXmSo95FAH/raSnloncRHKZFLkuWUlZJ/tu5DOB2ntdaL3oXwWFZ6sztZe8CgFt7NW38gltb6sztQyxJwiH5mO0GEz1w3MriZm7TKQiCDQ7LUfTAcQeLC7ck694FAPdylORi2ukMXyXcgENynO0MTsDxVYt75lZKWdYPDGN6XWs9610E87WomdvUAgAcvmfTDR7wRd/1LqCx1Y5e54cdvQ6M5jzbpcMWfiylvNUDx5csLdx2ota66V0DzNHUZtPSq1LKh1rrZeNxmblFLUsCQ7rQIsDnhBtw6K574Fad62BGhBswgqMkl1oEuCbcgFEcxzVWTIQbMJJj1+SQCDdgPM9KKS97F0Ffwg0Y0U+uyVk24QaM6lUpZd27CPoQbsDILvXALZNwA0Z23QOnRWBhhBswOgG3QMINWILjJM6fXBDhBizFEz1wyyHcgCV5Vkp50bsI9k+4AUvzix648Qk3YIleaREYm3ADlmoj4MYl3IClck3OwIQbsGSPowduSMINWLrjJBe9i2C3hBtA8lQP3FiEG8DWMy0C4xBuAH94JeDGINwA/uxci8DhE24Af3Z9i4CAO2DCDeCvjpJcaBE4XMIN4MuOowfuYAk3gL93nOS8dxHcnXAD+LpnpRQBd2CEG8C3/ahF4LAIN4DbeVVKOe1dBLcj3ABu70KLwGEQbgC3d90Dt+pcB98g3ADuxj1wB0C4AdzdcZJN7yL4e8IN4H6OXZMzX8IN4P6elVJe9i6CvxJuAA/zkx64+RFuAA/3qpSy7l0EfxBuALtxqQduPoQbwG5c98BpEZgB4QawOwJuJoQbwG4dJ7nsXcTSCTeA3XuiB64v4QawH89KKS96F7FUwg1gf37RA9eHcAPYr1daBNoTbgD7txFwbQk3gP1zTU5jwg2gjcfRA9eMcANo5zjJee8ilkC4AbT1TA/c/gk3gPaeaRHYL+EG0McrAbc/wg2gn3MtAvsh3AD6ub5FQMDtmHAD6OsoyYUWgd0SbgD9HSfZ9C5iJMINYB6OtQjsjnADmI9npRRN3jsg3ADm5UctAg8n3ADm51Up5bR3EYdMuAHM04UWgfsTbgDzdN0Dt+pcx0ESbgDz5R64exJuAPN2nOSydxGHRrgBzN8TPXB3I9wADsOzUsrL3kUcCuEGcDh+0gN3O8IN4LC8KqWsexcxd8IN4PBc6oH7OuEGcHiue+C0CPwN4QZwmATcVwg3gMN1nOSidxFzJNwADttTPXB/JdwADt+zUsqL3kXMiXADGMMveuD+INwAxvFKi8CWcAMYy0bACTeA0bgmJ8INYESPs/AeOOEGMKbjJC97F9GLcAMY14+llFXvInoQbgBjO+1dQA/CDWBswg2A4SyyLUC4AYztaIm7JoUbwPgWN3sTbgAMR7gBu3TRuwC+aNW7gNaEG7AztdaLJK9718FfrHoX0JpwA3aq1noWAUdnwg3YOQFHb8IN2Isp4J4n+di5FBZIuAF7Mz2DO8l2Fifk+ln1LqC173oXAIyt1nqV5KxzGQerlFJ38DKrHbzGQTFzA2A4wg2A4Qg3AIYj3AAYjnADYDjCDYDhCDcAhiPcABiOcANgOMINYHyb3gW0JtwAGI5wA2A4wg2A4Qg3AIYj3AAYjnADYDjCDYDhCDeA8W16F9CacANgOMINgOEINwCGI9wAGI5wA2A4wg2A4Qg3gPG97V1Aa8INYHC11g+9a2hNuAEwHOEGwHCEGwDDEW4ADEe4ATAc4QbAcIQbAMMRbgAMR7gBMBzhBsBwhBsAwxFuAAxHuAEwHOEGMLhSyknvGloTbgDje9S7gNa+613AXUyfPta5/3+o1Y7qeLmL1wFo5KyUsr7n935Isqm1HtSFp6XW2ruGr5oC7UWS0yRHncsBWKqPSS6TnB9C0M023KZQO0/ypHctAPzJmyQv5hxys3vmVkp5VEo5T/KfCDaAOXqS5D+llPNSyiyf581q5jbN1i6SHHcuBYDbeZfkbG6zuNnM3Eopp0k2EWwAh+Q4yWZ6D5+NWYRbKeUsyb9jwwjAITpK8u/pvXwWuofb9Mt41bsOAB7s1VwCrmu4CTaA4cwi4LptKJk2j2xiKRJgNB+TrHtuMukSbtPW0bdJHjcfHIAW3ic5qbV+6DF4r2XJiwg2gJE9zva9vovm4TZtF33aelwAmnvaq0Wg6bKk5UiAxemyPNl65vYigg1gSR5n+97fVLOZ2zRru4rdkQBL8zHJquXsreXM7UUEG8ASHaXx7K3lzO0qliQBlup9rXXVarAmM7epYVuwASzX4ykLmmi1LHnWaBwA5uus1UCtwm3daBwA5mvdaqAmz9xKKfO5ERWAbmqtpcU4e5+5lVJW+x4DgMPQKhNaLEuuGowBwGFYtRik+2WlALBrwg2A4Qg3AIZjtyQALf2jxRmTwg2AZoZpBQCA1oQbAMMRbgAMR7gBMBzhBsBwhBsAw2kVbh8bjQPAfDXLglbh9rbROADMV7MssCwJwHC+610AwAO8S/Klo5xWSR63LYU5EW7AnL3LdinrKskmSWqtm7u+SCnlJMmj6esk2/BbJXmyiyKZH+HWz8+9CzggP93z+15n+6Z4SFb54zLHJb7xvk9ymW2QbXZ1wG6t9eaznsub/266GXqdbeitkxzvYkz6anVw8ibL/B/1b7U6PHQEDzh4+4f7fMqfk1LK9Uzj+mud8ZbbPia5SHLxWQh1Mf3OT6evp53LGc2bWuu6xUBmbjBj08xlM30l+dNM43T651HrunbkXZLzWutF70Jumn7nF0kuBN3hslsSDkyt9arWelFrPa21PkryPMlvveu6g/fZzqpP5hZsn6u1frj+XSf5PtvHCfp2D4BwgwP32Zvvr5nvm+/HJP+qta4Ocbl4+lDxMttnos+zDWlmSrjBIKY33xfZvvn+2rmcz71JclJrPe9dyEPdmM2tsg25uX6YWDThBoOZ3nxfZDuTe9O7niQ/11rXtdar3oXs2rSsuordz7Mj3GBQ00xuneRf6TO7+Jjkn9NS3rCmDxMvM58PE0S4wfCmpcB1trsTW/mYZF1rvfzmnxzEDD5McINwgwWY+sfWaTOzuA627j1rPUwfJk7S9sMEnxFusBDT8tk625Nb9ulsqcF2bZrFnWR+G3sWQ7jBwtRaz7K/gPvXkpYiv2Xa2GMG14Fwg2Xax5vumxG2+u9SKeVlnFXZhXCDBZqOmFpndxsfPiY529FrDWG6ieC+h37zQMINFmoKuNMdvdz5iH1s9zWdSWl5tiPhBgs2HYP10E0P70fvZbuHlxnv9oaDItyAl3nY8qTnbDeUUk6T/Ni7jqUTbrBw0/Lki3t++/VdbOTTcuRF7zoQbkA+nZF4n1PuL3d1W/YgLnO49+sNpVW4uYUb5u/lPb7HpolJKeVFvNd9S7PfT6m17n+QUvY/yIGptZbeNRyKB/z9+eEQ7w3rZVpSu8rtZx4fp8tSm7pxE/n1Pz/3NsmHbH+WqxZ/B6Zt/5uYtX1Tq/e+71oMAiMrpazv+j1zDN1a64dSymWSZ7f8ls0ey/mLKUDO8+1P/3/696WUZNuw/jbbmeZmD0upFxFssyLcBlZKuT7Alf36/a7fML3hXnuX7Sxjk+0zrKtdFHVPdwm3ZudHllLOkrx6wEscT1/Pptf7Lduf9cHPDKf/z5xCMjOWJTtpMTUvpWyy7GcATZYl9/D3+02Sl71md3f4eVr9fte5xweIO3id5OI+P0uD2obTalnSbkmYnydJfi+lbKbnS63d9lqcq30WccO+++ieZfv7vppmiLdi2/+8CTeYrydJ3k7Pmlra3OYPNVw+bbXk9zjJqzuE3EWcQjJbwg3m7ShJ6xncpuFYX3WfzTo7cB1yb/9u/Cn8nrYsirsRbjB/R2nbT3Z1iz9zn4bv++h56elxtsuVF9MSZJJPrQiOHJs54QaH4fguz4Me4pbLjbf5Mw827WRsFaR/51mSq+nMyMS2/4Mg3OBw3Pf8x/vY1T1vu3DRu4Bsw+zfpZSrLHsH8sEQbnA4jhs+e/vWcmCzTS7TdTqvW433DTaQHIi9h1unB8IwqlXvAiZNl+VqrWdJ/pV5zSi5h1aZYOYGh2Xdu4Beaq3n2Yb7z+n/HI6ZE27AvXTov0ut9UOt9WWtdZXkn9kuV5rN8RfCDbivVc/Ba62Xtdaz6WaCH5L8mu05neDgZODe1pnJfW7TuZCb5NOxWOvp6yR2Ny6ScBtbzwbY+zqJHqJDse5dwJdMvXGXuRG80yaGk/wRev6ODU64DazW2rIvaifcZPBNm0bj3OZ52nEpZdX5ip5buTGzO08+PS9cT1+O0RqQZ25wWFrNxm87szn99h+Zn1rr21rrea31dLqCxeaUwQg3OBy/7eEG6b+44y7Ig1sd+JLPNqf8XwTdwWsRbm6Cht1odVjv6g5/9nGrMy9bmWZ110H3zyS/9a5pME0yoUW4Pfr2HwG+4beGN3Pf9c3n5c1T80cyzehOk3yfbauB2dzDNfm7YlkS5u9dkrOG463v+OcfJ3m5+zLmo9Z6NW3QWmV7QoqQmznhBvP2Lsm6xbO25FOP2H12q/5440qYYV2fkJJtyM3lMGe+QLjBfP1aaz1pFWyT9QO+96LHkVw9TCF3lu3mE6eizJBwg/l5neT7Tn2KZw/43qNsA27I529fMm0+Ocn2eRwzookb+vqYbe/a22ybjDeNZ2qfTKH00Ibm4ySbUkqzpdQ5qLW+mA4guIjTT2ZBuMEDTU3AI9jVTPE4ydUUcId4BNy91Fovp2O+NhFw3VmWBK5nbbtcBj3KdgZ3tsPXnL0pzNexm7K7FuG2bjAG8DAvsvvZxlGSV6WUy6U9h4v3va9ZtxjEzA0WrpSyyn6P0Xqa7TLlEEd13cYUcM9717Fkwg04z/6fER0l+aWUcrWUpcpa60Uc3dWNcIMFmxqvW1758jjbpcqrUsrZApYrX8Tzty6EGyzU1HB90Wn4x0leZbtcOWzz93TXXasDr7lBuMECTTOmi/Tfsn6U5FmS/0yzufMBg+48Zm/NCTdYmCnYNtn2o83J4yQ/5o+guyilnB760uXUzH7Zu46lEW6wIFNQnGd+wfa5x9nO6P6d5H+llE0p5cUBz+osTTbmhJKBTccB3eeEdwY04xnbbTyZvlJK+ZjpqLJsjyub/Skotda3U929l4EXo8XMbdVgDOArphnPJocZbJ87ynaH5y/ZLmF+mGZ2L6fjr+bK0uTWqsUgLcLtcYMxgL8xbfffZIxg+5KjbGd1PyX5vZRSb4TdnJYxZz/DbKRJJnjmBoMqpTwqpVxm+9xqacth12E3p12Ywq0h4QYDmo66ukrbBu25urkL823HE1IWcwXQHAg3GMh06sdVts+jljZbu43j/HFCyrrlwIew8WUkwg0OXCllNT1f+pDtqR9zes79PMnPvYv4gsfZPp87610I+6EVAA7QdJL/OslZ5tvu8et0eHBKKW8zjxNRPveqlPKh1mon42CEGxyAqUdtfeNr7jsff6u1frriZrqlepVtwM3tOeBpbNMfjnCDGZl29D3KthdolW2QrTKvpcZveZftjPJPpmOoTqfWhIvMZxa37l0Auyfc4IGmk2Du6yTzeZPfhY9JTqcg+6Ibs7iX2e5i7O2QPjhwS8INHm6uz7xa+5hkPV3z8lVT+L0opZxnO4sb/nc4BTqN2C0J7MqLu253r7Ve1VrXSX5I8mYvVX1bq9uyV43GIcIN2I2fr3dG3ketdTOF3PdJXqft/WcXjcZZNRqH7DncTMNhEV7XWl/u4oWmmdxZtkHwPPufVf3csA2g9/Ffs9EiG/b9zG2159fnK6ZPwgdvOkni99518EXvkrz45p+6o+mZ3EWSi6kN4jR/tEHsYgPI+2yXUVu2AAi3P6yyPR5ub2woAe7regPJXs9MvBl0yadP/Sc3vh7ldrtO32R7ePGmddP2FNDDb5qZE+EG3EeTYPuSaTfmVQ6r8Xrdu4ClsaEEuI8774xcuNPeBSyNcAPu6kE7I5dmWpJ81ruOpRFuwF3sbGfkgux8ww3fJtyA29rLzsiRTbM2v7MOhBtwG902kBy4Fxnr7NCDIdyA21r1LuCQTC0LP3UuY7GEG3AbR0k203U13M4htSoMR7gBt3WU5N+llJe9C5m76Xc09wtlhybcgLv6qZSymTZL8JlSylksR3Yn3ID7eJLkyjLln003qZ/3rgPhBtzf9TLlpVncp2DbxO7IWRBuwEM9zXYWd9a7kF6mmys2EWyzIdyAXThK8qqU8nZ6o1+MUsqLbK9kEmwzItyAXTpO8vu04WTdu5h9KqU8KqVcJvmldy38lXAD9uFJ/gi54TadTEuwV9kuyTJDwg3YpyfZbjq5KqW8OPSNJ6WUdSllk+RVLEPO2l7Drda62efrAwfjcbbLd/+bdlce1GzuRqj9HjdqP1iLbHATN9Da0yRPSykfs91heJnkcm6HMk9nQ55me/jx467FcGfCDejlKFPQZbvT8l22YbdJsukRdlOv2jrJWRyfddBKrXW/A5Sy3wGAUb1P8vbG14ddLmdNM7NVtmF2HWqeozVQay37HkO4AYfozfTPD9kG322cJHk0fZmVdSTcABhOi3DTCgDAcIQbAMMRbgAMp0W4vW8wBgCHoUkmtAi3qwZjAHAYrloMYlkSgOEINwCGI9wAGI5wA2A4LcLttkfjADC+JpnQItxmdY0FAF01yQTLkgAMR7gBMBxN3AC0dNViEOEGQEtXLQaxLAnAcMzcAGjpqsUge7+JO3EbNwBbLW7hTtotS7r2BoBmWdAq3JxSAkCzLBBuALQyXLhtGo0DwHxtWg3UZENJYlMJwNK12kyStO1z+63hWADMS9MMaBlulw3HAmBemmZAy2XJR0n+12QwAObmH7XWZlegNZu5TT/U61bjATAbr1sGW9Jw5pYkpZRVkv82GxCAOfi+1nrVcsCmBydPP5zZG8ByvG4dbEnjmVvyafb2NslR04EBaO1jkpMe4db8ypvph3zZelwAmnvZI9iSDjO3TwOXcpnkaZfBAdi332qtp70G7xluj7I9iuW4SwEA7Mu7JOvWOyRv6nYT9/RDr7P9JQAwhu7BlnQMt0TAAQxmFsGWdA63ZBtwtdaTJL/2rgWAe/u11noyh2BLOj5z+5JSyjrJRZLHfSsB4JbeJzmrtW56F3JT95nbTbXWTa11leR5Gl5HDsCdvU/yvNa6mluwJTObuX2ulHKa5CxaBgDm4rckF7XWWd/0MutwuzadanIddFoHANp6l+0jo8teTdl3dRDhdtONoFsneXTHb3+U3YTjmx28BsBtPNnBa7xLcteNHh+y7UU+mEC76eDC7SGmDSu/P/R1Wl6VDixbKWUXb9I/zPG52D7NakMJAOyCcANgOMINgOEINwCGI9wAGI5wA2A4wg2A4Qg3AIYj3AAYjnADYDjCDYDhCDcAhiPcABiOcANgOMINgOEINwCGI9wAGI5wA2A4wg2A4Qg3AIYj3AAYjnADYDjCDYDhCDcAhiPcABiOcANgOMINgOEINwCGI9wAGI5wA2A4wg2A4Qg3AIYj3AAYjnADYDjCDYDhCDcAhiPcABiOcANgOMINgOEINwCGI9wAGI5wA2A4wg2A4Qg3AIYj3AAYjnADYDjCDYDhCDcAhiPcABiOcANgOMINgOEINwCGI9wAGI5wA2A4wg2A4Qg3AIYj3AAYjnADYDjCDYDhCDcAhiPcABiOcANgOMINgOEINwCGI9wAGI5wA2A4wg2A4Qg3AIYj3AAYjnADYDjCDYDhCDcAhiPcABiOcANgOMINgOEINwCGI9wAGI5wA2A4wg2A4Qg3AIbzXe8CDlEpZd27BgD+nnC7n997FwDA37MsCcBwhBsAwxFuAAxHuAEwnKWF21XvAgA6uOpdQGul1tq7hqZKKcv6gYHFq7WW3jW0trSZW5K8710AQEOLfM9bYrhtehcA0NCmdwE9CDeAsW16F9DDEp+5PUryv951ADTyj1rrh95FtLa4mdv0H/l17zoAGni9xGBLFjhzS5JSyirJfzuXAbBv39dar3oX0cPiZm5JMv3HNnsDRvZ6qcGWLHTmlnx69naV5KhzKQC79jHJaqlLkslCZ27Jp2dvp73rANiD0yUHW7LgcEuSWusmyfPedQDs0PPpvW3RFh1uSVJrvYiAA8bwfHpPW7zFPnP7XCnlJNtmR8/ggEPzMdulyE3vQuZi8TO3a7XWt0lWsYsSOCyvs908suldyJyYuX3BNIt7keRZ71oA/sbrJOfTB3M+I9y+Ymr2Pk3yqG8lAJ98SHK55B622xBuAAzn/wMx2KLmZSsQtwAAAABJRU5ErkJggg==",MP="data:image/png;base64,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",BP=e=>{let{file:t,width:n=50}=e;console.log("File type:",t.type);const r=t.type.startsWith("image/")&&"image/svg+xml"!==t.type;return(0,Le.jsxs)("div",{className:"file-preview",children:[r?(0,Le.jsx)("img",{src:t.url,alt:t.name,style:{width:`${n}px`,height:`${n}px`,objectFit:"cover",borderRadius:"4px"}}):(0,Le.jsx)("div",{className:"file-icon",style:{width:`${n}px`,height:`${n}px`,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f8f9fa",borderRadius:"4px"},children:(0,Le.jsx)("img",{src:(e=>{var n;const r={"application/pdf":MP,"application/illustrator":"data:image/png;base64,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","image/svg+xml":"data:image/png;base64,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","application/eps":LP,"application/x-eps":LP,"application/postscript":LP,"application/octet-stream":LP,"image/x-eps":LP,"image/eps":LP,"image/png":null,"image/jpeg":null,"image/jpg":null,default:MP};return null!==(n=t.name)&&void 0!==n&&n.toLowerCase().endsWith(".eps")?LP:r[e]||r.default})(t.type),alt:t.type,style:{width:"100%",height:"100%",objectFit:"contain",padding:"8px"}})}),(0,Le.jsx)("p",{className:"file-name mt-2",style:{fontSize:"0.875rem",maxWidth:`${n}px`,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.name})]})},jP=e=>{let{projectId:t,onUploadComplete:n}=e;const[r,o]=(0,i.useState)(!1),[a,s]=(0,i.useState)(!1),[l,c]=(0,i.useState)(null),[u,d]=(0,i.useState)(0),h=(0,i.useRef)(),[f,p]=(0,i.useState)([]),[g,m]=(0,i.useState)(""),v={logos:"Logo Files",brandmarks:"Brand Marks & Icons",typography:"Typography",colors:"Color Palettes",guidelines:"Brand Guidelines",templates:"Templates & Stationery",other:"Other Brand Assets"},y=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?o(!0):"dragleave"===e.type&&o(!1)},b=async e=>{s(!0),c(null);const n={logos:["application/illustrator","image/svg+xml","application/eps","image/png","application/pdf"],brandmarks:["application/illustrator","image/svg+xml","application/eps","image/png","application/pdf"],typography:["application/x-font-ttf","application/x-font-otf","font/ttf","font/otf","application/pdf"],colors:["application/pdf","image/png","image/jpeg","application/illustrator"],guidelines:["application/pdf","application/illustrator"],templates:["application/pdf","application/illustrator","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword"],other:["application/pdf","application/illustrator","image/svg+xml","application/eps","image/png","image/jpeg"]},r={size:[],type:[]},i=e.filter((e=>{var t;let i=!0;e.size>26214400&&(r.size.push(e.name),i=!1);return!((null===(t=n[g])||void 0===t?void 0:t.includes(e.type))||e.name.toLowerCase().endsWith(".eps")&&["logos","brandmarks","other"].includes(g)||e.name.toLowerCase().endsWith(".ai")&&["logos","brandmarks","guidelines","templates","other"].includes(g)||e.name.toLowerCase().endsWith(".ttf")&&"typography"===g||e.name.toLowerCase().endsWith(".otf")&&"typography"===g)&&g&&(r.type.push(e.name),i=!1),i})),o=[];if(r.size.length>0&&o.push(`The following files exceed the 25MB size limit: ${r.size.join(", ")}`),r.type.length>0){const e={logos:"AI, EPS, SVG, PNG, PDF",brandmarks:"AI, EPS, SVG, PNG, PDF",typography:"TTF, OTF, PDF",colors:"PDF, PNG, JPG, AI",guidelines:"PDF, AI",templates:"PDF, AI, DOC, DOCX",other:"AI, EPS, SVG, PNG, JPG, PDF"};o.push(`The following files are not allowed for ${v[g]} (must be ${e[g]}): ${r.type.join(", ")}`)}if(o.length>0&&c({type:"error",message:o.join("\n")}),0===i.length)return void s(!1);const a=i.map((async e=>{try{const n=`projects/${t}/${g}/${e.name}`,r=Pb(jb,n);await Tb(r,e);const i=await kb(r);return{name:e.name,url:i,type:e.type,path:n}}catch(n){return console.error("Upload error:",n),{error:!0,name:e.name}}}));try{const e=await Promise.all(a),t=e.filter((e=>e.error)),n=e.filter((e=>!e.error));t.length>0&&c({type:"error",message:`Failed to upload: ${t.map((e=>e.name)).join(", ")}`}),n.length>0&&(c({type:"success",message:1===n.length?`Successfully uploaded ${n[0].name}`:`Successfully uploaded: ${n.map((e=>e.name)).join(", ")}`}),p((e=>[...e,...n])))}catch(l){c({type:"error",message:"Upload failed. Please try again."})}finally{s(!1)}};return(0,Le.jsxs)(Le.Fragment,{children:[l&&(0,Le.jsxs)("div",{className:`alert ${"success"===l.type?"alert-success":"alert-danger"} mb-3`,children:[l.message,(0,Le.jsx)("button",{type:"button",className:"btn-close float-end",onClick:()=>c(null),children:"X"})]}),(0,Le.jsxs)("div",{className:`upload-zone ${r?"dragging":""} ${a?"uploading":""}`,onDragEnter:y,onDragLeave:y,onDragOver:y,onDrop:async e=>{e.preventDefault(),e.stopPropagation(),o(!1);const t=[...e.dataTransfer.files];t&&t.length>0&&await b(t)},onClick:()=>h.current.click(),style:{border:"2px dashed #ccc",borderRadius:"4px",padding:"20px",textAlign:"center",cursor:"pointer",backgroundColor:r?"#f8f9fa":"white",transition:"all 0.3s ease"},children:[(0,Le.jsx)("input",{type:"file",ref:h,onChange:async e=>{const t=[...e.target.files];t&&t.length>0&&await b(t)},style:{display:"none"},multiple:!0}),a?(0,Le.jsxs)("div",{className:"upload-progress",children:[(0,Le.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,Le.jsx)("span",{className:"visually-hidden",children:"Uploading..."})}),(0,Le.jsx)("p",{children:"Uploading brand assets..."})]}):(0,Le.jsxs)("div",{children:[(0,Le.jsx)("i",{className:"fas fa-cloud-upload-alt mb-2",style:{fontSize:"2rem"}}),(0,Le.jsx)("p",{children:"Drag and drop brand files here or click to select"}),(0,Le.jsx)("p",{className:"text-muted small",children:"Supported formats vary by category"})]})]}),f.length>0&&(0,Le.jsxs)("div",{className:"mt-4",children:[(0,Le.jsxs)("div",{className:"mb-3",children:[(0,Le.jsx)("label",{htmlFor:"fileCategory",className:"form-label",children:"Asset Category"}),(0,Le.jsxs)("select",{id:"fileCategory",className:"form-select",value:g,onChange:e=>m(e.target.value),required:!0,children:[(0,Le.jsx)("option",{value:"",children:"Select a category"}),Object.entries(v).map((e=>{let[t,n]=e;return(0,Le.jsx)("option",{value:t,children:n},t)}))]})]}),(0,Le.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,Le.jsx)("h6",{children:"Files to Upload"}),(0,Le.jsx)("button",{className:"btn btn-primary",onClick:async()=>{if(g)try{s(!0);const e=fv(Bb,"projects",t,"assets",g),r=f.map((e=>({name:e.name,url:e.url,type:e.type,fileType:g,path:e.path,uploadedAt:(new Date).toISOString()}))),i=await ay(e),o=i.exists()&&i.data().files||[];await cy(e,{files:[...o,...r]},{merge:!0}),n(r),p([]),c({type:"success",message:"Files successfully saved to project!"})}catch(e){console.error("Error saving files:",e),c({type:"error",message:"Failed to save files to project. Please try again."})}finally{s(!1)}else c({type:"error",message:"Please select a file category before confirming upload."})},disabled:!g,children:"Confirm Upload"})]}),(0,Le.jsx)("div",{className:"d-flex flex-wrap gap-3",children:f.map(((e,t)=>(0,Le.jsxs)("div",{className:"file-thumb position-relative mr-2 mb-2",children:[(0,Le.jsx)(BP,{file:e,width:80}),(0,Le.jsx)("button",{className:"btn btn-sm btn-danger",onClick:()=>{return t=e,void p((e=>e.filter((e=>e.url!==t.url))));var t},children:"X"})]},t)))})]})]})},FP=()=>{const{projectId:e}=re(),[t,n]=(0,i.useState)([]),[r,o]=(0,i.useState)({key:"uploadedAt",direction:"desc"});(0,i.useEffect)((()=>{(async()=>{try{const t=["logos","brandmarks","typography","colors","guidelines","templates","other"];let r=[];for(const n of t){const t=fv(Bb,"projects",e,"assets",n),i=await ay(t);if(i.exists()){const e=i.data().files||[];r=[...r,...e]}}n(r)}catch(t){console.error("Error loading assets:",t)}})()}),[e]);const a=e=>{o((t=>({key:e,direction:t.key===e&&"asc"===t.direction?"desc":"asc"})))};return(0,Le.jsxs)("div",{className:"dashboard-container p-4",children:[(0,Le.jsx)("h2",{className:"mb-4",children:"Brand Assets"}),(0,Le.jsx)("div",{className:"card mb-4",children:(0,Le.jsxs)("div",{className:"card-body",children:[(0,Le.jsx)(jP,{projectId:e,onUploadComplete:e=>{n((t=>[...t,...e]))}}),(0,Le.jsx)("div",{className:"table-responsive mt-4",children:(0,Le.jsxs)("table",{className:"table",children:[(0,Le.jsx)("thead",{children:(0,Le.jsxs)("tr",{children:[(0,Le.jsx)("th",{style:{width:"80px"}}),(0,Le.jsxs)("th",{onClick:()=>a("name"),style:{cursor:"pointer"},children:["File Name ","name"===r.key&&("asc"===r.direction?"\u25b2":"\u25bc")]}),(0,Le.jsxs)("th",{onClick:()=>a("fileType"),style:{cursor:"pointer"},children:["Asset Category ","fileType"===r.key&&("asc"===r.direction?"\u25b2":"\u25bc")]}),(0,Le.jsxs)("th",{onClick:()=>a("uploadedAt"),style:{cursor:"pointer"},children:["Upload Date ","uploadedAt"===r.key&&("asc"===r.direction?"\u25b2":"\u25bc")]}),(0,Le.jsx)("th",{style:{width:"50px"}})]})}),(0,Le.jsx)("tbody",{children:(()=>{const e=[...t];return e.sort(((e,t)=>{const n="asc"===r.direction?1:-1;switch(r.key){case"uploadedAt":return(new Date(e.uploadedAt)-new Date(t.uploadedAt))*n;case"name":return e.name.localeCompare(t.name)*n;case"fileType":return e.fileType.localeCompare(t.fileType)*n;default:return 0}})),e})().map(((t,r)=>(0,Le.jsxs)("tr",{children:[(0,Le.jsx)("td",{children:(0,Le.jsx)(BP,{file:t,width:50})}),(0,Le.jsx)("td",{className:"align-middle",children:t.name}),(0,Le.jsx)("td",{className:"align-middle",children:t.fileType}),(0,Le.jsx)("td",{className:"align-middle",children:new Date(t.uploadedAt).toLocaleDateString()}),(0,Le.jsx)("td",{className:"align-middle text-end",children:(0,Le.jsx)("button",{className:"btn btn-sm btn-danger",onClick:()=>(async t=>{if(window.confirm(`Are you sure you want to delete "${t.name}"? This action cannot be undone.`))try{if(t.path){const e=Pb(jb,t.path);await Ob(e)}else{const n=`projects/${e}/${t.fileType}/${t.name}`,r=Pb(jb,n);await Ob(r)}const r=fv(Bb,"projects",e,"assets",t.fileType),i=await ay(r);if(i.exists()){const e=(i.data().files||[]).filter((e=>e.url!==t.url));await cy(r,{files:e},{merge:!0}),n((e=>e.filter((e=>e.url!==t.url))))}}catch(r){console.error("Failed to delete file:",r),console.error("File object:",t),console.error("Error details:",r.message)}})(t),children:"X"})})]},r)))})]})})]})})]})};const UP=function(){return(0,Le.jsx)(Be,{children:(0,Le.jsx)(Ne,{children:(0,Le.jsxs)(Ae,{children:[(0,Le.jsx)(be,{path:"/",element:(0,Le.jsx)(Xb,{})}),(0,Le.jsx)(be,{path:"/signup",element:(0,Le.jsx)(ew,{children:(0,Le.jsx)(rw,{})})}),(0,Le.jsx)(be,{path:"/login",element:(0,Le.jsx)(ew,{children:(0,Le.jsx)(ow,{})})}),(0,Le.jsx)(be,{path:"/dashboard",element:(0,Le.jsx)(nw,{role:"designer",children:(0,Le.jsx)(ew,{children:(0,Le.jsx)(Hb,{})})})}),(0,Le.jsx)(be,{path:"/client-dashboard",element:(0,Le.jsx)(nw,{role:"client",children:(0,Le.jsx)(ew,{children:(0,Le.jsx)(tw,{})})})}),(0,Le.jsx)(be,{path:"/onboarding/:type/:projectId/*",element:(0,Le.jsx)(nw,{role:"designer",children:(0,Le.jsx)(ew,{children:(0,Le.jsx)(Jb,{})})})}),(0,Le.jsx)(be,{path:"/edit-questions",element:(0,Le.jsx)(nw,{role:"designer",children:(0,Le.jsx)(ew,{children:(0,Le.jsx)(SC,{})})})}),(0,Le.jsx)(be,{path:"/choose-template/:type",element:(0,Le.jsx)(nw,{role:"designer",children:(0,Le.jsx)(ew,{children:(0,Le.jsx)(CC,{})})})}),(0,Le.jsx)(be,{path:"/start-project/:type/:templateId",element:(0,Le.jsx)(nw,{role:"designer",children:(0,Le.jsx)(ew,{children:(0,Le.jsx)(NC,{})})})}),(0,Le.jsx)(be,{path:"/view-brief/:briefId",element:(0,Le.jsx)(nw,{role:"designer",children:(0,Le.jsx)(ew,{children:(0,Le.jsx)(TC,{})})})}),(0,Le.jsx)(be,{path:"/dashboard/create-draft",element:(0,Le.jsx)(nw,{role:"designer",children:(0,Le.jsx)(ew,{children:(0,Le.jsx)(OC,{})})})}),(0,Le.jsx)(be,{path:"/template/:templateId/edit",element:(0,Le.jsx)(nw,{role:"designer",children:(0,Le.jsx)(ew,{children:(0,Le.jsx)(_P,{})})})}),(0,Le.jsx)(be,{path:"/template/create/:type",element:(0,Le.jsx)(nw,{role:"designer",children:(0,Le.jsx)(ew,{children:(0,Le.jsx)(_P,{})})})}),(0,Le.jsx)(be,{path:"/wizard/:type/:templateId",element:(0,Le.jsx)(nw,{children:(0,Le.jsx)(ew,{children:(0,Le.jsx)(Jb,{})})})}),(0,Le.jsx)(be,{path:"/project/:projectId/assets",element:(0,Le.jsx)(nw,{role:"designer",children:(0,Le.jsx)(ew,{children:(0,Le.jsx)(FP,{})})})})]})})})};a.createRoot(document.getElementById("root")).render((0,Le.jsx)(i.StrictMode,{children:(0,Le.jsx)(UP,{})}))})();
//# sourceMappingURL=main.5c8fae9e.js.map