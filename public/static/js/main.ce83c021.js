/*! For license information please see main.ce83c021.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},82:(e,t)=>{var n=60103,r=60106,i=60107,o=60108,a=60114,s=60109,l=60110,c=60112,u=60113,d=60120,h=60115,f=60116,p=60121,g=60122,m=60117,v=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),i=b("react.fragment"),o=b("react.strict_mode"),a=b("react.profiler"),s=b("react.provider"),l=b("react.context"),c=b("react.forward_ref"),u=b("react.suspense"),d=b("react.suspense_list"),h=b("react.memo"),f=b("react.lazy"),p=b("react.block"),g=b("react.server.block"),m=b("react.fundamental"),v=b("react.debug_trace_mode"),y=b("react.legacy_hidden")}function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case a:case o:case u:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case h:case s:return e;default:return t}}case r:return t}}}t.isContextConsumer=function(e){return w(e)===l}},86:(e,t,n)=>{e.exports=n(82)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,g(w,v.prototype),w.isPureReactComponent=!0;var E=Array.isArray,x=Object.prototype.hasOwnProperty,I={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:I.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function D(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===o?"."+N(l,0):o,E(a)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),D(a,t,i,"",(function(e){return e}))):null!=a&&(_(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",E(e))for(var c=0;c<e.length;c++){var u=o+N(s=e[c],c);l+=D(s,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=D(s=s.value,t,i,u=o+N(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function k(e,t,n){if(null==e)return e;var r=[],i=0;return D(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},P={transition:null},O={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:P,ReactCurrentOwner:I};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:k,forEach:function(e,t,n){k(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return k(e,(function(){t++})),t},toArray:function(e){return k(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=I.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},219:(e,t,n)=>{var r=n(763),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var s=l(t),g=l(n),m=0;m<a.length;++m){var v=a[m];if(!o[v]&&(!r||!r[v])&&(!g||!g[v])&&(!s||!s[v])){var y=h(n,v);try{c(t,v,y)}catch(b){}}}}return t}},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function E(e){if(m=!1,w(e),!g)if(null!==r(c))g=!0,P(x);else{var t=r(u);null!==t&&O(E,t.startTime-e)}}function x(e,n){g=!1,m&&(m=!1,y(_),_=-1),p=!0;var o=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!D());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&O(E,d.startTime-n),l=!1}return l}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var I,S=!1,C=null,_=-1,T=5,N=-1;function D(){return!(t.unstable_now()-N<T)}function k(){if(null!==C){var e=t.unstable_now();N=e;var n=!0;try{n=C(!0,e)}finally{n?I():(S=!1,C=null)}}else S=!1}if("function"===typeof b)I=function(){b(k)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,R=A.port2;A.port1.onmessage=k,I=function(){R.postMessage(null)}}else I=function(){v(k,0)};function P(e){C=e,S||(S=!0,I())}function O(e,n){_=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,P(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(m?(y(_),_=-1):m=!0,O(E,o-a))):(e.sortIndex=s,n(c,e),g||p||(g=!0,P(x))),e},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},237:(e,t,n)=>{n(365)},365:(e,t,n)=>{var r=n(43);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useSyncExternalStore,a=r.useRef,s=r.useEffect,l=r.useMemo,c=r.useDebugValue},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),i=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),x=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),T=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,j=Object.assign;function B(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var F=!1;function U(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(Wo){var r=Wo}Reflect.construct(e,[],t)}else{try{t.call()}catch(Wo){r=Wo}e.call(t.prototype)}else{try{throw Error()}catch(Wo){r=Wo}e()}}catch(Wo){if(Wo&&r&&"string"===typeof Wo.stack){for(var i=Wo.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function V(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case x:return"Portal";case C:return"Profiler";case S:return"StrictMode";case D:return"Suspense";case k:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function G(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function $(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(lu){return e.body}}function Q(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=$(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function oe(e,t){var n=$(t.value),r=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ie=null,Se=null;function Ce(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(o(280));var t=e.stateNode;t&&(t=Ei(t),xe(e.stateNode,e.type,t))}}function _e(e){Ie?Se?Se.push(e):Se=[e]:Ie=e}function Te(){if(Ie){var e=Ie,t=Se;if(Se=Ie=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Ne(e,t){return e(t)}function De(){}var ke=!1;function Ae(e,t,n){if(ke)return e(t,n);ke=!0;try{return Ne(e,t,n)}finally{ke=!1,(null!==Ie||null!==Se)&&(De(),Te())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=Ei(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Pe=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){Pe=!1}function Le(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,je=null,Be=!1,Fe=null,Ue={onError:function(e){Me=!0,je=e}};function Ve(e,t,n,r,i,o,a,s,l){Me=!1,je=null,Le.apply(Ue,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ge(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(ze(e)!==e)throw Error(o(188))}function qe(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return $e(i),e;if(a===r)return $e(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),null!==e?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=dt(s):0!==(o&=a)&&(r=dt(o))}else 0!==(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Et,xt,It,St,Ct,_t=!1,Tt=[],Nt=null,Dt=null,kt=null,At=new Map,Rt=new Map,Pt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":Dt=null;break;case"mouseover":case"mouseout":kt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ge(n)))return e.blockedOn=t,void Ct(e.priority,(function(){It(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ft(e,t,n){Bt(e)&&n.delete(t)}function Ut(){_t=!1,null!==Nt&&Bt(Nt)&&(Nt=null),null!==Dt&&Bt(Dt)&&(Dt=null),null!==kt&&Bt(kt)&&(kt=null),At.forEach(Ft),Rt.forEach(Ft)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return Vt(t,e)}if(0<Tt.length){Vt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nt&&Vt(Nt,e),null!==Dt&&Vt(Dt,e),null!==kt&&Vt(kt,e),At.forEach(t),Rt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)jt(n),null===n.blockedOn&&Pt.shift()}var Gt=w.ReactCurrentBatchConfig,$t=!0;function qt(e,t,n,r){var i=bt,o=Gt.transition;Gt.transition=null;try{bt=1,Ht(e,t,n,r)}finally{bt=i,Gt.transition=o}}function Wt(e,t,n,r){var i=bt,o=Gt.transition;Gt.transition=null;try{bt=4,Ht(e,t,n,r)}finally{bt=i,Gt.transition=o}}function Ht(e,t,n,r){if($t){var i=Qt(e,t,n,r);if(null===i)$r(e,t,r,Kt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Nt=Mt(Nt,e,t,n,r,i),!0;case"dragenter":return Dt=Mt(Dt,e,t,n,r,i),!0;case"mouseover":return kt=Mt(kt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return At.set(o,Mt(At.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Rt.set(o,Mt(Rt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&Et(o),null===(o=Qt(e,t,n,r))&&$r(e,t,r,Kt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else $r(e,t,r,null,n)}}var Kt=null;function Qt(e,t,n,r){if(Kt=null,null!==(e=yi(e=Ee(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ge(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=j({},cn,{view:0,detail:0}),hn=on(dn),fn=j({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(fn),gn=on(j({},fn,{dataTransfer:0})),mn=on(j({},dn,{relatedTarget:0})),vn=on(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),wn=on(j({},cn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function Cn(){return Sn}var _n=j({},dn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=on(_n),Nn=on(j({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Dn=on(j({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),kn=on(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=j({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=on(An),Pn=[9,13,27,32],On=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Mn=u&&"TextEvent"in window&&!Ln,jn=u&&(!On||Ln&&8<Ln&&11>=Ln),Bn=String.fromCharCode(32),Fn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gn[e.type]:"textarea"===t}function qn(e,t,n,r){_e(r),0<(t=Wr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Hn=null;function Kn(e){Br(e,0)}function Qn(e){if(H(wi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Hn=Wn=null)}function nr(e){if("value"===e.propertyName&&Qn(Hn)){var t=[];qn(t,Hn,e,Ee(e)),Ae(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Hn)}function or(e,t){if("click"===e)return Qn(t)}function ar(e,t){if("input"===e||"change"===e)return Qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=u&&"documentMode"in document&&11>=document.documentMode,mr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==K(r)||("selectionStart"in(r=mr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Wr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function Er(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionend:Er("Transition","TransitionEnd")},Ir={},Sr={};function Cr(e){if(Ir[e])return Ir[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Ir[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var _r=Cr("animationend"),Tr=Cr("animationiteration"),Nr=Cr("animationstart"),Dr=Cr("transitionend"),kr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){kr.set(e,t),l(t,[e])}for(var Pr=0;Pr<Ar.length;Pr++){var Or=Ar[Pr];Rr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Rr(_r,"onAnimationEnd"),Rr(Tr,"onAnimationIteration"),Rr(Nr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Dr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,c){if(Ve.apply(this,arguments),Me){if(!Me)throw Error(o(198));var u=je;Me=!1,je=null,Be||(Be=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Br(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;jr(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;jr(i,s,c),o=l}}}if(Be)throw e=Fe,Be=!1,Fe=null,e}function Fr(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(Gr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Gr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Vr]){e[Vr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Ur("selectionchange",!1,t))}}function Gr(e,t,n,r){switch(Yt(t)){case 1:var i=qt;break;case 4:i=Wt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function $r(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=yi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Ae((function(){var r=o,i=Ee(n),a=[];e:{var s=kr.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Dn;break;case _r:case Tr:case Nr:l=vn;break;case Dr:l=kn;break;case"scroll":l=hn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Nn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==h&&(null!=(g=Re(p,h))&&u.push(qr(p,g,f)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,g="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Nn,g="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:wi(l),f=null==c?s:wi(c),(s=new u(g,p+"leave",l,n,i)).target=d,s.relatedTarget=f,g=null,yi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,g=u),d=g,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Hr(f))p++;for(f=0,g=h;g;g=Hr(g))f++;for(;0<p-f;)u=Hr(u),p--;for(;0<f-p;)h=Hr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Hr(u),h=Hr(h)}u=null}else u=null;null!==l&&Kr(a,s,l,u,!1),null!==c&&null!==d&&Kr(a,d,c,u,!0)}if("select"===(l=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Yn;else if($n(s))if(Xn)m=ar;else{m=ir;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=or);switch(m&&(m=m(e,r))?qn(a,m,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?wi(r):window,e){case"focusin":($n(v)||"true"===v.contentEditable)&&(mr=v,vr=r,yr=null);break;case"focusout":yr=vr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":wr(a,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(y=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(v=Wr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=Vn(n))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Bn);case"textInput":return(e=t.data)===Bn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!On&&Un(e,t)?(e=en(),Zt=Jt=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Br(a,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Re(e,n))&&r.unshift(qr(e,o,i)),null!=(o=Re(e,t))&&r.push(qr(e,o,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Re(n,o))&&a.unshift(qr(n,l,s)):i||null!=(l=Re(n,o))&&a.push(qr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Qr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,gi="__reactEvents$"+di,mi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Ei(e){return e[fi]||null}var xi=[],Ii=-1;function Si(e){return{current:e}}function Ci(e){0>Ii||(e.current=xi[Ii],xi[Ii]=null,Ii--)}function _i(e,t){Ii++,xi[Ii]=e.current,e.current=t}var Ti={},Ni=Si(Ti),Di=Si(!1),ki=Ti;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Ci(Di),Ci(Ni)}function Oi(e,t,n){if(Ni.current!==Ti)throw Error(o(168));_i(Ni,t),_i(Di,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,G(e)||"Unknown",i));return j({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,ki=Ni.current,_i(Ni,e),_i(Di,Di.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Li(e,t,ki),r.__reactInternalMemoizedMergedChildContext=e,Ci(Di),Ci(Ni),_i(Ni,e)):Ci(Di),_i(Di,n)}var Bi=null,Fi=!1,Ui=!1;function Vi(e){null===Bi?Bi=[e]:Bi.push(e)}function zi(){if(!Ui&&null!==Bi){Ui=!0;var e=0,t=bt;try{var n=Bi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Bi=null,Fi=!1}catch(i){throw null!==Bi&&(Bi=Bi.slice(e+1)),He(Ze,zi),i}finally{bt=t,Ui=!1}}return null}var Gi=[],$i=0,qi=null,Wi=0,Hi=[],Ki=0,Qi=null,Yi=1,Xi="";function Ji(e,t){Gi[$i++]=Wi,Gi[$i++]=qi,qi=e,Wi=t}function Zi(e,t,n){Hi[Ki++]=Yi,Hi[Ki++]=Xi,Hi[Ki++]=Qi,Qi=e;var r=Yi;e=Xi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yi=1<<32-at(t)+i|n<<i|r,Xi=o+e}else Yi=1<<o|n<<i|r,Xi=e}function eo(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function to(e){for(;e===qi;)qi=Gi[--$i],Gi[$i]=null,Wi=Gi[--$i],Gi[$i]=null;for(;e===Qi;)Qi=Hi[--Ki],Hi[Ki]=null,Xi=Hi[--Ki],Hi[Ki]=null,Yi=Hi[--Ki],Hi[Ki]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Mc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Mc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function go(e){null===oo?oo=[e]:oo.push(e)}var mo=w.ReactCurrentBatchConfig;function vo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function yo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bo(e){return(0,e._init)(e._payload)}function wo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Bc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=zc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===I?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===R&&bo(o)===t.type)?((r=i(t,n.props)).ref=vo(e,t,n),r.return=e,r):((r=Fc(n.type,n.key,n.props,null,e.mode,r)).ref=vo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Uc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=zc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Fc(t.type,t.key,t.props,null,e.mode,n)).ref=vo(e,null,t),n.return=e,n;case x:return(t=Gc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Uc(t,e.mode,n,null)).return=e,t;yo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?u(e,t,n,r):null;case R:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:d(e,t,n,r,null);yo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,i,null);yo(t,r)}return null}function g(i,o,s,l){for(var c=null,u=null,d=o,g=o=0,m=null;null!==d&&g<s.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var v=f(i,d,s[g],l);if(null===v){null===d&&(d=m);break}e&&d&&null===v.alternate&&t(i,d),o=a(v,o,g),null===u?c=v:u.sibling=v,u=v,d=m}if(g===s.length)return n(i,d),io&&Ji(i,g),c;if(null===d){for(;g<s.length;g++)null!==(d=h(i,s[g],l))&&(o=a(d,o,g),null===u?c=d:u.sibling=d,u=d);return io&&Ji(i,g),c}for(d=r(i,d);g<s.length;g++)null!==(m=p(d,i,g,s[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),o=a(m,o,g),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach((function(e){return t(i,e)})),io&&Ji(i,g),c}function m(i,s,l,c){var u=L(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,g=s,m=s=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=f(i,g,y.value,c);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&t(i,g),s=a(b,s,m),null===d?u=b:d.sibling=b,d=b,g=v}if(y.done)return n(i,g),io&&Ji(i,m),u;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=h(i,y.value,c))&&(s=a(y,s,m),null===d?u=y:d.sibling=y,d=y);return io&&Ji(i,m),u}for(g=r(i,g);!y.done;m++,y=l.next())null!==(y=p(g,i,m,y.value,c))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),s=a(y,s,m),null===d?u=y:d.sibling=y,d=y);return e&&g.forEach((function(e){return t(i,e)})),io&&Ji(i,m),u}return function e(r,o,a,l){if("object"===typeof a&&null!==a&&a.type===I&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case E:e:{for(var c=a.key,u=o;null!==u;){if(u.key===c){if((c=a.type)===I){if(7===u.tag){n(r,u.sibling),(o=i(u,a.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&bo(c)===u.type){n(r,u.sibling),(o=i(u,a.props)).ref=vo(r,u,a),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===I?((o=Uc(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Fc(a.type,a.key,a.props,null,r.mode,l)).ref=vo(r,o,a),l.return=r,r=l)}return s(r);case x:e:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Gc(a,r.mode,l)).return=r,r=o}return s(r);case R:return e(r,o,(u=a._init)(a._payload),l)}if(te(a))return g(r,o,a,l);if(L(a))return m(r,o,a,l);yo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=zc(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var Eo=wo(!0),xo=wo(!1),Io=Si(null),So=null,Co=null,_o=null;function To(){_o=Co=So=null}function No(e){var t=Io.current;Ci(Io),e._currentValue=t}function Do(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ko(e,t){So=e,_o=Co=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Is=!0),e.firstContext=null)}function Ao(e){var t=e._currentValue;if(_o!==e)if(e={context:e,memoizedValue:t,next:null},null===Co){if(null===So)throw Error(o(308));Co=e,So.dependencies={lanes:0,firstContext:e}}else Co=Co.next=e;return t}var Ro=null;function Po(e){null===Ro?Ro=[e]:Ro.push(e)}function Oo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Po(t)):(n.next=i.next,i.next=n),t.interleaved=n,Lo(e,r)}function Lo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Mo=!1;function jo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Uo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Pl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Lo(e,n)}return null===(i=r.interleaved)?(t.next=t,Po(r)):(t.next=i.next,i.next=t),r.interleaved=t,Lo(e,n)}function Vo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Go(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function $o(e,t,n,r){var i=e.updateQueue;Mo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(a=0,u=c=l=null,s=o;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,g=s;switch(h=t,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=g.payload)?p.call(f,d,h):p)||void 0===h)break e;d=j({},d,h);break e;case 2:Mo=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Vl|=a,e.lanes=a,e.memoizedState=d}}function qo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Ho={},Ko=Si(Ho),Qo=Si(Ho),Yo=Si(Ho);function Xo(e){if(e===Ho)throw Error(o(174));return e}function Jo(e,t){switch(_i(Yo,t),_i(Qo,e),_i(Ko,Ho),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci(Ko),_i(Ko,t)}function Zo(){Ci(Ko),Ci(Qo),Ci(Yo)}function ea(e){Xo(Yo.current);var t=Xo(Ko.current),n=le(t,e.type);t!==n&&(_i(Qo,e),_i(Ko,n))}function na(e){Qo.current===e&&(Ci(Ko),Ci(Qo))}var ra=Si(0);function ia(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var aa=[];function sa(){for(var e=0;e<aa.length;e++)aa[e]._workInProgressVersionPrimary=null;aa.length=0}var la=w.ReactCurrentDispatcher,ca=w.ReactCurrentBatchConfig,ua=0,da=null,ha=null,fa=null,pa=!1,ga=!1,ma=0,va=0;function ya(){throw Error(o(321))}function ba(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function wa(e,t,n,r,i,a){if(ua=a,da=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,la.current=null===e||null===e.memoizedState?rs:is,e=n(r,i),ga){a=0;do{if(ga=!1,ma=0,25<=a)throw Error(o(301));a+=1,fa=ha=null,t.updateQueue=null,la.current=os,e=n(r,i)}while(ga)}if(la.current=ns,t=null!==ha&&null!==ha.next,ua=0,fa=ha=da=null,pa=!1,t)throw Error(o(300));return e}function Ea(){var e=0!==ma;return ma=0,e}function xa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===fa?da.memoizedState=fa=e:fa=fa.next=e,fa}function Ia(){if(null===ha){var e=da.alternate;e=null!==e?e.memoizedState:null}else e=ha.next;var t=null===fa?da.memoizedState:fa.next;if(null!==t)fa=t,ha=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ha=e).memoizedState,baseState:ha.baseState,baseQueue:ha.baseQueue,queue:ha.queue,next:null},null===fa?da.memoizedState=fa=e:fa=fa.next=e}return fa}function Sa(e,t){return"function"===typeof t?t(e):t}function Ca(e){var t=Ia(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ha,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((ua&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,da.lanes|=d,Vl|=d}u=u.next}while(null!==u&&u!==a);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(Is=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,da.lanes|=a,Vl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _a(e){var t=Ia(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(Is=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ta(){}function Na(e,t){var n=da,r=Ia(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,Is=!0),r=r.queue,Ua(Aa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==fa&&1&fa.memoizedState.tag){if(n.flags|=2048,La(9,ka.bind(null,n,r,i,t),void 0,null),null===Ol)throw Error(o(349));0!==(30&ua)||Da(n,t,i)}return i}function Da(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=da.updateQueue)?(t={lastEffect:null,stores:null},da.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ka(e,t,n,r){t.value=n,t.getSnapshot=r,Ra(t)&&Pa(e)}function Aa(e,t,n){return n((function(){Ra(t)&&Pa(e)}))}function Ra(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Pa(e){var t=Lo(e,1);null!==t&&sc(t,e,1,-1)}function Oa(e){var t=xa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:e},t.queue=e,e=e.dispatch=Ja.bind(null,da,e),[t.memoizedState,e]}function La(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=da.updateQueue)?(t={lastEffect:null,stores:null},da.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ma(){return Ia().memoizedState}function ja(e,t,n,r){var i=xa();da.flags|=e,i.memoizedState=La(1|t,n,void 0,void 0===r?null:r)}function Ba(e,t,n,r){var i=Ia();r=void 0===r?null:r;var o=void 0;if(null!==ha){var a=ha.memoizedState;if(o=a.destroy,null!==r&&ba(r,a.deps))return void(i.memoizedState=La(t,n,o,r))}da.flags|=e,i.memoizedState=La(1|t,n,o,r)}function Fa(e,t){return ja(8390656,8,e,t)}function Ua(e,t){return Ba(2048,8,e,t)}function Va(e,t){return Ba(4,2,e,t)}function za(e,t){return Ba(4,4,e,t)}function Ga(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $a(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4,4,Ga.bind(null,t,e),n)}function qa(){}function Wa(e,t){var n=Ia();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ba(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ha(e,t){var n=Ia();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ba(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ka(e,t,n){return 0===(21&ua)?(e.baseState&&(e.baseState=!1,Is=!0),e.memoizedState=n):(sr(n,t)||(n=gt(),da.lanes|=n,Vl|=n,e.baseState=!0),t)}function Qa(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ca.transition;ca.transition={};try{e(!1),t()}finally{bt=n,ca.transition=r}}function Ya(){return Ia().memoizedState}function Xa(e,t,n){var r=ac(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Za(e))es(t,n);else if(null!==(n=Oo(e,t,n,r))){sc(n,e,r,oc()),ts(n,t,r)}}function Ja(e,t,n){var r=ac(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Za(e))es(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(i.next=i,Po(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(Wo){}null!==(n=Oo(e,t,i,r))&&(sc(n,e,r,i=oc()),ts(n,t,r))}}function Za(e){var t=e.alternate;return e===da||null!==t&&t===da}function es(e,t){ga=pa=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ts(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var ns={readContext:Ao,useCallback:ya,useContext:ya,useEffect:ya,useImperativeHandle:ya,useInsertionEffect:ya,useLayoutEffect:ya,useMemo:ya,useReducer:ya,useRef:ya,useState:ya,useDebugValue:ya,useDeferredValue:ya,useTransition:ya,useMutableSource:ya,useSyncExternalStore:ya,useId:ya,unstable_isNewReconciler:!1},rs={readContext:Ao,useCallback:function(e,t){return xa().memoizedState=[e,void 0===t?null:t],e},useContext:Ao,useEffect:Fa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ja(4194308,4,Ga.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ja(4194308,4,e,t)},useInsertionEffect:function(e,t){return ja(4,2,e,t)},useMemo:function(e,t){var n=xa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Xa.bind(null,da,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xa().memoizedState=e},useState:Oa,useDebugValue:qa,useDeferredValue:function(e){return xa().memoizedState=e},useTransition:function(){var e=Oa(!1),t=e[0];return e=Qa.bind(null,e[1]),xa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=da,i=xa();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Ol)throw Error(o(349));0!==(30&ua)||Da(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Fa(Aa.bind(null,r,a,e),[e]),r.flags|=2048,La(9,ka.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=xa(),t=Ol.identifierPrefix;if(io){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-at(Yi)-1)).toString(32)+n),0<(n=ma++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=va++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},is={readContext:Ao,useCallback:Wa,useContext:Ao,useEffect:Ua,useImperativeHandle:$a,useInsertionEffect:Va,useLayoutEffect:za,useMemo:Ha,useReducer:Ca,useRef:Ma,useState:function(){return Ca(Sa)},useDebugValue:qa,useDeferredValue:function(e){return Ka(Ia(),ha.memoizedState,e)},useTransition:function(){return[Ca(Sa)[0],Ia().memoizedState]},useMutableSource:Ta,useSyncExternalStore:Na,useId:Ya,unstable_isNewReconciler:!1},os={readContext:Ao,useCallback:Wa,useContext:Ao,useEffect:Ua,useImperativeHandle:$a,useInsertionEffect:Va,useLayoutEffect:za,useMemo:Ha,useReducer:_a,useRef:Ma,useState:function(){return _a(Sa)},useDebugValue:qa,useDeferredValue:function(e){var t=Ia();return null===ha?t.memoizedState=e:Ka(t,ha.memoizedState,e)},useTransition:function(){return[_a(Sa)[0],Ia().memoizedState]},useMutableSource:Ta,useSyncExternalStore:Na,useId:Ya,unstable_isNewReconciler:!1};function as(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ss(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ls={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=oc(),i=ac(e),o=Fo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Uo(e,o,i))&&(sc(t,e,i,r),Vo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=oc(),i=ac(e),o=Fo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Uo(e,o,i))&&(sc(t,e,i,r),Vo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=oc(),r=ac(e),i=Fo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Uo(e,i,r))&&(sc(t,e,r,n),Vo(t,e,r))}};function cs(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function us(e,t,n){var r=!1,i=Ti,o=t.contextType;return"object"===typeof o&&null!==o?o=Ao(o):(i=Ri(t)?ki:Ni.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ti),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ls,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ds(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ls.enqueueReplaceState(t,t.state,null)}function hs(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},jo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Ao(o):(o=Ri(t)?ki:Ni.current,i.context=Ai(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(ss(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ls.enqueueReplaceState(i,i.state,null),$o(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function fs(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ps(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function gs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ms="function"===typeof WeakMap?WeakMap:Map;function vs(e,t,n){(n=Fo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ql||(Ql=!0,Yl=r),gs(0,t)},n}function ys(e,t,n){(n=Fo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){gs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){gs(0,t),"function"!==typeof r&&(null===Xl?Xl=new Set([this]):Xl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function bs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ms;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function ws(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Es(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fo(-1,1)).tag=2,Uo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var xs=w.ReactCurrentOwner,Is=!1;function Ss(e,t,n,r){t.child=null===e?xo(t,null,n,r):Eo(t,e.child,n,r)}function Cs(e,t,n,r,i){n=n.render;var o=t.ref;return ko(t,i),r=wa(e,t,n,r,o,i),n=Ea(),null===e||Is?(io&&n&&eo(t),t.flags|=1,Ss(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Qs(e,t,i))}function _s(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||jc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Fc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ts(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Qs(e,t,i)}return t.flags|=1,(e=Bc(o,r)).ref=t.ref,e.return=t,t.child=e}function Ts(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(Is=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Qs(e,t,i);0!==(131072&e.flags)&&(Is=!0)}}return As(e,t,n,r,i)}function Ds(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_i(Bl,jl),jl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_i(Bl,jl),jl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,_i(Bl,jl),jl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,_i(Bl,jl),jl|=r;return Ss(e,t,i,n),t.child}function ks(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function As(e,t,n,r,i){var o=Ri(n)?ki:Ni.current;return o=Ai(t,o),ko(t,i),n=wa(e,t,n,r,o,i),r=Ea(),null===e||Is?(io&&r&&eo(t),t.flags|=1,Ss(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Qs(e,t,i))}function Rs(e,t,n,r,i){if(Ri(n)){var o=!0;Mi(t)}else o=!1;if(ko(t,i),null===t.stateNode)Ks(e,t),us(t,n,r),hs(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ao(c):c=Ai(t,c=Ri(n)?ki:Ni.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&ds(t,a,r,c),Mo=!1;var h=t.memoizedState;a.state=h,$o(t,r,a,i),l=t.memoizedState,s!==r||h!==l||Di.current||Mo?("function"===typeof u&&(ss(t,n,u,r),l=t.memoizedState),(s=Mo||cs(t,n,s,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Bo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:as(t.type,s),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ao(l):l=Ai(t,l=Ri(n)?ki:Ni.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&ds(t,a,r,l),Mo=!1,h=t.memoizedState,a.state=h,$o(t,r,a,i);var p=t.memoizedState;s!==d||h!==p||Di.current||Mo?("function"===typeof f&&(ss(t,n,f,r),p=t.memoizedState),(c=Mo||cs(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ps(e,t,n,r,o,i)}function Ps(e,t,n,r,i,o){ks(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&ji(t,n,!1),Qs(e,t,o);r=t.stateNode,xs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Eo(t,e.child,null,o),t.child=Eo(t,null,s,o)):Ss(e,t,s,o),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Os(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),Jo(e,t.containerInfo)}function Ls(e,t,n,r,i){return po(),go(i),t.flags|=256,Ss(e,t,n,r),t.child}var Ms,js,Bs,Fs,Us={dehydrated:null,treeContext:null,retryLane:0};function Vs(e){return{baseLanes:e,cachePool:null,transitions:null}}function zs(e,t,n){var r,i=t.pendingProps,a=ra.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),_i(ra,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Vc(l,i,0,null),e=Uc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Vs(n),t.memoizedState=Us,e):Gs(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,$s(e,t,s,r=ps(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Vc({mode:"visible",children:r.children},i,0,null),(a=Uc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Eo(t,e.child,null,s),t.child.memoizedState=Vs(s),t.memoizedState=Us,a);if(0===(1&t.mode))return $s(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,$s(e,t,s,r=ps(a=Error(o(419)),r,void 0))}if(l=0!==(s&e.childLanes),Is||l){if(null!==(r=Ol)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Lo(e,i),sc(r,e,i,-1))}return wc(),$s(e,t,s,r=ps(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Rc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Hi[Ki++]=Yi,Hi[Ki++]=Xi,Hi[Ki++]=Qi,Yi=e.id,Xi=e.overflow,Qi=t),t=Gs(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(s){s=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Bc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Bc(r,s):(s=Uc(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Vs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Us,i}return e=(s=e.child).sibling,i=Bc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Gs(e,t){return(t=Vc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function $s(e,t,n,r){return null!==r&&go(r),Eo(t,e.child,null,n),(e=Gs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function qs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Do(e.return,t,n)}function Ws(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Hs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ss(e,t,r.children,n),0!==(2&(r=ra.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&qs(e,n,t);else if(19===e.tag)qs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_i(ra,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ia(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ws(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ia(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ws(t,!0,n,null,o);break;case"together":Ws(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ks(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Qs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Vl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Bc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Bc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ys(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Js(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xs(t),null;case 1:case 17:return Ri(t.type)&&Pi(),Xs(t),null;case 3:return r=t.stateNode,Zo(),Ci(Di),Ci(Ni),sa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(dc(oo),oo=null))),js(e,t),Xs(t),null;case 5:na(t);var i=Xo(Yo.current);if(n=t.type,null!==e&&null!=t.stateNode)Bs(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Xs(t),null}if(e=Xo(Ko.current),ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Fr(Lr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Y(r,a),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Fr("invalid",r);break;case"textarea":ie(r,a),Fr("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":W(r),Z(r,a,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Ms(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Fr(Lr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":Y(e,r),i=Q(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?me(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Fr("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+$(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Xs(t),null;case 6:if(e&&null!=t.stateNode)Fs(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Xo(Yo.current),Xo(Ko.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Xs(t),null;case 13:if(Ci(ra),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,a=!1;else if(a=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Xs(t),a=!1}else null!==oo&&(dc(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ra.current)?0===Fl&&(Fl=3):wc())),null!==t.updateQueue&&(t.flags|=4),Xs(t),null);case 4:return Zo(),js(e,t),null===e&&zr(t.stateNode.containerInfo),Xs(t),null;case 10:return No(t.type._context),Xs(t),null;case 19:if(Ci(ra),null===(a=t.memoizedState))return Xs(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Ys(a,!1);else{if(0!==Fl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ia(e))){for(t.flags|=128,Ys(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _i(ra,1&ra.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>Hl&&(t.flags|=128,r=!0,Ys(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ia(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ys(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return Xs(t),null}else 2*Xe()-a.renderingStartTime>Hl&&1073741824!==n&&(t.flags|=128,r=!0,Ys(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=ra.current,_i(ra,r?1&n|2:1&n),t):(Xs(t),null);case 22:case 23:return mc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&jl)&&(Xs(t),6&t.subtreeFlags&&(t.flags|=8192)):Xs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Zs(e,t){switch(to(t),t.tag){case 1:return Ri(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Zo(),Ci(Di),Ci(Ni),sa(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return na(t),null;case 13:if(Ci(ra),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(ra),null;case 4:return Zo(),null;case 10:return No(t.type._context),null;case 22:case 23:return mc(),null;default:return null}}Ms=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},js=function(){},Bs=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Xo(Ko.current);var o,a=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),a=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Fs=function(e,t,n,r){n!==r&&(t.flags|=4)};var el=!1,tl=!1,nl="function"===typeof WeakSet?WeakSet:Set,rl=null;function il(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Dc(e,t,r)}else n.current=null}function ol(e,t,n){try{n()}catch(r){Dc(e,t,r)}}var al=!1;function sl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&ol(t,n,o)}i=i.next}while(i!==r)}}function ll(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function cl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ul(e){var t=e.alternate;null!==t&&(e.alternate=null,ul(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[gi],delete t[mi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function dl(e){return 5===e.tag||3===e.tag||4===e.tag}function hl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||dl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function fl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(fl(e,t,n),e=e.sibling;null!==e;)fl(e,t,n),e=e.sibling}function pl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(pl(e,t,n),e=e.sibling;null!==e;)pl(e,t,n),e=e.sibling}var gl=null,ml=!1;function vl(e,t,n){for(n=n.child;null!==n;)yl(e,t,n),n=n.sibling}function yl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:tl||il(n,t);case 6:var r=gl,i=ml;gl=null,vl(e,t,n),ml=i,null!==(gl=r)&&(ml?(e=gl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):gl.removeChild(n.stateNode));break;case 18:null!==gl&&(ml?(e=gl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),zt(e)):li(gl,n.stateNode));break;case 4:r=gl,i=ml,gl=n.stateNode.containerInfo,ml=!0,vl(e,t,n),gl=r,ml=i;break;case 0:case 11:case 14:case 15:if(!tl&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&ol(n,t,a),i=i.next}while(i!==r)}vl(e,t,n);break;case 1:if(!tl&&(il(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Dc(n,t,s)}vl(e,t,n);break;case 21:vl(e,t,n);break;case 22:1&n.mode?(tl=(r=tl)||null!==n.memoizedState,vl(e,t,n),tl=r):vl(e,t,n);break;default:vl(e,t,n)}}function bl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new nl),t.forEach((function(t){var r=Pc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function wl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:gl=l.stateNode,ml=!1;break e;case 3:case 4:gl=l.stateNode.containerInfo,ml=!0;break e}l=l.return}if(null===gl)throw Error(o(160));yl(a,s,i),gl=null,ml=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(Wo){Dc(i,t,Wo)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)El(t,e),t=t.sibling}function El(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wl(t,e),xl(e),4&r){try{sl(3,e,e.return),ll(3,e)}catch(m){Dc(e,e.return,m)}try{sl(5,e,e.return)}catch(m){Dc(e,e.return,m)}}break;case 1:wl(t,e),xl(e),512&r&&null!==n&&il(n,n.return);break;case 5:if(wl(t,e),xl(e),512&r&&null!==n&&il(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Dc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&X(i,a),be(l,s);var u=be(l,a);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?me(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":J(i,a);break;case"textarea":oe(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(m){Dc(e,e.return,m)}}break;case 6:if(wl(t,e),xl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(m){Dc(e,e.return,m)}}break;case 3:if(wl(t,e),xl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Dc(e,e.return,m)}break;case 4:default:wl(t,e),xl(e);break;case 13:wl(t,e),xl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Wl=Xe())),4&r&&bl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(tl=(u=tl)||d,wl(t,e),tl=u):wl(t,e),xl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(rl=e,d=e.child;null!==d;){for(h=rl=d;null!==rl;){switch(p=(f=rl).child,f.tag){case 0:case 11:case 14:case 15:sl(4,f,f.return);break;case 1:il(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Dc(r,n,m)}}break;case 5:il(f,f.return);break;case 22:if(null!==f.memoizedState){_l(h);continue}}null!==p?(p.return=f,rl=p):_l(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",s))}catch(m){Dc(e,e.return,m)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){Dc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:wl(t,e),xl(e),4&r&&bl(e);case 21:}}function xl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(dl(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),pl(e,hl(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;fl(e,hl(e),a);break;default:throw Error(o(161))}}catch(zo){Dc(e,e.return,zo)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Il(e,t,n){rl=e,Sl(e,t,n)}function Sl(e,t,n){for(var r=0!==(1&e.mode);null!==rl;){var i=rl,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||el;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||tl;s=el;var c=tl;if(el=a,(tl=l)&&!c)for(rl=i;null!==rl;)l=(a=rl).child,22===a.tag&&null!==a.memoizedState?Tl(i):null!==l?(l.return=a,rl=l):Tl(i);for(;null!==o;)rl=o,Sl(o,t,n),o=o.sibling;rl=i,el=s,tl=c}Cl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,rl=o):Cl(e)}}function Cl(e){for(;null!==rl;){var t=rl;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:tl||ll(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!tl)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:as(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&qo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}qo(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(o(163))}tl||512&t.flags&&cl(t)}catch(ta){Dc(t,t.return,ta)}}if(t===e){rl=null;break}if(null!==(n=t.sibling)){n.return=t.return,rl=n;break}rl=t.return}}function _l(e){for(;null!==rl;){var t=rl;if(t===e){rl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,rl=n;break}rl=t.return}}function Tl(e){for(;null!==rl;){var t=rl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ll(4,t)}catch(zo){Dc(t,n,zo)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(zo){Dc(t,i,zo)}}var o=t.return;try{cl(t)}catch(zo){Dc(t,o,zo)}break;case 5:var a=t.return;try{cl(t)}catch(zo){Dc(t,a,zo)}}}catch(zo){Dc(t,t.return,zo)}if(t===e){rl=null;break}var s=t.sibling;if(null!==s){s.return=t.return,rl=s;break}rl=t.return}}var Nl,Dl=Math.ceil,kl=w.ReactCurrentDispatcher,Al=w.ReactCurrentOwner,Rl=w.ReactCurrentBatchConfig,Pl=0,Ol=null,Ll=null,Ml=0,jl=0,Bl=Si(0),Fl=0,Ul=null,Vl=0,zl=0,Gl=0,$l=null,ql=null,Wl=0,Hl=1/0,Kl=null,Ql=!1,Yl=null,Xl=null,Jl=!1,Zl=null,ec=0,tc=0,nc=null,rc=-1,ic=0;function oc(){return 0!==(6&Pl)?Xe():-1!==rc?rc:rc=Xe()}function ac(e){return 0===(1&e.mode)?1:0!==(2&Pl)&&0!==Ml?Ml&-Ml:null!==mo.transition?(0===ic&&(ic=gt()),ic):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function sc(e,t,n,r){if(50<tc)throw tc=0,nc=null,Error(o(185));vt(e,n,r),0!==(2&Pl)&&e===Ol||(e===Ol&&(0===(2&Pl)&&(zl|=n),4===Fl&&hc(e,Ml)),lc(e,r),1===n&&0===Pl&&0===(1&t.mode)&&(Hl=Xe()+500,Fi&&zi()))}function lc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=ft(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ht(e,e===Ol?Ml:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Fi=!0,Vi(e)}(fc.bind(null,e)):Vi(fc.bind(null,e)),ai((function(){0===(6&Pl)&&zi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Oc(n,cc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function cc(e,t){if(rc=-1,ic=0,0!==(6&Pl))throw Error(o(327));var n=e.callbackNode;if(Tc()&&e.callbackNode!==n)return null;var r=ht(e,e===Ol?Ml:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=Ec(e,r);else{t=r;var i=Pl;Pl|=2;var a=bc();for(Ol===e&&Ml===t||(Kl=null,Hl=Xe()+500,vc(e,t));;)try{Ic();break}catch(l){yc(e,l)}To(),kl.current=a,Pl=i,null!==Ll?t=0:(Ol=null,Ml=0,t=Fl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=uc(e,i))),1===t)throw n=Ul,vc(e,0),hc(e,r),lc(e,Xe()),n;if(6===t)hc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=Ec(e,r))&&(0!==(a=pt(e))&&(r=a,t=uc(e,a))),1===t))throw n=Ul,vc(e,0),hc(e,r),lc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:_c(e,ql,Kl);break;case 3:if(hc(e,r),(130023424&r)===r&&10<(t=Wl+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){oc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_c.bind(null,e,ql,Kl),t);break}_c(e,ql,Kl);break;case 4:if(hc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Dl(r/1960))-r)){e.timeoutHandle=ri(_c.bind(null,e,ql,Kl),r);break}_c(e,ql,Kl);break;default:throw Error(o(329))}}}return lc(e,Xe()),e.callbackNode===n?cc.bind(null,e):null}function uc(e,t){var n=$l;return e.current.memoizedState.isDehydrated&&(vc(e,t).flags|=256),2!==(e=Ec(e,t))&&(t=ql,ql=n,null!==t&&dc(t)),e}function dc(e){null===ql?ql=e:ql.push.apply(ql,e)}function hc(e,t){for(t&=~Gl,t&=~zl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function fc(e){if(0!==(6&Pl))throw Error(o(327));Tc();var t=ht(e,0);if(0===(1&t))return lc(e,Xe()),null;var n=Ec(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=uc(e,r))}if(1===n)throw n=Ul,vc(e,0),hc(e,t),lc(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,ql,Kl),lc(e,Xe()),null}function pc(e,t){var n=Pl;Pl|=1;try{return e(t)}finally{0===(Pl=n)&&(Hl=Xe()+500,Fi&&zi())}}function gc(e){null!==Zl&&0===Zl.tag&&0===(6&Pl)&&Tc();var t=Pl;Pl|=1;var n=Rl.transition,r=bt;try{if(Rl.transition=null,bt=1,e)return e()}finally{bt=r,Rl.transition=n,0===(6&(Pl=t))&&zi()}}function mc(){jl=Bl.current,Ci(Bl)}function vc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ll)for(n=Ll.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:Zo(),Ci(Di),Ci(Ni),sa();break;case 5:na(r);break;case 4:Zo();break;case 13:case 19:Ci(ra);break;case 10:No(r.type._context);break;case 22:case 23:mc()}n=n.return}if(Ol=e,Ll=e=Bc(e.current,null),Ml=jl=t,Fl=0,Ul=null,Gl=zl=Vl=0,ql=$l=null,null!==Ro){for(t=0;t<Ro.length;t++)if(null!==(r=(n=Ro[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Ro=null}return e}function yc(e,t){for(;;){var n=Ll;try{if(To(),la.current=ns,pa){for(var r=da.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}pa=!1}if(ua=0,fa=ha=da=null,ga=!1,ma=0,Al.current=null,null===n||null===n.return){Fl=1,Ul=t,Ll=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=Ml,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ws(s);if(null!==p){p.flags&=-257,Es(p,s,l,0,t),1&p.mode&&bs(a,u,t),c=u;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(0===(1&t)){bs(a,u,t),wc();break e}c=Error(o(426))}else if(io&&1&l.mode){var v=ws(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),Es(v,s,l,0,t),go(fs(c,l));break e}}a=c=fs(c,l),4!==Fl&&(Fl=2),null===$l?$l=[a]:$l.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Go(a,vs(0,c,t));break e;case 1:l=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Xl||!Xl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Go(a,ys(a,l,t));break e}}a=a.return}while(null!==a)}Cc(n)}catch(oa){t=oa,Ll===n&&null!==n&&(Ll=n=n.return);continue}break}}function bc(){var e=kl.current;return kl.current=ns,null===e?ns:e}function wc(){0!==Fl&&3!==Fl&&2!==Fl||(Fl=4),null===Ol||0===(268435455&Vl)&&0===(268435455&zl)||hc(Ol,Ml)}function Ec(e,t){var n=Pl;Pl|=2;var r=bc();for(Ol===e&&Ml===t||(Kl=null,vc(e,t));;)try{xc();break}catch(i){yc(e,i)}if(To(),Pl=n,kl.current=r,null!==Ll)throw Error(o(261));return Ol=null,Ml=0,Fl}function xc(){for(;null!==Ll;)Sc(Ll)}function Ic(){for(;null!==Ll&&!Qe();)Sc(Ll)}function Sc(e){var t=Nl(e.alternate,e,jl);e.memoizedProps=e.pendingProps,null===t?Cc(e):Ll=t,Al.current=null}function Cc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Js(n,t,jl)))return void(Ll=n)}else{if(null!==(n=Zs(n,t)))return n.flags&=32767,void(Ll=n);if(null===e)return Fl=6,void(Ll=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ll=t);Ll=t=e}while(null!==t);0===Fl&&(Fl=5)}function _c(e,t,n){var r=bt,i=Rl.transition;try{Rl.transition=null,bt=1,function(e,t,n,r){do{Tc()}while(null!==Zl);if(0!==(6&Pl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Ol&&(Ll=Ol=null,Ml=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Jl||(Jl=!0,Oc(tt,(function(){return Tc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Rl.transition,Rl.transition=null;var s=bt;bt=1;var l=Pl;Pl|=4,Al.current=null,function(e,t){if(ei=$t,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(Ns){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=s),f===a&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},$t=!1,rl=t;null!==rl;)if(e=(t=rl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,rl=e;else for(;null!==rl;){t=rl;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:as(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(Ns){Dc(t,t.return,Ns)}if(null!==(e=t.sibling)){e.return=t.return,rl=e;break}rl=t.return}g=al,al=!1}(e,n),El(n,e),pr(ti),$t=!!ei,ti=ei=null,e.current=n,Il(n,e,i),Ye(),Pl=l,bt=s,Rl.transition=a}else e.current=n;if(Jl&&(Jl=!1,Zl=e,ec=i),a=e.pendingLanes,0===a&&(Xl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),lc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ql)throw Ql=!1,e=Yl,Yl=null,e;0!==(1&ec)&&0!==e.tag&&Tc(),a=e.pendingLanes,0!==(1&a)?e===nc?tc++:(tc=0,nc=e):tc=0,zi()}(e,t,n,r)}finally{Rl.transition=i,bt=r}return null}function Tc(){if(null!==Zl){var e=wt(ec),t=Rl.transition,n=bt;try{if(Rl.transition=null,bt=16>e?16:e,null===Zl)var r=!1;else{if(e=Zl,Zl=null,ec=0,0!==(6&Pl))throw Error(o(331));var i=Pl;for(Pl|=4,rl=e.current;null!==rl;){var a=rl,s=a.child;if(0!==(16&rl.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(rl=u;null!==rl;){var d=rl;switch(d.tag){case 0:case 11:case 15:sl(8,d,a)}var h=d.child;if(null!==h)h.return=d,rl=h;else for(;null!==rl;){var f=(d=rl).sibling,p=d.return;if(ul(d),d===u){rl=null;break}if(null!==f){f.return=p,rl=f;break}rl=p}}}var g=a.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}rl=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,rl=s;else e:for(;null!==rl;){if(0!==(2048&(a=rl).flags))switch(a.tag){case 0:case 11:case 15:sl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,rl=y;break e}rl=a.return}}var b=e.current;for(rl=b;null!==rl;){var w=(s=rl).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,rl=w;else e:for(s=b;null!==rl;){if(0!==(2048&(l=rl).flags))try{switch(l.tag){case 0:case 11:case 15:ll(9,l)}}catch(oa){Dc(l,l.return,oa)}if(l===s){rl=null;break e}var E=l.sibling;if(null!==E){E.return=l.return,rl=E;break e}rl=l.return}}if(Pl=i,zi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(oa){}r=!0}return r}finally{bt=n,Rl.transition=t}}return!1}function Nc(e,t,n){e=Uo(e,t=vs(0,t=fs(n,t),1),1),t=oc(),null!==e&&(vt(e,1,t),lc(e,t))}function Dc(e,t,n){if(3===e.tag)Nc(e,e,n);else for(;null!==t;){if(3===t.tag){Nc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xl||!Xl.has(r))){t=Uo(t,e=ys(t,e=fs(n,e),1),1),e=oc(),null!==t&&(vt(t,1,e),lc(t,e));break}}t=t.return}}function kc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=oc(),e.pingedLanes|=e.suspendedLanes&n,Ol===e&&(Ml&n)===n&&(4===Fl||3===Fl&&(130023424&Ml)===Ml&&500>Xe()-Wl?vc(e,0):Gl|=n),lc(e,t)}function Ac(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=oc();null!==(e=Lo(e,t))&&(vt(e,t,n),lc(e,n))}function Rc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ac(e,n)}function Pc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Ac(e,n)}function Oc(e,t){return He(e,t)}function Lc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mc(e,t,n,r){return new Lc(e,t,n,r)}function jc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Bc(e,t){var n=e.alternate;return null===n?((n=Mc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)jc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case I:return Uc(n.children,i,a,t);case S:s=8,i|=8;break;case C:return(e=Mc(12,n,t,2|i)).elementType=C,e.lanes=a,e;case D:return(e=Mc(13,n,t,i)).elementType=D,e.lanes=a,e;case k:return(e=Mc(19,n,t,i)).elementType=k,e.lanes=a,e;case P:return Vc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:s=10;break e;case T:s=9;break e;case N:s=11;break e;case A:s=14;break e;case R:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Mc(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Uc(e,t,n,r){return(e=Mc(7,e,r,t)).lanes=n,e}function Vc(e,t,n,r){return(e=Mc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function zc(e,t,n){return(e=Mc(6,e,null,t)).lanes=n,e}function Gc(e,t,n){return(t=Mc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $c(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function qc(e,t,n,r,i,o,a,s,l){return e=new $c(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Mc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},jo(o),e}function Wc(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Li(e,n,t)}return t}function Hc(e,t,n,r,i,o,a,s,l){return(e=qc(n,r,!0,e,0,o,0,s,l)).context=Wc(null),n=e.current,(o=Fo(r=oc(),i=ac(n))).callback=void 0!==t&&null!==t?t:null,Uo(n,o,i),e.current.lanes=i,vt(e,i,r),lc(e,r),e}function Kc(e,t,n,r){var i=t.current,o=oc(),a=ac(i);return n=Wc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Uo(i,t,a))&&(sc(e,i,a,o),Vo(e,i,a)),a}function Qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Yc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Xc(e,t){Yc(e,t),(e=e.alternate)&&Yc(e,t)}Nl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Di.current)Is=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Is=!1,function(e,t,n){switch(t.tag){case 3:Os(t),po();break;case 5:ea(t);break;case 1:Ri(t.type)&&Mi(t);break;case 4:Jo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;_i(Io,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_i(ra,1&ra.current),t.flags|=128,null):0!==(n&t.child.childLanes)?zs(e,t,n):(_i(ra,1&ra.current),null!==(e=Qs(e,t,n))?e.sibling:null);_i(ra,1&ra.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Hs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),_i(ra,ra.current),r)break;return null;case 22:case 23:return t.lanes=0,Ds(e,t,n)}return Qs(e,t,n)}(e,t,n);Is=0!==(131072&e.flags)}else Is=!1,io&&0!==(1048576&t.flags)&&Zi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ks(e,t),e=t.pendingProps;var i=Ai(t,Ni.current);ko(t,n),i=wa(null,t,r,e,i,n);var a=Ea();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(a=!0,Mi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,jo(t),i.updater=ls,t.stateNode=i,i._reactInternals=t,hs(t,r,e,n),t=Ps(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),Ss(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ks(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return jc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===A)return 14}return 2}(r),e=as(r,e),i){case 0:t=As(null,t,r,e,n);break e;case 1:t=Rs(null,t,r,e,n);break e;case 11:t=Cs(null,t,r,e,n);break e;case 14:t=_s(null,t,r,as(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,As(e,t,r,i=t.elementType===r?i:as(r,i),n);case 1:return r=t.type,i=t.pendingProps,Rs(e,t,r,i=t.elementType===r?i:as(r,i),n);case 3:e:{if(Os(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Bo(e,t),$o(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ls(e,t,r,n,i=fs(Error(o(423)),t));break e}if(r!==i){t=Ls(e,t,r,n,i=fs(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=xo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Qs(e,t,n);break e}Ss(e,t,r,n)}t=t.child}return t;case 5:return ea(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),ks(e,t),Ss(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return zs(e,t,n);case 4:return Jo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Eo(t,null,r,n):Ss(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:as(r,i),n);case 7:return Ss(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ss(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,_i(Io,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Di.current){t=Qs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Fo(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Do(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Do(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}Ss(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ko(t,n),r=r(i=Ao(i)),t.flags|=1,Ss(e,t,r,n),t.child;case 14:return i=as(r=t.type,t.pendingProps),_s(e,t,r,i=as(r.type,i),n);case 15:return Ts(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:as(r,i),Ks(e,t),t.tag=1,Ri(r)?(e=!0,Mi(t)):e=!1,ko(t,n),us(t,r,i),hs(t,r,i,n),Ps(null,t,r,!0,e,n);case 19:return Hs(e,t,n);case 22:return Ds(e,t,n)}throw Error(o(156,t.tag))};var Jc="function"===typeof reportError?reportError:function(e){console.error(e)};function Zc(e){this._internalRoot=e}function eu(e){this._internalRoot=e}function tu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function nu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ru(){}function iu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Qc(a);s.call(e)}}Kc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Qc(a);o.call(e)}}var a=Hc(t,r,e,0,null,!1,0,"",ru);return e._reactRootContainer=a,e[pi]=a.current,zr(8===e.nodeType?e.parentNode:e),gc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Qc(l);s.call(e)}}var l=qc(e,0,!1,null,0,!1,0,"",ru);return e._reactRootContainer=l,e[pi]=l.current,zr(8===e.nodeType?e.parentNode:e),gc((function(){Kc(t,l,n,r)})),l}(n,t,e,i,r);return Qc(a)}eu.prototype.render=Zc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Kc(e,t,null,null)},eu.prototype.unmount=Zc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;gc((function(){Kc(null,e,null,null)})),t[pi]=null}},eu.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&jt(e)}},Et=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),lc(t,Xe()),0===(6&Pl)&&(Hl=Xe()+500,zi()))}break;case 13:gc((function(){var t=Lo(e,1);if(null!==t){var n=oc();sc(t,e,1,n)}})),Xc(e,1)}},xt=function(e){if(13===e.tag){var t=Lo(e,134217728);if(null!==t)sc(t,e,134217728,oc());Xc(e,134217728)}},It=function(e){if(13===e.tag){var t=ac(e),n=Lo(e,t);if(null!==n)sc(n,e,t,oc());Xc(e,t)}},St=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ei(r);if(!i)throw Error(o(90));H(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=pc,De=gc;var ou={usingClientEntryPoint:!1,Events:[bi,wi,Ei,_e,Te,pc]},au={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},su={bundleType:au.bundleType,version:au.version,rendererPackageName:au.rendererPackageName,rendererConfig:au.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:au.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cu.isDisabled&&cu.supportsFiber)try{it=cu.inject(su),ot=cu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ou,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!tu(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!tu(e))throw Error(o(299));var n=!1,r="",i=Jc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=qc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Zc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return gc(e)},t.hydrate=function(e,t,n){if(!nu(t))throw Error(o(200));return iu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!tu(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Jc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new eu(t)},t.render=function(e,t,n){if(!nu(t))throw Error(o(200));return iu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nu(e))throw Error(o(40));return!!e._reactRootContainer&&(gc((function(){iu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=pc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nu(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return iu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},763:(e,t,n)=>{e.exports=n(983)},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},983:(e,t)=>{var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function E(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case s:case a:case f:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case g:case l:return e;default:return t}}case i:return t}}}function x(e){return E(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=m,t.Memo=g,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=f,t.isAsyncMode=function(e){return x(e)||E(e)===u},t.isConcurrentMode=x,t.isContextConsumer=function(e){return E(e)===c},t.isContextProvider=function(e){return E(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return E(e)===h},t.isFragment=function(e){return E(e)===o},t.isLazy=function(e){return E(e)===m},t.isMemo=function(e){return E(e)===g},t.isPortal=function(e){return E(e)===i},t.isProfiler=function(e){return E(e)===s},t.isStrictMode=function(e){return E(e)===a},t.isSuspense=function(e){return E(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===s||e===a||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===g||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===v)},t.typeOf=E}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(o,a),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r,i=n(43),o=n.t(i,2),a=n(391),s=n(950),l=n.t(s,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const u="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function f(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function g(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function v(e,t,n,i){void 0===i&&(i={});let{window:o=document.defaultView,v5Compat:a=!1}=i,s=o.history,l=r.Pop,h=null,m=v();function v(){return(s.state||{idx:null}).idx}function y(){l=r.Pop;let e=v(),t=null==e?null:e-m;m=e,h&&h({action:l,location:w.location,delta:t})}function b(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:g(e);return n=n.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==m&&(m=0,s.replaceState(c({},s.state,{idx:m}),""));let w={get action(){return l},get location(){return e(o,s)},listen(e){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(u,y),h=e,()=>{o.removeEventListener(u,y),h=null}},createHref:e=>t(o,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=r.Push;let i=p(w.location,e,t);n&&n(i,e),m=v()+1;let c=f(i,m),u=w.createHref(i);try{s.pushState(c,"",u)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;o.location.assign(u)}a&&h&&h({action:l,location:w.location,delta:1})},replace:function(e,t){l=r.Replace;let i=p(w.location,e,t);n&&n(i,e),m=v();let o=f(i,m),c=w.createHref(i);s.replaceState(o,"",c),a&&h&&h({action:l,location:w.location,delta:0})},go:e=>s.go(e)};return w}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function b(e,t,n){return void 0===n&&(n="/"),w(e,t,n,!1)}function w(e,t,n,r){let i=O(("string"===typeof t?m(t):t).pathname||"/",n);if(null==i)return null;let o=E(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let a=null;for(let s=0;null==a&&s<o.length;++s){let e=P(i);a=A(o[s],e,r)}return a}function E(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(d(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=F([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),E(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:k(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of x(e.path))i(e,t,r);else i(e,t)})),t}function x(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=x(r.join("/")),s=[];return s.push(...a.map((e=>""===e?o:[o,e].join("/")))),i&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const I=/^:[\w-]+$/,S=3,C=2,_=1,T=10,N=-2,D=e=>"*"===e;function k(e,t){let n=e.split("/"),r=n.length;return n.some(D)&&(r+=N),t&&(r+=C),n.filter((e=>!D(e))).reduce(((e,t)=>e+(I.test(t)?S:""===t?_:T)),r)}function A(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},o="/",a=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=R({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=R({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:F([o,u.pathname]),pathnameBase:U(F([o,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(o=F([o,u.pathnameBase]))}return a}function R(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:o,pathnameBase:a,pattern:e}}function P(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function L(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function M(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function j(e,t){let n=M(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function B(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=m(e):(i=c({},e),d(!i.pathname||!i.pathname.includes("?"),L("?","pathname","search",i)),d(!i.pathname||!i.pathname.includes("#"),L("#","pathname","hash",i)),d(!i.search||!i.search.includes("#"),L("#","search","hash",i)));let o,a=""===e||""===i.pathname,s=a?"/":i.pathname;if(null==s)o=n;else{let e=t.length-1;if(!r&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?m(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:V(r),hash:z(i)}}(i,o),u=s&&"/"!==s&&s.endsWith("/"),h=(a||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!h||(l.pathname+="/"),l}const F=e=>e.join("/").replace(/\/\/+/g,"/"),U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),V=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function G(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const $=["post","put","patch","delete"],q=(new Set($),["get",...$]);new Set(q),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}const H=i.createContext(null);const K=i.createContext(null);const Q=i.createContext(null);const Y=i.createContext(null);const X=i.createContext({outlet:null,matches:[],isDataRoute:!1});const J=i.createContext(null);function Z(){return null!=i.useContext(Y)}function ee(){return Z()||d(!1),i.useContext(Y).location}function te(e){i.useContext(Q).static||i.useLayoutEffect(e)}function ne(){let{isDataRoute:e}=i.useContext(X);return e?function(){let{router:e}=fe(de.UseNavigateStable),t=ge(he.UseNavigateStable),n=i.useRef(!1);te((()=>{n.current=!0}));let r=i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,W({fromRouteId:t},i)))}),[e,t]);return r}():function(){Z()||d(!1);let e=i.useContext(H),{basename:t,future:n,navigator:r}=i.useContext(Q),{matches:o}=i.useContext(X),{pathname:a}=ee(),s=JSON.stringify(j(o,n.v7_relativeSplatPath)),l=i.useRef(!1);te((()=>{l.current=!0}));let c=i.useCallback((function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let o=B(n,JSON.parse(s),a,"path"===i.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:F([t,o.pathname])),(i.replace?r.replace:r.push)(o,i.state,i)}),[t,r,s,a,e]);return c}()}function re(){let{matches:e}=i.useContext(X),t=e[e.length-1];return t?t.params:{}}function ie(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(Q),{matches:o}=i.useContext(X),{pathname:a}=ee(),s=JSON.stringify(j(o,r.v7_relativeSplatPath));return i.useMemo((()=>B(e,JSON.parse(s),a,"path"===n)),[e,s,a,n])}function oe(e,t,n,o){Z()||d(!1);let{navigator:a,static:s}=i.useContext(Q),{matches:l}=i.useContext(X),c=l[l.length-1],u=c?c.params:{},h=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let f,p=ee();if(t){var g;let e="string"===typeof t?m(t):t;"/"===h||(null==(g=e.pathname)?void 0:g.startsWith(h))||d(!1),f=e}else f=p;let v=f.pathname||"/",y=v;if("/"!==h){let e=h.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=!s&&n&&n.matches&&n.matches.length>0?n.matches:b(e,{pathname:y});let E=ue(w&&w.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:F([h,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:F([h,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,n,o);return t&&E?i.createElement(Y.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:r.Pop}},E):E}function ae(){let e=function(){var e;let t=i.useContext(J),n=pe(he.UseRouteError),r=ge(he.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=G(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:o},n):null,null)}const se=i.createElement(ae,null);class le extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(X.Provider,{value:this.props.routeContext},i.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ce(e){let{routeContext:t,match:n,children:r}=e,o=i.useContext(H);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(X.Provider,{value:t},r)}function ue(e,t,n,r){var o;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=r)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let s=e,l=null==(o=n)?void 0:o.errors;if(null!=l){let e=s.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||d(!1),s=s.slice(0,Math.min(s.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<s.length;i++){let e=s[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,s=u>=0?s.slice(0,u+1):[s[0]];break}}}return s.reduceRight(((e,r,o)=>{let a,d=!1,h=null,f=null;var p;n&&(a=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||se,c&&(u<0&&0===o?(p="route-fallback",!1||me[p]||(me[p]=!0),d=!0,f=null):u===o&&(d=!0,f=r.route.hydrateFallbackElement||null)));let g=t.concat(s.slice(0,o+1)),m=()=>{let t;return t=a?h:d?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(ce,{match:r,routeContext:{outlet:e,matches:g,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===o)?i.createElement(le,{location:n.location,revalidation:n.revalidation,component:h,error:a,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()}),null)}var de=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(de||{}),he=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(he||{});function fe(e){let t=i.useContext(H);return t||d(!1),t}function pe(e){let t=i.useContext(K);return t||d(!1),t}function ge(e){let t=function(){let e=i.useContext(X);return e||d(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||d(!1),n.route.id}const me={};function ve(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}o.startTransition;function ye(e){let{to:t,replace:n,state:r,relative:o}=e;Z()||d(!1);let{future:a,static:s}=i.useContext(Q),{matches:l}=i.useContext(X),{pathname:c}=ee(),u=ne(),h=B(t,j(l,a.v7_relativeSplatPath),c,"path"===o),f=JSON.stringify(h);return i.useEffect((()=>u(JSON.parse(f),{replace:n,state:r,relative:o})),[u,f,o,n,r]),null}function be(e){d(!1)}function we(e){let{basename:t="/",children:n=null,location:o,navigationType:a=r.Pop,navigator:s,static:l=!1,future:c}=e;Z()&&d(!1);let u=t.replace(/^\/*/,"/"),h=i.useMemo((()=>({basename:u,navigator:s,static:l,future:W({v7_relativeSplatPath:!1},c)})),[u,c,s,l]);"string"===typeof o&&(o=m(o));let{pathname:f="/",search:p="",hash:g="",state:v=null,key:y="default"}=o,b=i.useMemo((()=>{let e=O(f,u);return null==e?null:{location:{pathname:e,search:p,hash:g,state:v,key:y},navigationType:a}}),[u,f,p,g,v,y,a]);return null==b?null:i.createElement(Q.Provider,{value:h},i.createElement(Y.Provider,{children:n,value:b}))}function Ee(e){let{children:t,location:n}=e;return oe(xe(t),n)}new Promise((()=>{}));i.Component;function xe(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let o=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,xe(e.props.children,o));e.type!==be&&d(!1),e.props.index&&e.props.children&&d(!1);let a={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=xe(e.props.children,o)),n.push(a)})),n}function Ie(){return Ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ie.apply(this,arguments)}function Se(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function Ce(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map((e=>[n,e])):[[n,r]])}),[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const _e=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(OR){}new Map;const Te=o.startTransition;l.flushSync,o.useId;function Ne(e){let{basename:t,children:n,future:r,window:o}=e,a=i.useRef();var s;null==a.current&&(a.current=(void 0===(s={window:o,v5Compat:!0})&&(s={}),v((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return p("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:g(t)}),null,s)));let l=a.current,[c,u]=i.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},h=i.useCallback((e=>{d&&Te?Te((()=>u(e))):u(e)}),[u,d]);return i.useLayoutEffect((()=>l.listen(h)),[l,h]),i.useEffect((()=>ve(r)),[r]),i.createElement(we,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const De="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,ke=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ae=i.forwardRef((function(e,t){let n,{onClick:r,relative:o,reloadDocument:a,replace:s,state:l,target:c,to:u,preventScrollReset:h,viewTransition:f}=e,p=Se(e,_e),{basename:m}=i.useContext(Q),v=!1;if("string"===typeof u&&ke.test(u)&&(n=u,De))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=O(t.pathname,m);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:v=!0}catch(OR){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;Z()||d(!1);let{basename:r,navigator:o}=i.useContext(Q),{hash:a,pathname:s,search:l}=ie(e,{relative:n}),c=s;return"/"!==r&&(c="/"===s?r:F([r,s])),o.createHref({pathname:c,search:l,hash:a})}(u,{relative:o}),b=function(e,t){let{target:n,replace:r,state:o,preventScrollReset:a,relative:s,viewTransition:l}=void 0===t?{}:t,c=ne(),u=ee(),d=ie(e,{relative:s});return i.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:g(u)===g(d);c(e,{replace:n,state:o,preventScrollReset:a,relative:s,viewTransition:l})}}),[u,c,d,r,o,n,e,a,s,l])}(u,{replace:s,state:l,target:c,preventScrollReset:h,relative:o,viewTransition:f});return i.createElement("a",Ie({},p,{href:n||y,onClick:v||a?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:c}))}));var Re,Pe;function Oe(e){let t=i.useRef(Ce(e)),n=i.useRef(!1),r=ee(),o=i.useMemo((()=>function(e,t){let n=Ce(e);return t&&t.forEach(((e,r)=>{n.has(r)||t.getAll(r).forEach((e=>{n.append(r,e)}))})),n}(r.search,n.current?null:t.current)),[r.search]),a=ne(),s=i.useCallback(((e,t)=>{const r=Ce("function"===typeof e?e(o):e);n.current=!0,a("?"+r,t)}),[a,o]);return[o,s]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Re||(Re={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Pe||(Pe={}));var Le=n(579);const Me=(0,i.createContext)();function je(e){let{children:t}=e;const[n,r]=(0,i.useState)((()=>"true"===localStorage.getItem("darkMode")));(0,i.useEffect)((()=>{localStorage.setItem("darkMode",n),document.body.classList.toggle("dark-mode",n)}),[n]);return(0,Le.jsx)(Me.Provider,{value:{isDarkMode:n,toggleDarkMode:()=>{r((e=>!e))}},children:t})}const Be=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,a=o?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;s||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Be(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const s=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==a||null==s)throw new Ue;const l=t<<2|o>>4;if(r.push(l),64!==a){const e=o<<4&240|a>>2;if(r.push(e),64!==s){const e=a<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ue extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ve=function(e){return function(e){const t=Be(e);return Fe.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ze=function(e){try{return Fe.decodeString(e,!0)}catch(OR){console.error("base64Decode failed: ",OR)}return null};const Ge=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,$e=()=>{try{return Ge()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyD73uU5AWIeWZ_SQU9vRRLExil7ctKqa3U",REACT_APP_FIREBASE_AUTH_DOMAIN:"client-portal-2025.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"client-portal-2025",REACT_APP_FIREBASE_STORAGE_BUCKET:"client-portal-2025.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"941830572273",REACT_APP_FIREBASE_APP_ID:"1:941830572273:web:52299f1989bab446f38150"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(OR){return}const t=e&&ze(e[1]);return t&&JSON.parse(t)})()}catch(OR){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${OR}`)}},qe=e=>{var t,n;return null===(n=null===(t=$e())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},We=e=>{const t=qe(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},He=()=>{var e;return null===(e=$e())||void 0===e?void 0:e.config},Ke=e=>{var t;return null===(t=$e())||void 0===t?void 0:t[`_${e}`]};class Qe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Ye(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ve(JSON.stringify({alg:"none",type:"JWT"})),Ve(JSON.stringify(o)),""].join(".")}function Xe(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Je(){var e;const t=null===(e=$e())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(OR){return!1}}function Ze(){try{return"object"===typeof indexedDB}catch(OR){return!1}}class et extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,et.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tt.prototype.create)}}class tt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(nt,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",o=`${this.serviceName}: ${i} (${n}).`;return new et(n,o,t)}}const nt=/\{\$([^}]+)}/g;function rt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(it(n)&&it(o)){if(!rt(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function it(e){return null!==e&&"object"===typeof e}function ot(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function at(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function st(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class lt{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=ct),void 0===r.error&&(r.error=ct),void 0===r.complete&&(r.complete=ct);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(OR){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(OR){"undefined"!==typeof console&&console.error&&console.error(OR)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function ct(){}function ut(e){return e&&e._delegate?e._delegate:e}class dt{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ht="[DEFAULT]";class ft{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Qe;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(OR){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(OR){if(r)return null;throw OR}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ht})}catch(OR){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(OR){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===ht?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht;return this.component?this.component.multipleInstances?e:ht:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ft(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const gt=[];var mt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(mt||(mt={}));const vt={debug:mt.DEBUG,verbose:mt.VERBOSE,info:mt.INFO,warn:mt.WARN,error:mt.ERROR,silent:mt.SILENT},yt=mt.INFO,bt={[mt.DEBUG]:"log",[mt.VERBOSE]:"log",[mt.INFO]:"info",[mt.WARN]:"warn",[mt.ERROR]:"error"},wt=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=bt[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];console[r](`[${n}]  ${e.name}:`,...o)};class Et{constructor(e){this.name=e,this._logLevel=yt,this._logHandler=wt,this._userLogHandler=null,gt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?vt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,mt.DEBUG,...t),this._logHandler(this,mt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,mt.VERBOSE,...t),this._logHandler(this,mt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,mt.INFO,...t),this._logHandler(this,mt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,mt.WARN,...t),this._logHandler(this,mt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,mt.ERROR,...t),this._logHandler(this,mt.ERROR,...t)}}let xt,It;const St=new WeakMap,Ct=new WeakMap,_t=new WeakMap,Tt=new WeakMap,Nt=new WeakMap;let Dt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ct.get(e);if("objectStoreNames"===t)return e.objectStoreNames||_t.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function kt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(It||(It=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Pt(this),n),Rt(St.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Rt(e.apply(Pt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(Pt(this),t,...r);return _t.set(o,t.sort?t.sort():[t]),Rt(o)}}function At(e){return"function"===typeof e?kt(e):(e instanceof IDBTransaction&&function(e){if(Ct.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));Ct.set(e,t)}(e),t=e,(xt||(xt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,Dt):e);var t}function Rt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Rt(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&St.set(t,e)})).catch((()=>{})),Nt.set(t,e),t}(e);if(Tt.has(e))return Tt.get(e);const t=At(e);return t!==e&&(Tt.set(e,t),Nt.set(t,e)),t}const Pt=e=>Nt.get(e);const Ot=["get","getKey","getAll","getAllKeys","count"],Lt=["put","add","delete","clear"],Mt=new Map;function jt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Mt.get(t))return Mt.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Lt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ot.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];return r&&(o=o.index(s.shift())),(await Promise.all([o[n](...s),i&&t.done]))[0]};return Mt.set(t,o),o}Dt=(e=>({...e,get:(t,n,r)=>jt(t,n)||e.get(t,n,r),has:(t,n)=>!!jt(t,n)||e.has(t,n)}))(Dt);class Bt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Ft="@firebase/app",Ut="0.9.13",Vt=new Et("@firebase/app"),zt="@firebase/app-compat",Gt="@firebase/analytics-compat",$t="@firebase/analytics",qt="@firebase/app-check-compat",Wt="@firebase/app-check",Ht="@firebase/auth",Kt="@firebase/auth-compat",Qt="@firebase/database",Yt="@firebase/database-compat",Xt="@firebase/functions",Jt="@firebase/functions-compat",Zt="@firebase/installations",en="@firebase/installations-compat",tn="@firebase/messaging",nn="@firebase/messaging-compat",rn="@firebase/performance",on="@firebase/performance-compat",an="@firebase/remote-config",sn="@firebase/remote-config-compat",ln="@firebase/storage",cn="@firebase/storage-compat",un="@firebase/firestore",dn="@firebase/firestore-compat",hn="firebase",fn="[DEFAULT]",pn={[Ft]:"fire-core",[zt]:"fire-core-compat",[$t]:"fire-analytics",[Gt]:"fire-analytics-compat",[Wt]:"fire-app-check",[qt]:"fire-app-check-compat",[Ht]:"fire-auth",[Kt]:"fire-auth-compat",[Qt]:"fire-rtdb",[Yt]:"fire-rtdb-compat",[Xt]:"fire-fn",[Jt]:"fire-fn-compat",[Zt]:"fire-iid",[en]:"fire-iid-compat",[tn]:"fire-fcm",[nn]:"fire-fcm-compat",[rn]:"fire-perf",[on]:"fire-perf-compat",[an]:"fire-rc",[sn]:"fire-rc-compat",[ln]:"fire-gcs",[cn]:"fire-gcs-compat",[un]:"fire-fst",[dn]:"fire-fst-compat","fire-js":"fire-js",[hn]:"fire-js-all"},gn=new Map,mn=new Map;function vn(e,t){try{e.container.addComponent(t)}catch(OR){Vt.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,OR)}}function yn(e){const t=e.name;if(mn.has(t))return Vt.debug(`There were multiple attempts to register component ${t}.`),!1;mn.set(t,e);for(const n of gn.values())vn(n,e);return!0}function bn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const wn=new tt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class En{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new dt("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wn.create("app-deleted",{appName:this._name})}}const xn="9.23.0";function In(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:fn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw wn.create("bad-app-name",{appName:String(i)});if(n||(n=He()),!n)throw wn.create("no-options");const o=gn.get(i);if(o){if(rt(n,o.options)&&rt(r,o.config))return o;throw wn.create("duplicate-app",{appName:i})}const a=new pt(i);for(const l of mn.values())a.addComponent(l);const s=new En(n,r,a);return gn.set(i,s),s}function Sn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fn;const t=gn.get(e);if(!t&&e===fn&&He())return In();if(!t)throw wn.create("no-app",{appName:e});return t}function Cn(e,t,n){var r;let i=null!==(r=pn[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Vt.warn(e.join(" "))}yn(new dt(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const _n="firebase-heartbeat-store";let Tn=null;function Nn(){return Tn||(Tn=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),s=Rt(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(Rt(a.result),e.oldVersion,e.newVersion,Rt(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),s.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(_n)}}).catch((e=>{throw wn.create("idb-open",{originalErrorMessage:e.message})}))),Tn}async function Dn(e,t){try{const n=(await Nn()).transaction(_n,"readwrite"),r=n.objectStore(_n);await r.put(t,kn(e)),await n.done}catch(OR){if(OR instanceof et)Vt.warn(OR.message);else{const t=wn.create("idb-set",{originalErrorMessage:null===OR||void 0===OR?void 0:OR.message});Vt.warn(t.message)}}}function kn(e){return`${e.name}!${e.options.appId}`}class An{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Pn(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=Rn();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=Rn(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),On(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),On(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=Ve(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Rn(){return(new Date).toISOString().substring(0,10)}class Pn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Ze()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await Nn();return await t.transaction(_n).objectStore(_n).get(kn(e))}catch(OR){if(OR instanceof et)Vt.warn(OR.message);else{const t=wn.create("idb-get",{originalErrorMessage:null===OR||void 0===OR?void 0:OR.message});Vt.warn(t.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Dn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Dn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function On(e){return Ve(JSON.stringify({version:2,heartbeats:e})).length}var Ln;Ln="",yn(new dt("platform-logger",(e=>new Bt(e)),"PRIVATE")),yn(new dt("heartbeat",(e=>new An(e)),"PRIVATE")),Cn(Ft,Ut,Ln),Cn(Ft,Ut,"esm2017"),Cn("fire-js","");Cn("firebase","9.23.0","app");function Mn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function jn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Bn=jn,Fn=new tt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Un=new Et("@firebase/auth");function Vn(e){if(Un.logLevel<=mt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Un.error(`Auth (${xn}): ${e}`,...n)}}function zn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw qn(e,...n)}function Gn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return qn(e,...n)}function $n(e,t,n){const r=Object.assign(Object.assign({},Bn()),{[t]:n});return new tt("auth","Firebase",r).create(t,{appName:e.name})}function qn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Fn.create(e,...n)}function Wn(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw qn(t,...r)}}function Hn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Vn(t),new Error(t)}function Kn(e,t){e||Hn(t)}function Qn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Yn(){return"http:"===Xn()||"https:"===Xn()}function Xn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Jn(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Yn()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Zn{constructor(e,t){this.shortDelay=e,this.longDelay=t,Kn(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Jn()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function er(e,t){Kn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class tr{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Hn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Hn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Hn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},rr=new Zn(3e4,6e4);function ir(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function or(e,t,n,r){return ar(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=ot(Object.assign({key:e.config.apiKey},o)).slice(1),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode),tr.fetch()(lr(e,e.config.apiHost,n,a),Object.assign({method:t,headers:s,referrerPolicy:"no-referrer"},i))}))}async function ar(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},nr),t);try{const t=new cr(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw ur(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw ur(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw ur(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw ur(e,"user-disabled",o);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw $n(e,s,a);zn(e,s)}}catch(OR){if(OR instanceof et)throw OR;zn(e,"network-request-failed",{message:String(OR)})}}async function sr(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await or(e,t,n,r,i);return"mfaPendingCredential"in o&&zn(e,"multi-factor-auth-required",{_serverResponse:o}),o}function lr(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?er(e.config,i):`${e.config.apiScheme}://${i}`}class cr{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Gn(this.auth,"network-request-failed"))),rr.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function ur(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Gn(e,t,r);return i.customData._tokenResponse=n,i}function dr(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(OR){}}function hr(e){return 1e3*Number(e)}function fr(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Vn("JWT malformed, contained fewer than 3 sections"),null;try{const e=ze(n);return e?JSON.parse(e):(Vn("Failed to decode base64 JWT payload"),null)}catch(OR){return Vn("Caught error parsing JWT payload as JSON",null===OR||void 0===OR?void 0:OR.toString()),null}}async function pr(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(OR){throw OR instanceof et&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(OR)&&e.auth.currentUser===e&&await e.auth.signOut(),OR}}class gr{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(OR){return void("auth/network-request-failed"===(null===OR||void 0===OR?void 0:OR.code)&&this.schedule(!0))}this.schedule()}}class mr{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=dr(this.lastLoginAt),this.creationTime=dr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function vr(e){var t;const n=e.auth,r=await e.getIdToken(),i=await pr(e,async function(e,t){return or(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Wn(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map((e=>{var{providerId:t}=e,n=Mn(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const s=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),h=!!u&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new mr(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}class yr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Wn(e.idToken,"internal-error"),Wn("undefined"!==typeof e.idToken,"internal-error"),Wn("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=fr(e);return Wn(t,"internal-error"),Wn("undefined"!==typeof t.exp,"internal-error"),Wn("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Wn(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await ar(e,{},(async()=>{const n=ot({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=lr(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",tr.fetch()(o,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new yr;return n&&(Wn("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(Wn("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(Wn("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yr,this.toJSON())}_performRefresh(){return Hn("not implemented")}}function br(e,t){Wn("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class wr{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Mn(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new mr(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await pr(this,this.stsTokenManager.getToken(this.auth,e));return Wn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=ut(e),r=await n.getIdToken(t),i=fr(r);Wn(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,a=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:dr(hr(i.auth_time)),issuedAtTime:dr(hr(i.iat)),expirationTime:dr(hr(i.exp)),signInProvider:a||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=ut(e);await vr(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Wn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new wr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Wn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await vr(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await pr(this,async function(e,t){return or(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,a,s,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,g=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,m=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:E,stsTokenManager:x}=t;Wn(y&&x,e,"internal-error");const I=yr.fromJSON(this.name,x);Wn("string"===typeof y,e,"internal-error"),br(u,e.name),br(d,e.name),Wn("boolean"===typeof b,e,"internal-error"),Wn("boolean"===typeof w,e,"internal-error"),br(h,e.name),br(f,e.name),br(p,e.name),br(g,e.name),br(m,e.name),br(v,e.name);const S=new wr({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:I,createdAt:m,lastLoginAt:v});return E&&Array.isArray(E)&&(S.providerData=E.map((e=>Object.assign({},e)))),g&&(S._redirectEventId=g),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new yr;r.updateFromServerResponse(t);const i=new wr({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await vr(i),i}}const Er=new Map;function xr(e){Kn(e instanceof Function,"Expected a class definition");let t=Er.get(e);return t?(Kn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Er.set(e,t),t)}class Ir{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ir.type="NONE";const Sr=Ir;function Cr(e,t,n){return`firebase:${e}:${t}:${n}`}class _r{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Cr(this.userKey,r.apiKey,i),this.fullPersistenceKey=Cr("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?wr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new _r(xr(Sr),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||xr(Sr);const o=Cr(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(o);if(t){const n=wr._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const s=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&s.length?(i=s[0],a&&await i._set(o,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(l){}}))),new _r(i,e,n)):new _r(i,e,n)}}function Tr(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ar(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Nr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Pr(t))return"Blackberry";if(Or(t))return"Webos";if(Dr(t))return"Safari";if((t.includes("chrome/")||kr(t))&&!t.includes("edge/"))return"Chrome";if(Rr(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Nr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/firefox\//i.test(e)}function Dr(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/crios\//i.test(e)}function Ar(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/iemobile/i.test(e)}function Rr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/android/i.test(e)}function Pr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/blackberry/i.test(e)}function Or(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/webos/i.test(e)}function Lr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Mr(){return function(){const e=Xe();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function jr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return Lr(e)||Rr(e)||Or(e)||Pr(e)||/windows phone/i.test(e)||Ar(e)}function Br(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Tr(Xe());break;case"Worker":t=`${Tr(Xe())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${xn}/${r}`}async function Fr(e,t){return or(e,"GET","/v2/recaptchaConfig",ir(e,t))}function Ur(e){return void 0!==e&&void 0!==e.enterprise}class Vr{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some((e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState))}}function zr(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Gn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Gr(e){return`__${e}${Math.floor(1e6*Math.random())}`}class $r{constructor(e){this.type="recaptcha-enterprise",this.auth=Kr(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Ur(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Fr(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Vr(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Ur(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));zr("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function qr(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new $r(e);let o;try{o=await i.verify(n)}catch(s){o=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}class Wr{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(OR){r(OR)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(OR){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===OR||void 0===OR?void 0:OR.message})}}}class Hr{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qr(this),this.idTokenSubscription=new Qr(this),this.beforeStateQueue=new Wr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=xr(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await _r.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(OR){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==o||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(OR){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(OR)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Wn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(OR){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await vr(e)}catch(OR){if("auth/network-request-failed"!==(null===OR||void 0===OR?void 0:OR.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?ut(e):null;return t&&Wn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Wn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(xr(e))}))}async initializeRecaptchaConfig(){const e=await Fr(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new Vr(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new $r(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new tt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&xr(e)||this._popupRedirectResolver;Wn(t,this,"argument-error"),this.redirectPersistenceManager=await _r.create(this,[xr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Wn(o,this,"internal-error"),o.then((()=>i(this.currentUser))),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Wn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Br(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Un.logLevel<=mt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Un.warn(`Auth (${xn}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function Kr(e){return ut(e)}class Qr{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new lt(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Wn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Yr(e,t,n){const r=Kr(e);Wn(r._canInitEmulator,r,"emulator-config-failed"),Wn(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Xr(t),{host:a,port:s}=function(e){const t=Xr(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Jr(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Jr(t)}}}(t),l=null===s?"":`:${s}`;r.config.emulator={url:`${o}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Xr(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Jr(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Zr{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Hn("not implemented")}_getIdTokenResponse(e){return Hn("not implemented")}_linkToIdToken(e,t){return Hn("not implemented")}_getReauthenticationResolver(e){return Hn("not implemented")}}async function ei(e,t){return or(e,"POST","/v1/accounts:update",t)}async function ti(e,t){return sr(e,"POST","/v1/accounts:signInWithPassword",ir(e,t))}async function ni(e,t){return or(e,"POST","/v1/accounts:sendOobCode",ir(e,t))}async function ri(e,t){return ni(e,t)}class ii extends Zr{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new ii(e,t,"password")}static _fromEmailAndCode(e,t){return new ii(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await qr(e,n,"signInWithPassword");return ti(e,t)}return ti(e,n).catch((async t=>{if("auth/missing-recaptcha-token"===t.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await qr(e,n,"signInWithPassword");return ti(e,t)}return Promise.reject(t)}));case"emailLink":return async function(e,t){return sr(e,"POST","/v1/accounts:signInWithEmailLink",ir(e,t))}(e,{email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ei(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return sr(e,"POST","/v1/accounts:signInWithEmailLink",ir(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function oi(e,t){return sr(e,"POST","/v1/accounts:signInWithIdp",ir(e,t))}class ai extends Zr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ai(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):zn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Mn(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new ai(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return oi(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,oi(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,oi(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ot(t)}return e}}const si={USER_NOT_FOUND:"user-not-found"};class li extends Zr{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new li({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new li({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return sr(e,"POST","/v1/accounts:signInWithPhoneNumber",ir(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await sr(e,"POST","/v1/accounts:signInWithPhoneNumber",ir(e,t));if(n.temporaryProof)throw ur(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return sr(e,"POST","/v1/accounts:signInWithPhoneNumber",ir(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),si)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new li({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class ci{constructor(e){var t,n,r,i,o,a;const s=at(st(e)),l=null!==(t=s.apiKey)&&void 0!==t?t:null,c=null!==(n=s.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);Wn(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=s.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=at(st(e)).link,n=t?at(st(t)).deep_link_id:null,r=at(st(e)).deep_link_id;return(r?at(st(r)).link:null)||r||n||t||e}(e);try{return new ci(t)}catch(n){return null}}}class ui{constructor(){this.providerId=ui.PROVIDER_ID}static credential(e,t){return ii._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ci.parseLink(t);return Wn(n,"argument-error"),ii._fromEmailAndCode(e,n.code,n.tenantId)}}ui.PROVIDER_ID="password",ui.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ui.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class di{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class hi extends di{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class fi extends hi{constructor(){super("facebook.com")}static credential(e){return ai._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return fi.credential(t.oauthAccessToken)}catch(n){return null}}}fi.FACEBOOK_SIGN_IN_METHOD="facebook.com",fi.PROVIDER_ID="facebook.com";class pi extends hi{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ai._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return pi.credential(n,r)}catch(i){return null}}}pi.GOOGLE_SIGN_IN_METHOD="google.com",pi.PROVIDER_ID="google.com";class gi extends hi{constructor(){super("github.com")}static credential(e){return ai._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return gi.credential(t.oauthAccessToken)}catch(n){return null}}}gi.GITHUB_SIGN_IN_METHOD="github.com",gi.PROVIDER_ID="github.com";class mi extends hi{constructor(){super("twitter.com")}static credential(e,t){return ai._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return mi.credential(n,r)}catch(i){return null}}}async function vi(e,t){return sr(e,"POST","/v1/accounts:signUp",ir(e,t))}mi.TWITTER_SIGN_IN_METHOD="twitter.com",mi.PROVIDER_ID="twitter.com";class yi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await wr._fromIdTokenResponse(e,n,r),o=bi(n);return new yi({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=bi(n);return new yi({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function bi(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class wi extends et{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,wi.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new wi(e,t,n,r)}}function Ei(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw wi._fromErrorAndOperation(e,n,t,r);throw n}))}async function xi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await pr(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return yi._forOperation(e,"link",r)}async function Ii(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const o=await pr(e,Ei(r,i,t,e),n);Wn(o.idToken,r,"internal-error");const a=fr(o.idToken);Wn(a,r,"internal-error");const{sub:s}=a;return Wn(e.uid===s,r,"user-mismatch"),yi._forOperation(e,i,o)}catch(OR){throw"auth/user-not-found"===(null===OR||void 0===OR?void 0:OR.code)&&zn(r,"user-mismatch"),OR}}async function Si(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await Ei(e,r,t),o=await yi._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function Ci(e,t){return Si(Kr(e),t)}function _i(e,t,n){var r;Wn((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Wn("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Wn(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Wn(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}new WeakMap;const Ti="__sak";class Ni{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ti,"1"),this.storage.removeItem(Ti),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Di extends Ni{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Xe();return Dr(e)||Lr(e)}()&&function(){try{return!(!window||window===window.top)}catch(OR){return!1}}(),this.fallbackToPolling=jr(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Mr()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Di.type="LOCAL";const ki=Di;class Ai extends Ni{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ai.type="SESSION";const Ri=Ai;class Pi{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Pi(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(o).map((async e=>e(t.origin,i))),s=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Oi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Pi.receivers=[];class Li{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((a,s)=>{const l=Oi("",20);r.port1.start();const c=setTimeout((()=>{s(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function Mi(){return window}function ji(){return"undefined"!==typeof Mi().WorkerGlobalScope&&"function"===typeof Mi().importScripts}const Bi="firebaseLocalStorageDb",Fi="firebaseLocalStorage",Ui="fbase_key";class Vi{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function zi(e,t){return e.transaction([Fi],t?"readwrite":"readonly").objectStore(Fi)}function Gi(){const e=indexedDB.open(Bi,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Fi,{keyPath:Ui})}catch(OR){n(OR)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Fi)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Bi);return new Vi(e).toPromise()}(),t(await Gi()))}))}))}async function $i(e,t,n){const r=zi(e,!0).put({[Ui]:t,value:n});return new Vi(r).toPromise()}function qi(e,t){const n=zi(e,!0).delete(t);return new Vi(n).toPromise()}class Wi{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Gi()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(OR){if(t++>3)throw OR;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ji()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pi._getInstance(ji()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Li(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gi();return await $i(e,Ti,"1"),await qi(e,Ti),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>$i(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=zi(e,!1).get(t),r=await new Vi(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>qi(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=zi(e,!1).getAll();return new Vi(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Wi.type="LOCAL";const Hi=Wi;Gr("rcb"),new Zn(3e4,6e4);const Ki="recaptcha";async function Qi(e,t,n){var r;const i=await n.verify();try{let o;if(Wn("string"===typeof i,e,"argument-error"),Wn(n.type===Ki,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){Wn("enroll"===t.type,e,"internal-error");const n=await function(e,t){return or(e,"POST","/v2/accounts/mfaEnrollment:start",ir(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Wn("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;Wn(n,e,"missing-multi-factor-info");const a=await function(e,t){return or(e,"POST","/v2/accounts/mfaSignIn:start",ir(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return or(e,"POST","/v1/accounts:sendVerificationCode",ir(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Yi{constructor(e){this.providerId=Yi.PROVIDER_ID,this.auth=Kr(e)}verifyPhoneNumber(e,t){return Qi(this.auth,e,ut(t))}static credential(e,t){return li._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Yi.credentialFromTaggedObject(t)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?li._fromTokenResponse(n,r):null}}function Xi(e,t){return t?xr(t):(Wn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Yi.PROVIDER_ID="phone",Yi.PHONE_SIGN_IN_METHOD="phone";class Ji extends Zr{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oi(e,this._buildIdpRequest())}_linkToIdToken(e,t){return oi(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return oi(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Zi(e){return Si(e.auth,new Ji(e),e.bypassAuthState)}function eo(e){const{auth:t,user:n}=e;return Wn(n,t,"internal-error"),Ii(n,new Ji(e),e.bypassAuthState)}async function to(e){const{auth:t,user:n}=e;return Wn(n,t,"internal-error"),xi(n,new Ji(e),e.bypassAuthState)}class no{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(OR){this.reject(OR)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:a}=e;if(o)return void this.reject(o);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch(OR){this.reject(OR)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Zi;case"linkViaPopup":case"linkViaRedirect":return to;case"reauthViaPopup":case"reauthViaRedirect":return eo;default:zn(this.auth,"internal-error")}}resolve(e){Kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ro=new Zn(2e3,1e4);class io extends no{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,io.currentPopupAction&&io.currentPopupAction.cancel(),io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Wn(e,this.auth,"internal-error"),e}async onExecution(){Kn(1===this.filter.length,"Popup operations only handle one event");const e=Oi();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Gn(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Gn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,io.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Gn(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,ro.get())};e()}}io.currentPopupAction=null;const oo=new Map;class ao extends no{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=oo.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=co(t),r=lo(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(OR){e=()=>Promise.reject(OR)}oo.set(this.auth._key(),e)}return this.bypassAuthState||oo.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function so(e,t){oo.set(e._key(),t)}function lo(e){return xr(e._redirectPersistence)}function co(e){return Cr("pendingRedirect",e.config.apiKey,e.name)}async function uo(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Kr(e),i=Xi(r,t),o=new ao(r,i,n),a=await o.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class ho{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return po(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!po(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Gn(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fo(e))}saveEventToCache(e){this.cachedEventUids.add(fo(e)),this.lastProcessedEventTime=Date.now()}}function fo(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function po(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const go=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mo=/^https?/;async function vo(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return or(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(yo(r))return}catch(n){}zn(e,"unauthorized-domain")}function yo(e){const t=Qn(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!mo.test(n))return!1;if(go.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const bo=new Zn(3e4,6e4);function wo(){const e=Mi().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Eo=null;function xo(e){return Eo=Eo||function(e){return new Promise(((t,n)=>{var r,i,o;function a(){wo(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{wo(),n(Gn(e,"network-request-failed"))},timeout:bo.get()})}if(null===(i=null===(r=Mi().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Mi().gapi)||void 0===o?void 0:o.load)){const t=Gr("iframefcb");return Mi()[t]=()=>{gapi.load?a():n(Gn(e,"network-request-failed"))},zr(`https://apis.google.com/js/api.js?onload=${t}`).catch((e=>n(e)))}a()}})).catch((e=>{throw Eo=null,e}))}(e),Eo}const Io=new Zn(5e3,15e3),So={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Co=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _o(e){const t=e.config;Wn(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?er(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:xn},i=Co.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ot(r).slice(1)}`}const To={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class No{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(OR){}}}function Do(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},To),{width:r.toString(),height:i.toString(),top:o,left:a}),c=Xe().toLowerCase();n&&(s=kr(c)?"_blank":n),Nr(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return Lr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new No(null);const d=window.open(t||"",s,u);Wn(d,e,"popup-blocked");try{d.focus()}catch(OR){}return new No(d)}const ko="__/auth/handler",Ao="emulator/auth/handler",Ro=encodeURIComponent("fac");async function Po(e,t,n,r,i,o){Wn(e.config.authDomain,e,"auth-domain-config-required"),Wn(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:xn,eventId:i};if(t instanceof di){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))a[e]=t}if(t instanceof hi){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const s=a;for(const u of Object.keys(s))void 0===s[u]&&delete s[u];const l=await e._getAppCheckToken(),c=l?`#${Ro}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${ko}`;return er(t,Ao)}(e)}?${ot(s).slice(1)}${c}`}const Oo="webStorageSupport";const Lo=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ri,this._completeRedirectFn=uo,this._overrideRedirectResult=so}async _openPopup(e,t,n,r){var i;Kn(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Do(e,await Po(e,t,n,Qn(),r),Oi())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Mi().location.href=e}(await Po(e,t,n,Qn(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Kn(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await xo(e),n=Mi().gapi;return Wn(n,e,"internal-error"),t.open({where:document.body,url:_o(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:So,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Gn(e,"network-request-failed"),o=Mi().setTimeout((()=>{r(i)}),Io.get());function a(){Mi().clearTimeout(o),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}(e),n=new ho(e);return t.register("authEvent",(t=>{Wn(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Oo,{type:Oo},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Oo];void 0!==i&&t(!!i),zn(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=vo(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return jr()||Dr()||Lr()}};var Mo="@firebase/auth",jo="0.23.2";class Bo{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Wn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Fo=Ke("authIdTokenMaxAge")||300;let Uo=null;var Vo;Vo="Browser",yn(new dt("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;Wn(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:Vo,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Br(Vo)},c=new Hr(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(xr);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),yn(new dt("auth-internal",(e=>(e=>new Bo(e))(Kr(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Cn(Mo,jo,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Vo)),Cn(Mo,jo,"esm2017");var zo,Go="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},$o={},qo=qo||{},Wo=Go||self;function Ho(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Ko(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Qo="closure_uid_"+(1e9*Math.random()>>>0),Yo=0;function Xo(e,t,n){return e.call.apply(e.bind,arguments)}function Jo(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Zo(e,t,n){return(Zo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Xo:Jo).apply(null,arguments)}function ea(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function ta(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function na(){this.s=this.s,this.o=this.o}na.prototype.s=!1,na.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Qo)&&e[Qo]||(e[Qo]=++Yo))},na.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ra=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function ia(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function oa(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Ho(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function aa(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}aa.prototype.h=function(){this.defaultPrevented=!0};var sa=function(){if(!Wo.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Wo.addEventListener("test",(()=>{}),t),Wo.removeEventListener("test",(()=>{}),t)}catch(n){}return e}();function la(e){return/^[\s\xa0]*$/.test(e)}function ca(){var e=Wo.navigator;return e&&(e=e.userAgent)?e:""}function ua(e){return-1!=ca().indexOf(e)}function da(e){return da[" "](e),e}da[" "]=function(){};var ha,fa,pa=ua("Opera"),ga=ua("Trident")||ua("MSIE"),ma=ua("Edge"),va=ma||ga,ya=ua("Gecko")&&!(-1!=ca().toLowerCase().indexOf("webkit")&&!ua("Edge"))&&!(ua("Trident")||ua("MSIE"))&&!ua("Edge"),ba=-1!=ca().toLowerCase().indexOf("webkit")&&!ua("Edge");function wa(){var e=Wo.document;return e?e.documentMode:void 0}e:{var Ea="",xa=function(){var e=ca();return ya?/rv:([^\);]+)(\)|;)/.exec(e):ma?/Edge\/([\d\.]+)/.exec(e):ga?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):ba?/WebKit\/(\S+)/.exec(e):pa?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(xa&&(Ea=xa?xa[1]:""),ga){var Ia=wa();if(null!=Ia&&Ia>parseFloat(Ea)){ha=String(Ia);break e}}ha=Ea}if(Wo.document&&ga){var Sa=wa();fa=Sa||(parseInt(ha,10)||void 0)}else fa=void 0;var Ca=fa;function _a(e,t){if(aa.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ya){e:{try{da(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Ta[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&_a.$.h.call(this)}}ta(_a,aa);var Ta={2:"touch",3:"pen",4:"mouse"};_a.prototype.h=function(){_a.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Na="closure_listenable_"+(1e6*Math.random()|0),Da=0;function ka(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Da,this.fa=this.ia=!1}function Aa(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Ra(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Pa(e){const t={};for(const n in e)t[n]=e[n];return t}const Oa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function La(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Oa.length;t++)n=Oa[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ma(e){this.src=e,this.g={},this.h=0}function ja(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=ra(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Aa(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ba(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}Ma.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=Ba(e,t,r,i);return-1<a?(t=e[a],n||(t.ia=!1)):((t=new ka(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var Fa="closure_lm_"+(1e6*Math.random()|0),Ua={};function Va(e,t,n,r,i){if(r&&r.once)return Ga(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Va(e,t[o],n,r,i);return null}return n=Ya(n),e&&e[Na]?e.O(t,n,Ko(r)?!!r.capture:!!r,i):za(e,t,n,!1,r,i)}function za(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=Ko(i)?!!i.capture:!!i,s=Ka(e);if(s||(e[Fa]=s=new Ma(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Ha;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)sa||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Wa(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Ga(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Ga(e,t[o],n,r,i);return null}return n=Ya(n),e&&e[Na]?e.P(t,n,Ko(r)?!!r.capture:!!r,i):za(e,t,n,!0,r,i)}function $a(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)$a(e,t[o],n,r,i);else r=Ko(r)?!!r.capture:!!r,n=Ya(n),e&&e[Na]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Ba(o=e.g[t],n,r,i))&&(Aa(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Ka(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ba(t,n,r,i)),(n=-1<e?t[e]:null)&&qa(n))}function qa(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Na])ja(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Wa(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ka(t))?(ja(n,e),0==n.h&&(n.src=null,t[Fa]=null)):Aa(e)}}}function Wa(e){return e in Ua?Ua[e]:Ua[e]="on"+e}function Ha(e,t){if(e.fa)e=!0;else{t=new _a(t,this);var n=e.listener,r=e.la||e.src;e.ia&&qa(e),e=n.call(r,t)}return e}function Ka(e){return(e=e[Fa])instanceof Ma?e:null}var Qa="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ya(e){return"function"===typeof e?e:(e[Qa]||(e[Qa]=function(t){return e.handleEvent(t)}),e[Qa])}function Xa(){na.call(this),this.i=new Ma(this),this.S=this,this.J=null}function Ja(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new aa(t,e);else if(t instanceof aa)t.target=t.target||e;else{var i=t;La(t=new aa(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=Za(a,r,!0,t)&&i}if(i=Za(a=t.g=e,r,!0,t)&&i,i=Za(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Za(a=t.g=n[o],r,!1,t)&&i}function Za(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.fa&&a.capture==n){var s=a.listener,l=a.la||a.src;a.ia&&ja(e.i,a),i=!1!==s.call(l,r)&&i}}return i&&!r.defaultPrevented}ta(Xa,na),Xa.prototype[Na]=!0,Xa.prototype.removeEventListener=function(e,t,n,r){$a(this,e,t,n,r)},Xa.prototype.N=function(){if(Xa.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Aa(n[r]);delete t.g[e],t.h--}}this.J=null},Xa.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Xa.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var es=Wo.JSON.stringify;function ts(){var e=ls;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var ns=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new rs),(e=>e.reset()));class rs{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function is(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function os(e){Wo.setTimeout((()=>{throw e}),0)}let as,ss=!1,ls=new class{constructor(){this.h=this.g=null}add(e,t){const n=ns.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},cs=()=>{const e=Wo.Promise.resolve(void 0);as=()=>{e.then(us)}};var us=()=>{for(var e;e=ts();){try{e.h.call(e.g)}catch(n){os(n)}var t=ns;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ss=!1};function ds(e,t){Xa.call(this),this.h=e||1,this.g=t||Wo,this.j=Zo(this.qb,this),this.l=Date.now()}function hs(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function fs(e,t,n){if("function"===typeof e)n&&(e=Zo(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Zo(e.handleEvent,e)}return 2147483647<Number(t)?-1:Wo.setTimeout(e,t||0)}function ps(e){e.g=fs((()=>{e.g=null,e.i&&(e.i=!1,ps(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}ta(ds,Xa),(zo=ds.prototype).ga=!1,zo.T=null,zo.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ja(this,"tick"),this.ga&&(hs(this),this.start()))}},zo.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},zo.N=function(){ds.$.N.call(this),hs(this),delete this.g};class gs extends na{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ps(this)}N(){super.N(),this.g&&(Wo.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ms(e){na.call(this),this.h=e,this.g={}}ta(ms,na);var vs=[];function ys(e,t,n,r){Array.isArray(n)||(n&&(vs[0]=n.toString()),n=vs);for(var i=0;i<n.length;i++){var o=Va(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function bs(e){Ra(e.g,(function(e,t){this.g.hasOwnProperty(t)&&qa(e)}),e),e.g={}}function ws(){this.g=!0}function Es(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return es(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}ms.prototype.N=function(){ms.$.N.call(this),bs(this)},ms.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ws.prototype.Ea=function(){this.g=!1},ws.prototype.info=function(){};var xs={},Is=null;function Ss(){return Is=Is||new Xa}function Cs(e){aa.call(this,xs.Ta,e)}function _s(e){const t=Ss();Ja(t,new Cs(t))}function Ts(e,t){aa.call(this,xs.STAT_EVENT,e),this.stat=t}function Ns(e){const t=Ss();Ja(t,new Ts(t,e))}function Ds(e,t){aa.call(this,xs.Ua,e),this.size=t}function ks(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Wo.setTimeout((function(){e()}),t)}xs.Ta="serverreachability",ta(Cs,aa),xs.STAT_EVENT="statevent",ta(Ts,aa),xs.Ua="timingevent",ta(Ds,aa);var As={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Rs={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ps(){}function Os(e){return e.h||(e.h=e.i())}function Ls(){}Ps.prototype.h=null;var Ms,js={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Bs(){aa.call(this,"d")}function Fs(){aa.call(this,"c")}function Us(){}function Vs(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new ms(this),this.P=Gs,e=va?125:void 0,this.V=new ds(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new zs}function zs(){this.i=null,this.g="",this.h=!1}ta(Bs,aa),ta(Fs,aa),ta(Us,Ps),Us.prototype.g=function(){return new XMLHttpRequest},Us.prototype.i=function(){return{}},Ms=new Us;var Gs=45e3,$s={},qs={};function Ws(e,t,n){e.L=1,e.v=dl(al(t)),e.s=n,e.S=!0,Hs(e,null)}function Hs(e,t){e.G=Date.now(),Xs(e),e.A=al(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Sl(n.i,"t",r),e.C=0,n=e.l.J,e.h=new zs,e.g=Cc(e.l,n?t:null,!e.s),0<e.O&&(e.M=new gs(Zo(e.Pa,e,e.g),e.O)),ys(e.U,e.g,"readystatechange",e.nb),t=e.I?Pa(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),_s(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Ks(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Qs(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=Ys(e,n),r==qs){4==t&&(e.o=4,Ns(14),i=!1),Es(e.j,e.m,null,"[Incomplete Response]");break}if(r==$s){e.o=4,Ns(15),Es(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Es(e.j,e.m,r,null),nl(e,r)}Ks(e)&&r!=qs&&r!=$s&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ns(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),vc(t),t.M=!0,Ns(11))):(Es(e.j,e.m,n,"[Invalid Chunked Response]"),tl(e),el(e))}function Ys(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?qs:(n=Number(t.substring(n,r)),isNaN(n)?$s:(r+=1)+n>t.length?qs:(t=t.slice(r,r+n),e.C=r+n,t))}function Xs(e){e.Y=Date.now()+e.P,Js(e,e.P)}function Js(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ks(Zo(e.lb,e),t)}function Zs(e){e.B&&(Wo.clearTimeout(e.B),e.B=null)}function el(e){0==e.l.H||e.J||wc(e.l,e)}function tl(e){Zs(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,hs(e.V),bs(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function nl(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Al(n.i,e)))if(!e.K&&Al(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;bc(n),cc(n)}mc(n),Ns(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=ks(Zo(n.ib,n),6e3));if(1>=kl(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else xc(n,11)}else if((e.K||n.g==e)&&bc(n),!la(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Rl(o,o.h),o.h=null))}if(r.F){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,ul(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var a=e;if((r=n).wa=Sc(r,r.J?r.pa:null,r.Y),a.K){Pl(r.i,a);var s=a,l=r.L;l&&s.setTimeout(l),s.B&&(Zs(s),Xs(s)),r.g=a}else gc(r);0<n.j.length&&dc(n)}else"stop"!=c[0]&&"close"!=c[0]||xc(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?xc(n,7):lc(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}_s()}catch(c){}}function rl(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Ho(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Ho(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Ho(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(zo=Vs.prototype).setTimeout=function(e){this.P=e},zo.nb=function(e){e=e.target;const t=this.M;t&&3==nc(e)?t.l():this.Pa(e)},zo.Pa=function(e){try{if(e==this.g)e:{const u=nc(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||va||this.g&&(this.h.h||this.g.ja()||rc(this.g)))){this.J||4!=u||7==t||_s(),Zs(this);var n=this.g.da();this.ca=n;t:if(Ks(this)){var r=rc(this.g);e="";var i=r.length,o=4==nc(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){tl(this),el(this);var a="";break t}this.h.i=new Wo.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var s,l=this.g;if((s=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!la(s)){var c=s;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Ns(12),tl(this),el(this);break e}Es(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nl(this,n)}this.S?(Qs(this,u,a),va&&this.i&&3==u&&(ys(this.U,this.V,"tick",this.mb),this.V.start())):(Es(this.j,this.m,a,null),nl(this,a)),4==u&&tl(this),this.i&&!this.J&&(4==u?wc(this.l,this):(this.i=!1,Xs(this)))}else(function(e){const t={};e=(e.g&&2<=nc(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(la(e[r]))continue;var n=is(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.o=3,Ns(12)):(this.o=0,Ns(13)),tl(this),el(this)}}}catch(u){}},zo.mb=function(){if(this.g){var e=nc(this.g),t=this.g.ja();this.C<t.length&&(Zs(this),Qs(this,e,t),this.i&&4!=e&&Xs(this))}},zo.cancel=function(){this.J=!0,tl(this)},zo.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(_s(),Ns(17)),tl(this),this.o=2,el(this)):Js(this,this.Y-e)};var il=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ol(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof ol){this.h=e.h,sl(this,e.j),this.s=e.s,this.g=e.g,ll(this,e.m),this.l=e.l;var t=e.i,n=new wl;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),cl(this,n),this.o=e.o}else e&&(t=String(e).match(il))?(this.h=!1,sl(this,t[1]||"",!0),this.s=hl(t[2]||""),this.g=hl(t[3]||"",!0),ll(this,t[4]),this.l=hl(t[5]||"",!0),cl(this,t[6]||"",!0),this.o=hl(t[7]||"")):(this.h=!1,this.i=new wl(null,this.h))}function al(e){return new ol(e)}function sl(e,t,n){e.j=n?hl(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ll(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function cl(e,t,n){t instanceof wl?(e.i=t,function(e,t){t&&!e.j&&(El(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(xl(this,t),Sl(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=fl(t,yl)),e.i=new wl(t,e.h))}function ul(e,t,n){e.i.set(t,n)}function dl(e){return ul(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function hl(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function fl(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pl),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pl(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ol.prototype.toString=function(){var e=[],t=this.j;t&&e.push(fl(t,gl,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(fl(t,gl,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(fl(n,"/"==n.charAt(0)?vl:ml,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",fl(n,bl)),e.join("")};var gl=/[#\/\?@]/g,ml=/[#\?:]/g,vl=/[#\?]/g,yl=/[#\?@]/g,bl=/#/g;function wl(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function El(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function xl(e,t){El(e),t=Cl(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Il(e,t){return El(e),t=Cl(e,t),e.g.has(t)}function Sl(e,t,n){xl(e,t),0<n.length&&(e.i=null,e.g.set(Cl(e,t),ia(n)),e.h+=n.length)}function Cl(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(zo=wl.prototype).add=function(e,t){El(this),this.i=null,e=Cl(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},zo.forEach=function(e,t){El(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},zo.ta=function(){El(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},zo.Z=function(e){El(this);let t=[];if("string"===typeof e)Il(this,e)&&(t=t.concat(this.g.get(Cl(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},zo.set=function(e,t){return El(this),this.i=null,Il(this,e=Cl(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},zo.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},zo.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=o;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")};var _l=class{constructor(e,t){this.g=e,this.map=t}};function Tl(e){this.l=e||Nl,Wo.PerformanceNavigationTiming?e=0<(e=Wo.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Wo.g&&Wo.g.Ka&&Wo.g.Ka()&&Wo.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Nl=10;function Dl(e){return!!e.h||!!e.g&&e.g.size>=e.j}function kl(e){return e.h?1:e.g?e.g.size:0}function Al(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Rl(e,t){e.g?e.g.add(t):e.h=t}function Pl(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ol(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return ia(e.i)}Tl.prototype.cancel=function(){if(this.i=Ol(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Ll,Ml=class{stringify(e){return Wo.JSON.stringify(e,void 0)}parse(e){return Wo.JSON.parse(e,void 0)}};function jl(){this.g=new Ml}function Bl(e,t,n){const r=n||"";try{rl(e,(function(e,n){let i=e;Ko(e)&&(i=es(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(OR){throw t.push(r+"type="+encodeURIComponent("_badmap")),OR}}function Fl(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function Ul(e){this.l=e.fc||null,this.j=e.ob||!1}function Vl(e,t){Xa.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=zl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ta(Ul,Ps),Ul.prototype.g=function(){return new Vl(this.l,this.j)},Ul.prototype.i=(Ll={},function(){return Ll}),ta(Vl,Xa);var zl=0;function Gl(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function $l(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ql(e)}function ql(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(zo=Vl.prototype).open=function(e,t){if(this.readyState!=zl)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ql(this)},zo.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Wo).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},zo.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,$l(this)),this.readyState=zl},zo.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ql(this)),this.g&&(this.readyState=3,ql(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Wo.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Gl(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},zo.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?$l(this):ql(this),3==this.readyState&&Gl(this)}},zo.Za=function(e){this.g&&(this.response=this.responseText=e,$l(this))},zo.Ya=function(e){this.g&&(this.response=e,$l(this))},zo.ka=function(){this.g&&$l(this)},zo.setRequestHeader=function(e,t){this.v.append(e,t)},zo.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},zo.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Vl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Wl=Wo.JSON.parse;function Hl(e){Xa.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Kl,this.L=this.M=!1}ta(Hl,Xa);var Kl="",Ql=/^https?$/i,Yl=["POST","PUT"];function Xl(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Jl(e),ec(e)}function Jl(e){e.F||(e.F=!0,Ja(e,"complete"),Ja(e,"error"))}function Zl(e){if(e.h&&"undefined"!=typeof qo&&(!e.C[1]||4!=nc(e)||2!=e.da()))if(e.v&&4==nc(e))fs(e.La,0,e);else if(Ja(e,"readystatechange"),4==nc(e)){e.h=!1;try{const s=e.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===s){var i=String(e.I).match(il)[1]||null;!i&&Wo.self&&Wo.self.location&&(i=Wo.self.location.protocol.slice(0,-1)),r=!Ql.test(i?i.toLowerCase():"")}n=r}if(n)Ja(e,"complete"),Ja(e,"success");else{e.m=6;try{var o=2<nc(e)?e.g.statusText:""}catch(a){o=""}e.j=o+" ["+e.da()+"]",Jl(e)}}finally{ec(e)}}}function ec(e,t){if(e.g){tc(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Ja(e,"ready");try{n.onreadystatechange=r}catch(OR){}}}function tc(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Wo.clearTimeout(e.A),e.A=null)}function nc(e){return e.g?e.g.readyState:0}function rc(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Kl:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(lu){return null}}function ic(e){let t="";return Ra(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function oc(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ic(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ul(e,t,n))}function ac(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function sc(e){this.Ga=0,this.j=[],this.l=new ws,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ac("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ac("baseRetryDelayMs",5e3,e),this.hb=ac("retryDelaySeedMs",1e4,e),this.eb=ac("forwardChannelMaxRetries",2,e),this.xa=ac("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Tl(e&&e.concurrentRequestLimit),this.Ja=new jl,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function lc(e){if(uc(e),3==e.H){var t=e.W++,n=al(e.I);if(ul(n,"SID",e.K),ul(n,"RID",t),ul(n,"TYPE","terminate"),fc(e,n),(t=new Vs(e,e.l,t)).L=2,t.v=dl(al(n)),n=!1,Wo.navigator&&Wo.navigator.sendBeacon)try{n=Wo.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&Wo.Image&&((new Image).src=t.v,n=!0),n||(t.g=Cc(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Xs(t)}Ic(e)}function cc(e){e.g&&(vc(e),e.g.cancel(),e.g=null)}function uc(e){cc(e),e.u&&(Wo.clearTimeout(e.u),e.u=null),bc(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Wo.clearTimeout(e.m),e.m=null)}function dc(e){if(!Dl(e.i)&&!e.m){e.m=!0;var t=e.Na;as||cs(),ss||(as(),ss=!0),ls.add(t,e),e.C=0}}function hc(e,t){var n;n=t?t.m:e.W++;const r=al(e.I);ul(r,"SID",e.K),ul(r,"RID",n),ul(r,"AID",e.V),fc(e,r),e.o&&e.s&&oc(r,e.o,e.s),n=new Vs(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=pc(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Rl(e.i,n),Ws(n,r,t)}function fc(e,t){e.na&&Ra(e.na,(function(e,n){ul(t,n,e)})),e.h&&rl({},(function(e,n){ul(t,n,e)}))}function pc(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Zo(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=i[a].g;const s=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),o=!1;else try{Bl(s,e,"req"+n+"_")}catch(bu){r&&r(s)}}if(o){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function gc(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;as||cs(),ss||(as(),ss=!0),ls.add(t,e),e.A=0}}function mc(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=ks(Zo(e.Ma,e),Ec(e,e.A)),e.A++,!0)}function vc(e){null!=e.B&&(Wo.clearTimeout(e.B),e.B=null)}function yc(e){e.g=new Vs(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=al(e.wa);ul(t,"RID","rpc"),ul(t,"SID",e.K),ul(t,"AID",e.V),ul(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&ul(t,"TO",e.qa),ul(t,"TYPE","xmlhttp"),fc(e,t),e.o&&e.s&&oc(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=dl(al(t)),n.s=null,n.S=!0,Hs(n,e)}function bc(e){null!=e.v&&(Wo.clearTimeout(e.v),e.v=null)}function wc(e,t){var n=null;if(e.g==t){bc(e),vc(e),e.g=null;var r=2}else{if(!Al(e.i,t))return;n=t.F,Pl(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Ja(r=Ss(),new Ds(r,n)),dc(e)}else gc(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(kl(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=ks(Zo(e.Na,e,t),Ec(e,e.C)),e.C++,!0))}(e,t)||2==r&&mc(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:xc(e,5);break;case 4:xc(e,10);break;case 3:xc(e,6);break;default:xc(e,2)}}function Ec(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function xc(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Zo(e.pb,e);n||(n=new ol("//www.google.com/images/cleardot.gif"),Wo.location&&"http"==Wo.location.protocol||sl(n,"https"),dl(n)),function(e,t){const n=new ws;if(Wo.Image){const r=new Image;r.onload=ea(Fl,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ea(Fl,n,r,"TestLoadImage: error",!1,t),r.onabort=ea(Fl,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ea(Fl,n,r,"TestLoadImage: timeout",!1,t),Wo.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ns(2);e.H=0,e.h&&e.h.za(t),Ic(e),uc(e)}function Ic(e){if(e.H=0,e.ma=[],e.h){const t=Ol(e.i);0==t.length&&0==e.j.length||(oa(e.ma,t),oa(e.ma,e.j),e.i.i.length=0,ia(e.j),e.j.length=0),e.h.ya()}}function Sc(e,t,n){var r=n instanceof ol?al(n):new ol(n);if(""!=r.g)t&&(r.g=t+"."+r.g),ll(r,r.m);else{var i=Wo.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new ol(null);r&&sl(o,r),t&&(o.g=t),i&&ll(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&ul(r,n,t),ul(r,"VER",e.ra),fc(e,r),r}function Cc(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Hl(new Ul({ob:!0})):new Hl(e.va)).Oa(e.J),t}function _c(){}function Tc(){if(ga&&!(10<=Number(Ca)))throw Error("Environmental error: no available transport.")}function Nc(e,t){Xa.call(this),this.g=new sc(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!la(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!la(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Ac(this)}function Dc(e){Bs.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function kc(){Fs.call(this),this.status=1}function Ac(e){this.g=e}function Rc(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Pc(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],a=t+(o^n&(i^o))+r[0]+3614090360&4294967295;a=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(a<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((o=(t=n+((a=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=o+((a=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function Oc(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(zo=Hl.prototype).Oa=function(e){this.M=e},zo.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ms.g(),this.C=this.u?Os(this.u):Os(Ms),this.g.onreadystatechange=Zo(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){return void Xl(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=Wo.FormData&&e instanceof Wo.FormData,!(0<=ra(Yl,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,s]of n)this.g.setRequestHeader(a,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{tc(this),0<this.B&&((this.L=function(e){return ga&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Zo(this.ua,this)):this.A=fs(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){Xl(this,o)}},zo.ua=function(){"undefined"!=typeof qo&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ja(this,"timeout"),this.abort(8))},zo.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ja(this,"complete"),Ja(this,"abort"),ec(this))},zo.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ec(this,!0)),Hl.$.N.call(this)},zo.La=function(){this.s||(this.G||this.v||this.l?Zl(this):this.kb())},zo.kb=function(){Zl(this)},zo.isActive=function(){return!!this.g},zo.da=function(){try{return 2<nc(this)?this.g.status:-1}catch(Ll){return-1}},zo.ja=function(){try{return this.g?this.g.responseText:""}catch(Ll){return""}},zo.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Wl(t)}},zo.Ia=function(){return this.m},zo.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(zo=sc.prototype).ra=8,zo.H=1,zo.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Vs(this,this.l,e);let o=this.s;if(this.U&&(o?(o=Pa(o),La(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=pc(this,i,t),ul(n=al(this.I),"RID",e),ul(n,"CVER",22),this.F&&ul(n,"X-HTTP-Session-Id",this.F),fc(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(ic(o)))+"&"+t:this.o&&oc(n,this.o,o)),Rl(this.i,i),this.bb&&ul(n,"TYPE","init"),this.P?(ul(n,"$req",t),ul(n,"SID","null"),i.aa=!0,Ws(i,n,null)):Ws(i,n,t),this.H=2}}else 3==this.H&&(e?hc(this,e):0==this.j.length||Dl(this.i)||hc(this))},zo.Ma=function(){if(this.u=null,yc(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=ks(Zo(this.jb,this),e)}},zo.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ns(10),cc(this),yc(this))},zo.ib=function(){null!=this.v&&(this.v=null,cc(this),mc(this),Ns(19))},zo.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Ns(2)):(this.l.info("Failed to ping google.com"),Ns(1))},zo.isActive=function(){return!!this.h&&this.h.isActive(this)},(zo=_c.prototype).Ba=function(){},zo.Aa=function(){},zo.za=function(){},zo.ya=function(){},zo.isActive=function(){return!0},zo.Va=function(){},Tc.prototype.g=function(e,t){return new Nc(e,t)},ta(Nc,Xa),Nc.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Ns(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Sc(e,null,e.Y),dc(e)},Nc.prototype.close=function(){lc(this.g)},Nc.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=es(e),e=n);t.j.push(new _l(t.fb++,e)),3==t.H&&dc(t)},Nc.prototype.N=function(){this.g.h=null,delete this.j,lc(this.g),delete this.g,Nc.$.N.call(this)},ta(Dc,Bs),ta(kc,Fs),ta(Ac,_c),Ac.prototype.Ba=function(){Ja(this.g,"a")},Ac.prototype.Aa=function(e){Ja(this.g,new Dc(e))},Ac.prototype.za=function(e){Ja(this.g,new kc)},Ac.prototype.ya=function(){Ja(this.g,"b")},ta(Rc,(function(){this.blockSize=-1})),Rc.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Rc.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)Pc(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){Pc(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){Pc(this,r),i=0;break}}this.h=i,this.i+=t},Rc.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Lc={};function Mc(e){return-128<=e&&128>e?function(e,t){var n=Lc;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Oc([0|e],0>e?-1:0)})):new Oc([0|e],0>e?-1:0)}function jc(e){if(isNaN(e)||!isFinite(e))return Fc;if(0>e)return $c(jc(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Bc;return new Oc(t,0)}var Bc=4294967296,Fc=Mc(0),Uc=Mc(1),Vc=Mc(16777216);function zc(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Gc(e){return-1==e.h}function $c(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Oc(n,~e.h).add(Uc)}function qc(e,t){return e.add($c(t))}function Wc(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Hc(e,t){this.g=e,this.h=t}function Kc(e,t){if(zc(t))throw Error("division by zero");if(zc(e))return new Hc(Fc,Fc);if(Gc(e))return t=Kc($c(e),t),new Hc($c(t.g),$c(t.h));if(Gc(t))return t=Kc(e,$c(t)),new Hc($c(t.g),t.h);if(30<e.g.length){if(Gc(e)||Gc(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Uc,r=t;0>=r.X(e);)n=Qc(n),r=Qc(r);var i=Yc(n,1),o=Yc(r,1);for(r=Yc(r,2),n=Yc(n,2);!zc(r);){var a=o.add(r);0>=a.X(e)&&(i=i.add(n),o=a),r=Yc(r,1),n=Yc(n,1)}return t=qc(e,i.R(t)),new Hc(i,t)}for(i=Fc;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(o=jc(n)).R(t);Gc(a)||0<a.X(e);)a=(o=jc(n-=r)).R(t);zc(o)&&(o=Uc),i=i.add(o),e=qc(e,a)}return new Hc(i,e)}function Qc(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Oc(n,e.h)}function Yc(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new Oc(i,e.h)}(zo=Oc.prototype).ea=function(){if(Gc(this))return-$c(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Bc+r)*t,t*=Bc}return e},zo.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(zc(this))return"0";if(Gc(this))return"-"+$c(this).toString(e);for(var t=jc(Math.pow(e,6)),n=this,r="";;){var i=Kc(n,t).g,o=((0<(n=qc(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(zc(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},zo.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},zo.X=function(e){return Gc(e=qc(this,e))?-1:zc(e)?0:1},zo.abs=function(){return Gc(this)?$c(this):this},zo.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),a=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=a>>>16,o&=65535,a&=65535,n[i]=a<<16|o}return new Oc(n,-2147483648&n[n.length-1]?-1:0)},zo.R=function(e){if(zc(this)||zc(e))return Fc;if(Gc(this))return Gc(e)?$c(this).R($c(e)):$c($c(this).R(e));if(Gc(e))return $c(this.R($c(e)));if(0>this.X(Vc)&&0>e.X(Vc))return jc(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,a=65535&this.D(r),s=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=a*l,Wc(n,2*r+2*i),n[2*r+2*i+1]+=o*l,Wc(n,2*r+2*i+1),n[2*r+2*i+1]+=a*s,Wc(n,2*r+2*i+1),n[2*r+2*i+2]+=o*s,Wc(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Oc(n,0)},zo.gb=function(e){return Kc(this,e).h},zo.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Oc(n,this.h&e.h)},zo.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Oc(n,this.h|e.h)},zo.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Oc(n,this.h^e.h)},Tc.prototype.createWebChannel=Tc.prototype.g,Nc.prototype.send=Nc.prototype.u,Nc.prototype.open=Nc.prototype.m,Nc.prototype.close=Nc.prototype.close,As.NO_ERROR=0,As.TIMEOUT=8,As.HTTP_ERROR=6,Rs.COMPLETE="complete",Ls.EventType=js,js.OPEN="a",js.CLOSE="b",js.ERROR="c",js.MESSAGE="d",Xa.prototype.listen=Xa.prototype.O,Hl.prototype.listenOnce=Hl.prototype.P,Hl.prototype.getLastError=Hl.prototype.Sa,Hl.prototype.getLastErrorCode=Hl.prototype.Ia,Hl.prototype.getStatus=Hl.prototype.da,Hl.prototype.getResponseJson=Hl.prototype.Wa,Hl.prototype.getResponseText=Hl.prototype.ja,Hl.prototype.send=Hl.prototype.ha,Hl.prototype.setWithCredentials=Hl.prototype.Oa,Rc.prototype.digest=Rc.prototype.l,Rc.prototype.reset=Rc.prototype.reset,Rc.prototype.update=Rc.prototype.j,Oc.prototype.add=Oc.prototype.add,Oc.prototype.multiply=Oc.prototype.R,Oc.prototype.modulo=Oc.prototype.gb,Oc.prototype.compare=Oc.prototype.X,Oc.prototype.toNumber=Oc.prototype.ea,Oc.prototype.toString=Oc.prototype.toString,Oc.prototype.getBits=Oc.prototype.D,Oc.fromNumber=jc,Oc.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return $c(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=jc(Math.pow(n,8)),i=Fc,o=0;o<t.length;o+=8){var a=Math.min(8,t.length-o),s=parseInt(t.substring(o,o+a),n);8>a?(a=jc(Math.pow(n,a)),i=i.R(a).add(jc(s))):i=(i=i.R(r)).add(jc(s))}return i};var Xc=$o.createWebChannelTransport=function(){return new Tc},Jc=$o.getStatEventTarget=function(){return Ss()},Zc=$o.ErrorCode=As,eu=$o.EventType=Rs,tu=$o.Event=xs,nu=$o.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ru=$o.FetchXmlHttpFactory=Ul,iu=$o.WebChannel=Ls,ou=$o.XhrIo=Hl,au=$o.Md5=Rc,su=$o.Integer=Oc;const lu="@firebase/firestore";class cu{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cu.UNAUTHENTICATED=new cu(null),cu.GOOGLE_CREDENTIALS=new cu("google-credentials-uid"),cu.FIRST_PARTY=new cu("first-party-uid"),cu.MOCK_USER=new cu("mock-user");let uu="9.23.0";const du=new Et("@firebase/firestore");function hu(){return du.logLevel}function fu(e){if(du.logLevel<=mt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(mu);du.debug(`Firestore (${uu}): ${e}`,...i)}}function pu(e){if(du.logLevel<=mt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(mu);du.error(`Firestore (${uu}): ${e}`,...i)}}function gu(e){if(du.logLevel<=mt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(mu);du.warn(`Firestore (${uu}): ${e}`,...i)}}function mu(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function vu(){const e=`FIRESTORE (${uu}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw pu(e),new Error(e)}function yu(e,t){e||vu()}function bu(e,t){return e}const wu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Eu extends et{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xu{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Iu{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Su{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(cu.UNAUTHENTICATED)))}shutdown(){}}class Cu{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class _u{constructor(e){this.t=e,this.currentUser=cu.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new xu;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new xu,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{fu("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(fu("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new xu)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(fu("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(yu("string"==typeof t.accessToken),new Iu(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return yu(null===e||"string"==typeof e),new cu(e)}}class Tu{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=cu.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Nu{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Tu(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(cu.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Du{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ku{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&fu("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.T;return this.T=e.token,fu("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{fu("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):fu("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(yu("string"==typeof e.token),this.T=e.token,new Du(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Au(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Ru{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Au(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Pu(e,t){return e<t?-1:e>t?1:0}function Ou(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Lu{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Eu(wu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Eu(wu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Eu(wu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Eu(wu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Lu.fromMillis(Date.now())}static fromDate(e){return Lu.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Lu(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pu(this.nanoseconds,e.nanoseconds):Pu(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Mu{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Mu(e)}static min(){return new Mu(new Lu(0,0))}static max(){return new Mu(new Lu(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ju{constructor(e,t,n){void 0===t?t=0:t>e.length&&vu(),void 0===n?n=e.length-t:n>e.length-t&&vu(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ju.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ju?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Bu extends ju{construct(e,t,n){return new Bu(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Eu(wu.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new Bu(e)}static emptyPath(){return new Bu([])}}const Fu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Uu extends ju{construct(e,t,n){return new Uu(e,t,n)}static isValidIdentifier(e){return Fu.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Uu.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Uu(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Eu(wu.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Eu(wu.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Eu(wu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Eu(wu.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Uu(t)}static emptyPath(){return new Uu([])}}class Vu{constructor(e){this.path=e}static fromPath(e){return new Vu(Bu.fromString(e))}static fromName(e){return new Vu(Bu.fromString(e).popFirst(5))}static empty(){return new Vu(Bu.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Bu.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Bu.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Vu(new Bu(e.slice()))}}class zu{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}zu.UNKNOWN_ID=-1;function Gu(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Mu.fromTimestamp(1e9===r?new Lu(n+1,0):new Lu(n,r));return new qu(i,Vu.empty(),t)}function $u(e){return new qu(e.readTime,e.key,-1)}class qu{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new qu(Mu.min(),Vu.empty(),-1)}static max(){return new qu(Mu.max(),Vu.empty(),-1)}}function Wu(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Vu.comparator(e.documentKey,t.documentKey),0!==n?n:Pu(e.largestBatchId,t.largestBatchId))}const Hu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ku{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Qu(e){if(e.code!==wu.FAILED_PRECONDITION||e.message!==Hu)throw e;fu("LocalStore","Unexpectedly lost primary lease")}class Yu{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&vu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Yu(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Yu?t:Yu.resolve(t)}catch(e){return Yu.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Yu.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Yu.reject(t)}static resolve(e){return new Yu(((t,n)=>{t(e)}))}static reject(e){return new Yu(((t,n)=>{n(e)}))}static waitFor(e){return new Yu(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=Yu.resolve(!1);for(const n of e)t=t.next((e=>e?Yu.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Yu(((n,r)=>{const i=e.length,o=new Array(i);let a=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next((e=>{o[l]=e,++a,a===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new Yu(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function Xu(e){return"IndexedDbTransactionError"===e.name}class Ju{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function Zu(e){return null==e}function ed(e){return 0===e&&1/e==-1/0}function td(e){return"number"==typeof e&&Number.isInteger(e)&&!ed(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Ju.ct=-1;const nd=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],rd=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],id=rd;function od(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ad(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function sd(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ld{constructor(e,t){this.comparator=e,this.root=t||ud.EMPTY}insert(e,t){return new ld(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ud.BLACK,null,null))}remove(e){return new ld(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ud.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cd(this.root,e,this.comparator,!1)}getReverseIterator(){return new cd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cd(this.root,e,this.comparator,!0)}}class cd{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ud{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ud.RED,this.left=null!=r?r:ud.EMPTY,this.right=null!=i?i:ud.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new ud(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ud.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ud.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ud.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ud.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vu();if(this.right.isRed())throw vu();const e=this.left.check();if(e!==this.right.check())throw vu();return e+(this.isRed()?0:1)}}ud.EMPTY=null,ud.RED=!0,ud.BLACK=!1,ud.EMPTY=new class{constructor(){this.size=0}get key(){throw vu()}get value(){throw vu()}get color(){throw vu()}get left(){throw vu()}get right(){throw vu()}copy(e,t,n,r,i){return this}insert(e,t,n){return new ud(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class dd{constructor(e){this.comparator=e,this.data=new ld(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new hd(this.data.getIterator())}getIteratorFrom(e){return new hd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof dd))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new dd(this.comparator);return t.data=e,t}}class hd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class fd{constructor(e){this.fields=e,e.sort(Uu.comparator)}static empty(){return new fd([])}unionWith(e){let t=new dd(Uu.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new fd(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ou(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class pd extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class gd{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new pd("Invalid base64 string: "+e):e}}(e);return new gd(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new gd(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pu(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gd.EMPTY_BYTE_STRING=new gd("");const md=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vd(e){if(yu(!!e),"string"==typeof e){let t=0;const n=md.exec(e);if(yu(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:yd(e.seconds),nanos:yd(e.nanos)}}function yd(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function bd(e){return"string"==typeof e?gd.fromBase64String(e):gd.fromUint8Array(e)}function wd(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ed(e){const t=e.mapValue.fields.__previous_value__;return wd(t)?Ed(t):t}function xd(e){const t=vd(e.mapValue.fields.__local_write_time__.timestampValue);return new Lu(t.seconds,t.nanos)}class Id{constructor(e,t,n,r,i,o,a,s,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=s,this.useFetchStreams=l}}class Sd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Sd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Sd&&e.projectId===this.projectId&&e.database===this.database}}const Cd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function _d(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?wd(e)?4:Ud(e)?9007199254740991:10:vu()}function Td(e,t){if(e===t)return!0;const n=_d(e);if(n!==_d(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return xd(e).isEqual(xd(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=vd(e.timestampValue),r=vd(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return bd(e.bytesValue).isEqual(bd(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return yd(e.geoPointValue.latitude)===yd(t.geoPointValue.latitude)&&yd(e.geoPointValue.longitude)===yd(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return yd(e.integerValue)===yd(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=yd(e.doubleValue),r=yd(t.doubleValue);return n===r?ed(n)===ed(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ou(e.arrayValue.values||[],t.arrayValue.values||[],Td);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(od(n)!==od(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Td(n[i],r[i])))return!1;return!0}(e,t);default:return vu()}}function Nd(e,t){return void 0!==(e.values||[]).find((e=>Td(e,t)))}function Dd(e,t){if(e===t)return 0;const n=_d(e),r=_d(t);if(n!==r)return Pu(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pu(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=yd(e.integerValue||e.doubleValue),r=yd(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return kd(e.timestampValue,t.timestampValue);case 4:return kd(xd(e),xd(t));case 5:return Pu(e.stringValue,t.stringValue);case 6:return function(e,t){const n=bd(e),r=bd(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Pu(n[i],r[i]);if(0!==e)return e}return Pu(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Pu(yd(e.latitude),yd(t.latitude));return 0!==n?n:Pu(yd(e.longitude),yd(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Dd(n[i],r[i]);if(e)return e}return Pu(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Cd.mapValue&&t===Cd.mapValue)return 0;if(e===Cd.mapValue)return 1;if(t===Cd.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let a=0;a<r.length&&a<o.length;++a){const e=Pu(r[a],o[a]);if(0!==e)return e;const t=Dd(n[r[a]],i[o[a]]);if(0!==t)return t}return Pu(r.length,o.length)}(e.mapValue,t.mapValue);default:throw vu()}}function kd(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Pu(e,t);const n=vd(e),r=vd(t),i=Pu(n.seconds,r.seconds);return 0!==i?i:Pu(n.nanos,r.nanos)}function Ad(e){return Rd(e)}function Rd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=vd(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?bd(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Vu.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Rd(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Rd(e.fields[i])}`;return n+"}"}(e.mapValue):vu();var t,n}function Pd(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Od(e){return!!e&&"integerValue"in e}function Ld(e){return!!e&&"arrayValue"in e}function Md(e){return!!e&&"nullValue"in e}function jd(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Bd(e){return!!e&&"mapValue"in e}function Fd(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ad(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Fd(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Fd(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Ud(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Vd{constructor(e){this.value=e}static empty(){return new Vd({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Bd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fd(t)}setAll(e){let t=Uu.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Fd(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Bd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Td(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Bd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){ad(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Vd(Fd(this.value))}}function zd(e){const t=[];return ad(e.fields,((e,n)=>{const r=new Uu([e]);if(Bd(n)){const e=zd(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new fd(t)}class Gd{constructor(e,t,n,r,i,o,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Gd(e,0,Mu.min(),Mu.min(),Mu.min(),Vd.empty(),0)}static newFoundDocument(e,t,n,r){return new Gd(e,1,t,Mu.min(),n,r,0)}static newNoDocument(e,t){return new Gd(e,2,t,Mu.min(),Mu.min(),Vd.empty(),0)}static newUnknownDocument(e,t){return new Gd(e,3,t,Mu.min(),Mu.min(),Vd.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Mu.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vd.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vd.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mu.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Gd&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gd(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $d{constructor(e,t){this.position=e,this.inclusive=t}}function qd(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],a=e.position[i];if(r=o.field.isKeyField()?Vu.comparator(Vu.fromName(a.referenceValue),n.key):Dd(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Wd(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Td(e.position[n],t.position[n]))return!1;return!0}class Hd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Kd(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Qd{}class Yd extends Qd{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new ih(e,t,n):"array-contains"===t?new lh(e,n):"in"===t?new ch(e,n):"not-in"===t?new uh(e,n):"array-contains-any"===t?new dh(e,n):new Yd(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new oh(e,n):new ah(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Dd(t,this.value)):null!==t&&_d(this.value)===_d(t)&&this.matchesComparison(Dd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return vu()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Xd extends Qd{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Xd(e,t)}matches(e){return Jd(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft((e=>e.isInequality()));return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Jd(e){return"and"===e.op}function Zd(e){return eh(e)&&Jd(e)}function eh(e){for(const t of e.filters)if(t instanceof Xd)return!1;return!0}function th(e){if(e instanceof Yd)return e.field.canonicalString()+e.op.toString()+Ad(e.value);if(Zd(e))return e.filters.map((e=>th(e))).join(",");{const t=e.filters.map((e=>th(e))).join(",");return`${e.op}(${t})`}}function nh(e,t){return e instanceof Yd?function(e,t){return t instanceof Yd&&e.op===t.op&&e.field.isEqual(t.field)&&Td(e.value,t.value)}(e,t):e instanceof Xd?function(e,t){return t instanceof Xd&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&nh(n,t.filters[r])),!0)}(e,t):void vu()}function rh(e){return e instanceof Yd?function(e){return`${e.field.canonicalString()} ${e.op} ${Ad(e.value)}`}(e):e instanceof Xd?function(e){return e.op.toString()+" {"+e.getFilters().map(rh).join(" ,")+"}"}(e):"Filter"}class ih extends Yd{constructor(e,t,n){super(e,t,n),this.key=Vu.fromName(n.referenceValue)}matches(e){const t=Vu.comparator(e.key,this.key);return this.matchesComparison(t)}}class oh extends Yd{constructor(e,t){super(e,"in",t),this.keys=sh("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class ah extends Yd{constructor(e,t){super(e,"not-in",t),this.keys=sh("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function sh(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Vu.fromName(e.referenceValue)))}class lh extends Yd{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ld(t)&&Nd(t.arrayValue,this.value)}}class ch extends Yd{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Nd(this.value.arrayValue,t)}}class uh extends Yd{constructor(e,t){super(e,"not-in",t)}matches(e){if(Nd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Nd(this.value.arrayValue,t)}}class dh extends Yd{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ld(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Nd(this.value.arrayValue,e)))}}class hh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.dt=null}}function fh(e){return new hh(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function ph(e){const t=bu(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>th(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Zu(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Ad(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Ad(e))).join(",")),t.dt=e}return t.dt}function gh(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Kd(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!nh(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Wd(e.startAt,t.startAt)&&Wd(e.endAt,t.endAt)}function mh(e){return Vu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class vh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.wt=null,this._t=null,this.startAt,this.endAt}}function yh(e,t,n,r,i,o,a,s){return new vh(e,t,n,r,i,o,a,s)}function bh(e){return new vh(e)}function wh(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Eh(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function xh(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function Ih(e){return null!==e.collectionGroup}function Sh(e){const t=bu(e);if(null===t.wt){t.wt=[];const e=xh(t),n=Eh(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new Hd(e)),t.wt.push(new Hd(Uu.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Hd(Uu.keyField(),e))}}}return t.wt}function Ch(e){const t=bu(e);if(!t._t)if("F"===t.limitType)t._t=fh(t.path,t.collectionGroup,Sh(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of Sh(t)){const t="desc"===i.dir?"asc":"desc";e.push(new Hd(i.field,t))}const n=t.endAt?new $d(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new $d(t.startAt.position,t.startAt.inclusive):null;t._t=fh(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function _h(e,t){t.getFirstInequalityField(),xh(e);const n=e.filters.concat([t]);return new vh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Th(e,t,n){return new vh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Nh(e,t){return gh(Ch(e),Ch(t))&&e.limitType===t.limitType}function Dh(e){return`${ph(Ch(e))}|lt:${e.limitType}`}function kh(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>rh(e))).join(", ")}]`),Zu(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Ad(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Ad(e))).join(",")),`Target(${t})`}(Ch(e))}; limitType=${e.limitType})`}function Ah(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Vu.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Sh(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=qd(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Sh(e),t))&&!(e.endAt&&!function(e,t,n){const r=qd(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Sh(e),t))}(e,t)}function Rh(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ph(e){return(t,n)=>{let r=!1;for(const i of Sh(e)){const e=Oh(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Oh(e,t,n){const r=e.field.isKeyField()?Vu.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Dd(r,i):vu()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return vu()}}class Lh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ad(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return sd(this.inner)}size(){return this.innerSize}}const Mh=new ld(Vu.comparator);function jh(){return Mh}const Bh=new ld(Vu.comparator);function Fh(){let e=Bh;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Uh(e){let t=Bh;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Vh(){return Gh()}function zh(){return Gh()}function Gh(){return new Lh((e=>e.toString()),((e,t)=>e.isEqual(t)))}const $h=new ld(Vu.comparator),qh=new dd(Vu.comparator);function Wh(){let e=qh;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Hh=new dd(Pu);function Kh(){return Hh}function Qh(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ed(t)?"-0":t}}function Yh(e){return{integerValue:""+e}}function Xh(e,t){return td(t)?Yh(t):Qh(e,t)}class Jh{constructor(){this._=void 0}}function Zh(e,t,n){return e instanceof nf?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&wd(t)&&(t=Ed(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof rf?of(e,t):e instanceof af?sf(e,t):function(e,t){const n=tf(e,t),r=cf(n)+cf(e.gt);return Od(n)&&Od(e.gt)?Yh(r):Qh(e.serializer,r)}(e,t)}function ef(e,t,n){return e instanceof rf?of(e,t):e instanceof af?sf(e,t):n}function tf(e,t){return e instanceof lf?Od(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class nf extends Jh{}class rf extends Jh{constructor(e){super(),this.elements=e}}function of(e,t){const n=uf(t);for(const r of e.elements)n.some((e=>Td(e,r)))||n.push(r);return{arrayValue:{values:n}}}class af extends Jh{constructor(e){super(),this.elements=e}}function sf(e,t){let n=uf(t);for(const r of e.elements)n=n.filter((e=>!Td(e,r)));return{arrayValue:{values:n}}}class lf extends Jh{constructor(e,t){super(),this.serializer=e,this.gt=t}}function cf(e){return yd(e.integerValue||e.doubleValue)}function uf(e){return Ld(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class df{constructor(e,t){this.version=e,this.transformResults=t}}class hf{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new hf}static exists(e){return new hf(void 0,e)}static updateTime(e){return new hf(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ff(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class pf{}function gf(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Cf(e.key,hf.none()):new wf(e.key,e.data,hf.none());{const n=e.data,r=Vd.empty();let i=new dd(Uu.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Ef(e.key,r,new fd(i.toArray()),hf.none())}}function mf(e,t,n){e instanceof wf?function(e,t,n){const r=e.value.clone(),i=If(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ef?function(e,t,n){if(!ff(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=If(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(xf(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function vf(e,t,n,r){return e instanceof wf?function(e,t,n,r){if(!ff(e.precondition,t))return n;const i=e.value.clone(),o=Sf(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ef?function(e,t,n,r){if(!ff(e.precondition,t))return n;const i=Sf(e.fieldTransforms,r,t),o=t.data;return o.setAll(xf(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return ff(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function yf(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=tf(r.transform,e||null);null!=i&&(null===n&&(n=Vd.empty()),n.set(r.field,i))}return n||null}function bf(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ou(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof rf&&t instanceof rf||e instanceof af&&t instanceof af?Ou(e.elements,t.elements,Td):e instanceof lf&&t instanceof lf?Td(e.gt,t.gt):e instanceof nf&&t instanceof nf}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class wf extends pf{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ef extends pf{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function xf(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function If(e,t,n){const r=new Map;yu(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,ef(a,s,n[i]))}return r}function Sf(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,Zh(e,o,t))}return r}class Cf extends pf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _f extends pf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Tf{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&mf(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=vf(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=vf(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=zh();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=t.has(r.key)?null:a;const s=gf(o,a);null!==s&&n.set(r.key,s),o.isValidDocument()||o.convertToNoDocument(Mu.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Wh())}isEqual(e){return this.batchId===e.batchId&&Ou(this.mutations,e.mutations,((e,t)=>bf(e,t)))&&Ou(this.baseMutations,e.baseMutations,((e,t)=>bf(e,t)))}}class Nf{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){yu(e.mutations.length===n.length);let r=$h;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Nf(e,t,n,r)}}class Df{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class kf{constructor(e,t){this.count=e,this.unchangedNames=t}}var Af,Rf;function Pf(e){switch(e){default:return vu();case wu.CANCELLED:case wu.UNKNOWN:case wu.DEADLINE_EXCEEDED:case wu.RESOURCE_EXHAUSTED:case wu.INTERNAL:case wu.UNAVAILABLE:case wu.UNAUTHENTICATED:return!1;case wu.INVALID_ARGUMENT:case wu.NOT_FOUND:case wu.ALREADY_EXISTS:case wu.PERMISSION_DENIED:case wu.FAILED_PRECONDITION:case wu.ABORTED:case wu.OUT_OF_RANGE:case wu.UNIMPLEMENTED:case wu.DATA_LOSS:return!0}}function Of(e){if(void 0===e)return pu("GRPC error has no .code"),wu.UNKNOWN;switch(e){case Af.OK:return wu.OK;case Af.CANCELLED:return wu.CANCELLED;case Af.UNKNOWN:return wu.UNKNOWN;case Af.DEADLINE_EXCEEDED:return wu.DEADLINE_EXCEEDED;case Af.RESOURCE_EXHAUSTED:return wu.RESOURCE_EXHAUSTED;case Af.INTERNAL:return wu.INTERNAL;case Af.UNAVAILABLE:return wu.UNAVAILABLE;case Af.UNAUTHENTICATED:return wu.UNAUTHENTICATED;case Af.INVALID_ARGUMENT:return wu.INVALID_ARGUMENT;case Af.NOT_FOUND:return wu.NOT_FOUND;case Af.ALREADY_EXISTS:return wu.ALREADY_EXISTS;case Af.PERMISSION_DENIED:return wu.PERMISSION_DENIED;case Af.FAILED_PRECONDITION:return wu.FAILED_PRECONDITION;case Af.ABORTED:return wu.ABORTED;case Af.OUT_OF_RANGE:return wu.OUT_OF_RANGE;case Af.UNIMPLEMENTED:return wu.UNIMPLEMENTED;case Af.DATA_LOSS:return wu.DATA_LOSS;default:return vu()}}(Rf=Af||(Af={}))[Rf.OK=0]="OK",Rf[Rf.CANCELLED=1]="CANCELLED",Rf[Rf.UNKNOWN=2]="UNKNOWN",Rf[Rf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rf[Rf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rf[Rf.NOT_FOUND=5]="NOT_FOUND",Rf[Rf.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rf[Rf.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rf[Rf.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rf[Rf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rf[Rf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rf[Rf.ABORTED=10]="ABORTED",Rf[Rf.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rf[Rf.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rf[Rf.INTERNAL=13]="INTERNAL",Rf[Rf.UNAVAILABLE=14]="UNAVAILABLE",Rf[Rf.DATA_LOSS=15]="DATA_LOSS";class Lf{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Mf}static getOrCreateInstance(){return null===Mf&&(Mf=new Lf),Mf}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach((t=>t(e)))}}let Mf=null;function jf(){return new TextEncoder}const Bf=new su([4294967295,4294967295],0);function Ff(e){const t=jf().encode(e),n=new au;return n.update(t),new Uint8Array(n.digest())}function Uf(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new su([n,r],0),new su([i,o],0)]}class Vf{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new zf(`Invalid padding: ${t}`);if(n<0)throw new zf(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new zf(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new zf(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=su.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(su.fromNumber(n)));return 1===r.compare(Bf)&&(r=new su([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Ff(e),[n,r]=Uf(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);if(!this.At(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Vf(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.It)return;const t=Ff(e),[n,r]=Uf(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class zf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Gf{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,$f.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Gf(Mu.min(),r,new ld(Pu),jh(),Wh())}}class $f{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new $f(n,t,Wh(),Wh(),Wh())}}class qf{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class Wf{constructor(e,t){this.targetId=e,this.Vt=t}}class Hf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gd.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Kf{constructor(){this.St=0,this.Dt=Xf(),this.Ct=gd.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Wh(),t=Wh(),n=Wh();return this.Dt.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:vu()}})),new $f(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=Xf()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Qf{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=jh(),this.zt=Yf(),this.Wt=new ld(Pu)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,(t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:vu()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach(((e,n)=>{this.te(n)&&t(n)}))}ne(e){var t;const n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){const o=i.target;if(mh(o))if(0===r){const e=new Vu(o.path);this.Yt(n,e,Gd.newNoDocument(e,Mu.min()))}else yu(1===r);else{const i=this.ie(n);if(i!==r){const r=this.re(e,i);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=Lf.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,o,a,s,l;const c={localCacheCount:t,existenceFilterCount:n.count},u=n.unchangedNames;return u&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==u?void 0:u.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(a=null===(o=null===(i=null==u?void 0:u.bits)||void 0===i?void 0:i.bitmap)||void 0===o?void 0:o.length)&&void 0!==a?a:0,padding:null!==(l=null===(s=null==u?void 0:u.bits)||void 0===s?void 0:s.padding)&&void 0!==l?l:0}),c}(r,i,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=n;let s,l;try{s=bd(i).toUint8Array()}catch(e){if(e instanceof pd)return gu("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new Vf(s,o,a)}catch(e){return gu(e instanceof zf?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach((n=>{const i=this.Gt.ue(),o=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;t.vt(o)||(this.Yt(e,n,null),r++)})),r}ce(e){const t=new Map;this.Qt.forEach(((n,r)=>{const i=this.se(r);if(i){if(n.current&&mh(i.target)){const t=new Vu(i.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,Gd.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}}));let n=Wh();this.zt.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.jt.forEach(((t,n)=>n.setReadTime(e)));const r=new Gf(e,t,this.Wt,this.jt,n);return this.jt=jh(),this.zt=Yf(),this.Wt=new ld(Pu),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Kf,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new dd(Pu),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||fu("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Kf),this.Gt.getRemoteKeysForTarget(e).forEach((t=>{this.Yt(e,t,null)}))}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Yf(){return new ld(Vu.comparator)}function Xf(){return new ld(Vu.comparator)}const Jf={asc:"ASCENDING",desc:"DESCENDING"},Zf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ep={and:"AND",or:"OR"};class tp{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function np(e,t){return e.useProto3Json||Zu(t)?t:{value:t}}function rp(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ip(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function op(e,t){return rp(e,t.toTimestamp())}function ap(e){return yu(!!e),Mu.fromTimestamp(function(e){const t=vd(e);return new Lu(t.seconds,t.nanos)}(e))}function sp(e,t){return function(e){return new Bu(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function lp(e){const t=Bu.fromString(e);return yu(Np(t)),t}function cp(e,t){return sp(e.databaseId,t.path)}function up(e,t){const n=lp(t);if(n.get(1)!==e.databaseId.projectId)throw new Eu(wu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Eu(wu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Vu(pp(n))}function dp(e,t){return sp(e.databaseId,t)}function hp(e){const t=lp(e);return 4===t.length?Bu.emptyPath():pp(t)}function fp(e){return new Bu(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function pp(e){return yu(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function gp(e,t,n){return{name:cp(e,t),fields:n.value.mapValue.fields}}function mp(e,t){let n;if(t instanceof wf)n={update:gp(e,t.key,t.value)};else if(t instanceof Cf)n={delete:cp(e,t.key)};else if(t instanceof Ef)n={update:gp(e,t.key,t.data),updateMask:Tp(t.fieldMask)};else{if(!(t instanceof _f))return vu();n={verify:cp(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof nf)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof rf)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof af)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof lf)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw vu()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:op(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:vu()}(e,t.precondition)),n}function vp(e,t){return{documents:[dp(e,t.path)]}}function yp(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=dp(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=dp(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return _p(Xd.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Sp(e.field),direction:Ep(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=np(e,t.limit);var s;return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt={before:(s=t.startAt).inclusive,values:s.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function bp(e){let t=hp(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){yu(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=wp(e);return t instanceof Xd&&Zd(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map((e=>function(e){return new Hd(Cp(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,Zu(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new $d(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new $d(n,t)}(n.endAt)),yh(t,i,a,o,s,"F",l,c)}function wp(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Cp(e.unaryFilter.field);return Yd.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Cp(e.unaryFilter.field);return Yd.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Cp(e.unaryFilter.field);return Yd.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Cp(e.unaryFilter.field);return Yd.create(i,"!=",{nullValue:"NULL_VALUE"});default:return vu()}}(e):void 0!==e.fieldFilter?function(e){return Yd.create(Cp(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return vu()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Xd.create(e.compositeFilter.filters.map((e=>wp(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return vu()}}(e.compositeFilter.op))}(e):vu()}function Ep(e){return Jf[e]}function xp(e){return Zf[e]}function Ip(e){return ep[e]}function Sp(e){return{fieldPath:e.canonicalString()}}function Cp(e){return Uu.fromServerFormat(e.fieldPath)}function _p(e){return e instanceof Yd?function(e){if("=="===e.op){if(jd(e.value))return{unaryFilter:{field:Sp(e.field),op:"IS_NAN"}};if(Md(e.value))return{unaryFilter:{field:Sp(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(jd(e.value))return{unaryFilter:{field:Sp(e.field),op:"IS_NOT_NAN"}};if(Md(e.value))return{unaryFilter:{field:Sp(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sp(e.field),op:xp(e.op),value:e.value}}}(e):e instanceof Xd?function(e){const t=e.getFilters().map((e=>_p(e)));return 1===t.length?t[0]:{compositeFilter:{op:Ip(e.op),filters:t}}}(e):vu()}function Tp(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Np(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Dp{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Mu.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Mu.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:gd.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=s}withSequenceNumber(e){return new Dp(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Dp(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Dp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Dp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class kp{constructor(e){this.fe=e}}function Ap(e){const t=bp({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Th(t,t.limit,"L"):t}class Rp{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(yd(e.integerValue));else if("doubleValue"in e){const n=yd(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),ed(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie(`${n.seconds||""}`),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(bd(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?Ud(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):vu()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const r of Object.keys(n))this.Te(r,t),this.me(n[r],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const r of n)this.me(r,t)}ve(e,t){this.ye(t,37),Vu.fromName(e).path.forEach((e=>{this.ye(t,60),this.be(e,t)}))}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Rp.Ve=new Rp;class Pp{constructor(){this.rn=new Op}addToCollectionParentIndex(e,t){return this.rn.add(t),Yu.resolve()}getCollectionParents(e,t){return Yu.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Yu.resolve()}deleteFieldIndex(e,t){return Yu.resolve()}getDocumentsMatchingTarget(e,t){return Yu.resolve(null)}getIndexType(e,t){return Yu.resolve(0)}getFieldIndexes(e,t){return Yu.resolve([])}getNextCollectionGroupToUpdate(e){return Yu.resolve(null)}getMinOffset(e,t){return Yu.resolve(qu.min())}getMinOffsetFromCollectionGroup(e,t){return Yu.resolve(qu.min())}updateCollectionGroup(e,t,n){return Yu.resolve()}updateIndexEntries(e,t){return Yu.resolve()}}class Op{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new dd(Bu.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new dd(Bu.comparator)).toArray()}}new Uint8Array(0);class Lp{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Lp(e,Lp.DEFAULT_COLLECTION_PERCENTILE,Lp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Lp.DEFAULT_COLLECTION_PERCENTILE=10,Lp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Lp.DEFAULT=new Lp(41943040,Lp.DEFAULT_COLLECTION_PERCENTILE,Lp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Lp.DISABLED=new Lp(-1,0,0);class Mp{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Mp(0)}static Mn(){return new Mp(-1)}}class jp{constructor(){this.changes=new Lh((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Gd.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Yu.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Bp{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Fp{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&vf(n.mutation,e,fd.empty(),Lu.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Wh()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wh();const r=Vh();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Fh();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Vh();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Wh())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=jh();const o=Gh(),a=Gh();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Ef)?i=i.insert(t.key,t):void 0!==a?(o.set(t.key,a.mutation.getFieldMask()),vf(a.mutation,t,a.mutation.getFieldMask(),Lu.now())):o.set(t.key,fd.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new Bp(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=Gh();let r=new ld(((e,t)=>e-t)),i=Wh();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let a=n.get(e)||fd.empty();a=i.applyToLocalView(o,a),n.set(e,a);const s=(r.get(i.batchId)||Wh()).add(e);r=r.insert(i.batchId,s)}))})).next((()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),s=r.key,l=r.value,c=zh();l.forEach((e=>{if(!i.has(e)){const r=gf(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,s,c))}return Yu.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n){return function(e){return Vu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ih(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Yu.resolve(Vh());let a=-1,s=i;return o.next((t=>Yu.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Yu.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{s=s.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,s,t,Wh()))).next((e=>({batchId:a,changes:Uh(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Vu(t)).next((e=>{let t=Fh();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=Fh();return this.indexManager.getCollectionParents(e,r).next((o=>Yu.forEach(o,(o=>{const a=function(e,t){return new vh(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(r));return this.getDocumentsMatchingCollectionQuery(e,a,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)))).next((e=>{r.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Gd.newInvalidDocument(r)))}));let n=Fh();return e.forEach(((e,i)=>{const o=r.get(e);void 0!==o&&vf(o.mutation,i,fd.empty(),Lu.now()),Ah(t,i)&&(n=n.insert(e,i))})),n}))}}class Up{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Yu.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:ap(n.createTime)}),Yu.resolve()}getNamedQuery(e,t){return Yu.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:Ap(e.bundledQuery),readTime:ap(e.readTime)}}(t)),Yu.resolve()}}class Vp{constructor(){this.overlays=new ld(Vu.comparator),this.ls=new Map}getOverlay(e,t){return Yu.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Vh();return Yu.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.we(e,t,r)})),Yu.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.ls.delete(n)),Yu.resolve()}getOverlaysForCollection(e,t,n){const r=Vh(),i=t.length+1,o=new Vu(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const e=a.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Yu.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new ld(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Vh(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Vh(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return Yu.resolve(a)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Df(t,n));let i=this.ls.get(t);void 0===i&&(i=Wh(),this.ls.set(t,i)),this.ls.set(t,i.add(n.key))}}class zp{constructor(){this.fs=new dd(Gp.ds),this.ws=new dd(Gp._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new Gp(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.ys(new Gp(e,t))}ps(e,t){e.forEach((e=>this.removeReference(e,t)))}Is(e){const t=new Vu(new Bu([])),n=new Gp(t,e),r=new Gp(t,e+1),i=[];return this.ws.forEachInRange([n,r],(e=>{this.ys(e),i.push(e.key)})),i}Ts(){this.fs.forEach((e=>this.ys(e)))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Vu(new Bu([])),n=new Gp(t,e),r=new Gp(t,e+1);let i=Wh();return this.ws.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Gp(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Gp{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Vu.comparator(e.key,t.key)||Pu(e.As,t.As)}static _s(e,t){return Pu(e.As,t.As)||Vu.comparator(e.key,t.key)}}class $p{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new dd(Gp.ds)}checkEmpty(e){return Yu.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Tf(i,t,n,r);this.mutationQueue.push(o);for(const a of r)this.Rs=this.Rs.add(new Gp(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Yu.resolve(o)}lookupMutationBatch(e,t){return Yu.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),i=r<0?0:r;return Yu.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Yu.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Yu.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Gp(t,0),r=new Gp(t,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],(e=>{const t=this.Ps(e.As);i.push(t)})),Yu.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new dd(Pu);return t.forEach((e=>{const t=new Gp(e,0),r=new Gp(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],(e=>{n=n.add(e.As)}))})),Yu.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Vu.isDocumentKey(i)||(i=i.child(""));const o=new Gp(new Vu(i),0);let a=new dd(Pu);return this.Rs.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.As)),!0)}),o),Yu.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach((e=>{const n=this.Ps(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){yu(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return Yu.forEach(t.mutations,(r=>{const i=new Gp(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Rs=n}))}Cn(e){}containsKey(e,t){const n=new Gp(t,0),r=this.Rs.firstAfterOrEqual(n);return Yu.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Yu.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class qp{constructor(e){this.Ds=e,this.docs=new ld(Vu.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Yu.resolve(n?n.document.mutableCopy():Gd.newInvalidDocument(t))}getEntries(e,t){let n=jh();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Gd.newInvalidDocument(e))})),Yu.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=jh();const o=t.path,a=new Vu(o.child("")),s=this.docs.getIteratorFrom(a);for(;s.hasNext();){const{key:e,value:{document:a}}=s.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||Wu($u(a),n)<=0||(r.has(a.key)||Ah(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Yu.resolve(i)}getAllFromCollectionGroup(e,t,n,r){vu()}Cs(e,t){return Yu.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Wp(this)}getSize(e){return Yu.resolve(this.size)}}class Wp extends jp{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)})),Yu.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Hp{constructor(e){this.persistence=e,this.xs=new Lh((e=>ph(e)),gh),this.lastRemoteSnapshotVersion=Mu.min(),this.highestTargetId=0,this.Ns=0,this.ks=new zp,this.targetCount=0,this.Ms=Mp.kn()}forEachTarget(e,t){return this.xs.forEach(((e,n)=>t(n))),Yu.resolve()}getLastRemoteSnapshotVersion(e){return Yu.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Yu.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Yu.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),Yu.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Mp(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Yu.resolve()}updateTargetData(e,t){return this.Fn(t),Yu.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Yu.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.xs.forEach(((o,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.xs.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),Yu.waitFor(i).next((()=>r))}getTargetCount(e){return Yu.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return Yu.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),Yu.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Yu.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Yu.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return Yu.resolve(n)}containsKey(e,t){return Yu.resolve(this.ks.containsKey(t))}}class Kp{constructor(e,t){this.$s={},this.overlays={},this.Os=new Ju(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Hp(this),this.indexManager=new Pp,this.remoteDocumentCache=function(e){return new qp(e)}((e=>this.referenceDelegate.Ls(e))),this.serializer=new kp(t),this.qs=new Up(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Vp,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new $p(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){fu("MemoryPersistence","Starting transaction:",e);const r=new Qp(this.Os.next());return this.referenceDelegate.Us(),n(r).next((e=>this.referenceDelegate.Ks(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gs(e,t){return Yu.or(Object.values(this.$s).map((n=>()=>n.containsKey(e,t))))}}class Qp extends Ku{constructor(e){super(),this.currentSequenceNumber=e}}class Yp{constructor(e){this.persistence=e,this.Qs=new zp,this.js=null}static zs(e){return new Yp(e)}get Ws(){if(this.js)return this.js;throw vu()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),Yu.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),Yu.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Yu.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach((e=>this.Ws.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Ws.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Yu.forEach(this.Ws,(n=>{const r=Vu.fromPath(n);return this.Hs(e,r).next((e=>{e||t.removeEntry(r,Mu.min())}))})).next((()=>(this.js=null,t.apply(e))))}updateLimboDocument(e,t){return this.Hs(e,t).next((e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())}))}Ls(e){return 0}Hs(e,t){return Yu.or([()=>Yu.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Xp{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=Wh(),r=Wh();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Xp(e,t.fromCache,n,r)}}class Jp{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next((i=>i||this.Gi(e,t,r,n))).next((n=>n||this.Qi(e,t)))}Ki(e,t){if(wh(t))return Yu.resolve(null);let n=Ch(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Th(t,null,"F"),n=Ch(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Wh(...r);return this.Ui.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.ji(t,r);return this.zi(t,o,i,n.readTime)?this.Ki(e,Th(t,null,"F")):this.Wi(e,o,t,n)}))))})))))}Gi(e,t,n,r){return wh(t)||r.isEqual(Mu.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((i=>{const o=this.ji(t,i);return this.zi(t,o,n,r)?this.Qi(e,t):(hu()<=mt.DEBUG&&fu("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),kh(t)),this.Wi(e,o,t,Gu(r,-1)))}))}ji(e,t){let n=new dd(Ph(e));return t.forEach(((t,r)=>{Ah(e,r)&&(n=n.add(r))})),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,t){return hu()<=mt.DEBUG&&fu("QueryEngine","Using full collection scan to execute query:",kh(t)),this.Ui.getDocumentsMatchingQuery(e,t,qu.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Zp{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new ld(Pu),this.Yi=new Lh((e=>ph(e)),gh),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Fp(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ji)))}}function eg(e,t,n,r){return new Zp(e,t,n,r)}async function tg(e,t){const n=bu(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.tr(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let a=Wh();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({er:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function ng(e){const t=bu(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Bs.getLastRemoteSnapshotVersion(e)))}function rg(e,t,n){let r=Wh(),i=Wh();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=jh();return n.forEach(((n,o)=>{const a=e.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Mu.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):fu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),{nr:r,sr:i}}))}function ig(e,t){const n=bu(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function og(e,t){const n=bu(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Bs.getTargetData(e,t).next((i=>i?(r=i,Yu.resolve(r)):n.Bs.allocateTargetId(e).next((i=>(r=new Dp(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}async function ag(e,t,n){const r=bu(e),i=r.Ji.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Xu(e))throw e;fu("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function sg(e,t,n){const r=bu(e);let i=Mu.min(),o=Wh();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=bu(e),i=r.Yi.get(n);return void 0!==i?Yu.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,Ch(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.Hi.getDocumentsMatchingQuery(e,t,n?i:Mu.min(),n?o:Wh()))).next((e=>(lg(r,Rh(t),e),{documents:e,ir:o})))))}function lg(e,t,n){let r=e.Xi.get(t)||Mu.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}class cg{constructor(){this.activeTargetIds=Kh()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ug{constructor(){this.Hr=new cg,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new cg,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class dg{Yr(e){}shutdown(){}}class hg{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){fu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){fu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let fg=null;function pg(){return null===fg?fg=268435456+Math.round(2147483648*Math.random()):fg++,"0x"+fg.toString(16)}const gg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mg{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const vg="WebChannelConnection";class yg extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,i){const o=pg(),a=this.To(e,t);fu("RestConnection",`Sending RPC '${e}' ${o}:`,a,n);const s={};return this.Eo(s,r,i),this.Ao(e,a,s,n).then((t=>(fu("RestConnection",`Received RPC '${e}' ${o}: `,t),t)),(t=>{throw gu("RestConnection",`RPC '${e}' ${o} failed with error: `,t,"url: ",a,"request:",n),t}))}vo(e,t,n,r,i,o){return this.Io(e,t,n,r,i)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+uu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}To(e,t){const n=gg[e];return`${this.mo}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const i=pg();return new Promise(((o,a)=>{const s=new ou;s.setWithCredentials(!0),s.listenOnce(eu.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case Zc.NO_ERROR:const t=s.getResponseJson();fu(vg,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),o(t);break;case Zc.TIMEOUT:fu(vg,`RPC '${e}' ${i} timed out`),a(new Eu(wu.DEADLINE_EXCEEDED,"Request time out"));break;case Zc.HTTP_ERROR:const n=s.getStatus();if(fu(vg,`RPC '${e}' ${i} failed with status:`,n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(wu).indexOf(t)>=0?t:wu.UNKNOWN}(t.status);a(new Eu(e,t.message))}else a(new Eu(wu.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new Eu(wu.UNAVAILABLE,"Connection failed."));break;default:vu()}}finally{fu(vg,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);fu(vg,`RPC '${e}' ${i} sending request:`,r),s.send(t,"POST",l,n,15)}))}Ro(e,t,n){const r=pg(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Xc(),a=Jc(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.xmlHttpFactory=new ru({})),this.Eo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=i.join("");fu(vg,`Creating RPC '${e}' stream ${r}: ${c}`,s);const u=o.createWebChannel(c,s);let d=!1,h=!1;const f=new mg({ro:t=>{h?fu(vg,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(fu(vg,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),fu(vg,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},oo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,iu.EventType.OPEN,(()=>{h||fu(vg,`RPC '${e}' stream ${r} transport opened.`)})),p(u,iu.EventType.CLOSE,(()=>{h||(h=!0,fu(vg,`RPC '${e}' stream ${r} transport closed`),f.wo())})),p(u,iu.EventType.ERROR,(t=>{h||(h=!0,gu(vg,`RPC '${e}' stream ${r} transport errored:`,t),f.wo(new Eu(wu.UNAVAILABLE,"The operation could not be completed")))})),p(u,iu.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];yu(!!i);const o=i,a=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(a){fu(vg,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=Af[e];if(void 0!==t)return Of(t)}(t),i=a.message;void 0===n&&(n=wu.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.wo(new Eu(n,i)),u.close()}else fu(vg,`RPC '${e}' stream ${r} received:`,i),f._o(i)}})),p(a,tu.STAT_EVENT,(t=>{t.stat===nu.PROXY?fu(vg,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===nu.NOPROXY&&fu(vg,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.fo()}),0),f}}function bg(){return"undefined"!=typeof document?document:null}function wg(e){return new tp(e,!0)}class Eg{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&fu("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,(()=>(this.Co=Date.now(),e()))),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class xg{constructor(e,t,n,r,i,o,a,s){this.ii=e,this.$o=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=s,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Eg(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(()=>this.zo())))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===wu.RESOURCE_EXHAUSTED?(pu(t.toString()),pu("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===wu.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Fo===t&&this.Zo(n,r)}),(t=>{e((()=>{const e=new Eu(wu.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)}))}))}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((()=>{n((()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,(()=>(this.Ko()&&(this.state=3),Promise.resolve()))),this.listener.uo())))})),this.stream.ao((e=>{n((()=>this.tu(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Go(){this.state=5,this.qo.No((async()=>{this.state=0,this.start()}))}tu(e){return fu("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget((()=>this.Fo===e?t():(fu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Ig extends xg{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:vu()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(yu(void 0===t||"string"==typeof t),gd.fromBase64String(t||"")):(yu(void 0===t||t instanceof Uint8Array),gd.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(e){const t=void 0===e.code?wu.UNKNOWN:Of(e.code);return new Eu(t,e.message||"")}(a);n=new Hf(r,i,o,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=up(e,r.document.name),o=ap(r.document.updateTime),a=r.document.createTime?ap(r.document.createTime):Mu.min(),s=new Vd({mapValue:{fields:r.document.fields}}),l=Gd.newFoundDocument(i,o,a,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new qf(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=up(e,r.document),o=r.readTime?ap(r.readTime):Mu.min(),a=Gd.newNoDocument(i,o),s=r.removedTargetIds||[];n=new qf([],s,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=up(e,r.document),o=r.removedTargetIds||[];n=new qf([],o,i,null)}else{if(!("filter"in t))return vu();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new kf(r,i),a=e.targetId;n=new Wf(a,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Mu.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Mu.min():t.readTime?ap(t.readTime):Mu.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=fp(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=mh(r)?{documents:vp(e,r)}:{query:yp(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=ip(e,t.resumeToken);const r=np(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Mu.min())>0){n.readTime=rp(e,t.snapshotVersion.toTimestamp());const r=np(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vu()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=fp(this.serializer),t.removeTarget=e,this.Wo(t)}}class Sg extends xg{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(yu(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(yu(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?ap(e.updateTime):ap(t);return n.isEqual(Mu.min())&&(n=ap(t)),new df(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=ap(e.commitTime);return this.listener.cu(n,t)}return yu(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=fp(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>mp(this.serializer,e)))};this.Wo(t)}}class Cg extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Eu(wu.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,o]=r;return this.connection.Io(e,t,n,i,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===wu.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Eu(wu.UNKNOWN,e.toString())}))}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,a]=i;return this.connection.vo(e,t,n,o,a,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===wu.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Eu(wu.UNKNOWN,e.toString())}))}terminate(){this.lu=!0}}class _g{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve()))))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(pu(t),this.mu=!1):fu("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Tg{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr((e=>{n.enqueueAndForget((async()=>{Mg(this)&&(fu("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=bu(e);t.vu.add(4),await Dg(t),t.bu.set("Unknown"),t.vu.delete(4),await Ng(t)}(this))}))})),this.bu=new _g(n,r)}}async function Ng(e){if(Mg(e))for(const t of e.Ru)await t(!0)}async function Dg(e){for(const t of e.Ru)await t(!1)}function kg(e,t){const n=bu(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),Lg(n)?Og(n):em(n).Ko()&&Rg(n,t))}function Ag(e,t){const n=bu(e),r=em(n);n.Au.delete(t),r.Ko()&&Pg(n,t),0===n.Au.size&&(r.Ko()?r.jo():Mg(n)&&n.bu.set("Unknown"))}function Rg(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Mu.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}em(e).su(t)}function Pg(e,t){e.Vu.qt(t),em(e).iu(t)}function Og(e){e.Vu=new Qf({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),em(e).start(),e.bu.gu()}function Lg(e){return Mg(e)&&!em(e).Uo()&&e.Au.size>0}function Mg(e){return 0===bu(e).vu.size}function jg(e){e.Vu=void 0}async function Bg(e){e.Au.forEach(((t,n)=>{Rg(e,t)}))}async function Fg(e,t){jg(e),Lg(e)?(e.bu.Iu(t),Og(e)):e.bu.set("Unknown")}async function Ug(e,t,n){if(e.bu.set("Online"),t instanceof Hf&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){fu("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Vg(e,n)}else if(t instanceof qf?e.Vu.Ht(t):t instanceof Wf?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(Mu.min()))try{const t=await ng(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(gd.EMPTY_BYTE_STRING,r.snapshotVersion)),Pg(e,t);const i=new Dp(r.target,t,n,r.sequenceNumber);Rg(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){fu("RemoteStore","Failed to raise snapshot:",t),await Vg(e,t)}}async function Vg(e,t,n){if(!Xu(t))throw t;e.vu.add(1),await Dg(e),e.bu.set("Offline"),n||(n=()=>ng(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{fu("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await Ng(e)}))}function zg(e,t){return t().catch((n=>Vg(e,n,t)))}async function Gg(e){const t=bu(e),n=tm(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;$g(t);)try{const e=await ig(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,qg(t,e)}catch(e){await Vg(t,e)}Wg(t)&&Hg(t)}function $g(e){return Mg(e)&&e.Eu.length<10}function qg(e,t){e.Eu.push(t);const n=tm(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function Wg(e){return Mg(e)&&!tm(e).Uo()&&e.Eu.length>0}function Hg(e){tm(e).start()}async function Kg(e){tm(e).hu()}async function Qg(e){const t=tm(e);for(const n of e.Eu)t.uu(n.mutations)}async function Yg(e,t,n){const r=e.Eu.shift(),i=Nf.from(r,t,n);await zg(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Gg(e)}async function Xg(e,t){t&&tm(e).ou&&await async function(e,t){if(Pf(n=t.code)&&n!==wu.ABORTED){const n=e.Eu.shift();tm(e).Qo(),await zg(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Gg(e)}var n}(e,t),Wg(e)&&Hg(e)}async function Jg(e,t){const n=bu(e);n.asyncQueue.verifyOperationInProgress(),fu("RemoteStore","RemoteStore received new credentials");const r=Mg(n);n.vu.add(3),await Dg(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await Ng(n)}async function Zg(e,t){const n=bu(e);t?(n.vu.delete(2),await Ng(n)):t||(n.vu.add(2),await Dg(n),n.bu.set("Unknown"))}function em(e){return e.Su||(e.Su=function(e,t,n){const r=bu(e);return r.fu(),new Ig(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Bg.bind(null,e),ao:Fg.bind(null,e),nu:Ug.bind(null,e)}),e.Ru.push((async t=>{t?(e.Su.Qo(),Lg(e)?Og(e):e.bu.set("Unknown")):(await e.Su.stop(),jg(e))}))),e.Su}function tm(e){return e.Du||(e.Du=function(e,t,n){const r=bu(e);return r.fu(),new Sg(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Kg.bind(null,e),ao:Xg.bind(null,e),au:Qg.bind(null,e),cu:Yg.bind(null,e)}),e.Ru.push((async t=>{t?(e.Du.Qo(),await Gg(e)):(await e.Du.stop(),e.Eu.length>0&&(fu("RemoteStore",`Stopping write stream with ${e.Eu.length} pending writes`),e.Eu=[]))}))),e.Du}class nm{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new xu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,a=new nm(e,t,o,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Eu(wu.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rm(e,t){if(pu("AsyncQueue",`${t}: ${e}`),Xu(e))return new Eu(wu.UNAVAILABLE,`${t}: ${e}`);throw e}class im{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Vu.comparator(t.key,n.key):(e,t)=>Vu.comparator(e.key,t.key),this.keyedMap=Fh(),this.sortedSet=new ld(this.comparator)}static emptySet(e){return new im(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof im))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new im;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class om{constructor(){this.Cu=new ld(Vu.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):vu():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal(((t,n)=>{e.push(n)})),e}}class am{constructor(e,t,n,r,i,o,a,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new am(e,t,im.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class sm{constructor(){this.Nu=void 0,this.listeners=[]}}class lm{constructor(){this.queries=new Lh((e=>Dh(e)),Nh),this.onlineState="Unknown",this.ku=new Set}}async function cm(e,t){const n=bu(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new sm),i)try{o.Nu=await n.onListen(r)}catch(e){const n=rm(e,`Initialization of query '${kh(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,o),o.listeners.push(t),t.Mu(n.onlineState),o.Nu&&t.$u(o.Nu)&&fm(n)}async function um(e,t){const n=bu(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function dm(e,t){const n=bu(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(i)&&(r=!0);t.Nu=i}}r&&fm(n)}function hm(e,t,n){const r=bu(e),i=r.queries.get(t);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(t)}function fm(e){e.ku.forEach((e=>{e.next()}))}class pm{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new am(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=am.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class gm{constructor(e){this.key=e}}class mm{constructor(e){this.key=e}}class vm{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Wh(),this.mutatedKeys=Wh(),this.tc=Ph(e),this.ec=new im(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new om,r=t?t.ec:this.ec;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Ah(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.rc(c,u)||(n.track({type:2,doc:u}),f=!0,(s&&this.tc(u,s)>0||l&&this.tc(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(s||l)&&(a=!0)),f&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ec:o,ic:n,zi:a,mutatedKeys:i}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vu()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc))),this.oc(n);const o=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,s=a!==this.Xu;return this.Xu=a,0!==i.length||s?{snapshot:new am(this.query,e.ec,r,i,e.mutatedKeys,0===a,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new om,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach((e=>this.Yu=this.Yu.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Yu=this.Yu.delete(e))),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Wh(),this.ec.forEach((e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))}));const t=[];return e.forEach((e=>{this.Zu.has(e)||t.push(new mm(e))})),this.Zu.forEach((n=>{e.has(n)||t.push(new gm(n))})),t}hc(e){this.Yu=e.ir,this.Zu=Wh();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return am.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class ym{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class bm{constructor(e){this.key=e,this.fc=!1}}class wm{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Lh((e=>Dh(e)),Nh),this._c=new Map,this.mc=new Set,this.gc=new ld(Vu.comparator),this.yc=new Map,this.Ic=new zp,this.Tc={},this.Ec=new Map,this.Ac=Mp.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function Em(e,t){const n=Fm(e);let r,i;const o=n.wc.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.lc();else{const e=await og(n.localStore,Ch(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await xm(n,t,r,"current"===o,e.resumeToken),n.isPrimaryClient&&kg(n.remoteStore,e)}return i}async function xm(e,t,n,r,i){e.Rc=(t,n,r)=>async function(e,t,n,r){let i=t.view.sc(n);i.zi&&(i=await sg(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.sc(n,i)})));const o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o);return Pm(e,t.targetId,a.cc),a.snapshot}(e,t,n,r);const o=await sg(e.localStore,t,!0),a=new vm(t,o.ir),s=a.sc(o.documents),l=$f.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(s,e.isPrimaryClient,l);Pm(e,n,c.cc);const u=new ym(t,n,a);return e.wc.set(t,u),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),c.snapshot}async function Im(e,t){const n=bu(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter((e=>!Nh(e,t)))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await ag(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),Ag(n.remoteStore,r.targetId),Am(n,r.targetId)})).catch(Qu)):(Am(n,r.targetId),await ag(n.localStore,r.targetId,!0))}async function Sm(e,t){const n=bu(e);try{const e=await function(e,t){const n=bu(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];t.targetChanges.forEach(((o,s)=>{const l=i.get(s);if(!l)return;a.push(n.Bs.removeMatchingKeys(e,o.removedDocuments,s).next((()=>n.Bs.addMatchingKeys(e,o.addedDocuments,s))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(gd.EMPTY_BYTE_STRING,Mu.min()).withLastLimboFreeSnapshotVersion(Mu.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&a.push(n.Bs.updateTargetData(e,c))}));let s=jh(),l=Wh();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(rg(e,o,t.documentUpdates).next((e=>{s=e.nr,l=e.sr}))),!r.isEqual(Mu.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next((t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return Yu.waitFor(a).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,s,l))).next((()=>s))})).then((e=>(n.Ji=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.yc.get(t);r&&(yu(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?yu(r.fc):e.removedDocuments.size>0&&(yu(r.fc),r.fc=!1))})),await Mm(n,e,t)}catch(e){await Qu(e)}}function Cm(e,t,n){const r=bu(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach(((n,r)=>{const i=r.view.Mu(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=bu(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.Mu(t)&&(r=!0)})),r&&fm(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function _m(e,t,n){const r=bu(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),o=i&&i.key;if(o){let e=new ld(Vu.comparator);e=e.insert(o,Gd.newNoDocument(o,Mu.min()));const n=Wh().add(o),i=new Gf(Mu.min(),new Map,new ld(Pu),e,n);await Sm(r,i),r.gc=r.gc.remove(o),r.yc.delete(t),Lm(r)}else await ag(r.localStore,t,!1).then((()=>Am(r,t,n))).catch(Qu)}async function Tm(e,t){const n=bu(e),r=t.batch.batchId;try{const e=await function(e,t){const n=bu(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let a=Yu.resolve();return o.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);yu(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Wh();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);km(n,r,null),Dm(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Mm(n,e)}catch(e){await Qu(e)}}async function Nm(e,t,n){const r=bu(e);try{const e=await function(e,t){const n=bu(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(yu(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);km(r,t,n),Dm(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Mm(r,e)}catch(n){await Qu(n)}}function Dm(e,t){(e.Ec.get(t)||[]).forEach((e=>{e.resolve()})),e.Ec.delete(t)}function km(e,t,n){const r=bu(e);let i=r.Tc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function Am(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((t=>{e.Ic.containsKey(t)||Rm(e,t)}))}function Rm(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(Ag(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),Lm(e))}function Pm(e,t,n){for(const r of n)r instanceof gm?(e.Ic.addReference(r.key,t),Om(e,r)):r instanceof mm?(fu("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||Rm(e,r.key)):vu()}function Om(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(fu("SyncEngine","New document in limbo: "+n),e.mc.add(r),Lm(e))}function Lm(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new Vu(Bu.fromString(t)),r=e.Ac.next();e.yc.set(r,new bm(n)),e.gc=e.gc.insert(n,r),kg(e.remoteStore,new Dp(Ch(bh(n.path)),r,"TargetPurposeLimboResolution",Ju.ct))}}async function Mm(e,t,n){const r=bu(e),i=[],o=[],a=[];r.wc.isEmpty()||(r.wc.forEach(((e,s)=>{a.push(r.Rc(s,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Xp.Li(s.targetId,e);o.push(t)}})))})),await Promise.all(a),r.dc.nu(i),await async function(e,t){const n=bu(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Yu.forEach(t,(t=>Yu.forEach(t.Fi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Yu.forEach(t.Bi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Xu(e))throw e;fu("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ji.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(e,i)}}}(r.localStore,o))}async function jm(e,t){const n=bu(e);if(!n.currentUser.isEqual(t)){fu("SyncEngine","User change. New user:",t.toKey());const e=await tg(n.localStore,t);n.currentUser=t,function(e){e.Ec.forEach((e=>{e.forEach((e=>{e.reject(new Eu(wu.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Mm(n,e.er)}}function Bm(e,t){const n=bu(e),r=n.yc.get(t);if(r&&r.fc)return Wh().add(r.key);{let e=Wh();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}function Fm(e){const t=bu(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Sm.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Bm.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=_m.bind(null,t),t.dc.nu=dm.bind(null,t.eventManager),t.dc.Pc=hm.bind(null,t.eventManager),t}function Um(e){const t=bu(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Tm.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Nm.bind(null,t),t}class Vm{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=wg(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return eg(this.persistence,new Jp,e.initialUser,this.serializer)}createPersistence(e){return new Kp(Yp.zs,this.serializer)}createSharedClientState(e){return new ug}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class zm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Cm(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=jm.bind(null,this.syncEngine),await Zg(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new lm}createDatastore(e){const t=wg(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new yg(r));var r;return function(e,t,n,r){return new Cg(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>Cm(this.syncEngine,e,0),o=hg.D()?new hg:new dg,new Tg(t,n,r,i,o);var t,n,r,i,o}createSyncEngine(e,t){return function(e,t,n,r,i,o,a){const s=new wm(e,t,n,r,i,o);return a&&(s.vc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=bu(e);fu("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await Dg(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}class Gm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):pu("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class $m{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=cu.UNAUTHENTICATED,this.clientId=Ru.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{fu("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(fu("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Eu(wu.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(OR){const n=rm(OR,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function qm(e,t){e.asyncQueue.verifyOperationInProgress(),fu("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await tg(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Wm(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Km(e);fu("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>Jg(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Jg(t.remoteStore,n))),e._onlineComponents=t}function Hm(e){return"FirebaseError"===e.name?e.code===wu.FAILED_PRECONDITION||e.code===wu.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function Km(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){fu("FirestoreClient","Using user provided OfflineComponentProvider");try{await qm(e,e._uninitializedComponentsProvider._offline)}catch(OR){const n=OR;if(!Hm(n))throw n;gu("Error using user provided cache. Falling back to memory cache: "+n),await qm(e,new Vm)}}else fu("FirestoreClient","Using default OfflineComponentProvider"),await qm(e,new Vm);return e._offlineComponents}async function Qm(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(fu("FirestoreClient","Using user provided OnlineComponentProvider"),await Wm(e,e._uninitializedComponentsProvider._online)):(fu("FirestoreClient","Using default OnlineComponentProvider"),await Wm(e,new zm))),e._onlineComponents}function Ym(e){return Qm(e).then((e=>e.syncEngine))}async function Xm(e){const t=await Qm(e),n=t.eventManager;return n.onListen=Em.bind(null,t.syncEngine),n.onUnlisten=Im.bind(null,t.syncEngine),n}function Jm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new xu;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Gm({next:o=>{t.enqueueAndForget((()=>um(e,a)));const s=o.docs.has(n);!s&&o.fromCache?i.reject(new Eu(wu.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Eu(wu.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new pm(bh(n.path),o,{includeMetadataChanges:!0,Ku:!0});return cm(e,a)}(await Xm(e),e.asyncQueue,t,n,r))),r.promise}function Zm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new xu;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Gm({next:n=>{t.enqueueAndForget((()=>um(e,a))),n.fromCache&&"server"===r.source?i.reject(new Eu(wu.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new pm(n,o,{includeMetadataChanges:!0,Ku:!0});return cm(e,a)}(await Xm(e),e.asyncQueue,t,n,r))),r.promise}function ev(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const tv=new Map;function nv(e,t,n){if(!n)throw new Eu(wu.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function rv(e){if(!Vu.isDocumentKey(e))throw new Eu(wu.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function iv(e){if(Vu.isDocumentKey(e))throw new Eu(wu.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function ov(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":vu()}function av(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Eu(wu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ov(e);throw new Eu(wu.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}class sv{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Eu(wu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Eu(wu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Eu(wu.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ev(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Eu(wu.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Eu(wu.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Eu(wu.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class lv{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Eu(wu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Eu(wu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sv(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Su;switch(e.type){case"firstParty":return new Nu(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Eu(wu.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=tv.get(e);t&&(fu("ComponentProvider","Removing Datastore"),tv.delete(e),t.terminate())}(this),Promise.resolve()}}class cv{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dv(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cv(this.firestore,e,this._key)}}class uv{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new uv(this.firestore,e,this._query)}}class dv extends uv{constructor(e,t,n){super(e,t,bh(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cv(this.firestore,null,new Vu(e))}withConverter(e){return new dv(this.firestore,e,this._path)}}function hv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ut(e),nv("collection","path",t),e instanceof lv){const n=Bu.fromString(t,...r);return iv(n),new dv(e,null,n)}{if(!(e instanceof cv||e instanceof dv))throw new Eu(wu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Bu.fromString(t,...r));return iv(n),new dv(e.firestore,null,n)}}function fv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ut(e),1===arguments.length&&(t=Ru.A()),nv("doc","path",t),e instanceof lv){const n=Bu.fromString(t,...r);return rv(n),new cv(e,null,new Vu(n))}{if(!(e instanceof cv||e instanceof dv))throw new Eu(wu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Bu.fromString(t,...r));return rv(n),new cv(e.firestore,e instanceof dv?e.converter:null,new Vu(n))}}class pv{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Eg(this,"async_queue_retry"),this.Xc=()=>{const e=bg();e&&fu("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=bg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=bg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise((()=>{}));const t=new xu;return this.ta((()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Qc.push(e),this.ea())))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Xu(e))throw e;fu("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No((()=>this.ea()))}}ta(e){const t=this.Gc.then((()=>(this.Hc=!0,e().catch((e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw pu("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Hc=!1,e))))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=nm.createAndSchedule(this,e,t,n,(e=>this.na(e)));return this.zc.push(r),r}Zc(){this.Wc&&vu()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then((()=>{this.zc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()}))}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class gv extends lv{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new pv,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||vv(this),this._firestoreClient.terminate()}}function mv(e){return e._firestoreClient||vv(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function vv(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Id(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,ev(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new $m(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class yv{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yv(gd.fromBase64String(e))}catch(e){throw new Eu(wu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new yv(gd.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class bv{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Eu(wu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Uu(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class wv{constructor(e){this._methodName=e}}class Ev{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Eu(wu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Eu(wu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pu(this._lat,e._lat)||Pu(this._long,e._long)}}const xv=/^__.*__$/;class Iv{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Ef(e,this.data,this.fieldMask,t,this.fieldTransforms):new wf(e,this.data,t,this.fieldTransforms)}}function Sv(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vu()}}class Cv{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Cv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return jv(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Sv(this.ca)&&xv.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class _v{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||wg(e)}ya(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Cv({ca:e,methodName:t,ga:n,path:Uu.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tv(e){const t=e._freezeSettings(),n=wg(e._databaseId);return new _v(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Nv(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.ya(o.merge||o.mergeFields?2:0,t,n,i);Pv("Data must be an object, but it was:",a,r);const s=Av(r,a);let l,c;if(o.merge)l=new fd(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=Ov(t,r,n);if(!a.contains(i))throw new Eu(wu.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Bv(e,i)||e.push(i)}l=new fd(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new Iv(new Vd(s),l,c)}function Dv(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return kv(n,e.ya(r?4:3,t))}function kv(e,t){if(Rv(e=ut(e)))return Pv("Unsupported field value:",t,e),Av(e,t);if(e instanceof wv)return function(e,t){if(!Sv(t.ca))throw t._a(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t._a(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=kv(i,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=ut(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Xh(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Lu.fromDate(e);return{timestampValue:rp(t.serializer,n)}}if(e instanceof Lu){const n=new Lu(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:rp(t.serializer,n)}}if(e instanceof Ev)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof yv)return{bytesValue:ip(t.serializer,e._byteString)};if(e instanceof cv){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:sp(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a(`Unsupported field value: ${ov(e)}`)}(e,t)}function Av(e,t){const n={};return sd(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ad(e,((e,r)=>{const i=kv(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Rv(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Lu||e instanceof Ev||e instanceof yv||e instanceof cv||e instanceof wv)}function Pv(e,t,n){if(!Rv(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=ov(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function Ov(e,t,n){if((t=ut(t))instanceof bv)return t._internalPath;if("string"==typeof t)return Mv(e,t);throw jv("Field path arguments must be of type string or ",e,!1,void 0,n)}const Lv=new RegExp("[~\\*/\\[\\]]");function Mv(e,t,n){if(t.search(Lv)>=0)throw jv(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new bv(...t.split("."))._internalPath}catch(r){throw jv(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function jv(e,t,n,r,i){const o=r&&!r.isEmpty(),a=void 0!==i;let s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new Eu(wu.INVALID_ARGUMENT,s+e+l)}function Bv(e,t){return e.some((e=>e.isEqual(t)))}class Fv{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new cv(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Uv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Vv("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Uv extends Fv{data(){return super.data()}}function Vv(e,t){return"string"==typeof t?Mv(e,t):t instanceof bv?t._internalPath:t._delegate._internalPath}function zv(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Eu(wu.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gv{}class $v extends Gv{}function qv(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof Gv&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof Kv)).length,n=e.filter((e=>e instanceof Wv)).length;if(t>1||t>0&&n>0)throw new Eu(wu.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class Wv extends $v{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Wv(e,t,n)}_apply(e){const t=this._parse(e);return Xv(e._query,t),new uv(e.firestore,e.converter,_h(e._query,t))}_parse(e){const t=Tv(e.firestore),n=function(e,t,n,r,i,o,a){let s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Eu(wu.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){Yv(a,o);const t=[];for(const n of a)t.push(Qv(r,e,n));s={arrayValue:{values:t}}}else s=Qv(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Yv(a,o),s=Dv(n,"where",a,"in"===o||"not-in"===o);return Yd.create(i,o,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Hv(e,t,n){const r=t,i=Vv("where",e);return Wv._create(i,r,n)}class Kv extends Gv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Kv(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Xd.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Xv(n,i),n=_h(n,i)}(e._query,t),new uv(e.firestore,e.converter,_h(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Qv(e,t,n){if("string"==typeof(n=ut(n))){if(""===n)throw new Eu(wu.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ih(t)&&-1!==n.indexOf("/"))throw new Eu(wu.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Bu.fromString(n));if(!Vu.isDocumentKey(r))throw new Eu(wu.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Pd(e,new Vu(r))}if(n instanceof cv)return Pd(e,n._key);throw new Eu(wu.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ov(n)}.`)}function Yv(e,t){if(!Array.isArray(e)||0===e.length)throw new Eu(wu.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Xv(e,t){if(t.isInequality()){const n=xh(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Eu(wu.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${r.toString()}'`);const i=Eh(e);null!==i&&Jv(e,r,i)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Eu(wu.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Eu(wu.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function Jv(e,t,n){if(!n.isEqual(t))throw new Eu(wu.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Zv{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(_d(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yd(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(bd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw vu()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return ad(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new Ev(yd(e.latitude),yd(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Ed(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(xd(e));default:return null}}convertTimestamp(e){const t=vd(e);return new Lu(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Bu.fromString(e);yu(Np(n));const r=new Sd(n.get(1),n.get(3)),i=new Vu(n.popFirst(5));return r.isEqual(t)||pu(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function ey(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class ty{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ny extends Fv{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new ry(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Vv("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class ry extends ny{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class iy{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ty(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new ry(this._firestore,this._userDataWriter,n.key,n,new ty(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Eu(wu.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new ry(e._firestore,e._userDataWriter,n.doc.key,n.doc,new ty(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new ry(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ty(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:oy(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function oy(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vu()}}function ay(e){e=av(e,cv);const t=av(e.firestore,gv);return Jm(mv(t),e._key).then((n=>hy(t,e,n)))}class sy extends Zv{constructor(e){super(),this.firestore=e}convertBytes(e){return new yv(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new cv(this.firestore,null,t)}}function ly(e){e=av(e,uv);const t=av(e.firestore,gv),n=mv(t),r=new sy(t);return zv(e._query),Zm(n,e._query).then((n=>new iy(t,r,e,n)))}function cy(e,t,n){e=av(e,cv);const r=av(e.firestore,gv),i=ey(e.converter,t,n);return dy(r,[Nv(Tv(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,hf.none())])}function uy(e,t){const n=av(e.firestore,gv),r=fv(e),i=ey(e.converter,t);return dy(n,[Nv(Tv(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,hf.exists(!1))]).then((()=>r))}function dy(e,t){return function(e,t){const n=new xu;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Um(e);try{const e=await function(e,t){const n=bu(e),r=Lu.now(),i=t.reduce(((e,t)=>e.add(t.key)),Wh());let o,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let s=jh(),l=Wh();return n.Zi.getEntries(e,i).next((e=>{s=e,s.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,s))).next((i=>{o=i;const a=[];for(const e of t){const t=yf(e,o.get(e.key).overlayedDocument);null!=t&&a.push(new Ef(e.key,t,zd(t.value.mapValue),hf.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:Uh(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new ld(Pu)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await Mm(r,e.changes),await Gg(r.remoteStore)}catch(e){const t=rm(e,"Failed to persist write");n.reject(t)}}(await Ym(e),t,n))),n.promise}(mv(e),t)}function hy(e,t,n){const r=n.docs.get(t._key),i=new sy(e);return new ny(e,i,t._key,r,new ty(n.hasPendingWrites,n.fromCache),t.converter)}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){uu=e}(xn),yn(new dt("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),a=new gv(new _u(e.getProvider("auth-internal")),new ku(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Eu(wu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sd(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),Cn(lu,"3.13.0",e),Cn(lu,"3.13.0","esm2017")}();const fy="firebasestorage.googleapis.com",py="storageBucket";class gy extends et{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(yy(e),`Firebase Storage: ${t} (${yy(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gy.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return yy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var my,vy;function yy(e){return"storage/"+e}function by(){return new gy(my.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function wy(){return new gy(my.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ey(){return new gy(my.CANCELED,"User canceled the upload/download.")}function xy(){return new gy(my.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Iy(e){return new gy(my.INVALID_ARGUMENT,e)}function Sy(){return new gy(my.APP_DELETED,"The Firebase app was deleted.")}function Cy(e,t){return new gy(my.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function _y(e){throw new gy(my.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(my||(my={}));class Ty{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Ty.makeFromUrl(e,t)}catch(OR){return new Ty(e,"")}if(""===n.path)return n;throw r=e,new gy(my.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),s=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${a}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp(`^https?://${t===fy?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:o}];for(let l=0;l<s.length;l++){const t=s[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new Ty(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new gy(my.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Ny{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function Dy(e){return"string"===typeof e||e instanceof String}function ky(e){return Ay()&&e instanceof Blob}function Ay(){return"undefined"!==typeof Blob&&!Je()}function Ry(e,t,n,r){if(r<t)throw Iy(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw Iy(`Invalid value for '${e}'. Expected ${n} or less.`)}function Py(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function Oy(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function Ly(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(vy||(vy={}));class My{constructor(e,t,n,r,i,o,a,s,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=s,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new jy(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===vy.NO_ERROR,i=n.getStatus();if(!t||Ly(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===vy.ABORT;return void e(!1,new jy(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new jy(o,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(OR){r(OR)}else if(null!==i){const e=by();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?Sy():Ey())}else{r(wy())}};this.canceled_?t(0,new jy(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,a=!1,s=0;function l(){return 2===s}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function h(){o&&clearTimeout(o)}function f(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||a)return h(),void u.call(null,e,...n);let o;r<64&&(r*=2),1===s?(s=2,o=0):o=1e3*(r+Math.random()),d(o)}let p=!1;function g(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),d(0)):e||(s=1)))}return d(0),o=setTimeout((()=>{a=!0,g(!0)}),n),g}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class jy{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function By(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Fy(){const e=By();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(Ay())return new Blob(n);throw new gy(my.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function Uy(e){if("undefined"===typeof atob)throw t="base-64",new gy(my.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`);var t;return atob(e)}const Vy="raw",zy="base64",Gy="base64url",$y="data_url";class qy{constructor(e,t){this.data=e,this.contentType=t||null}}function Wy(e,t){switch(e){case Vy:return new qy(Hy(t));case zy:case Gy:return new qy(Ky(e,t));case $y:return new qy(function(e){const t=new Qy(e);return t.base64?Ky(zy,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(OR){throw Cy($y,"Malformed data URL.")}return Hy(t)}(t.rest)}(t),new Qy(t).contentType)}throw by()}function Hy(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Ky(e,t){switch(e){case zy:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw Cy(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case Gy:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw Cy(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Uy(t)}catch(OR){if(OR.message.includes("polyfill"))throw OR;throw Cy(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Qy{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Cy($y,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){const n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class Yy{constructor(e,t){let n=0,r="";ky(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(ky(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new Yy(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Yy(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Ay()){const e=t.map((e=>e instanceof Yy?e.data_:e));return new Yy(Fy.apply(null,e))}{const e=t.map((e=>Dy(e)?Wy(Vy,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new Yy(r,!0)}}uploadData(){return this.data_}}function Xy(e){let t;try{t=JSON.parse(e)}catch(OR){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function Jy(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Zy(e,t){return t}class eb{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Zy}}let tb=null;function nb(){if(tb)return tb;const e=[];e.push(new eb("bucket")),e.push(new eb("generation")),e.push(new eb("metageneration")),e.push(new eb("name","fullPath",!0));const t=new eb("name");t.xform=function(e,t){return function(e){return!Dy(e)||e.length<2?e:Jy(e)}(t)},e.push(t);const n=new eb("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new eb("timeCreated")),e.push(new eb("updated")),e.push(new eb("md5Hash",null,!0)),e.push(new eb("cacheControl",null,!0)),e.push(new eb("contentDisposition",null,!0)),e.push(new eb("contentEncoding",null,!0)),e.push(new eb("contentLanguage",null,!0)),e.push(new eb("contentType",null,!0)),e.push(new eb("metadata","customMetadata",!0)),tb=e,tb}function rb(e,t,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const e=n[o];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new Ty(n,r);return t._makeStorageReference(i)}})}(r,e),r}function ib(e,t,n){const r=Xy(t);if(null===r)return null;return rb(e,r,n)}function ob(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class ab{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function sb(e){if(!e)throw by()}function lb(e,t){return function(n,r){const i=ib(e,r,t);return sb(null!==i),i}}function cb(e,t){return function(n,r){const i=ib(e,r,t);return sb(null!==i),function(e,t,n,r){const i=Xy(t);if(null===i)return null;if(!Dy(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const a=encodeURIComponent;return o.split(",").map((t=>{const i=e.bucket,o=e.fullPath;return Py("/b/"+a(i)+"/o/"+a(o),n,r)+Oy({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function ub(e){return function(t,n){let r;var i,o;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new gy(my.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new gy(my.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new gy(my.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new gy(my.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function db(e){const t=ub(e);return function(n,r){let i=t(n,r);var o;return 404===n.getStatus()&&(o=e.path,i=new gy(my.OBJECT_NOT_FOUND,"Object '"+o+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function hb(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function fb(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};const s=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;const l=hb(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+ob(l,n)+"\r\n--"+s+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+s+"--",d=Yy.getBlob(c,r,u);if(null===d)throw xy();const h={name:l.fullPath},f=Py(o,e.host,e._protocol),p=e.maxUploadRetryTime,g=new ab(f,"POST",lb(e,n),p);return g.urlParams=h,g.headers=a,g.body=d.uploadData(),g.errorHandler=ub(t),g}class pb{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=vy.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=vy.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=vy.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw _y("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw _y("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw _y("cannot .getStatus() before sending");try{return this.xhr_.status}catch(OR){return-1}}getResponse(){if(!this.sent_)throw _y("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw _y("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class gb extends pb{initXhr(){this.xhr_.responseType="text"}}function mb(){return new gb}class vb{constructor(e,t){this._service=e,this._location=t instanceof Ty?t:Ty.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new vb(e,t)}get root(){const e=new Ty(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Jy(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Ty(this._location.bucket,e);return new vb(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new gy(my.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function yb(e,t,n){e._throwIfRoot("uploadBytes");const r=fb(e.storage,e._location,nb(),new Yy(t,!0),n);return e.storage.makeRequestWithTokens(r,mb).then((t=>({metadata:t,ref:e})))}function bb(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=Py(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new ab(r,"GET",cb(e,n),i);return o.errorHandler=db(t),o}(e.storage,e._location,nb());return e.storage.makeRequestWithTokens(t,mb).then((e=>{if(null===e)throw new gy(my.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function wb(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Ty(e._location.bucket,n);return new vb(e.storage,r)}function Eb(e,t){if(e instanceof Sb){const n=e;if(null==n._bucket)throw new gy(my.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+py+"' property when initializing the app?");const r=new vb(n,n._bucket);return null!=t?Eb(r,t):r}return void 0!==t?wb(e,t):e}function xb(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Sb)return new vb(e,t);throw Iy("To use ref(service, url), the first argument must be a Storage instance.")}return Eb(e,t)}function Ib(e,t){const n=null===t||void 0===t?void 0:t[py];return null==n?null:Ty.makeFromBucketSpec(n,e)}class Sb{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=fy,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Ty.makeFromBucketSpec(r,this._host):Ib(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Ty.makeFromBucketSpec(this._url,e):this._bucket=Ib(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ry("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ry("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new vb(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Ny(Sy());{const o=function(e,t,n,r,i,o){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const s=Oy(e.urlParams),l=e.url+s,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new My(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then((()=>this._requests.delete(o)),(()=>this._requests.delete(o))),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Cb="@firebase/storage",_b="0.11.2",Tb="storage";function Nb(e,t,n){return yb(e=ut(e),t,n)}function Db(e){return bb(e=ut(e))}function kb(e,t){return xb(e=ut(e),t)}function Ab(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn(),t=arguments.length>1?arguments[1]:void 0;e=ut(e);const n=bn(e,Tb).getImmediate({identifier:t}),r=We("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:Ye(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}function Rb(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new Sb(r,i,o,n,xn)}yn(new dt(Tb,Rb,"PUBLIC").setMultipleInstances(!0)),Cn(Cb,_b,""),Cn(Cb,_b,"esm2017");const Pb=In({apiKey:"AIzaSyD73uU5AWIeWZ_SQU9vRRLExil7ctKqa3U",authDomain:"client-portal-2025.firebaseapp.com",projectId:"client-portal-2025",storageBucket:"client-portal-2025.firebasestorage.app",messagingSenderId:"941830572273",appId:"1:941830572273:web:52299f1989bab446f38150"}),Ob=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn();const t=bn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=bn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(rt(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;zn(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Lo,persistence:[Hi,ki,Ri]}),r=Ke("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Fo)return;const r=null===t||void 0===t?void 0:t.token;Uo!==r&&(Uo=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){ut(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(e,t,n,r){ut(e).onIdTokenChanged(t,n,r)}(n,(t=>e(t)))}var i;const o=qe("auth");return o&&Yr(n,`http://${o}`),n}(Pb),Lb=function(e,t){const n="string"==typeof e?e:t||"(default)",r=bn("object"==typeof e?e:Sn(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=We("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=av(e,lv))._getSettings(),a=`${t}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==a&&gu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=cu.MOCK_USER;else{t=Ye(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Eu(wu.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new cu(o)}e._authCredentials=new Cu(new Iu(t,n))}}(r,...e)}return r}(Pb),Mb=Ab(Pb);function jb(e){var t;let{isOpen:n,onClose:r,brief:i}=e;if(!n||!i)return null;const{answers:o,type:a,createdAt:l}=i;return(0,s.createPortal)((0,Le.jsx)("div",{style:Bb,children:(0,Le.jsxs)("div",{style:Fb,children:[(0,Le.jsx)("button",{onClick:r,style:Ub,children:"\xd7"}),(0,Le.jsxs)("h2",{style:{marginBottom:"0.5rem"},children:[(null===a||void 0===a?void 0:a.charAt(0).toUpperCase())+(null===a||void 0===a?void 0:a.slice(1))," Brief"]}),(0,Le.jsxs)("p",{style:{fontStyle:"italic",marginBottom:"1.5rem"},children:["Created: ",null===l||void 0===l||null===(t=l.toDate)||void 0===t?void 0:t.call(l).toLocaleDateString()]}),o?(0,Le.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:Object.entries(o).map((e=>{let[t,n]=e;return(0,Le.jsxs)("div",{style:{borderBottom:"1px solid #eee",paddingBottom:"0.75rem"},children:[(0,Le.jsxs)("p",{style:{fontWeight:"bold",marginBottom:"0.25rem"},children:["Q: ",(null===n||void 0===n?void 0:n.questionText)||"Unknown Question"]}),(0,Le.jsx)("p",{style:{marginLeft:"1rem",color:null!==n&&void 0!==n&&n.answerText?"#333":"#888",fontStyle:null!==n&&void 0!==n&&n.answerText?"normal":"italic"},children:(null===n||void 0===n?void 0:n.answerText)||"(No answer provided)"})]},t)}))}):(0,Le.jsx)("p",{children:"No answers available."})]})}),document.body)}const Bb={position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},Fb={background:"#fff",padding:"2rem",borderRadius:"12px",maxWidth:"600px",width:"90%",maxHeight:"90vh",overflowY:"auto",position:"relative"},Ub={position:"absolute",top:"1rem",right:"1rem",background:"transparent",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#333"};function Vb(e){let{message:t="Loading..."}=e;return(0,Le.jsxs)("div",{style:zb,children:[(0,Le.jsx)("div",{className:"spinner"}),(0,Le.jsx)("p",{style:{marginTop:"1rem",color:"var(--text-primary)",fontSize:"1.1rem"},children:t}),(0,Le.jsx)("style",{children:"\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n          \n          .spinner {\n            width: 40px;\n            height: 40px;\n            border: 5px solid var(--border-color);\n            border-top-color: #007bff;\n            border-radius: 50%;\n            animation: spin 1s linear infinite;\n          }\n        "})]})}const zb={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"50vh",textAlign:"center"};function Gb(){const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)({}),[o,a]=(0,i.useState)([]),[s,l]=(0,i.useState)(!0),[c,u]=(0,i.useState)({}),[d,h]=(0,i.useState)(null),[f,p]=(0,i.useState)(!1),[g,m]=(0,i.useState)(!1),[v,y]=(0,i.useState)(!1),[b,w]=(0,i.useState)(""),[E,x]=(0,i.useState)(""),[I,S]=(0,i.useState)(""),[C,_]=(0,i.useState)(""),[T,N]=(0,i.useState)({message:"",type:""}),[D,k]=(0,i.useState)(!1),[A,R]=(0,i.useState)("branding"),[P,O]=(0,i.useState)(""),L=ne(),M=(0,i.useCallback)((async()=>{const e=Ob.currentUser;if(!e)return;const n=e.uid,i=qv(hv(Lb,"projects"),Hv("designerId","==",n)),o=(await ly(i)).docs.map((e=>({id:e.id,...e.data()})));t(o);const s=await ly(qv(hv(Lb,"creativeBriefs"))),c={};s.docs.forEach((e=>{const t=e.data(),n=t.projectId;o.find((e=>e.id===n))&&(c[n]||(c[n]=[]),c[n].push({id:e.id,...t}))})),r(c);const u=qv(hv(Lb,"clients"),Hv("designerId","==",n)),d=(await ly(u)).docs.map((e=>({id:e.id,...e.data()})));a(d),l(!1)}),[]);(0,i.useEffect)((()=>{M()}),[M]);const j=function(e){N({message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),setTimeout((()=>{N({message:"",type:""})}),3e3)},B=e=>{const t=o.find((t=>t.id===e));return t?t.name:"Unknown Client"};return s?(0,Le.jsx)(Vb,{message:"Fetching your dashboard..."}):(0,Le.jsxs)("div",{className:"dashboard-container",children:[(0,Le.jsx)("h2",{children:"Dashboard"}),(0,Le.jsx)("div",{className:"d-flex justify-content-between align-items-left mb-4",children:(0,Le.jsxs)("div",{children:[(0,Le.jsx)("button",{className:"btn btn-primary me-2 mr-3",onClick:()=>p(!0),children:"Add Client"}),(0,Le.jsx)("button",{className:"btn btn-primary me-2 mr-3",onClick:()=>m(!0),children:"Add Project"}),(0,Le.jsx)("button",{className:"btn btn-primary",onClick:()=>y(!0),children:"Create New Questionnaire"})]})}),T.message&&(0,Le.jsx)("div",{className:"alert "+("success"===T.type?"alert-success":"alert-danger"),children:T.message}),(0,Le.jsx)("h3",{className:"h3 text-gray-800",children:"Your Projects"}),0===e.length?(0,Le.jsx)("div",{className:"card shadow",children:(0,Le.jsx)("div",{className:"card-body",children:"No projects yet."})}):(0,Le.jsx)("div",{className:"projects-container",children:e.map((e=>{var t,r;return(0,Le.jsxs)("div",{className:"card shadow",children:[(0,Le.jsxs)("div",{className:"card-header py-3 d-flex justify-content-between align-items-center",children:[(0,Le.jsxs)("h6",{className:"m-0 text-primary",children:["Client: ",B(e.clientId)]}),(0,Le.jsxs)("span",{className:`badge badge-${e.type}`,children:[e.type.charAt(0).toUpperCase()+e.type.slice(1)," Project - ",e.status]})]}),(0,Le.jsx)("div",{className:"card-body",children:(0,Le.jsxs)("div",{className:"project-info col-6",children:[(0,Le.jsx)("div",{className:"client-info mb-3"}),(0,Le.jsxs)("div",{className:"action-buttons",children:["branding"===e.type&&(0,Le.jsx)("button",{className:"btn btn-info btn-sm mb-2 w-100",onClick:()=>L(`/choose-template/${e.type}?projectId=${e.id}&wizard=true`),children:"Start Creative Brief"}),"website"===e.type&&(0,Le.jsx)("button",{className:"btn btn-info btn-sm mb-2 w-100",onClick:()=>L(`/choose-template/${e.type}?projectId=${e.id}&wizard=true`),children:"Start Creative Brief"}),"app"===e.type&&(0,Le.jsx)("button",{className:"btn btn-info btn-sm mb-2 w-100",onClick:()=>L(`/choose-template/${e.type}?projectId=${e.id}&wizard=true`),children:"Start Creative Brief"})]}),(0,Le.jsxs)("div",{className:"brief-toggle text-primary cursor-pointer",onClick:()=>{return t=e.id,void u((e=>({...e,[t]:!e[t]})));var t},children:[c[e.id]?"\u25be":"\u25b8"," Briefs (",(null===(t=n[e.id])||void 0===t?void 0:t.length)||0,")"]}),c[e.id]&&(0,Le.jsx)("div",{className:"briefs-container mt-2",children:(null===(r=n[e.id])||void 0===r?void 0:r.length)>0?n[e.id].sort(((e,t)=>{var n,r,i,o;return(null===(n=t.createdAt)||void 0===n||null===(r=n.toDate)||void 0===r?void 0:r.call(n))-(null===(i=e.createdAt)||void 0===i||null===(o=i.toDate)||void 0===o?void 0:o.call(i))})).map((e=>{var t,n;return(0,Le.jsxs)("button",{className:"btn btn-light btn-sm w-100 text-left mb-2",onClick:()=>(e=>{h(e)})(e),children:["View Brief (",e.type,") - ",null===(t=e.createdAt)||void 0===t||null===(n=t.toDate)||void 0===n?void 0:n.call(t).toLocaleDateString()]},e.id)})):(0,Le.jsx)("p",{className:"text-muted font-italic",children:"No creative briefs yet."})})]})})]},e.id)}))}),d&&(0,Le.jsx)(jb,{isOpen:!0,onClose:()=>{h(null)},brief:d}),f&&(0,Le.jsx)("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,Le.jsx)("div",{className:"modal-dialog",children:(0,Le.jsxs)("div",{className:"modal-content",children:[(0,Le.jsxs)("div",{className:"modal-header",children:[(0,Le.jsx)("h5",{className:"modal-title",children:"Add New Client"}),(0,Le.jsx)("button",{type:"button",className:"btn btn-outline-danger ms-2 delete-question",onClick:()=>p(!1),children:"X"})]}),(0,Le.jsx)("div",{className:"modal-body",children:(0,Le.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=Ob.currentUser.uid;await(async(e,t,n)=>{try{return(await uy(hv(Lb,"clients"),{name:e,email:t,designerId:fv(Lb,"users",n)})).id}catch(r){throw console.error("Error adding client:",r),r}})(b,E,e);j("Client added successfully!","success"),p(!1),w(""),x(""),await M()}catch(t){j("Failed to add client.","error")}},children:[(0,Le.jsxs)("div",{className:"mb-3",children:[(0,Le.jsx)("label",{className:"form-label",children:"Client Name"}),(0,Le.jsx)("input",{type:"text",className:"form-control",value:b,onChange:e=>w(e.target.value),required:!0})]}),(0,Le.jsxs)("div",{className:"mb-3",children:[(0,Le.jsx)("label",{className:"form-label",children:"Client Email"}),(0,Le.jsx)("input",{type:"email",className:"form-control",value:E,onChange:e=>x(e.target.value),required:!0})]}),(0,Le.jsxs)("div",{className:"modal-footer",children:[(0,Le.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>p(!1),children:"Cancel"}),(0,Le.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Add Client"})]})]})})]})})}),g&&(0,Le.jsx)("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,Le.jsx)("div",{className:"modal-dialog",children:(0,Le.jsxs)("div",{className:"modal-content",children:[(0,Le.jsxs)("div",{className:"modal-header",children:[(0,Le.jsx)("h5",{className:"modal-title",children:"Add New Project"}),(0,Le.jsx)("button",{type:"button",className:"btn btn-outline-danger ms-2 delete-question",onClick:()=>m(!1),children:"X"})]}),(0,Le.jsx)("div",{className:"modal-body",children:(0,Le.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=Ob.currentUser.uid;await async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"branding";try{return(await uy(hv(Lb,"projects"),{clientId:fv(Lb,"clients",e),designerId:fv(Lb,"users",t),type:n,status:"in-progress",createdAt:new Date})).id}catch(r){throw console.error("Error adding project:",r),r}}(C,e,A);j("Project added successfully!","success"),m(!1),_(""),R("branding"),await M()}catch(t){j("Failed to add project.","error")}},children:[(0,Le.jsxs)("div",{className:"mb-3",children:[(0,Le.jsx)("label",{className:"form-label",children:"Project Name"}),(0,Le.jsx)("input",{type:"text",className:"form-control",value:I,onChange:e=>S(e.target.value),required:!0})]}),(0,Le.jsxs)("div",{className:"mb-3",children:[(0,Le.jsx)("label",{className:"form-label",children:"Client"}),(0,Le.jsxs)("select",{className:"form-select",value:C,onChange:e=>_(e.target.value),required:!0,children:[(0,Le.jsx)("option",{value:"",children:"Select a client"}),o.map((e=>(0,Le.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),(0,Le.jsxs)("div",{className:"modal-footer",children:[(0,Le.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>m(!1),children:"Cancel"}),(0,Le.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Add Project"})]})]})})]})})}),v&&(0,Le.jsx)("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,Le.jsx)("div",{className:"modal-dialog",children:(0,Le.jsxs)("div",{className:"modal-content",children:[(0,Le.jsxs)("div",{className:"modal-header",children:[(0,Le.jsx)("h5",{className:"modal-title",children:"Create New Questionnaire"}),(0,Le.jsx)("button",{type:"button",className:"btn btn-outline-danger ms-2 delete-question",onClick:()=>y(!1),children:"X"})]}),(0,Le.jsx)("div",{className:"modal-body",children:(0,Le.jsxs)("div",{className:"mb-4",children:[(0,Le.jsx)("h5",{children:"What type of questionnaire do you want to create?"}),(0,Le.jsxs)("div",{className:"d-grid gap-2 questionnaire-types",children:[(0,Le.jsx)("button",{className:"btn btn-secondary mr-3",onClick:()=>{y(!1),L("/choose-template/website")},children:"Website Questionnaire"}),(0,Le.jsx)("button",{className:"btn btn-secondary mr-3",onClick:()=>{y(!1),L("/choose-template/app")},children:"App Questionnaire"}),(0,Le.jsx)("button",{className:"btn btn-secondary mr-3",onClick:()=>{y(!1),L("/choose-template/branding")},children:"Branding Questionnaire"})]})]})})]})})})]})}const $b=[{id:"group-business",name:"Business Info",questions:[{id:"question-b1",text:"What is the name of your business or project?",type:"text"},{id:"question-b2",text:"Describe what your business/product/service does.",type:"textarea"},{id:"question-b3",text:"What problem are you solving for your customers or users?",type:"textarea"}]},{id:"group-goals-values",name:"Goals and Values",questions:[{id:"question-b4",text:"What are your short and long-term goals for this project?",type:"textarea"},{id:"question-b5",text:"What does success look like for this project?",type:"textarea"},{id:"question-b6",text:"Do you have an established mission statement or core values?",type:"textarea"}]},{id:"group-audience-competitors",name:"Audience and Competitors",questions:[{id:"question-b7",text:"Who is your primary target audience? (Age, gender, occupation, interests, tech-savviness, etc.)",type:"textarea"},{id:"question-b8",text:"Who are your competitors, and how do you differ from them?",type:"textarea"},{id:"question-b9",text:"Upload any reference materials or inspiration",type:"file",accept:"image/*,.pdf"}]}],qb=[{id:"group-website-basics",name:"Website Basics",questions:[{id:"question-w1",text:"What is the primary purpose of your website?"},{id:"question-w2",text:"Do you have an existing website? If yes, what are its current limitations?"},{id:"question-w3",text:"What are the main actions you want visitors to take on your website?"}]},{id:"group-website-content",name:"Content and Features",questions:[{id:"question-w4",text:"What key features or functionality do you need? (e.g., contact forms, booking system, e-commerce)"},{id:"question-w5",text:"Do you have content ready (text, images, videos) or will you need help creating it?"},{id:"question-w6",text:"Will you need a blog or news section?"}]},{id:"group-website-design",name:"Design Preferences",questions:[{id:"question-w7",text:"Are there any websites you like the design of? Please provide examples."},{id:"question-w8",text:"Do you have brand guidelines (colors, fonts, logos) that need to be followed?"},{id:"question-w9",text:"How would you describe your desired website style? (e.g., minimal, bold, professional, playful)"}]}],Wb=[{id:"group-app-basics",name:"App Basics",questions:[{id:"question-a1",text:"What platforms do you want to target? (iOS, Android, both)"},{id:"question-a2",text:"What is the core functionality of your app?"},{id:"question-a3",text:"What problem does your app solve for users?"}]},{id:"group-app-features",name:"Features and Technology",questions:[{id:"question-a4",text:"What are the must-have features for your MVP (Minimum Viable Product)?"},{id:"question-a5",text:"Will users need to create accounts? What type of authentication?"},{id:"question-a6",text:"Do you need offline functionality?"},{id:"question-a7",text:"Will the app need to integrate with any external services or APIs?"}]},{id:"group-app-ux",name:"User Experience",questions:[{id:"question-a8",text:"What apps do you like the user experience of? Please provide examples."},{id:"question-a9",text:"How do you envision users navigating through your app?"},{id:"question-a10",text:"Are there any specific accessibility requirements?"}]}];function Hb(){const{type:e,projectId:t}=re(),[n]=Oe(),r=n.get("templateId"),o=ne(),[a,s]=(0,i.useState)([]),[l,c]=(0,i.useState)(0),[u,d]=(0,i.useState)({}),[h,f]=(0,i.useState)({}),[p,g]=(0,i.useState)({}),[m,v]=(0,i.useState)(!0),[y,b]=(0,i.useState)([]);(0,i.useEffect)((()=>{(async()=>{try{var t;let n;if("default"===r)n=$b;else if(r){const e=Ob.currentUser;if(!e)throw new Error("No authenticated user found.");const t=fv(Lb,"users",e.uid,"questionnaireTemplates",r),i=await ay(t);if(i.exists()){n=i.data().groups.flatMap((e=>e.questions))}else console.error("Template not found"),n=$b}const i={title:`${e.charAt(0).toUpperCase()+e.slice(1)} Questionnaire`,questions:n.map((e=>({name:e.id,label:e.text,type:"text"})))},o=await fetch("/wizardQuestions.json"),a=(null===(t=(await o.json())[e])||void 0===t?void 0:t.slice(1))||[];s([i,...a])}catch(n){console.error("Error loading questions:",n);const t=await fetch("/wizardQuestions.json"),r=await t.json();s(r[e]||[])}finally{v(!1)}})()}),[e,r]),(0,i.useEffect)((()=>{(async()=>{try{if("default"===r)return void b($b);const e=Ob.currentUser;if(!e)throw new Error("No authenticated user");const t=fv(Lb,"users",e.uid,"questionnaireTemplates",r),n=await ay(t);n.exists()?b(n.data().groups):(console.error("Template not found"),b($b))}catch(e){console.error("Error loading template:",e),b($b)}})()}),[r]);const w=()=>{window.confirm("Are you sure you want to cancel? Your progress will be lost.")&&o("/dashboard")};if(!a.length)return(0,Le.jsx)("p",{children:"Loading questions..."});if(l>=a.length)return(0,Le.jsxs)("div",{style:{maxWidth:"600px",margin:"0 auto",padding:"2rem"},children:[(0,Le.jsxs)("h2",{style:{marginBottom:"0.5rem"},children:[e.charAt(0).toUpperCase()+e.slice(1)," Brief Review"]}),(0,Le.jsx)("p",{style:{fontStyle:"italic",marginBottom:"1.5rem"},children:"Please review your answers before submitting"}),(0,Le.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:Object.entries(u).map((e=>{let[t,n]=e;const r=a.flatMap((e=>e.questions)).find((e=>e.name===t));return Array.isArray(n)?(0,Le.jsxs)("div",{style:{borderBottom:"1px solid #eee",paddingBottom:"0.75rem"},children:[(0,Le.jsxs)("p",{style:{fontWeight:"bold",marginBottom:"0.25rem"},children:["Q: ",(null===r||void 0===r?void 0:r.label)||"Unknown Question"]}),(0,Le.jsx)("div",{style:{marginLeft:"1rem"},children:n.map(((e,t)=>(0,Le.jsx)("div",{style:{marginBottom:"0.5rem"},children:"imageUpload"===(null===r||void 0===r?void 0:r.type)&&e?(0,Le.jsx)("img",{src:e,alt:`Upload ${t+1}`,style:{maxWidth:"200px",marginTop:"0.5rem"}}):(0,Le.jsx)("p",{style:{color:e?"#333":"#888",fontStyle:e?"normal":"italic"},children:e||"(No answer provided)"})},t)))})]},t):(0,Le.jsxs)("div",{style:{borderBottom:"1px solid #eee",paddingBottom:"0.75rem"},children:[(0,Le.jsxs)("p",{style:{fontWeight:"bold",marginBottom:"0.25rem"},children:["Q: ",(null===r||void 0===r?void 0:r.label)||"Unknown Question"]}),(0,Le.jsx)("p",{style:{marginLeft:"1rem",color:n?"#333":"#888",fontStyle:n?"normal":"italic"},children:n||"(No answer provided)"})]},t)}))}),(0,Le.jsxs)("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem"},children:[(0,Le.jsx)("button",{onClick:w,className:"btn-secondary",children:"Cancel"}),(0,Le.jsx)("button",{onClick:async()=>{try{await(async(e,t,n)=>{if(!e||!n)throw new Error("Missing projectId or type");return await uy(hv(Lb,"creativeBriefs"),{projectId:fv(Lb,"projects",e),type:n,answers:t,createdAt:new Date})})(t,u,e),alert("Submission saved!"),o("/dashboard")}catch(n){alert("Failed to save submission.")}},className:"primary",children:"Submit"})]})]});const E=a[l];return(0,Le.jsxs)("div",{className:"container",children:[(0,Le.jsx)("h2",{children:E.title}),E.questions.map((e=>{var n;return(0,Le.jsxs)("div",{children:[(0,Le.jsx)("label",{children:e.label}),"imageUpload"===e.type?(0,Le.jsxs)(Le.Fragment,{children:[[0,1,2].map((n=>{var r;return(0,Le.jsxs)("div",{children:[(0,Le.jsx)("input",{type:"file",accept:"image/*",onChange:r=>(async(e,n,r)=>{const i=e.target.files[0];if(!i)return;const o=[];if(["image/jpeg","image/png"].includes(i.type))if(i.size>5242880)o.push(`${i.name} exceeds 5MB.`);else try{const e=kb(Mb,`projects/${t}/${n}/${i.name}`),o=await Nb(e,i),a=await Db(o.ref);d((e=>{const t=[...e[n]||[]];return t[r]=a,{...e,[n]:t}})),f((e=>{const t=[...e[n]||[]];return t[r]=URL.createObjectURL(i),{...e,[n]:t}}))}catch(a){o.push(`Failed to upload ${i.name}`)}else o.push(`${i.name} is not a valid image type.`);g((e=>({...e,[n]:o})))})(r,e.name,n)}),(null===(r=h[e.name])||void 0===r?void 0:r[n])&&(0,Le.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginTop:"0.5rem"},children:[(0,Le.jsx)("img",{src:h[e.name][n],alt:"preview",width:"80"}),(0,Le.jsx)("button",{type:"button",onClick:()=>{return t=e.name,r=n,d((e=>{const n=[...e[t]||[]];return n[r]=null,{...e,[t]:n}})),void f((e=>{const n=[...e[t]||[]];return n[r]=null,{...e,[t]:n}}));var t,r},children:"Remove"})]})]},n)})),(null===(n=p[e.name])||void 0===n?void 0:n.length)>0&&(0,Le.jsx)("ul",{style:{color:"red"},children:p[e.name].map(((e,t)=>(0,Le.jsx)("li",{children:e},t)))})]}):"textarea"===e.type?(0,Le.jsx)("textarea",{value:u[e.name]||"",onChange:t=>d((n=>({...n,[e.name]:t.target.value})))}):"textList"===e.type?[...Array(3)].map(((t,n)=>(0,Le.jsx)("input",{type:"text",className:"col-8",placeholder:`Example link ${n+1}`,value:u[e.name]&&u[e.name][n]||"",onChange:t=>{const r=[...u[e.name]||[]];r[n]=t.target.value,d((t=>({...t,[e.name]:r})))}},n))):(0,Le.jsx)("input",{type:e.type,value:u[e.name]||"",onChange:t=>d((n=>({...n,[e.name]:t.target.value})))})]},e.name)})),(0,Le.jsxs)("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem"},children:[(0,Le.jsx)("button",{onClick:w,className:"btn-secondary",children:"Cancel"}),l>0&&(0,Le.jsx)("button",{onClick:()=>c(l-1),className:"btn-primary",children:"Back"}),(0,Le.jsx)("button",{onClick:()=>c(l+1),className:"btn-primary",children:"Next"})]})]})}function Kb(){return(0,Le.jsx)(Hb,{})}function Qb(){const e=ne();return(0,Le.jsxs)("div",{className:"container",children:[(0,Le.jsx)("h1",{children:"Welcome to BrandEZ"}),(0,Le.jsx)("p",{children:"Your guided path to better brand, web, or app design discovery."}),(0,Le.jsx)("button",{onClick:()=>e("/dashboard"),children:"Enter Dashboard"})]})}function Yb(){const{isDarkMode:e,toggleDarkMode:t}=(0,i.useContext)(Me);return(0,Le.jsx)("button",{onClick:t,className:"btn btn-outline-secondary",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:e?"\u2600\ufe0f Light":"\ud83c\udf19 Dark"})}function Xb(){const[e,t]=(0,i.useState)(null),n=ne();(0,i.useEffect)((()=>{(async()=>{var e;const n=Ob.currentUser;if(!n)return;const r=await ay(fv(Lb,"users",n.uid));t(null===(e=r.data())||void 0===e?void 0:e.role)})()}),[]);return(0,Le.jsxs)("nav",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem",background:"var(--bg-card)",borderBottom:"1px solid var(--border-color)"},children:[(0,Le.jsx)("h2",{style:{margin:0},children:(0,Le.jsx)(Ae,{to:"/",style:{color:"var(--text-primary)",textDecoration:"none"},children:"BrandEZ"})}),(0,Le.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:["designer"===e&&(0,Le.jsx)(Ae,{to:"/dashboard",style:{color:"var(--text-primary)",textDecoration:"none"},children:"Dashboard"}),"client"===e&&(0,Le.jsx)(Ae,{to:"/client-dashboard",style:{color:"var(--text-primary)",textDecoration:"none"},children:"My Projects"}),(0,Le.jsx)(Yb,{}),(0,Le.jsx)("button",{onClick:async()=>{await function(e){return ut(e).signOut()}(Ob),n("/login")},className:"btn btn-outline-secondary",children:"Log Out"})]})]})}function Jb(e){let{children:t}=e;return(0,Le.jsxs)(Le.Fragment,{children:[(0,Le.jsx)(Xb,{}),(0,Le.jsx)("main",{className:"dashboard-container",children:t})]})}function Zb(){const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)([]);return(0,i.useEffect)((()=>{(async()=>{const e=Ob.currentUser;if(!e)return;const n=fv(Lb,"users",e.uid),i=await ay(n);if(i.exists()){t(i.data().name);const e=qv(hv(Lb,"projects"),Hv("clientId","==",n)),o=(await ly(e)).docs.map((e=>({id:e.id,...e.data()})));r(o)}})()}),[]),(0,Le.jsxs)("div",{className:"container",children:[(0,Le.jsxs)("h2",{children:["Welcome, ",e]}),(0,Le.jsx)("h3",{children:"Your Projects"}),0===n.length?(0,Le.jsx)("p",{children:"No projects yet."}):(0,Le.jsx)("ul",{children:n.map((e=>(0,Le.jsxs)("li",{children:[(0,Le.jsx)("strong",{children:e.type})," \u2013 ",e.status]},e.id)))})]})}function ew(e){let{children:t,role:n}=e;const[r,o]=(0,i.useState)(null),[a,s]=(0,i.useState)(null),[l,c]=(0,i.useState)(!0);return(0,i.useEffect)((()=>{const e=function(e,t,n,r){return ut(e).onAuthStateChanged(t,n,r)}(Ob,(async e=>{if(e){var t;o(e);const n=null===(t=(await ay(fv(Lb,"users",e.uid))).data())||void 0===t?void 0:t.role;s(n)}c(!1)}));return()=>e()}),[]),l?(0,Le.jsx)("p",{children:"Loading..."}):r?n&&a!==n?(0,Le.jsx)(ye,{to:"/"}):t:(0,Le.jsx)(ye,{to:"/login"})}function tw(){const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[o,a]=(0,i.useState)(""),[s,l]=(0,i.useState)("designer"),[c,u]=(0,i.useState)(""),[d,h]=(0,i.useState)(!1),f=ne();return(0,Le.jsx)("div",{className:"row justify-content-center",children:(0,Le.jsx)("div",{className:"col-md-6",children:(0,Le.jsx)("div",{className:"card shadow",children:(0,Le.jsxs)("div",{className:"card-body p-5",children:[(0,Le.jsx)("h2",{className:"text-center mb-4",children:"Sign Up"}),c&&(0,Le.jsx)("div",{className:"alert alert-danger",children:c}),(0,Le.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),h(!0),u(""),n!==o)return u("Passwords do not match"),void h(!1);try{const t=await async function(e,t,n){var r;const i=Kr(e),o={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let a;if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await qr(i,o,"signUpPassword");a=vi(i,e)}else a=vi(i,o).catch((async e=>{if("auth/missing-recaptcha-token"===e.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const e=await qr(i,o,"signUpPassword");return vi(i,e)}return Promise.reject(e)}));const s=await a.catch((e=>Promise.reject(e))),l=await yi._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(l.user),l}(Ob,e,n),r=t.user;await cy(fv(Lb,"users",r.uid),{email:r.email,role:s,createdAt:new Date}),f("designer"===s?"/dashboard":"/client-dashboard")}catch(r){u(r.message.includes("email-already-in-use")?"An account with this email already exists":"Failed to create account. Please try again."),console.error(r)}finally{h(!1)}},children:[(0,Le.jsxs)("div",{className:"mb-3",children:[(0,Le.jsx)("label",{className:"form-label",children:"Email"}),(0,Le.jsx)("input",{type:"email",className:"form-control",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,Le.jsxs)("div",{className:"mb-3",children:[(0,Le.jsx)("label",{className:"form-label",children:"Password"}),(0,Le.jsx)("input",{type:"password",className:"form-control",value:n,onChange:e=>r(e.target.value),required:!0})]}),(0,Le.jsxs)("div",{className:"mb-3",children:[(0,Le.jsx)("label",{className:"form-label",children:"Confirm Password"}),(0,Le.jsx)("input",{type:"password",className:"form-control",value:o,onChange:e=>a(e.target.value),required:!0})]}),(0,Le.jsxs)("div",{className:"mb-4",children:[(0,Le.jsx)("label",{className:"form-label",children:"I am a..."}),(0,Le.jsxs)("select",{className:"form-select",value:s,onChange:e=>l(e.target.value),children:[(0,Le.jsx)("option",{value:"designer",children:"Designer"}),(0,Le.jsx)("option",{value:"client",children:"Client"})]})]}),(0,Le.jsx)("button",{type:"submit",className:"btn btn-primary w-100",disabled:d,children:d?"Creating Account...":"Sign Up"})]}),(0,Le.jsxs)("div",{className:"text-center mt-3",children:["Already have an account? ",(0,Le.jsx)(Ae,{to:"/login",children:"Log In"})]})]})})})})}function nw(e){let{isOpen:t,onClose:n}=e;const[r,o]=(0,i.useState)(""),[a,s]=(0,i.useState)(""),[l,c]=(0,i.useState)(""),[u,d]=(0,i.useState)(!1);return t?(0,Le.jsx)("div",{className:"modal show d-block",tabIndex:"-1",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,Le.jsx)("div",{className:"modal-dialog",children:(0,Le.jsxs)("div",{className:"modal-content",children:[(0,Le.jsxs)("div",{className:"modal-header",children:[(0,Le.jsx)("h5",{className:"modal-title",children:"Reset Password"}),(0,Le.jsx)("button",{type:"button",className:"btn-close",onClick:n,"aria-label":"Close"})]}),(0,Le.jsxs)("div",{className:"modal-body",children:[a&&(0,Le.jsx)("div",{className:"alert alert-success",children:a}),l&&(0,Le.jsx)("div",{className:"alert alert-danger",children:l}),(0,Le.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),d(!0),s(""),c("");try{await async function(e,t,n){var r;const i=Kr(e),o={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await qr(i,o,"getOobCode",!0);n&&_i(i,e,n),await ri(i,e)}else n&&_i(i,o,n),await ri(i,o).catch((async e=>{if("auth/missing-recaptcha-token"!==e.code)return Promise.reject(e);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const e=await qr(i,o,"getOobCode",!0);n&&_i(i,e,n),await ri(i,e)}}))}(Ob,r),s("Password reset email sent! Please check your inbox."),o("")}catch(t){c("Failed to reset password. Please check your email address."),console.error(t)}finally{d(!1)}},children:[(0,Le.jsxs)("div",{className:"mb-3",children:[(0,Le.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email address"}),(0,Le.jsx)("input",{type:"email",className:"form-control",id:"email",value:r,onChange:e=>o(e.target.value),placeholder:"Enter your email",required:!0})]}),(0,Le.jsxs)("div",{className:"modal-footer",children:[(0,Le.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:n,children:"Close"}),(0,Le.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"Sending...":"Send Reset Link"})]})]})]})]})})}):null}function rw(){const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[o,a]=(0,i.useState)(""),[s,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!1),d=ne();return(0,Le.jsxs)("div",{className:"dashboard-container login-page",children:[(0,Le.jsx)("div",{className:"row justify-content-center",children:(0,Le.jsx)("div",{className:"col-md-6",children:(0,Le.jsx)("div",{className:"card shadow",children:(0,Le.jsxs)("div",{className:"card-body p-5",children:[(0,Le.jsx)("h2",{className:"text-center mb-4",children:"Log In"}),o&&(0,Le.jsx)("div",{className:"alert alert-danger",children:o}),(0,Le.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),l(!0),a("");try{await function(e,t,n){return Ci(ut(e),ui.credential(t,n))}(Ob,e,n),d("/dashboard")}catch(r){a("Failed to sign in. Please check your credentials."),console.error(r)}finally{l(!1)}},children:[(0,Le.jsxs)("div",{className:"mb-3",children:[(0,Le.jsx)("label",{className:"form-label",children:"Email"}),(0,Le.jsx)("input",{type:"email",className:"form-control",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,Le.jsxs)("div",{className:"mb-3",children:[(0,Le.jsx)("label",{className:"form-label",children:"Password"}),(0,Le.jsx)("input",{type:"password",className:"form-control",value:n,onChange:e=>r(e.target.value),required:!0})]}),(0,Le.jsx)("button",{type:"submit",className:"btn btn-primary w-100",disabled:s,children:s?"Logging in...":"Log In"})]}),(0,Le.jsx)("div",{className:"text-center mt-3",children:(0,Le.jsx)("button",{className:"btn btn-link",onClick:()=>u(!0),children:"Forgot Password?"})}),(0,Le.jsxs)("div",{className:"text-center mt-3",children:["Need an account? ",(0,Le.jsx)(Ae,{to:"/signup",children:"Sign Up"})]})]})})})}),(0,Le.jsx)(nw,{isOpen:c,onClose:()=>u(!1)})]})}function iw(e,t){return iw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},iw(e,t)}function ow(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,iw(e,t)}function aw(){return aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aw.apply(null,arguments)}function sw(e){return sw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sw(e)}function lw(e){var t=function(e,t){if("object"!=sw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=sw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sw(t)?t:t+""}function cw(e,t,n){return(t=lw(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uw(Object(n),!0).forEach((function(t){cw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hw(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}console.log("Default Questions:",$b);var fw="function"===typeof Symbol&&Symbol.observable||"@@observable",pw=function(){return Math.random().toString(36).substring(7).split("").join(".")},gw={INIT:"@@redux/INIT"+pw(),REPLACE:"@@redux/REPLACE"+pw(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+pw()}};function mw(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function vw(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(hw(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(hw(1));return n(vw)(e,t)}if("function"!==typeof e)throw new Error(hw(2));var i=e,o=t,a=[],s=a,l=!1;function c(){s===a&&(s=a.slice())}function u(){if(l)throw new Error(hw(3));return o}function d(e){if("function"!==typeof e)throw new Error(hw(4));if(l)throw new Error(hw(5));var t=!0;return c(),s.push(e),function(){if(t){if(l)throw new Error(hw(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),a=null}}}function h(e){if(!mw(e))throw new Error(hw(7));if("undefined"===typeof e.type)throw new Error(hw(8));if(l)throw new Error(hw(9));try{l=!0,o=i(o,e)}finally{l=!1}for(var t=a=s,n=0;n<t.length;n++){(0,t[n])()}return e}return h({type:gw.INIT}),(r={dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(hw(10));i=e,h({type:gw.REPLACE})}})[fw]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(hw(11));function n(){e.next&&e.next(u())}return n(),{unsubscribe:t(n)}}})[fw]=function(){return this},e},r}function yw(e,t){return function(){return t(e.apply(this,arguments))}}function bw(e,t){if("function"===typeof e)return yw(e,t);if("object"!==typeof e||null===e)throw new Error(hw(16));var n={};for(var r in e){var i=e[r];"function"===typeof i&&(n[r]=yw(i,t))}return n}function ww(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var Ew=i.createContext(null);var xw=function(e){e()},Iw=function(){return xw};var Sw={notify:function(){},get:function(){return[]}};function Cw(e,t){var n,r=Sw;function i(){a.onStateChange&&a.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=Iw(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var a={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=Sw)},getListeners:function(){return r}};return a}var _w="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?i.useLayoutEffect:i.useEffect;const Tw=function(e){var t=e.store,n=e.context,r=e.children,o=(0,i.useMemo)((function(){var e=Cw(t);return{store:t,subscription:e}}),[t]),a=(0,i.useMemo)((function(){return t.getState()}),[t]);_w((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),a!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[o,a]);var s=n||Ew;return i.createElement(s.Provider,{value:o},r)};function Nw(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}var Dw=n(219),kw=n.n(Dw),Aw=n(86),Rw=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],Pw=["reactReduxForwardedRef"],Ow=[],Lw=[null,null];function Mw(e,t){var n=e[1];return[t.payload,n+1]}function jw(e,t,n){_w((function(){return e.apply(void 0,t)}),n)}function Bw(e,t,n,r,i,o,a){e.current=r,t.current=i,n.current=!1,o.current&&(o.current=null,a())}function Fw(e,t,n,r,i,o,a,s,l,c){if(e){var u=!1,d=null,h=function(){if(!u){var e,n,h=t.getState();try{e=r(h,i.current)}catch(OR){n=OR,d=OR}n||(d=null),e===o.current?a.current||l():(o.current=e,s.current=e,a.current=!0,c({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=h,n.trySubscribe(),h();return function(){if(u=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}}var Uw=function(){return[null,0]};function Vw(e,t){void 0===t&&(t={});var n=t,r=n.getDisplayName,o=void 0===r?function(e){return"ConnectAdvanced("+e+")"}:r,a=n.methodName,s=void 0===a?"connectAdvanced":a,l=n.renderCountProp,c=void 0===l?void 0:l,u=n.shouldHandleStateChanges,d=void 0===u||u,h=n.storeKey,f=void 0===h?"store":h,p=(n.withRef,n.forwardRef),g=void 0!==p&&p,m=n.context,v=void 0===m?Ew:m,y=Nw(n,Rw),b=v;return function(t){var n=t.displayName||t.name||"Component",r=o(n),a=aw({},y,{getDisplayName:o,methodName:s,renderCountProp:c,shouldHandleStateChanges:d,storeKey:f,displayName:r,wrappedComponentName:n,WrappedComponent:t}),l=y.pure;var u=l?i.useMemo:function(e){return e()};function h(n){var r=(0,i.useMemo)((function(){var e=n.reactReduxForwardedRef,t=Nw(n,Pw);return[n.context,e,t]}),[n]),o=r[0],s=r[1],l=r[2],c=(0,i.useMemo)((function(){return o&&o.Consumer&&(0,Aw.isContextConsumer)(i.createElement(o.Consumer,null))?o:b}),[o,b]),h=(0,i.useContext)(c),f=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(h)&&Boolean(h.store);var p=f?n.store:h.store,g=(0,i.useMemo)((function(){return function(t){return e(t.dispatch,a)}(p)}),[p]),m=(0,i.useMemo)((function(){if(!d)return Lw;var e=Cw(p,f?null:h.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[p,f,h]),v=m[0],y=m[1],w=(0,i.useMemo)((function(){return f?h:aw({},h,{subscription:v})}),[f,h,v]),E=(0,i.useReducer)(Mw,Ow,Uw),x=E[0][0],I=E[1];if(x&&x.error)throw x.error;var S=(0,i.useRef)(),C=(0,i.useRef)(l),_=(0,i.useRef)(),T=(0,i.useRef)(!1),N=u((function(){return _.current&&l===C.current?_.current:g(p.getState(),l)}),[p,x,l]);jw(Bw,[C,S,T,l,N,_,y]),jw(Fw,[d,p,v,g,C,S,T,_,y,I],[p,v,g]);var D=(0,i.useMemo)((function(){return i.createElement(t,aw({},N,{ref:s}))}),[s,t,N]);return(0,i.useMemo)((function(){return d?i.createElement(c.Provider,{value:w},D):D}),[c,D,w])}var p=l?i.memo(h):h;if(p.WrappedComponent=t,p.displayName=h.displayName=r,g){var m=i.forwardRef((function(e,t){return i.createElement(p,aw({},e,{reactReduxForwardedRef:t}))}));return m.displayName=r,m.WrappedComponent=t,kw()(m,t)}return kw()(p,t)}}function zw(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function Gw(e,t){if(zw(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!zw(e[n[i]],t[n[i]]))return!1;return!0}function $w(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function qw(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function Ww(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=qw(e);var i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=qw(i),i=r(t,n)),i},r}}const Hw=[function(e){return"function"===typeof e?Ww(e):void 0},function(e){return e?void 0:$w((function(e){return{dispatch:e}}))},function(e){return e&&"object"===typeof e?$w((function(t){return function(e,t){var n={},r=function(r){var i=e[r];"function"===typeof i&&(n[r]=function(){return t(i.apply(void 0,arguments))})};for(var i in e)r(i);return n}(e,t)})):void 0}];const Kw=[function(e){return"function"===typeof e?Ww(e):void 0},function(e){return e?void 0:$w((function(){return{}}))}];function Qw(e,t,n){return aw({},n,e,t)}const Yw=[function(e){return"function"===typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,o=n.areMergedPropsEqual,a=!1;return function(t,n,s){var l=e(t,n,s);return a?i&&o(l,r)||(r=l):(a=!0,r=l),r}}}(e):void 0},function(e){return e?void 0:function(){return Qw}}];var Xw=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Jw(e,t,n,r){return function(i,o){return n(e(i,o),t(r,o),o)}}function Zw(e,t,n,r,i){var o,a,s,l,c,u=i.areStatesEqual,d=i.areOwnPropsEqual,h=i.areStatePropsEqual,f=!1;function p(i,f){var p=!d(f,a),g=!u(i,o,f,a);return o=i,a=f,p&&g?(s=e(o,a),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a)):p?(e.dependsOnOwnProps&&(s=e(o,a)),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a)):g?function(){var t=e(o,a),r=!h(t,s);return s=t,r&&(c=n(s,l,a)),c}():c}return function(i,u){return f?p(i,u):(s=e(o=i,a=u),l=t(r,a),c=n(s,l,a),f=!0,c)}}function eE(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=Nw(t,Xw),a=n(e,o),s=r(e,o),l=i(e,o);return(o.pure?Zw:Jw)(a,s,l,e,o)}var tE=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function nE(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function rE(e,t){return e===t}function iE(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?Vw:n,i=t.mapStateToPropsFactories,o=void 0===i?Kw:i,a=t.mapDispatchToPropsFactories,s=void 0===a?Hw:a,l=t.mergePropsFactories,c=void 0===l?Yw:l,u=t.selectorFactory,d=void 0===u?eE:u;return function(e,t,n,i){void 0===i&&(i={});var a=i,l=a.pure,u=void 0===l||l,h=a.areStatesEqual,f=void 0===h?rE:h,p=a.areOwnPropsEqual,g=void 0===p?Gw:p,m=a.areStatePropsEqual,v=void 0===m?Gw:m,y=a.areMergedPropsEqual,b=void 0===y?Gw:y,w=Nw(a,tE),E=nE(e,o,"mapStateToProps"),x=nE(t,s,"mapDispatchToProps"),I=nE(n,c,"mergeProps");return r(d,aw({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:E,initMapDispatchToProps:x,initMergeProps:I,pure:u,areStatesEqual:f,areOwnPropsEqual:g,areStatePropsEqual:v,areMergedPropsEqual:b},w))}}const oE=iE();var aE;function sE(e,t){var n=(0,i.useState)((function(){return{inputs:t,result:e()}}))[0],r=(0,i.useRef)(!0),o=(0,i.useRef)(n),a=r.current||Boolean(t&&o.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,o.current.inputs))?o.current:{inputs:t,result:e()};return(0,i.useEffect)((function(){r.current=!1,o.current=a}),[a]),a.result}aE=s.unstable_batchedUpdates,xw=aE;var lE=sE,cE=function(e,t){return sE((function(){return e}),t)},uE="Invariant failed";var dE=function(e){var t=e.top,n=e.right,r=e.bottom,i=e.left;return{top:t,right:n,bottom:r,left:i,width:n-i,height:r-t,x:i,y:t,center:{x:(n+i)/2,y:(r+t)/2}}},hE=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},fE=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},pE={top:0,right:0,bottom:0,left:0},gE=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?pE:n,i=e.border,o=void 0===i?pE:i,a=e.padding,s=void 0===a?pE:a,l=dE(hE(t,r)),c=dE(fE(t,o)),u=dE(fE(c,s));return{marginBox:l,borderBox:dE(t),paddingBox:c,contentBox:u,margin:r,border:o,padding:s}},mE=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&function(e){if(!e)throw new Error(uE)}(!1),n},vE=function(e,t){var n,r,i=e.borderBox,o=e.border,a=e.margin,s=e.padding,l=(r=t,{top:(n=i).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return gE({borderBox:l,border:o,margin:a,padding:s})},yE=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),vE(e,t)},bE=function(e,t){var n={top:mE(t.marginTop),right:mE(t.marginRight),bottom:mE(t.marginBottom),left:mE(t.marginLeft)},r={top:mE(t.paddingTop),right:mE(t.paddingRight),bottom:mE(t.paddingBottom),left:mE(t.paddingLeft)},i={top:mE(t.borderTopWidth),right:mE(t.borderRightWidth),bottom:mE(t.borderBottomWidth),left:mE(t.borderLeftWidth)};return gE({borderBox:e,margin:n,padding:r,border:i})},wE=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return bE(t,n)},EE=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function xE(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],i=t[n],!(r===i||EE(r)&&EE(i)))return!1;var r,i;return!0}const IE=function(e,t){var n;void 0===t&&(t=xE);var r,i=[],o=!1;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return o&&n===this&&t(a,i)||(r=e.apply(this,a),o=!0,n=this,i=a),r}};const SE=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];t=i,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};function CE(e,t){}CE.bind(null,"warn"),CE.bind(null,"error");function _E(){}function TE(e,t,n){var r=t.map((function(t){var r=function(e,t){return aw({},e,{},t)}(n,t.options);return e.addEventListener(t.eventName,t.fn,r),function(){e.removeEventListener(t.eventName,t.fn,r)}}));return function(){r.forEach((function(e){e()}))}}var NE="Invariant failed";function DE(e){this.message=e}function kE(e,t){if(!e)throw new DE(NE)}DE.prototype.toString=function(){return this.message};var AE=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).callbacks=null,t.unbind=_E,t.onWindowError=function(e){var n=t.getCallbacks();n.isDragging()&&n.tryAbort(),e.error instanceof DE&&e.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(e){t.callbacks=e},t}ow(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unbind=TE(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(e){if(!(e instanceof DE))throw e;this.setState({})},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(i.Component),RE=function(e){return e+1},PE=function(e,t){var n=e.droppableId===t.droppableId,r=RE(e.index),i=RE(t.index);return n?"\n      You have moved the item from position "+r+"\n      to position "+i+"\n    ":"\n    You have moved the item from position "+r+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+i+"\n  "},OE=function(e,t,n){return t.droppableId===n.droppableId?"\n      The item "+e+"\n      has been combined with "+n.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+n.draggableId+"\n      in list "+n.droppableId+"\n    "},LE=function(e){return"\n  The item has returned to its starting position\n  of "+RE(e.index)+"\n"},ME="\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",jE=function(e){return"\n  You have lifted an item in position "+RE(e.source.index)+"\n"},BE=function(e){var t=e.destination;if(t)return PE(e.source,t);var n=e.combine;return n?OE(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},FE=function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+LE(e.source)+"\n    ";var t=e.destination,n=e.combine;return t?"\n      You have dropped the item.\n      "+PE(e.source,t)+"\n    ":n?"\n      You have dropped the item.\n      "+OE(e.draggableId,e.source,n)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+LE(e.source)+"\n  "},UE={x:0,y:0},VE=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},zE=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},GE=function(e,t){return e.x===t.x&&e.y===t.y},$E=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},qE=function(e,t,n){var r;return void 0===n&&(n=0),(r={})[e]=t,r["x"===e?"y":"x"]=n,r},WE=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},HE=function(e,t){return Math.min.apply(Math,t.map((function(t){return WE(e,t)})))},KE=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},QE=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},YE=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},XE=function(e,t){return t&&t.shouldClipSubject?function(e,t){var n=dE({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n}(t.pageMarginBox,e):dE(e)},JE=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,i=e.frame,o=function(e,t){return t?QE(e,t.scroll.diff.displacement):e}(t.marginBox,i),a=function(e,t,n){var r;return n&&n.increasedBy?aw({},e,((r={})[t.end]=e[t.end]+n.increasedBy[t.line],r)):e}(o,r,n);return{page:t,withPlaceholder:n,active:XE(a,i)}},ZE=function(e,t){e.frame||kE(!1);var n=e.frame,r=zE(t,n.scroll.initial),i=$E(r),o=aw({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}});return aw({},e,{frame:o,subject:JE({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o})})};function ex(e){return Object.values?Object.values(e):Object.keys(e).map((function(t){return e[t]}))}function tx(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function nx(e,t){if(e.find)return e.find(t);var n=tx(e,t);return-1!==n?e[n]:void 0}function rx(e){return Array.prototype.slice.call(e)}var ix=IE((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),ox=IE((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),ax=IE((function(e){return ex(e)})),sx=IE((function(e){return ex(e)})),lx=IE((function(e,t){var n=sx(t).filter((function(t){return e===t.descriptor.droppableId})).sort((function(e,t){return e.descriptor.index-t.descriptor.index}));return n}));function cx(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function ux(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var dx=IE((function(e,t){return t.filter((function(t){return t.descriptor.id!==e.descriptor.id}))})),hx=function(e,t){return e.descriptor.droppableId===t.descriptor.id},fx={point:UE,value:0},px={invisible:{},visible:{},all:[]},gx={displaced:px,displacedBy:fx,at:null},mx=function(e,t){return function(n){return e<=n&&n<=t}},vx=function(e){var t=mx(e.top,e.bottom),n=mx(e.left,e.right);return function(r){if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;var i=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(i&&o)return!0;var a=r.top<e.top&&r.bottom>e.bottom,s=r.left<e.left&&r.right>e.right;return!(!a||!s)||(a&&o||s&&i)}},yx=function(e){var t=mx(e.top,e.bottom),n=mx(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)}},bx={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},wx={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Ex=function(e){var t=e.target,n=e.destination,r=e.viewport,i=e.withDroppableDisplacement,o=e.isVisibleThroughFrameFn,a=i?function(e,t){var n=t.frame?t.frame.scroll.diff.displacement:UE;return QE(e,n)}(t,n):t;return function(e,t,n){return!!t.subject.active&&n(t.subject.active)(e)}(a,n,o)&&function(e,t,n){return n(t)(e)}(a,r,o)},xx=function(e){return Ex(aw({},e,{isVisibleThroughFrameFn:vx}))},Ix=function(e){return Ex(aw({},e,{isVisibleThroughFrameFn:yx}))};function Sx(e){var t=e.afterDragging,n=e.destination,r=e.displacedBy,i=e.viewport,o=e.forceShouldAnimate,a=e.last;return t.reduce((function(e,t){var s=function(e,t){var n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return dE(hE(n,r))}(t,r),l=t.descriptor.id;if(e.all.push(l),!xx({target:s,destination:n,viewport:i,withDroppableDisplacement:!0}))return e.invisible[t.descriptor.id]=!0,e;var c=function(e,t,n){if("boolean"===typeof n)return n;if(!t)return!0;var r=t.invisible,i=t.visible;if(r[e])return!1;var o=i[e];return!o||o.shouldAnimate}(l,a,o),u={draggableId:l,shouldAnimate:c};return e.visible[l]=u,e}),{all:[],visible:{},invisible:{}})}function Cx(e){var t=e.insideDestination,n=e.inHomeList,r=e.displacedBy,i=e.destination,o=function(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(t,{inHomeList:n});return{displaced:px,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:o}}}}function _x(e){var t=e.draggable,n=e.insideDestination,r=e.destination,i=e.viewport,o=e.displacedBy,a=e.last,s=e.index,l=e.forceShouldAnimate,c=hx(t,r);if(null==s)return Cx({insideDestination:n,inHomeList:c,displacedBy:o,destination:r});var u=nx(n,(function(e){return e.descriptor.index===s}));if(!u)return Cx({insideDestination:n,inHomeList:c,displacedBy:o,destination:r});var d=dx(t,n),h=n.indexOf(u);return{displaced:Sx({afterDragging:d.slice(h),destination:r,displacedBy:o,last:a,viewport:i.frame,forceShouldAnimate:l}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function Tx(e,t){return Boolean(t.effected[e])}var Nx=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,i=e.draggables,o=e.destination,a=e.insideDestination,s=e.previousImpact,l=e.viewport,c=e.afterCritical,u=s.at;if(u||kE(!1),"REORDER"===u.type){var d=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.insideDestination,i=e.location;if(!r.length)return null;var o=i.index,a=t?o+1:o-1,s=r[0].descriptor.index,l=r[r.length-1].descriptor.index;return a<s||a>(n?l:l+1)?null:a}({isMovingForward:t,isInHomeList:n,location:u.destination,insideDestination:a});return null==d?null:_x({draggable:r,insideDestination:a,destination:o,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:d})}var h=function(e){var t=e.isMovingForward,n=e.destination,r=e.draggables,i=e.combine,o=e.afterCritical;if(!n.isCombineEnabled)return null;var a=i.draggableId,s=r[a].descriptor.index;return Tx(a,o)?t?s:s-1:t?s+1:s}({isMovingForward:t,destination:o,displaced:s.displaced,draggables:i,combine:u.combine,afterCritical:c});return null==h?null:_x({draggable:r,insideDestination:a,destination:o,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:h})},Dx=function(e){var t=e.afterCritical,n=e.impact,r=e.draggables,i=ux(n);i||kE(!1);var o=i.draggableId,a=r[o].page.borderBox.center,s=function(e){var t=e.displaced,n=e.afterCritical,r=e.combineWith,i=e.displacedBy,o=Boolean(t.visible[r]||t.invisible[r]);return Tx(r,n)?o?UE:$E(i.point):o?i.point:UE}({displaced:n.displaced,afterCritical:t,combineWith:o,displacedBy:n.displacedBy});return VE(a,s)},kx=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},Ax=function(e,t,n){return t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2},Rx=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return qE(t.line,n.marginBox[t.end]+kx(t,r),Ax(t,n.marginBox,r))},Px=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return qE(t.line,n.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,r),Ax(t,n.marginBox,r))},Ox=function(e){var t=e.impact,n=e.draggable,r=e.draggables,i=e.droppable,o=e.afterCritical,a=lx(i.descriptor.id,r),s=n.page,l=i.axis;if(!a.length)return function(e){var t=e.axis,n=e.moveInto,r=e.isMoving;return qE(t.line,n.contentBox[t.start]+kx(t,r),Ax(t,n.contentBox,r))}({axis:l,moveInto:i.page,isMoving:s});var c=t.displaced,u=t.displacedBy,d=c.all[0];if(d){var h=r[d];if(Tx(d,o))return Px({axis:l,moveRelativeTo:h.page,isMoving:s});var f=vE(h.page,u.point);return Px({axis:l,moveRelativeTo:f,isMoving:s})}var p=a[a.length-1];if(p.descriptor.id===n.descriptor.id)return s.borderBox.center;if(Tx(p.descriptor.id,o)){var g=vE(p.page,$E(o.displacedBy.point));return Rx({axis:l,moveRelativeTo:g,isMoving:s})}return Rx({axis:l,moveRelativeTo:p.page,isMoving:s})},Lx=function(e,t){var n=e.frame;return n?VE(t,n.scroll.diff.displacement):t},Mx=function(e){var t=function(e){var t=e.impact,n=e.draggable,r=e.droppable,i=e.draggables,o=e.afterCritical,a=n.page.borderBox.center,s=t.at;return r&&s?"REORDER"===s.type?Ox({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:o}):Dx({impact:t,draggables:i,afterCritical:o}):a}(e),n=e.droppable;return n?Lx(n,t):t},jx=function(e,t){var n=zE(t,e.scroll.initial),r=$E(n);return{frame:dE({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function Bx(e,t){return e.map((function(e){return t[e]}))}var Fx=function(e){var t=e.pageBorderBoxCenter,n=e.draggable,r=function(e,t){return VE(e.scroll.diff.displacement,t)}(e.viewport,t),i=zE(r,n.page.borderBox.center);return VE(n.client.borderBox.center,i)},Ux=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,i=e.viewport,o=e.withDroppableDisplacement,a=e.onlyOnMainAxis,s=void 0!==a&&a,l=zE(r,t.page.borderBox.center),c={target:QE(t.page.borderBox,l),destination:n,withDroppableDisplacement:o,viewport:i};return s?function(e){return Ex(aw({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var n=mx(e.top,e.bottom),r=mx(e.left,e.right);return function(e){return t===bx?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)}})}));var t}(c):Ix(c)},Vx=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.draggables,o=e.previousImpact,a=e.viewport,s=e.previousPageBorderBoxCenter,l=e.previousClientSelection,c=e.afterCritical;if(!r.isEnabled)return null;var u=lx(r.descriptor.id,i),d=hx(n,r),h=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.insideDestination,o=e.previousImpact;if(!r.isCombineEnabled)return null;if(!cx(o))return null;function a(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:r.descriptor.id}};return aw({},o,{at:t})}var s=o.displaced.all,l=s.length?s[0]:null;if(t)return l?a(l):null;var c=dx(n,i);if(!l)return c.length?a(c[c.length-1].descriptor.id):null;var u=tx(c,(function(e){return e.descriptor.id===l}));-1===u&&kE(!1);var d=u-1;return d<0?null:a(c[d].descriptor.id)}({isMovingForward:t,draggable:n,destination:r,insideDestination:u,previousImpact:o})||Nx({isMovingForward:t,isInHomeList:d,draggable:n,draggables:i,destination:r,insideDestination:u,previousImpact:o,viewport:a,afterCritical:c});if(!h)return null;var f=Mx({impact:h,draggable:n,droppable:r,draggables:i,afterCritical:c});if(Ux({draggable:n,destination:r,newPageBorderBoxCenter:f,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Fx({pageBorderBoxCenter:f,draggable:n,viewport:a}),impact:h,scrollJumpRequest:null};var p=zE(f,s),g=function(e){var t=e.impact,n=e.viewport,r=e.destination,i=e.draggables,o=e.maxScrollChange,a=jx(n,VE(n.scroll.current,o)),s=r.frame?ZE(r,VE(r.frame.scroll.current,o)):r,l=t.displaced,c=Sx({afterDragging:Bx(l.all,i),destination:r,displacedBy:t.displacedBy,viewport:a.frame,last:l,forceShouldAnimate:!1}),u=Sx({afterDragging:Bx(l.all,i),destination:s,displacedBy:t.displacedBy,viewport:n.frame,last:l,forceShouldAnimate:!1}),d={},h={},f=[l,c,u];return l.all.forEach((function(e){var t=function(e,t){for(var n=0;n<t.length;n++){var r=t[n].visible[e];if(r)return r}return null}(e,f);t?h[e]=t:d[e]=!0})),aw({},t,{displaced:{all:l.all,invisible:d,visible:h}})}({impact:h,viewport:a,destination:r,draggables:i,maxScrollChange:p});return{clientSelection:l,impact:g,scrollJumpRequest:p}},zx=function(e){var t=e.subject.active;return t||kE(!1),t},Gx=function(e,t){var n=e.page.borderBox.center;return Tx(e.descriptor.id,t)?zE(n,t.displacedBy.point):n},$x=function(e,t){var n=e.page.borderBox;return Tx(e.descriptor.id,t)?QE(n,$E(t.displacedBy.point)):n},qx=IE((function(e,t){var n=t[e.line];return{value:n,point:qE(e.line,n)}})),Wx=function(e,t){return aw({},e,{scroll:aw({},e.scroll,{max:t})})},Hx=function(e,t,n){var r=e.frame;hx(t,e)&&kE(!1),e.subject.withPlaceholder&&kE(!1);var i=qx(e.axis,t.displaceBy).point,o=function(e,t,n){var r=e.axis;if("virtual"===e.descriptor.mode)return qE(r.line,t[r.line]);var i=e.subject.page.contentBox[r.size],o=lx(e.descriptor.id,n).reduce((function(e,t){return e+t.client.marginBox[r.size]}),0)+t[r.line]-i;return o<=0?null:qE(r.line,o)}(e,i,n),a={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r)return aw({},e,{subject:JE({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame})});var s=o?VE(r.scroll.max,o):r.scroll.max,l=Wx(r,s);return aw({},e,{subject:JE({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:l}),frame:l})},Kx=function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,i=e.isOver,o=e.draggables,a=e.droppables,s=e.viewport,l=e.afterCritical,c=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,i=e.droppables,o=e.viewport,a=r.subject.active;if(!a)return null;var s=r.axis,l=mx(a[s.start],a[s.end]),c=ax(i).filter((function(e){return e!==r})).filter((function(e){return e.isEnabled})).filter((function(e){return Boolean(e.subject.active)})).filter((function(e){return vx(o.frame)(zx(e))})).filter((function(e){var n=zx(e);return t?a[s.crossAxisEnd]<n[s.crossAxisEnd]:n[s.crossAxisStart]<a[s.crossAxisStart]})).filter((function(e){var t=zx(e),n=mx(t[s.start],t[s.end]);return l(t[s.start])||l(t[s.end])||n(a[s.start])||n(a[s.end])})).sort((function(e,n){var r=zx(e)[s.crossAxisStart],i=zx(n)[s.crossAxisStart];return t?r-i:i-r})).filter((function(e,t,n){return zx(e)[s.crossAxisStart]===zx(n[0])[s.crossAxisStart]}));if(!c.length)return null;if(1===c.length)return c[0];var u=c.filter((function(e){return mx(zx(e)[s.start],zx(e)[s.end])(n[s.line])}));return 1===u.length?u[0]:u.length>1?u.sort((function(e,t){return zx(e)[s.start]-zx(t)[s.start]}))[0]:c.sort((function(e,t){var r=HE(n,YE(zx(e))),i=HE(n,YE(zx(t)));return r!==i?r-i:zx(e)[s.start]-zx(t)[s.start]}))[0]}({isMovingForward:t,pageBorderBoxCenter:n,source:i,droppables:a,viewport:s});if(!c)return null;var u=lx(c.descriptor.id,o),d=function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,i=e.insideDestination,o=e.afterCritical,a=i.filter((function(e){return Ix({target:$x(e,o),destination:r,viewport:n.frame,withDroppableDisplacement:!0})})).sort((function(e,n){var i=WE(t,Lx(r,Gx(e,o))),a=WE(t,Lx(r,Gx(n,o)));return i<a?-1:a<i?1:e.descriptor.index-n.descriptor.index}));return a[0]||null}({pageBorderBoxCenter:n,viewport:s,destination:c,insideDestination:u,afterCritical:l}),h=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,i=e.draggable,o=e.draggables,a=e.destination,s=e.viewport,l=e.afterCritical;if(!n){if(r.length)return null;var c={displaced:px,displacedBy:fx,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},u=Mx({impact:c,draggable:i,droppable:a,draggables:o,afterCritical:l}),d=hx(i,a)?a:Hx(a,i,o);return Ux({draggable:i,destination:d,newPageBorderBoxCenter:u,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?c:null}var h=Boolean(t[a.axis.line]<=n.page.borderBox.center[a.axis.line]),f=function(){var e=n.descriptor.index;return n.descriptor.id===i.descriptor.id||h?e:e+1}(),p=qx(a.axis,i.displaceBy);return _x({draggable:i,insideDestination:r,destination:a,viewport:s,displacedBy:p,last:px,index:f})}({previousPageBorderBoxCenter:n,destination:c,draggable:r,draggables:o,moveRelativeTo:d,insideDestination:u,viewport:s,afterCritical:l});if(!h)return null;var f=Mx({impact:h,draggable:r,droppable:c,draggables:o,afterCritical:l});return{clientSelection:Fx({pageBorderBoxCenter:f,draggable:r,viewport:s}),impact:h,scrollJumpRequest:null}},Qx=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},Yx=function(e){var t=e.state,n=e.type,r=function(e,t){var n=Qx(e);return n?t[n]:null}(t.impact,t.dimensions.droppables),i=Boolean(r),o=t.dimensions.droppables[t.critical.droppable.id],a=r||o,s=a.axis.direction,l="vertical"===s&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===s&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(l&&!i)return null;var c="MOVE_DOWN"===n||"MOVE_RIGHT"===n,u=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,h=t.dimensions,f=h.draggables,p=h.droppables;return l?Vx({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,destination:a,draggables:f,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):Kx({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,isOver:a,draggables:f,droppables:p,viewport:t.viewport,afterCritical:t.afterCritical})};function Xx(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function Jx(e){var t=mx(e.top,e.bottom),n=mx(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}function Zx(e){var t=e.pageBorderBox,n=e.draggable,r=e.droppables,i=ax(r).filter((function(e){if(!e.isEnabled)return!1;var n,r,i=e.subject.active;if(!i)return!1;if(r=i,!((n=t).left<r.right&&n.right>r.left&&n.top<r.bottom&&n.bottom>r.top))return!1;if(Jx(i)(t.center))return!0;var o=e.axis,a=i.center[o.crossAxisLine],s=t[o.crossAxisStart],l=t[o.crossAxisEnd],c=mx(i[o.crossAxisStart],i[o.crossAxisEnd]),u=c(s),d=c(l);return!u&&!d||(u?s<a:l>a)}));return i.length?1===i.length?i[0].descriptor.id:function(e){var t=e.pageBorderBox,n=e.draggable,r=e.candidates,i=n.page.borderBox.center,o=r.map((function(e){var n=e.axis,r=qE(e.axis.line,t.center[n.line],e.page.borderBox.center[n.crossAxisLine]);return{id:e.descriptor.id,distance:WE(i,r)}})).sort((function(e,t){return t.distance-e.distance}));return o[0]?o[0].id:null}({pageBorderBox:t,draggable:n,candidates:i}):null}var eI=function(e,t){return dE(QE(e,t))};function tI(e){var t=e.displaced,n=e.id;return Boolean(t.visible[n]||t.invisible[n])}var nI=function(e){var t=e.pageOffset,n=e.draggable,r=e.draggables,i=e.droppables,o=e.previousImpact,a=e.viewport,s=e.afterCritical,l=eI(n.page.borderBox,t),c=Zx({pageBorderBox:l,draggable:n,droppables:i});if(!c)return gx;var u=i[c],d=lx(u.descriptor.id,r),h=function(e,t){var n=e.frame;return n?eI(t,n.scroll.diff.value):t}(u,l);return function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,i=e.destination,o=e.insideDestination,a=e.afterCritical;if(!i.isCombineEnabled)return null;var s=i.axis,l=qx(i.axis,t.displaceBy),c=l.value,u=n[s.start],d=n[s.end],h=nx(dx(t,o),(function(e){var t=e.descriptor.id,n=e.page.borderBox,i=n[s.size]/4,o=Tx(t,a),l=tI({displaced:r.displaced,id:t});return o?l?d>n[s.start]+i&&d<n[s.end]-i:u>n[s.start]-c+i&&u<n[s.end]-c-i:l?d>n[s.start]+c+i&&d<n[s.end]+c-i:u>n[s.start]+i&&u<n[s.end]-i}));return h?{displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:h.descriptor.id,droppableId:i.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:h,draggable:n,previousImpact:o,destination:u,insideDestination:d,afterCritical:s})||function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,r=e.destination,i=e.insideDestination,o=e.last,a=e.viewport,s=e.afterCritical,l=r.axis,c=qx(r.axis,n.displaceBy),u=c.value,d=t[l.start],h=t[l.end],f=nx(dx(n,i),(function(e){var t=e.descriptor.id,n=e.page.borderBox.center[l.line],r=Tx(t,s),i=tI({displaced:o,id:t});return r?i?h<=n:d<n-u:i?h<=n+u:d<n})),p=function(e){var t=e.draggable,n=e.closest,r=e.inHomeList;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:f,inHomeList:hx(n,r)});return _x({draggable:n,insideDestination:i,destination:r,viewport:a,last:o,displacedBy:c,index:p})}({pageBorderBoxWithDroppableScroll:h,draggable:n,destination:u,insideDestination:d,last:o.displaced,viewport:a,afterCritical:s})},rI=function(e,t){var n;return aw({},e,((n={})[t.descriptor.id]=t,n))},iI=function(e){var t=e.previousImpact,n=e.impact,r=e.droppables,i=Qx(t),o=Qx(n);if(!i)return r;if(i===o)return r;var a=r[i];if(!a.subject.withPlaceholder)return r;var s=function(e){var t=e.subject.withPlaceholder;t||kE(!1);var n=e.frame;if(!n)return aw({},e,{subject:JE({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null})});var r=t.oldFrameMaxScroll;r||kE(!1);var i=Wx(n,r);return aw({},e,{subject:JE({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null}),frame:i})}(a);return rI(r,s)},oI=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,i=e.viewport,o=e.impact,a=e.scrollJumpRequest,s=i||t.viewport,l=r||t.dimensions,c=n||t.current.client.selection,u=zE(c,t.initial.client.selection),d={offset:u,selection:c,borderBoxCenter:VE(t.initial.client.borderBoxCenter,u)},h={selection:VE(d.selection,s.scroll.current),borderBoxCenter:VE(d.borderBoxCenter,s.scroll.current),offset:VE(d.offset,s.scroll.diff.value)},f={client:d,page:h};if("COLLECTING"===t.phase)return aw({phase:"COLLECTING"},t,{dimensions:l,viewport:s,current:f});var p=l.draggables[t.critical.draggable.id],g=o||nI({pageOffset:h.offset,draggable:p,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:s,afterCritical:t.afterCritical}),m=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,i=e.previousImpact,o=e.impact,a=iI({previousImpact:i,impact:o,droppables:r}),s=Qx(o);if(!s)return a;var l=r[s];if(hx(t,l))return a;if(l.subject.withPlaceholder)return a;var c=Hx(l,t,n);return rI(a,c)}({draggable:p,impact:g,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables});return aw({},t,{current:f,dimensions:{draggables:l.draggables,droppables:m},impact:g,viewport:s,scrollJumpRequest:a||null,forceShouldAnimate:!a&&null})};var aI=function(e){var t=e.impact,n=e.viewport,r=e.draggables,i=e.destination,o=e.forceShouldAnimate,a=t.displaced,s=function(e,t){return e.map((function(e){return t[e]}))}(a.all,r);return aw({},t,{displaced:Sx({afterDragging:s,destination:i,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:o,last:a})})},sI=function(e){var t=e.impact,n=e.draggable,r=e.droppable,i=e.draggables,o=e.viewport,a=e.afterCritical,s=Mx({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:a});return Fx({pageBorderBoxCenter:s,draggable:n,viewport:o})},lI=function(e){var t=e.state,n=e.dimensions,r=e.viewport;"SNAP"!==t.movementMode&&kE(!1);var i=t.impact,o=r||t.viewport,a=n||t.dimensions,s=a.draggables,l=a.droppables,c=s[t.critical.draggable.id],u=Qx(i);u||kE(!1);var d=l[u],h=aI({impact:i,viewport:o,destination:d,draggables:s}),f=sI({impact:h,draggable:c,droppable:d,draggables:s,viewport:o,afterCritical:t.afterCritical});return oI({impact:h,clientSelection:f,state:t,dimensions:a,viewport:o})},cI=function(e){var t=e.draggable,n=e.home,r=e.draggables,i=e.viewport,o=qx(n.axis,t.displaceBy),a=lx(n.descriptor.id,r),s=a.indexOf(t);-1===s&&kE(!1);var l,c=a.slice(s+1),u=c.reduce((function(e,t){return e[t.descriptor.id]=!0,e}),{}),d={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:o,effected:u};return{impact:{displaced:Sx({afterDragging:c,destination:n,displacedBy:o,last:null,viewport:i.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:(l=t.descriptor,{index:l.index,droppableId:l.droppableId})}},afterCritical:d}},uI=function(e){0},dI=function(e){0},hI=function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,i=r.scroll.diff.value;return t.map((function(e){var t=e.descriptor.droppableId,o=function(e){var t=e.frame;return t||kE(!1),t}(n[t]),a=o.scroll.diff.value,s=function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,i=vE(t.client,n),o=yE(i,r);return aw({},t,{placeholder:aw({},t.placeholder,{client:i}),client:i,page:o})}({draggable:e,offset:VE(i,a),initialWindowScroll:r.scroll.initial});return s}))},fI=function(e){return"SNAP"===e.movementMode},pI=function(e,t,n){var r=function(e,t){return{draggables:e.draggables,droppables:rI(e.droppables,t)}}(e.dimensions,t);return!fI(e)||n?oI({state:e,dimensions:r}):lI({state:e,dimensions:r})};function gI(e){return e.isDragging&&"SNAP"===e.movementMode?aw({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var mI={phase:"IDLE",completed:null,shouldFlush:!1},vI=function(e,t){if(void 0===e&&(e=mI),"FLUSH"===t.type)return aw({},mI,{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&kE(!1);var n=t.payload,r=n.critical,i=n.clientSelection,o=n.viewport,a=n.dimensions,s=n.movementMode,l=a.draggables[r.draggable.id],c=a.droppables[r.droppable.id],u={selection:i,borderBoxCenter:l.client.borderBox.center,offset:UE},d={client:u,page:{selection:VE(u.selection,o.scroll.initial),borderBoxCenter:VE(u.selection,o.scroll.initial),offset:VE(u.selection,o.scroll.diff.value)}},h=ax(a.droppables).every((function(e){return!e.isFixedOnPage})),f=cI({draggable:l,home:c,draggables:a.draggables,viewport:o}),p=f.impact;return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:s,dimensions:a,initial:d,current:d,isWindowScrollAllowed:h,impact:p,afterCritical:f.afterCritical,onLiftImpact:p,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&kE(!1),aw({phase:"COLLECTING"},e,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&kE(!1),function(e){var t=e.state,n=e.published;uI();var r=n.modified.map((function(e){var n=t.dimensions.droppables[e.droppableId];return ZE(n,e.scroll)})),i=aw({},t.dimensions.droppables,{},ix(r)),o=ox(hI({additions:n.additions,updatedDroppables:i,viewport:t.viewport})),a=aw({},t.dimensions.draggables,{},o);n.removals.forEach((function(e){delete a[e]}));var s={droppables:i,draggables:a},l=Qx(t.impact),c=l?s.droppables[l]:null,u=s.draggables[t.critical.draggable.id],d=s.droppables[t.critical.droppable.id],h=cI({draggable:u,home:d,draggables:a,viewport:t.viewport}),f=h.impact,p=h.afterCritical,g=c&&c.isCombineEnabled?t.impact:f,m=nI({pageOffset:t.current.page.offset,draggable:s.draggables[t.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:g,viewport:t.viewport,afterCritical:p});dI();var v=aw({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:m,onLiftImpact:f,dimensions:s,afterCritical:p,forceShouldAnimate:!1});return"COLLECTING"===t.phase?v:aw({phase:"DROP_PENDING"},v,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;Xx(e)||kE(!1);var g=t.payload.client;return GE(g,e.current.client.selection)?e:oI({state:e,clientSelection:g,impact:fI(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return gI(e);if("COLLECTING"===e.phase)return gI(e);Xx(e)||kE(!1);var m=t.payload,v=m.id,y=m.newScroll,b=e.dimensions.droppables[v];if(!b)return e;var w=ZE(b,y);return pI(e,w,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Xx(e)||kE(!1);var E=t.payload,x=E.id,I=E.isEnabled,S=e.dimensions.droppables[x];S||kE(!1),S.isEnabled===I&&kE(!1);var C=aw({},S,{isEnabled:I});return pI(e,C,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Xx(e)||kE(!1);var _=t.payload,T=_.id,N=_.isCombineEnabled,D=e.dimensions.droppables[T];D||kE(!1),D.isCombineEnabled===N&&kE(!1);var k=aw({},D,{isCombineEnabled:N});return pI(e,k,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;Xx(e)||kE(!1),e.isWindowScrollAllowed||kE(!1);var A=t.payload.newScroll;if(GE(e.viewport.scroll.current,A))return gI(e);var R=jx(e.viewport,A);return fI(e)?lI({state:e,viewport:R}):oI({state:e,viewport:R})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!Xx(e))return e;var P=t.payload.maxScroll;if(GE(P,e.viewport.scroll.max))return e;var O=aw({},e.viewport,{scroll:aw({},e.viewport.scroll,{max:P})});return aw({phase:"DRAGGING"},e,{viewport:O})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&kE(!1);var L=Yx({state:e,type:t.type});return L?oI({state:e,impact:L.impact,clientSelection:L.clientSelection,scrollJumpRequest:L.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var M=t.payload.reason;return"COLLECTING"!==e.phase&&kE(!1),aw({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:M})}if("DROP_ANIMATE"===t.type){var j=t.payload,B=j.completed,F=j.dropDuration,U=j.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&kE(!1),{phase:"DROP_ANIMATING",completed:B,dropDuration:F,newHomeClientOffset:U,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},yI=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},bI=function(){return{type:"COLLECTION_STARTING",payload:null}},wI=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},EI=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},xI=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},II=function(e){return{type:"MOVE",payload:e}},SI=function(){return{type:"MOVE_UP",payload:null}},CI=function(){return{type:"MOVE_DOWN",payload:null}},_I=function(){return{type:"MOVE_RIGHT",payload:null}},TI=function(){return{type:"MOVE_LEFT",payload:null}},NI=function(e){return{type:"DROP_COMPLETE",payload:e}},DI=function(e){return{type:"DROP",payload:e}},kI=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}};var AI="cubic-bezier(.2,1,.1,1)",RI={drop:0,combining:.7},PI={drop:.75},OI=.2+"s "+"cubic-bezier(0.2, 0, 0, 1)",LI={fluid:"opacity "+OI,snap:"transform "+OI+", opacity "+OI,drop:function(e){var t=e+"s "+AI;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+OI,placeholder:"height "+OI+", width "+OI+", margin "+OI},MI=function(e){return GE(e,UE)?null:"translate("+e.x+"px, "+e.y+"px)"},jI=MI,BI=function(e,t){var n=MI(e);return n?t?n+" scale("+PI.drop+")":n:null},FI=.33,UI=.55,VI=UI-FI,zI=function(e){var t=e.getState,n=e.dispatch;return function(e){return function(r){if("DROP"===r.type){var i=t(),o=r.payload.reason;if("COLLECTING"!==i.phase){if("IDLE"!==i.phase){"DROP_PENDING"===i.phase&&i.isWaiting&&kE(!1),"DRAGGING"!==i.phase&&"DROP_PENDING"!==i.phase&&kE(!1);var a=i.critical,s=i.dimensions,l=s.draggables[i.critical.draggable.id],c=function(e){var t=e.draggables,n=e.reason,r=e.lastImpact,i=e.home,o=e.viewport,a=e.onLiftImpact;return r.at&&"DROP"===n?"REORDER"===r.at.type?{impact:r,didDropInsideDroppable:!0}:{impact:aw({},r,{displaced:px}),didDropInsideDroppable:!0}:{impact:aI({draggables:t,impact:a,destination:i,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),u=c.impact,d=c.didDropInsideDroppable,h=d?cx(u):null,f=d?ux(u):null,p={index:a.draggable.index,droppableId:a.droppable.id},g={draggableId:l.descriptor.id,type:l.descriptor.type,source:p,reason:o,mode:i.movementMode,destination:h,combine:f},m=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,i=e.viewport,o=e.afterCritical,a=r.draggables,s=r.droppables,l=Qx(t),c=l?s[l]:null,u=s[n.descriptor.droppableId],d=sI({impact:t,draggable:n,draggables:a,afterCritical:o,droppable:c||u,viewport:i});return zE(d,n.client.borderBox.center)}({impact:u,draggable:l,dimensions:s,viewport:i.viewport,afterCritical:i.afterCritical}),v={critical:i.critical,afterCritical:i.afterCritical,result:g,impact:u};if(!GE(i.current.client.offset,m)||Boolean(g.combine)){var y=function(e){var t=e.current,n=e.destination,r=e.reason,i=WE(t,n);if(i<=0)return FI;if(i>=1500)return UI;var o=FI+VI*(i/1500);return Number(("CANCEL"===r?.6*o:o).toFixed(2))}({current:i.current.client.offset,destination:m,reason:o});n(function(e){return{type:"DROP_ANIMATE",payload:e}}({newHomeClientOffset:m,dropDuration:y,completed:v}))}else n(NI({completed:v}))}}else n(function(e){return{type:"DROP_PENDING",payload:e}}({reason:o}))}else e(r)}}},GI=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function $I(e){var t=e.onWindowScroll;var n=SE((function(){t(GI())})),r=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(t){t.target!==window&&t.target!==window.document||e()}}}(n),i=_E;function o(){return i!==_E}return{start:function(){o()&&kE(!1),i=TE(window,[r])},stop:function(){o()||kE(!1),n.cancel(),i(),i=_E},isActive:o}}var qI=function(e){var t=$I({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(n){t.isActive()||"INITIAL_PUBLISH"!==n.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(n)&&t.stop(),e(n)}}},WI=function(){var e=[];return{add:function(t){var n=setTimeout((function(){return function(t){var n=tx(e,(function(e){return e.timerId===t}));-1===n&&kE(!1),e.splice(n,1)[0].callback()}(n)})),r={timerId:n,callback:t};e.push(r)},flush:function(){if(e.length){var t=[].concat(e);e.length=0,t.forEach((function(e){clearTimeout(e.timerId),e.callback()}))}}}},HI=function(e,t){uI(),t(),dI()},KI=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},QI=function(e,t,n,r){if(e){var i=function(e){var t=!1,n=!1,r=setTimeout((function(){n=!0})),i=function(i){t||n||(t=!0,e(i),clearTimeout(r))};return i.wasCalled=function(){return t},i}(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}else n(r(t))},YI=function(e,t){var n=function(e,t){var n=WI(),r=null,i=function(n){r||kE(!1),r=null,HI(0,(function(){return QI(e().onDragEnd,n,t,FE)}))};return{beforeCapture:function(t,n){r&&kE(!1),HI(0,(function(){var r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})}))},beforeStart:function(t,n){r&&kE(!1),HI(0,(function(){var r=e().onBeforeDragStart;r&&r(KI(t,n))}))},start:function(i,o){r&&kE(!1);var a=KI(i,o);r={mode:o,lastCritical:i,lastLocation:a.source,lastCombine:null},n.add((function(){HI(0,(function(){return QI(e().onDragStart,a,t,jE)}))}))},update:function(i,o){var a=cx(o),s=ux(o);r||kE(!1);var l=!function(e,t){if(e===t)return!0;var n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r}(i,r.lastCritical);l&&(r.lastCritical=i);var c,u,d=(u=a,!(null==(c=r.lastLocation)&&null==u||null!=c&&null!=u&&c.droppableId===u.droppableId&&c.index===u.index));d&&(r.lastLocation=a);var h=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId}(r.lastCombine,s);if(h&&(r.lastCombine=s),l||d||h){var f=aw({},KI(i,r.mode),{combine:s,destination:a});n.add((function(){HI(0,(function(){return QI(e().onDragUpdate,f,t,BE)}))}))}},flush:function(){r||kE(!1),n.flush()},drop:i,abort:function(){if(r){var e=aw({},KI(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});i(e)}}}}(e,t);return function(e){return function(t){return function(r){if("BEFORE_INITIAL_CAPTURE"!==r.type){if("INITIAL_PUBLISH"===r.type){var i=r.payload.critical;return n.beforeStart(i,r.payload.movementMode),t(r),void n.start(i,r.payload.movementMode)}if("DROP_COMPLETE"===r.type){var o=r.payload.completed.result;return n.flush(),t(r),void n.drop(o)}if(t(r),"FLUSH"!==r.type){var a=e.getState();"DRAGGING"===a.phase&&n.update(a.critical,a.impact)}else n.abort()}else n.beforeCapture(r.payload.draggableId,r.payload.movementMode)}}}},XI=function(e){return function(t){return function(n){if("DROP_ANIMATION_FINISHED"===n.type){var r=e.getState();"DROP_ANIMATING"!==r.phase&&kE(!1),e.dispatch(NI({completed:r.completed}))}else t(n)}}},JI=function(e){var t=null,n=null;return function(r){return function(i){if("FLUSH"!==i.type&&"DROP_COMPLETE"!==i.type&&"DROP_ANIMATION_FINISHED"!==i.type||(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(i),"DROP_ANIMATE"===i.type){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame((function(){n=null,t=TE(window,[o])}))}}}},ZI=function(e){return function(t){return function(n){if(t(n),"PUBLISH_WHILE_DRAGGING"===n.type){var r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(DI({reason:r.reason})))}}}},eS=ww,tS=function(e){var t,n=e.dimensionMarshal,r=e.focusMarshal,i=e.styleMarshal,o=e.getResponders,a=e.announce,s=e.autoScroller;return vw(vI,eS(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(hw(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return r=ww.apply(void 0,o)(n.dispatch),dw(dw({},n),{},{dispatch:r})}}}((t=i,function(){return function(e){return function(n){"INITIAL_PUBLISH"===n.type&&t.dragging(),"DROP_ANIMATE"===n.type&&t.dropping(n.payload.completed.result.reason),"FLUSH"!==n.type&&"DROP_COMPLETE"!==n.type||t.resting(),e(n)}}}),function(e){return function(){return function(t){return function(n){"DROP_COMPLETE"!==n.type&&"FLUSH"!==n.type&&"DROP_ANIMATE"!==n.type||e.stopPublishing(),t(n)}}}}(n),function(e){return function(t){var n=t.getState,r=t.dispatch;return function(t){return function(i){if("LIFT"===i.type){var o=i.payload,a=o.id,s=o.clientSelection,l=o.movementMode,c=n();"DROP_ANIMATING"===c.phase&&r(NI({completed:c.completed})),"IDLE"!==n().phase&&kE(!1),r({type:"FLUSH",payload:null}),r({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:a,movementMode:l}});var u={draggableId:a,scrollOptions:{shouldPublishImmediately:"SNAP"===l}},d=e.startPublishing(u),h=d.critical,f=d.dimensions,p=d.viewport;r({type:"INITIAL_PUBLISH",payload:{critical:h,dimensions:f,clientSelection:s,movementMode:l,viewport:p}})}else t(i)}}}}(n),zI,XI,JI,ZI,function(e){return function(t){return function(n){return function(r){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(r))return e.stop(),void n(r);if("INITIAL_PUBLISH"===r.type){n(r);var i=t.getState();return"DRAGGING"!==i.phase&&kE(!1),void e.start(i)}n(r),e.scroll(t.getState())}}}}(s),qI,function(e){var t=!1;return function(){return function(n){return function(r){if("INITIAL_PUBLISH"===r.type)return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if("FLUSH"===r.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===r.type){t=!1;var i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(r),YI(o,a))))};var nS=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,i=e.width,o=zE({x:n,y:t},{x:i,y:r});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},rS=function(){var e=document.documentElement;return e||kE(!1),e},iS=function(){var e=rS();return nS({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},oS=function(e){var t=e.critical,n=e.scrollOptions,r=e.registry;uI();var i=function(){var e=GI(),t=iS(),n=e.y,r=e.x,i=rS(),o=i.clientWidth,a=i.clientHeight;return{frame:dE({top:n,left:r,right:r+o,bottom:n+a}),scroll:{initial:e,current:e,max:t,diff:{value:UE,displacement:UE}}}}(),o=i.scroll.current,a=t.droppable,s=r.droppable.getAllByType(a.type).map((function(e){return e.callbacks.getDimensionAndWatchScroll(o,n)})),l=r.draggable.getAllByType(t.draggable.type).map((function(e){return e.getDimension(o)})),c={draggables:ox(l),droppables:ix(s)};return dI(),{dimensions:c,critical:t,viewport:i}};function aS(e,t,n){return n.descriptor.id!==t.id&&(n.descriptor.type===t.type&&"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode)}var sS=function(e,t){var n=null,r=function(e){var t=e.registry,n=e.callbacks,r={additions:{},removals:{},modified:{}},i=null,o=function(){i||(n.collectionStarting(),i=requestAnimationFrame((function(){i=null,uI();var e=r,o=e.additions,a=e.removals,s=e.modified,l=Object.keys(o).map((function(e){return t.draggable.getById(e).getDimension(UE)})).sort((function(e,t){return e.descriptor.index-t.descriptor.index})),c=Object.keys(s).map((function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}})),u={additions:l,removals:Object.keys(a),modified:c};r={additions:{},removals:{},modified:{}},dI(),n.publish(u)})))};return{add:function(e){var t=e.descriptor.id;r.additions[t]=e,r.modified[e.descriptor.droppableId]=!0,r.removals[t]&&delete r.removals[t],o()},remove:function(e){var t=e.descriptor;r.removals[t.id]=!0,r.modified[t.droppableId]=!0,r.additions[t.id]&&delete r.additions[t.id],o()},stop:function(){i&&(cancelAnimationFrame(i),i=null,r={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=function(t){n||kE(!1);var i=n.critical.draggable;"ADDITION"===t.type&&aS(e,i,t.value)&&r.add(t.value),"REMOVAL"===t.type&&aS(e,i,t.value)&&r.remove(t.value)},o={updateDroppableIsEnabled:function(r,i){e.droppable.exists(r)||kE(!1),n&&t.updateDroppableIsEnabled({id:r,isEnabled:i})},updateDroppableIsCombineEnabled:function(r,i){n&&(e.droppable.exists(r)||kE(!1),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:i}))},scrollDroppable:function(t,r){n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:function(r,i){n&&(e.droppable.exists(r)||kE(!1),t.updateDroppableScroll({id:r,newScroll:i}))},startPublishing:function(t){n&&kE(!1);var r=e.draggable.getById(t.draggableId),o=e.droppable.getById(r.descriptor.droppableId),a={draggable:r.descriptor,droppable:o.descriptor},s=e.subscribe(i);return n={critical:a,unsubscribe:s},oS({critical:a,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(n){r.stop();var t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach((function(e){return e.callbacks.dragStopped()})),n.unsubscribe(),n=null}}};return o},lS=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason)},cS=function(e){window.scrollBy(e.x,e.y)},uS=IE((function(e){return ax(e).filter((function(e){return!!e.isEnabled&&!!e.frame}))})),dS=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var i=r[n];return i.frame?i:null}var o=function(e,t){var n=nx(uS(t),(function(t){return t.frame||kE(!1),Jx(t.frame.pageMarginBox)(e)}));return n}(t,r);return o},hS=.25,fS=.05,pS=28,gS=function(e){return Math.pow(e,2)},mS={stopDampeningAt:1200,accelerateAt:360},vS=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,i=n-t;return 0===i?0:(r-t)/i},yS=mS.accelerateAt,bS=mS.stopDampeningAt,wS=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,i=e.shouldUseTimeDampening,o=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return pS;if(e===t.startScrollingFrom)return 1;var n=vS({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=pS*gS(1-n);return Math.ceil(r)}(t,n);return 0===o?0:i?Math.max(function(e,t){var n=t,r=bS,i=Date.now()-n;if(i>=bS)return e;if(i<yS)return 1;var o=vS({startOfRange:yS,endOfRange:r,current:i}),a=e*gS(o);return Math.ceil(a)}(o,r),1):o},ES=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,i=e.axis,o=e.shouldUseTimeDampening,a=function(e,t){return{startScrollingFrom:e[t.size]*hS,maxScrollValueAt:e[t.size]*fS}}(t,i);return n[i.end]<n[i.start]?wS({distanceToEdge:n[i.end],thresholds:a,dragStartTime:r,shouldUseTimeDampening:o}):-1*wS({distanceToEdge:n[i.start],thresholds:a,dragStartTime:r,shouldUseTimeDampening:o})},xS=KE((function(e){return 0===e?0:e})),IS=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,i=e.center,o=e.shouldUseTimeDampening,a={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},s=ES({container:n,distanceToEdges:a,dragStartTime:t,axis:bx,shouldUseTimeDampening:o}),l=ES({container:n,distanceToEdges:a,dragStartTime:t,axis:wx,shouldUseTimeDampening:o}),c=xS({x:l,y:s});if(GE(c,UE))return null;var u=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,i=n.height>t.height,o=n.width>t.width;return o||i?o&&i?null:{x:o?0:r.x,y:i?0:r.y}:r}({container:n,subject:r,proposedScroll:c});return u?GE(u,UE)?null:u:null},SS=KE((function(e){return 0===e?0:e>0?1:-1})),CS=function(){var e=function(e,t){return e<0?e:e>t?e-t:0};return function(t){var n=t.current,r=t.max,i=t.change,o=VE(n,i),a={x:e(o.x,r.x),y:e(o.y,r.y)};return GE(a,UE)?null:a}}(),_S=function(e){var t=e.max,n=e.current,r=e.change,i={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},o=SS(r),a=CS({max:i,current:n,change:o});return!a||(0!==o.x&&0===a.x||0!==o.y&&0===a.y)},TS=function(e,t){return _S({current:e.scroll.current,max:e.scroll.max,change:t})},NS=function(e,t){var n=e.frame;return!!n&&_S({current:n.scroll.current,max:n.scroll.max,change:t})},DS=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,i=e.scrollWindow,o=e.scrollDroppable,a=t.current.page.borderBoxCenter,s=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var l=function(e){var t=e.viewport,n=e.subject,r=e.center,i=e.dragStartTime,o=e.shouldUseTimeDampening,a=IS({dragStartTime:i,container:t.frame,subject:n,center:r,shouldUseTimeDampening:o});return a&&TS(t,a)?a:null}({dragStartTime:n,viewport:t.viewport,subject:s,center:a,shouldUseTimeDampening:r});if(l)return void i(l)}var c=dS({center:a,destination:Qx(t.impact),droppables:t.dimensions.droppables});if(c){var u=function(e){var t=e.droppable,n=e.subject,r=e.center,i=e.dragStartTime,o=e.shouldUseTimeDampening,a=t.frame;if(!a)return null;var s=IS({dragStartTime:i,container:a.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:o});return s&&NS(t,s)?s:null}({dragStartTime:n,droppable:c,subject:s,center:a,shouldUseTimeDampening:r});u&&o(c.descriptor.id,u)}},kS=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow,i=function(e,t){if(!NS(e,t))return t;var r=function(e,t){var n=e.frame;return n&&NS(e,t)?CS({current:n.scroll.current,max:n.scroll.max,change:t}):null}(e,t);if(!r)return n(e.descriptor.id,t),null;var i=zE(t,r);return n(e.descriptor.id,i),zE(t,i)},o=function(e,t,n){if(!e)return n;if(!TS(t,n))return n;var i=function(e,t){if(!TS(e,t))return null;var n=e.scroll.max,r=e.scroll.current;return CS({current:r,max:n,change:t})}(t,n);if(!i)return r(n),null;var o=zE(n,i);return r(o),zE(n,o)};return function(e){var n=e.scrollJumpRequest;if(n){var r=Qx(e.impact);r||kE(!1);var a=i(e.dimensions.droppables[r],n);if(a){var s=e.viewport,l=o(e.isWindowScrollAllowed,s,a);l&&function(e,n){var r=VE(e.current.client.selection,n);t({client:r})}(e,l)}}}},AS=function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,i=function(e){var t=e.scrollWindow,n=e.scrollDroppable,r=SE(t),i=SE(n),o=null,a=function(e){o||kE(!1);var t=o,n=t.shouldUseTimeDampening,a=t.dragStartTime;DS({state:e,scrollWindow:r,scrollDroppable:i,dragStartTime:a,shouldUseTimeDampening:n})};return{start:function(e){uI(),o&&kE(!1);var t=Date.now(),n=!1,r=function(){n=!0};DS({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:r,scrollDroppable:r}),o={dragStartTime:t,shouldUseTimeDampening:n},dI(),n&&a(e)},stop:function(){o&&(r.cancel(),i.cancel(),o=null)},scroll:a}}({scrollWindow:n,scrollDroppable:t}),o=kS({move:r,scrollWindow:n,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&o(e):i.scroll(e))},start:i.start,stop:i.stop}},RS="data-rbd",PS=function(){var e=RS+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),OS=function(){var e=RS+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),LS=function(){var e=RS+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),MS={contextId:RS+"-scroll-container-context-id"},jS=function(e,t){return e.map((function(e){var n=e.styles[t];return n?e.selector+" { "+n+" }":""})).join(" ")},BS="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?i.useLayoutEffect:i.useEffect,FS=function(){var e=document.querySelector("head");return e||kE(!1),e},US=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function VS(e,t){var n=lE((function(){return function(e){var t,n=(t=e,function(e){return"["+e+'="'+t+'"]'}),r=function(){var e="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ";return{selector:n(PS.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:e,dragging:"pointer-events: none;",dropAnimating:e}}}(),i=[function(){var e="\n      transition: "+LI.outOfTheWay+";\n    ";return{selector:n(OS.contextId),styles:{dragging:e,dropAnimating:e,userCancel:e}}}(),r,{selector:n(LS.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:jS(i,"always"),resting:jS(i,"resting"),dragging:jS(i,"dragging"),dropAnimating:jS(i,"dropAnimating"),userCancel:jS(i,"userCancel")}}(e)}),[e]),r=(0,i.useRef)(null),o=(0,i.useRef)(null),a=cE(IE((function(e){var t=o.current;t||kE(!1),t.textContent=e})),[]),s=cE((function(e){var t=r.current;t||kE(!1),t.textContent=e}),[]);BS((function(){(r.current||o.current)&&kE(!1);var i=US(t),l=US(t);return r.current=i,o.current=l,i.setAttribute(RS+"-always",e),l.setAttribute(RS+"-dynamic",e),FS().appendChild(i),FS().appendChild(l),s(n.always),a(n.resting),function(){var e=function(e){var t=e.current;t||kE(!1),FS().removeChild(t),e.current=null};e(r),e(o)}}),[t,s,a,n.always,n.resting,e]);var l=cE((function(){return a(n.dragging)}),[a,n.dragging]),c=cE((function(e){a("DROP"!==e?n.userCancel:n.dropAnimating)}),[a,n.dropAnimating,n.userCancel]),u=cE((function(){o.current&&a(n.resting)}),[a,n.resting]);return lE((function(){return{dragging:l,dropping:c,resting:u}}),[l,c,u])}var zS=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function GS(e){return e instanceof zS(e).HTMLElement}function $S(e,t){var n="["+PS.contextId+'="'+e+'"]',r=rx(document.querySelectorAll(n));if(!r.length)return null;var i=nx(r,(function(e){return e.getAttribute(PS.draggableId)===t}));return i&&GS(i)?i:null}function qS(){var e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach((function(t){return t(e)}))}function r(t){return e.draggables[t]||null}var i={register:function(t){e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:function(t,n){var r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var i=t.descriptor.id,o=r(i);o&&t.uniqueId===o.uniqueId&&(delete e.draggables[i],n({type:"REMOVAL",value:t}))},getById:function(e){var t=r(e);return t||kE(!1),t},findById:r,exists:function(e){return Boolean(r(e))},getAllByType:function(t){return ex(e.draggables).filter((function(e){return e.descriptor.type===t}))}};function o(t){return e.droppables[t]||null}var a={register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var n=o(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=o(e);return t||kE(!1),t},findById:o,exists:function(e){return Boolean(o(e))},getAllByType:function(t){return ex(e.droppables).filter((function(e){return e.descriptor.type===t}))}};return{draggable:i,droppable:a,subscribe:function(e){return t.push(e),function(){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var WS=i.createContext(null),HS=function(){var e=document.body;return e||kE(!1),e},KS={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};var QS=0,YS={separator:"::"};function XS(e,t){return void 0===t&&(t=YS),lE((function(){return""+e+t.separator+QS++}),[t.separator,e])}var JS=i.createContext(null);function ZS(e){0}function eC(e,t){ZS()}function tC(){eC()}function nC(e){var t=(0,i.useRef)(e);return(0,i.useEffect)((function(){t.current=e})),t}var rC,iC=((rC={})[13]=!0,rC[9]=!0,rC),oC=function(e){iC[e.keyCode]&&e.preventDefault()},aC=function(){var e="visibilitychange";return"undefined"===typeof document?e:nx([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],(function(e){return"on"+e in document}))||e}();var sC,lC={type:"IDLE"};function cC(e){var t=e.cancel,n=e.completed,r=e.getPhase,i=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t=e.button,n=e.clientX,o=e.clientY;if(0===t){var a={x:n,y:o},s=r();if("DRAGGING"===s.type)return e.preventDefault(),void s.actions.move(a);"PENDING"!==s.type&&kE(!1);var l=s.point;if(c=l,u=a,Math.abs(u.x-c.x)>=5||Math.abs(u.y-c.y)>=5){var c,u;e.preventDefault();var d=s.actions.fluidLift(a);i({type:"DRAGGING",actions:d})}}}},{eventName:"mouseup",fn:function(e){var i=r();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===r().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==r().type)return 27===e.keyCode?(e.preventDefault(),void t()):void oC(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===r().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var n=r();"IDLE"===n.type&&kE(!1),n.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:aC,fn:t}]}function uC(){}var dC=((sC={})[34]=!0,sC[33]=!0,sC[36]=!0,sC[35]=!0,sC);function hC(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:function(r){return 27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(dC[r.keyCode]?r.preventDefault():oC(r))}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:aC,fn:n}]}var fC={type:"IDLE"};var pC={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function gC(e,t){if(null==t)return!1;if(Boolean(pC[t.tagName.toLowerCase()]))return!0;var n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&gC(e,t.parentElement)}function mC(e,t){var n=t.target;return!!GS(n)&&gC(e,n)}var vC=function(e){return dE(e.getBoundingClientRect()).center};var yC=function(){var e="matches";return"undefined"===typeof document?e:nx([e,"msMatchesSelector","webkitMatchesSelector"],(function(e){return e in Element.prototype}))||e}();function bC(e,t){return null==e?null:e[yC](t)?e:bC(e.parentElement,t)}function wC(e,t){return e.closest?e.closest(t):bC(e,t)}function EC(e,t){var n=t.target;if(!function(e){return e instanceof zS(e).Element}(n))return null;var r=function(e){return"["+PS.contextId+'="'+e+'"]'}(e),i=wC(n,r);return i&&GS(i)?i:null}function xC(e){e.preventDefault()}function IC(e){var t=e.expected,n=e.phase,r=e.isLockActive;e.shouldWarn;return!!r()&&t===n}function SC(e){var t=e.lockAPI,n=e.store,r=e.registry,i=e.draggableId;if(t.isClaimed())return!1;var o=r.draggable.findById(i);return!!o&&(!!o.options.isEnabled&&!!lS(n.getState(),i))}function CC(e){var t=e.lockAPI,n=e.contextId,r=e.store,i=e.registry,o=e.draggableId,a=e.forceSensorStop,s=e.sourceEvent;if(!SC({lockAPI:t,store:r,registry:i,draggableId:o}))return null;var l=i.draggable.getById(o),c=function(e,t){var n="["+OS.contextId+'="'+e+'"]',r=nx(rx(document.querySelectorAll(n)),(function(e){return e.getAttribute(OS.id)===t}));return r&&GS(r)?r:null}(n,l.descriptor.id);if(!c)return null;if(s&&!l.options.canDragInteractiveElements&&mC(c,s))return null;var u=t.claim(a||_E),d="PRE_DRAG";function h(){return l.options.shouldRespectForcePress}function f(){return t.isActive(u)}var p=function(e,t){IC({expected:e,phase:d,isLockActive:f,shouldWarn:!0})&&r.dispatch(t())}.bind(null,"DRAGGING");function g(e){function n(){t.release(),d="COMPLETED"}function i(t,i){if(void 0===i&&(i={shouldBlockNextClick:!1}),e.cleanup(),i.shouldBlockNextClick){var o=TE(window,[{eventName:"click",fn:xC,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(o)}n(),r.dispatch(DI({reason:t}))}return"PRE_DRAG"!==d&&(n(),"PRE_DRAG"!==d&&kE(!1)),r.dispatch(function(e){return{type:"LIFT",payload:e}}(e.liftActionArgs)),d="DRAGGING",aw({isActive:function(){return IC({expected:"DRAGGING",phase:d,isLockActive:f,shouldWarn:!1})},shouldRespectForcePress:h,drop:function(e){return i("DROP",e)},cancel:function(e){return i("CANCEL",e)}},e.actions)}var m={isActive:function(){return IC({expected:"PRE_DRAG",phase:d,isLockActive:f,shouldWarn:!1})},shouldRespectForcePress:h,fluidLift:function(e){var t=SE((function(e){p((function(){return II({client:e})}))}));return aw({},g({liftActionArgs:{id:o,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}}),{move:t})},snapLift:function(){var e={moveUp:function(){return p(SI)},moveRight:function(){return p(_I)},moveDown:function(){return p(CI)},moveLeft:function(){return p(TI)}};return g({liftActionArgs:{id:o,clientSelection:vC(c),movementMode:"SNAP"},cleanup:_E,actions:e})},abort:function(){IC({expected:"PRE_DRAG",phase:d,isLockActive:f,shouldWarn:!0})&&t.release()}};return m}var _C=[function(e){var t=(0,i.useRef)(lC),n=(0,i.useRef)(_E),r=lE((function(){return{eventName:"mousedown",fn:function(t){if(!t.defaultPrevented&&0===t.button&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var r=e.findClosestDraggableId(t);if(r){var i=e.tryGetLock(r,s,{sourceEvent:t});if(i){t.preventDefault();var o={x:t.clientX,y:t.clientY};n.current(),u(i,o)}}}}}}),[e]),o=lE((function(){return{eventName:"webkitmouseforcewillbegin",fn:function(t){if(!t.defaultPrevented){var n=e.findClosestDraggableId(t);if(n){var r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}}}}}),[e]),a=cE((function(){n.current=TE(window,[o,r],{passive:!1,capture:!0})}),[o,r]),s=cE((function(){"IDLE"!==t.current.type&&(t.current=lC,n.current(),a())}),[a]),l=cE((function(){var e=t.current;s(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[s]),c=cE((function(){var e=cC({cancel:l,completed:s,getPhase:function(){return t.current},setPhase:function(e){t.current=e}});n.current=TE(window,e,{capture:!0,passive:!1})}),[l,s]),u=cE((function(e,n){"IDLE"!==t.current.type&&kE(!1),t.current={type:"PENDING",point:n,actions:e},c()}),[c]);BS((function(){return a(),function(){n.current()}}),[a])},function(e){var t=(0,i.useRef)(uC),n=lE((function(){return{eventName:"keydown",fn:function(n){if(!n.defaultPrevented&&32===n.keyCode){var i=e.findClosestDraggableId(n);if(i){var o=e.tryGetLock(i,l,{sourceEvent:n});if(o){n.preventDefault();var a=!0,s=o.snapLift();t.current(),t.current=TE(window,hC(s,l),{capture:!0,passive:!1})}}}function l(){a||kE(!1),a=!1,t.current(),r()}}}}),[e]),r=cE((function(){t.current=TE(window,[n],{passive:!1,capture:!0})}),[n]);BS((function(){return r(),function(){t.current()}}),[r])},function(e){var t=(0,i.useRef)(fC),n=(0,i.useRef)(_E),r=cE((function(){return t.current}),[]),o=cE((function(e){t.current=e}),[]),a=lE((function(){return{eventName:"touchstart",fn:function(t){if(!t.defaultPrevented){var r=e.findClosestDraggableId(t);if(r){var i=e.tryGetLock(r,l,{sourceEvent:t});if(i){var o=t.touches[0],a={x:o.clientX,y:o.clientY};n.current(),h(i,a)}}}}}}),[e]),s=cE((function(){n.current=TE(window,[a],{capture:!0,passive:!1})}),[a]),l=cE((function(){var e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),o(fC),n.current(),s())}),[s,o]),c=cE((function(){var e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[l]),u=cE((function(){var e={capture:!0,passive:!1},t={cancel:c,completed:l,getPhase:r},i=TE(window,function(e){var t=e.cancel,n=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var n=r();if("DRAGGING"===n.type){n.hasMoved=!0;var i=e.touches[0],o={x:i.clientX,y:i.clientY};e.preventDefault(),n.actions.move(o)}else t()}},{eventName:"touchend",fn:function(e){var i=r();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===r().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var n=r();"IDLE"===n.type&&kE(!1);var i=e.touches[0];if(i&&i.force>=.15){var o=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return o?n.hasMoved?void e.preventDefault():void t():void e.preventDefault();o&&t()}}},{eventName:aC,fn:t}]}(t),e),o=TE(window,function(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===n().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:aC,fn:t}]}(t),e);n.current=function(){i(),o()}}),[c,r,l]),d=cE((function(){var e=r();"PENDING"!==e.type&&kE(!1);var t=e.actions.fluidLift(e.point);o({type:"DRAGGING",actions:t,hasMoved:!1})}),[r,o]),h=cE((function(e,t){"IDLE"!==r().type&&kE(!1);var n=setTimeout(d,120);o({type:"PENDING",point:t,actions:e,longPressTimerId:n}),u()}),[u,r,o,d]);BS((function(){return s(),function(){n.current();var e=r();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),o(fC))}}),[r,s,o]),BS((function(){return TE(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])}),[])}];function TC(e){var t=e.contextId,n=e.store,r=e.registry,o=e.customSensors,a=e.enableDefaultSensors,s=[].concat(a?_C:[],o||[]),l=(0,i.useState)((function(){return function(){var e=null;function t(){e||kE(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&kE(!1);var n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()}))[0],c=cE((function(e,t){e.isDragging&&!t.isDragging&&l.tryAbandon()}),[l]);BS((function(){var e=n.getState();return n.subscribe((function(){var t=n.getState();c(e,t),e=t}))}),[l,n,c]),BS((function(){return l.tryAbandon}),[l.tryAbandon]);var u=cE((function(e){return SC({lockAPI:l,registry:r,store:n,draggableId:e})}),[l,r,n]),d=cE((function(e,i,o){return CC({lockAPI:l,registry:r,contextId:t,store:n,draggableId:e,forceSensorStop:i,sourceEvent:o&&o.sourceEvent?o.sourceEvent:null})}),[t,l,r,n]),h=cE((function(e){return function(e,t){var n=EC(e,t);return n?n.getAttribute(PS.draggableId):null}(t,e)}),[t]),f=cE((function(e){var t=r.draggable.findById(e);return t?t.options:null}),[r.draggable]),p=cE((function(){l.isClaimed()&&(l.tryAbandon(),"IDLE"!==n.getState().phase&&n.dispatch({type:"FLUSH",payload:null}))}),[l,n]),g=cE(l.isClaimed,[l]),m=lE((function(){return{canGetLock:u,tryGetLock:d,findClosestDraggableId:h,findOptionsForDraggable:f,tryReleaseLock:p,isLockClaimed:g}}),[u,d,h,f,p,g]);ZS();for(var v=0;v<s.length;v++)s[v](m)}function NC(e){return e.current||kE(!1),e.current}function DC(e){var t=e.contextId,n=e.setCallbacks,r=e.sensors,o=e.nonce,a=e.dragHandleUsageInstructions,s=(0,i.useRef)(null);tC();var l=nC(e),c=cE((function(){return function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}}(l.current)}),[l]),u=function(e){var t=lE((function(){return function(e){return"rbd-announcement-"+e}(e)}),[e]),n=(0,i.useRef)(null);(0,i.useEffect)((function(){var e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),aw(e.style,KS),HS().appendChild(e),function(){setTimeout((function(){var t=HS();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)}))}}),[t]);var r=cE((function(e){var t=n.current;t&&(t.textContent=e)}),[]);return r}(t),d=function(e){var t=e.contextId,n=e.text,r=XS("hidden-text",{separator:"-"}),o=lE((function(){return"rbd-hidden-text-"+(e={contextId:t,uniqueId:r}).contextId+"-"+e.uniqueId;var e}),[r,t]);return(0,i.useEffect)((function(){var e=document.createElement("div");return e.id=o,e.textContent=n,e.style.display="none",HS().appendChild(e),function(){var t=HS();t.contains(e)&&t.removeChild(e)}}),[o,n]),o}({contextId:t,text:a}),h=VS(t,o),f=cE((function(e){NC(s).dispatch(e)}),[]),p=lE((function(){return bw({publishWhileDragging:yI,updateDroppableScroll:wI,updateDroppableIsEnabled:EI,updateDroppableIsCombineEnabled:xI,collectionStarting:bI},f)}),[f]),g=function(){var e=lE(qS,[]);return(0,i.useEffect)((function(){return function(){requestAnimationFrame(e.clean)}}),[e]),e}(),m=lE((function(){return sS(g,p)}),[g,p]),v=lE((function(){return AS(aw({scrollWindow:cS,scrollDroppable:m.scrollDroppable},bw({move:II},f)))}),[m.scrollDroppable,f]),y=function(e){var t=(0,i.useRef)({}),n=(0,i.useRef)(null),r=(0,i.useRef)(null),o=(0,i.useRef)(!1),a=cE((function(e,n){var r={id:e,focus:n};return t.current[e]=r,function(){var n=t.current;n[e]!==r&&delete n[e]}}),[]),s=cE((function(t){var n=$S(e,t);n&&n!==document.activeElement&&n.focus()}),[e]),l=cE((function(e,t){n.current===e&&(n.current=t)}),[]),c=cE((function(){r.current||o.current&&(r.current=requestAnimationFrame((function(){r.current=null;var e=n.current;e&&s(e)})))}),[s]),u=cE((function(e){n.current=null;var t=document.activeElement;t&&t.getAttribute(PS.draggableId)===e&&(n.current=e)}),[]);return BS((function(){return o.current=!0,function(){o.current=!1;var e=r.current;e&&cancelAnimationFrame(e)}}),[]),lE((function(){return{register:a,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l}}),[a,u,c,l])}(t),b=lE((function(){return tS({announce:u,autoScroller:v,dimensionMarshal:m,focusMarshal:y,getResponders:c,styleMarshal:h})}),[u,v,m,y,c,h]);s.current=b;var w=cE((function(){var e=NC(s);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})}),[]),E=cE((function(){var e=NC(s).getState();return e.isDragging||"DROP_ANIMATING"===e.phase}),[]);n(lE((function(){return{isDragging:E,tryAbort:w}}),[E,w]));var x=cE((function(e){return lS(NC(s).getState(),e)}),[]),I=cE((function(){return Xx(NC(s).getState())}),[]),S=lE((function(){return{marshal:m,focus:y,contextId:t,canLift:x,isMovementAllowed:I,dragHandleUsageInstructionsId:d,registry:g}}),[t,m,d,y,x,I,g]);return TC({contextId:t,store:b,registry:g,customSensors:r,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,i.useEffect)((function(){return w}),[w]),i.createElement(JS.Provider,{value:S},i.createElement(Tw,{context:WS,store:b},e.children))}var kC=0;function AC(e){var t=lE((function(){return""+kC++}),[]),n=e.dragHandleUsageInstructions||ME;return i.createElement(AE,null,(function(r){return i.createElement(DC,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)}))}var RC=function(e){return function(t){return e===t}},PC=RC("scroll"),OC=RC("auto"),LC=(RC("visible"),function(e,t){return t(e.overflowX)||t(e.overflowY)}),MC=function(e){var t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return LC(n,PC)||LC(n,OC)},jC=function e(t){return null==t||t===document.body||t===document.documentElement?null:MC(t)?t:e(t.parentElement)},BC=function(e){return{x:e.scrollLeft,y:e.scrollTop}},FC=function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))},UC=function(e){return{closestScrollable:jC(e),isFixedOnPage:FC(e)}},VC=function(e){var t=e.ref,n=e.descriptor,r=e.env,i=e.windowScroll,o=e.direction,a=e.isDropDisabled,s=e.isCombineEnabled,l=e.shouldClipSubject,c=r.closestScrollable,u=function(e,t){var n=wE(e);if(!t)return n;if(e!==t)return n;var r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,o=r+t.scrollHeight,a=i+t.scrollWidth,s=hE({top:r,right:a,bottom:o,left:i},n.border);return gE({borderBox:s,margin:n.margin,border:n.border,padding:n.padding})}(t,c),d=yE(u,i),h=function(){if(!c)return null;var e=wE(c),t={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:e,page:yE(e,i),scroll:BC(c),scrollSize:t,shouldClipSubject:l}}(),f=function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,i=e.isFixedOnPage,o=e.direction,a=e.client,s=e.page,l=e.closest,c=function(){if(!l)return null;var e=l.scrollSize,t=l.client,n=nS({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:n,diff:{value:UE,displacement:UE}}}}(),u="vertical"===o?bx:wx;return{descriptor:t,isCombineEnabled:r,isFixedOnPage:i,axis:u,isEnabled:n,client:a,page:s,frame:c,subject:JE({page:s,withPlaceholder:null,axis:u,frame:c})}}({descriptor:n,isEnabled:!a,isCombineEnabled:s,isFixedOnPage:r.isFixedOnPage,direction:o,client:u,page:d,closest:h});return f},zC={passive:!1},GC={passive:!0},$C=function(e){return e.shouldPublishImmediately?zC:GC};function qC(e){var t=(0,i.useContext)(e);return t||kE(!1),t}var WC=function(e){return e&&e.env.closestScrollable||null};function HC(){}var KC={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},QC=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate,i=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate;return t||"close"===r?KC:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}}({isAnimatingOpenOnMount:t,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==r?LI.placeholder:null}};var YC=i.memo((function(e){var t=(0,i.useRef)(null),n=cE((function(){t.current&&(clearTimeout(t.current),t.current=null)}),[]),r=e.animate,o=e.onTransitionEnd,a=e.onClose,s=e.contextId,l=(0,i.useState)("open"===e.animate),c=l[0],u=l[1];(0,i.useEffect)((function(){return c?"open"!==r?(n(),u(!1),HC):t.current?HC:(t.current=setTimeout((function(){t.current=null,u(!1)})),n):HC}),[r,c,n]);var d=cE((function(e){"height"===e.propertyName&&(o(),"close"===r&&a())}),[r,a,o]),h=QC({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return i.createElement(e.placeholder.tagName,{style:h,"data-rbd-placeholder-context-id":s,onTransitionEnd:d,ref:e.innerRef})})),XC=i.createContext(null);var JC=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return ow(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)},t}(i.PureComponent),ZC=5e3,e_=4500,t_=function(e,t){return t?LI.drop(t.duration):e?LI.snap:LI.fluid},n_=function(e,t){return e?t?RI.drop:RI.combining:null};function r_(e){return"DRAGGING"===e.type?function(e){var t=e.dimension.client,n=e.offset,r=e.combineWith,i=e.dropping,o=Boolean(r),a=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode}(e),s=Boolean(i),l=s?BI(n,o):jI(n);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:t_(a,i),transform:l,opacity:n_(o,s),zIndex:s?e_:ZC,pointerEvents:"none"}}(e):{transform:jI((t=e).offset),transition:t.shouldAnimateDisplacement?null:"none"};var t}function i_(e){var t=XS("draggable"),n=e.descriptor,r=e.registry,o=e.getDraggableRef,a=e.canDragInteractiveElements,s=e.shouldRespectForcePress,l=e.isEnabled,c=lE((function(){return{canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:l}}),[a,l,s]),u=cE((function(e){var t=o();return t||kE(!1),function(e,t,n){void 0===n&&(n=UE);var r=window.getComputedStyle(t),i=t.getBoundingClientRect(),o=bE(i,r),a=yE(o,n);return{descriptor:e,placeholder:{client:o,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:o.marginBox.width,y:o.marginBox.height},client:o,page:a}}(n,t,e)}),[n,o]),d=lE((function(){return{uniqueId:t,descriptor:n,options:c,getDimension:u}}),[n,u,c,t]),h=(0,i.useRef)(d),f=(0,i.useRef)(!0);BS((function(){return r.draggable.register(h.current),function(){return r.draggable.unregister(h.current)}}),[r.draggable]),BS((function(){if(f.current)f.current=!1;else{var e=h.current;h.current=d,r.draggable.update(d,e)}}),[d,r.draggable])}function o_(e,t,n){eC()}function a_(e){e.preventDefault()}var s_=function(e,t){return e===t},l_=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null};function c_(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var u_={mapped:{type:"SECONDARY",offset:UE,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:c_(null)}};var d_=oE((function(){var e=function(){var e=IE((function(e,t){return{x:e,y:t}})),t=IE((function(e,t,n,r,i){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(i),dropAnimation:i,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}})),n=IE((function(e,n,r,i,o,a,s){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:o,combineWith:a,mode:n,offset:e,dimension:r,forceShouldAnimate:s,snapshot:t(n,i,o,a,null)}}}));return function(r,i){if(r.isDragging){if(r.critical.draggable.id!==i.draggableId)return null;var o=r.current.client.offset,a=r.dimensions.draggables[i.draggableId],s=Qx(r.impact),l=(u=r.impact).at&&"COMBINE"===u.at.type?u.at.combine.draggableId:null,c=r.forceShouldAnimate;return n(e(o.x,o.y),r.movementMode,a,i.isClone,s,l,c)}var u;if("DROP_ANIMATING"===r.phase){var d=r.completed;if(d.result.draggableId!==i.draggableId)return null;var h=i.isClone,f=r.dimensions.draggables[i.draggableId],p=d.result,g=p.mode,m=l_(p),v=function(e){return e.combine?e.combine.draggableId:null}(p),y={duration:r.dropDuration,curve:AI,moveTo:r.newHomeClientOffset,opacity:v?RI.drop:null,scale:v?PI.drop:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:f,dropping:y,draggingOver:m,combineWith:v,mode:g,forceShouldAnimate:null,snapshot:t(g,h,m,v,y)}}}return null}}(),t=function(){var e=IE((function(e,t){return{x:e,y:t}})),t=IE(c_),n=IE((function(e,n,r){return void 0===n&&(n=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:r,snapshot:t(n)}}})),r=function(e){return e?n(UE,e,!0):null},i=function(t,i,o,a){var s=o.displaced.visible[t],l=Boolean(a.inVirtualList&&a.effected[t]),c=ux(o),u=c&&c.draggableId===t?i:null;if(!s){if(!l)return r(u);if(o.displaced.invisible[t])return null;var d=$E(a.displacedBy.point),h=e(d.x,d.y);return n(h,u,!0)}if(l)return r(u);var f=o.displacedBy.point,p=e(f.x,f.y);return n(p,u,s.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:i(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var n=e.completed;return n.result.draggableId===t.draggableId?null:i(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return function(n,r){return e(n,r)||t(n,r)||u_}}),{dropAnimationFinished:kI},null,{context:WS,pure:!0,areStatePropsEqual:s_})((function(e){var t=(0,i.useRef)(null),n=cE((function(e){t.current=e}),[]),r=cE((function(){return t.current}),[]),o=qC(JS),a=o.contextId,s=o.dragHandleUsageInstructionsId,l=o.registry,c=qC(XC),u=c.type,d=c.droppableId,h=lE((function(){return{id:e.draggableId,index:e.index,type:u,droppableId:d}}),[e.draggableId,e.index,u,d]),f=e.children,p=e.draggableId,g=e.isEnabled,m=e.shouldRespectForcePress,v=e.canDragInteractiveElements,y=e.isClone,b=e.mapped,w=e.dropAnimationFinished;o_(),ZS(),y||i_(lE((function(){return{descriptor:h,registry:l,getDraggableRef:r,canDragInteractiveElements:v,shouldRespectForcePress:m,isEnabled:g}}),[h,l,r,v,m,g]));var E=lE((function(){return g?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":p,"data-rbd-drag-handle-context-id":a,draggable:!1,onDragStart:a_}:null}),[a,s,p,g]),x=cE((function(e){"DRAGGING"===b.type&&b.dropping&&"transform"===e.propertyName&&w()}),[w,b]),I=lE((function(){var e=r_(b),t="DRAGGING"===b.type&&b.dropping?x:null;return{innerRef:n,draggableProps:{"data-rbd-draggable-context-id":a,"data-rbd-draggable-id":p,style:e,onTransitionEnd:t},dragHandleProps:E}}),[a,E,p,b,x,n]),S=lE((function(){return{draggableId:h.id,type:h.type,source:{index:h.index,droppableId:h.droppableId}}}),[h.droppableId,h.id,h.index,h.type]);return f(I,b.snapshot,S)}));function h_(e){return qC(XC).isUsingCloneFor!==e.draggableId||e.isClone?i.createElement(d_,e):null}function f_(e){var t="boolean"!==typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),r=Boolean(e.shouldRespectForcePress);return i.createElement(h_,aw({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}var p_=function(e,t){return e===t.droppable.type},g_=function(e,t){return t.draggables[e.draggable.id]};var m_={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||kE(!1),document.body}},v_=oE((function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=aw({},e,{shouldAnimatePlaceholder:!1}),n=IE((function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}})),r=IE((function(r,i,o,a,s,l){var c=s.descriptor.id;if(s.descriptor.droppableId===r){var u=l?{render:l,dragging:n(s.descriptor)}:null,d={isDraggingOver:o,draggingOverWith:o?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!1,snapshot:d,useClone:u}}if(!i)return t;if(!a)return e;var h={isDraggingOver:o,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!0,snapshot:h,useClone:null}}));return function(n,i){var o=i.droppableId,a=i.type,s=!i.isDropDisabled,l=i.renderClone;if(n.isDragging){var c=n.critical;if(!p_(a,c))return t;var u=g_(c,n.dimensions),d=Qx(n.impact)===o;return r(o,s,d,d,u,l)}if("DROP_ANIMATING"===n.phase){var h=n.completed;if(!p_(a,h.critical))return t;var f=g_(h.critical,n.dimensions);return r(o,s,l_(h.result)===o,Qx(h.impact)===o,f,l)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){var p=n.completed;if(!p_(a,p.critical))return t;var g=Qx(p.impact)===o,m=Boolean(p.impact.at&&"COMBINE"===p.impact.at.type),v=p.critical.droppable.id===o;return g?m?e:t:v?e:t}return t}}),{updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}},null,{context:WS,pure:!0,areStatePropsEqual:s_})((function(e){var t=(0,i.useContext)(JS);t||kE(!1);var n=t.contextId,r=t.isMovementAllowed,o=(0,i.useRef)(null),a=(0,i.useRef)(null),l=e.children,c=e.droppableId,u=e.type,d=e.mode,h=e.direction,f=e.ignoreContainerClipping,p=e.isDropDisabled,g=e.isCombineEnabled,m=e.snapshot,v=e.useClone,y=e.updateViewportMaxScroll,b=e.getContainerForClone,w=cE((function(){return o.current}),[]),E=cE((function(e){o.current=e}),[]),x=(cE((function(){return a.current}),[]),cE((function(e){a.current=e}),[]));eC();var I=cE((function(){r()&&y({maxScroll:iS()})}),[r,y]);!function(e){var t=(0,i.useRef)(null),n=qC(JS),r=XS("droppable"),o=n.registry,a=n.marshal,s=nC(e),l=lE((function(){return{id:e.droppableId,type:e.type,mode:e.mode}}),[e.droppableId,e.mode,e.type]),c=(0,i.useRef)(l),u=lE((function(){return IE((function(e,n){t.current||kE(!1);var r={x:e,y:n};a.updateDroppableScroll(l.id,r)}))}),[l.id,a]),d=cE((function(){var e=t.current;return e&&e.env.closestScrollable?BC(e.env.closestScrollable):UE}),[]),h=cE((function(){var e=d();u(e.x,e.y)}),[d,u]),f=lE((function(){return SE(h)}),[h]),p=cE((function(){var e=t.current,n=WC(e);e&&n||kE(!1),e.scrollOptions.shouldPublishImmediately?h():f()}),[f,h]),g=cE((function(e,r){t.current&&kE(!1);var i=s.current,o=i.getDroppableRef();o||kE(!1);var a=UC(o),c={ref:o,descriptor:l,env:a,scrollOptions:r};t.current=c;var u=VC({ref:o,descriptor:l,env:a,windowScroll:e,direction:i.direction,isDropDisabled:i.isDropDisabled,isCombineEnabled:i.isCombineEnabled,shouldClipSubject:!i.ignoreContainerClipping}),d=a.closestScrollable;return d&&(d.setAttribute(MS.contextId,n.contextId),d.addEventListener("scroll",p,$C(c.scrollOptions))),u}),[n.contextId,l,p,s]),m=cE((function(){var e=t.current,n=WC(e);return e&&n||kE(!1),BC(n)}),[]),v=cE((function(){var e=t.current;e||kE(!1);var n=WC(e);t.current=null,n&&(f.cancel(),n.removeAttribute(MS.contextId),n.removeEventListener("scroll",p,$C(e.scrollOptions)))}),[p,f]),y=cE((function(e){var n=t.current;n||kE(!1);var r=WC(n);r||kE(!1),r.scrollTop+=e.y,r.scrollLeft+=e.x}),[]),b=lE((function(){return{getDimensionAndWatchScroll:g,getScrollWhileDragging:m,dragStopped:v,scroll:y}}),[v,g,m,y]),w=lE((function(){return{uniqueId:r,descriptor:l,callbacks:b}}),[b,l,r]);BS((function(){return c.current=w.descriptor,o.droppable.register(w),function(){t.current&&v(),o.droppable.unregister(w)}}),[b,l,v,w,a,o.droppable]),BS((function(){t.current&&a.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)}),[e.isDropDisabled,a]),BS((function(){t.current&&a.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,a])}({droppableId:c,type:u,mode:d,direction:h,isDropDisabled:p,isCombineEnabled:g,ignoreContainerClipping:f,getDroppableRef:w});var S=i.createElement(JC,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(function(e){var t=e.onClose,r=e.data,o=e.animate;return i.createElement(YC,{placeholder:r,onClose:t,innerRef:x,animate:o,contextId:n,onTransitionEnd:I})})),C=lE((function(){return{innerRef:E,placeholder:S,droppableProps:{"data-rbd-droppable-id":c,"data-rbd-droppable-context-id":n}}}),[n,c,S,E]),_=v?v.dragging.draggableId:null,T=lE((function(){return{droppableId:c,type:u,isUsingCloneFor:_}}),[c,_,u]);return i.createElement(XC.Provider,{value:T},l(C,m),function(){if(!v)return null;var e=v.dragging,t=v.render,n=i.createElement(h_,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(function(n,r){return t(n,r,e)}));return s.createPortal(n,b())}())}));function y_(e){let{question:t,index:n,onChange:r}=e;return(0,Le.jsx)(f_,{draggableId:t.id,index:n,children:e=>(0,Le.jsx)("div",{ref:e.innerRef,...e.draggableProps,...e.dragHandleProps,style:{padding:"0.5rem",marginBottom:"0.5rem",background:"#f9f9f9",borderRadius:"6px",display:"flex",alignItems:"center",...e.draggableProps.style},className:"draggable-item",children:(0,Le.jsx)("input",{type:"text",value:t.text,onChange:e=>r(e.target.value),placeholder:"Enter question",style:{width:"100%",padding:"0.5rem",fontSize:"1rem"}})})})}function b_(e){let{group:t,index:n,setGroups:r}=e;const[o,a]=(0,i.useState)(t.groupName);return(0,Le.jsxs)("div",{style:{marginBottom:"2rem",padding:"1rem",border:"1px solid #ccc",borderRadius:"8px"},children:[(0,Le.jsx)("input",{type:"text",value:o,onChange:e=>{const n=e.target.value;a(n),r((e=>{const r=[...e];return r.find((e=>e.id===t.id)).groupName=n,r}))},style:{fontSize:"1.2rem",marginBottom:"1rem",width:"100%"}}),(0,Le.jsx)(v_,{droppableId:t.id,children:e=>(0,Le.jsxs)("div",{...e.droppableProps,ref:e.innerRef,children:[t.questions.map(((e,n)=>(0,Le.jsx)(y_,{question:e,index:n,onChange:n=>((e,n)=>{r((r=>{const i=[...r],o=i.find((e=>e.id===t.id)).questions.find((t=>t.id===e));return o.text=n,i}))})(e.id,n)},e.id))),e.placeholder]})}),(0,Le.jsx)("button",{style:{marginTop:"1rem"},onClick:()=>{const e={id:Date.now().toString(),text:""};r((n=>{const r=[...n];return r.find((e=>e.id===t.id)).questions.push(e),r}))},children:"+ Add Question"})]})}function w_(e){let{groups:t,setGroups:n}=e;return(0,Le.jsx)("div",{style:{marginTop:"2rem"},children:t.map(((e,t)=>(0,Le.jsx)(b_,{group:e,index:t,setGroups:n},e.id)))})}function E_(e){let{addGroup:t}=e;const[n,r]=(0,i.useState)("");return(0,Le.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,Le.jsx)("input",{type:"text",value:n,onChange:e=>r(e.target.value),placeholder:"New Group Name",style:{marginRight:"1rem"}}),(0,Le.jsx)("button",{onClick:()=>{n.trim()&&(t(n.trim()),r(""))},children:"Add Group"})]})}function x_(e){let{onSave:t,onClose:n}=e;const[r,o]=(0,i.useState)("");return(0,Le.jsx)("div",{className:"modal-overlay",children:(0,Le.jsxs)("div",{className:"modal",children:[(0,Le.jsx)("h3",{children:"Name Your Questionnaire Template"}),(0,Le.jsx)("input",{type:"text",value:r,onChange:e=>o(e.target.value),placeholder:"Ex: Modern Brand Discovery",style:{width:"80%",margin:"1rem 0"}}),(0,Le.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,Le.jsx)("button",{onClick:()=>{r.trim()&&t(r.trim())},className:"btn btn-primary",children:"Save Template"}),(0,Le.jsx)("button",{className:"btn btn-secondary",onClick:n,children:"Cancel"})]})]})})}v_.defaultProps=m_;function I_(){const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!1),[o,a]=(0,i.useState)(!1);return(0,Le.jsxs)("div",{style:{padding:"2rem"},children:[(0,Le.jsx)("h2",{children:"Edit Grouped Questionnaire"}),(0,Le.jsx)(E_,{addGroup:e=>{const n={id:Date.now().toString(),groupName:e,questions:[]};t((e=>[...e,n]))}}),(0,Le.jsx)(AC,{onDragEnd:e=>{},children:(0,Le.jsx)(w_,{groups:e,setGroups:t})}),(0,Le.jsx)("div",{style:{marginTop:"2rem"},children:(0,Le.jsx)("button",{onClick:()=>r(!0),disabled:o,children:o?"Saving...":"Save As Template"})}),n&&(0,Le.jsx)(x_,{onSave:async t=>{try{a(!0);const n={name:t,type:"branding",groups:e,createdAt:new Date};await(async e=>{const t=Ob.currentUser;if(!t)throw new Error("No authenticated user found.");const n=hv(fv(Lb,"users",t.uid),"questionnaireTemplates");await uy(n,e)})(n),alert("Template saved successfully!")}catch(n){console.error("Error saving template:",n),alert("Failed to save template.")}finally{a(!1),r(!1)}},onClose:()=>r(!1)})]})}function S_(){const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(""),[o,a]=(0,i.useState)(!0),s=ne(),{type:l}=re(),[c]=Oe(),u="true"===c.get("wizard");(0,i.useEffect)((()=>{(async()=>{try{const e=Ob.currentUser;if(!e)throw new Error("No authenticated user");const n=qv(hv(Lb,"users",e.uid,"questionnaireTemplates"),Hv("type","==",l)),r=(await ly(n)).docs.map((e=>({id:e.id,...e.data()})));r.unshift({id:"default",name:"Default Template",groups:$b}),t(r)}catch(e){console.error("Error loading templates:",e)}finally{a(!1)}})()}),[l]);return o?(0,Le.jsx)("p",{children:"Loading templates..."}):(0,Le.jsxs)("div",{style:{padding:"2rem"},children:[(0,Le.jsx)("h2",{children:u?`Choose a ${l.charAt(0).toUpperCase()+l.slice(1)} Template`:`Create New ${l.charAt(0).toUpperCase()+l.slice(1)} Template`}),0===e.length?(0,Le.jsx)("div",{style:{marginBottom:"2rem"},children:(0,Le.jsx)("p",{children:"No templates found. You can start with a default template."})}):(0,Le.jsxs)(Le.Fragment,{children:[(0,Le.jsx)("div",{children:(0,Le.jsxs)("select",{value:n,onChange:e=>r(e.target.value),style:{width:"100%",padding:"1rem",fontSize:"1rem",marginBottom:"1rem"},children:[(0,Le.jsx)("option",{value:"",children:"Select a template to start from"}),e.map((e=>(0,Le.jsx)("option",{value:e.id,children:e.name},e.id)))]})}),(0,Le.jsx)("button",{onClick:()=>{n&&s(u?`/wizard/${l}/${n}`:`/template/create/${l}?baseTemplate=${n}`)},disabled:!n,className:"btn-primary",children:u?"Continue With Selected Template":"Use As Starting Point"})]}),(0,Le.jsx)("div",{style:{marginTop:"2rem"},children:(0,Le.jsx)("button",{onClick:()=>{s(u?`/wizard/${l}/default`:`/template/create/${l}`)},className:"btn-secondary",children:u?"Start With Default Brief":"Start Fresh"})})]})}const C_=JSON.parse('{"branding":[{"id":"b1","text":"What is your company name?"},{"id":"b2","text":"Who is your target audience?"},{"id":"b3","text":"What style of logo do you prefer?"}],"website":[{"id":"w1","text":"What is the primary purpose of your website?"},{"id":"w2","text":"What features does your website need?"}],"app":[{"id":"a1","text":"Describe your app concept."},{"id":"a2","text":"What platforms will your app support?"}]}');function __(){const{type:e,templateId:t}=re(),[n,r]=(0,i.useState)(!0),[o,a]=(0,i.useState)([]),[s,l]=(0,i.useState)("");return(0,i.useEffect)((()=>{(async()=>{try{if("default"===t)a(C_[e]||[]);else{const e=Ob.currentUser;if(!e)throw new Error("No user authenticated.");const n=fv(Lb,"users",e.uid,"questionnaireTemplates",t),r=await ay(n);if(!r.exists())throw new Error("Template not found.");const i=r.data().groups.flatMap((e=>e.questions));a(i)}}catch(n){console.error("Error loading project:",n),l(n.message)}finally{r(!1)}})()}),[e,t]),n?(0,Le.jsx)("p",{children:"Loading brief..."}):s?(0,Le.jsxs)("p",{style:{color:"red"},children:["Error: ",s]}):(0,Le.jsx)("div",{style:{padding:"2rem"},children:(0,Le.jsx)(Hb,{initialQuestions:o})})}function T_(){var e;const{briefId:t}=re(),[n,r]=(0,i.useState)(null),[o,a]=(0,i.useState)(!0),[s,l]=(0,i.useState)(null),c=ne();if((0,i.useEffect)((()=>{(async()=>{try{const e=fv(Lb,"creativeBriefs",t),n=await ay(e);if(!n.exists())throw new Error("Brief not found.");r(n.data())}catch(e){console.error("Error loading brief:",e),l("Failed to load brief.")}finally{a(!1)}})()}),[t]),o)return(0,Le.jsx)(Vb,{message:"Fetching brief details..."});if(s)return(0,Le.jsx)("p",{style:{color:"red"},children:s});const{type:u,createdAt:d,answers:h}=n;return(0,Le.jsxs)("div",{style:{maxWidth:"800px",margin:"0 auto",padding:"2rem"},children:[(0,Le.jsx)("button",{onClick:()=>c(-1),style:{marginBottom:"1rem"},children:"\u2190 Back"}),(0,Le.jsxs)("h2",{children:[(null===u||void 0===u?void 0:u.charAt(0).toUpperCase())+(null===u||void 0===u?void 0:u.slice(1))," Brief"]}),(0,Le.jsxs)("p",{style:{fontStyle:"italic",marginBottom:"2rem"},children:["Created: ",null===d||void 0===d||null===(e=d.toDate)||void 0===e?void 0:e.call(d).toLocaleDateString()]}),h?(0,Le.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:Object.entries(h).map((e=>{let[t,n]=e;return(0,Le.jsxs)("div",{style:{borderBottom:"1px solid #ddd",paddingBottom:"0.5rem"},children:[(0,Le.jsxs)("strong",{children:["Question ID: ",t]}),(0,Le.jsxs)("p",{children:["Answer: ",n]})]},t)}))}):(0,Le.jsx)("p",{children:"No answers recorded."})]})}function N_(e){let{questions:t,setQuestions:n}=e;return(0,Le.jsx)(AC,{onDragEnd:e=>{if(!e.destination)return;const r=Array.from(t),[i]=r.splice(e.source.index,1);r.splice(e.destination.index,0,i),n(r)},children:(0,Le.jsx)(v_,{droppableId:"questions",children:e=>(0,Le.jsxs)("ul",{...e.droppableProps,ref:e.innerRef,style:{padding:0,listStyle:"none",marginBottom:"2rem"},children:[t.map(((e,t)=>(0,Le.jsx)(f_,{draggableId:e.id,index:t,children:t=>(0,Le.jsx)("li",{ref:t.innerRef,...t.draggableProps,...t.dragHandleProps,style:{...t.draggableProps.style,padding:"1rem",marginBottom:"0.5rem",background:"#f2f2f2",borderRadius:"6px",cursor:"grab"},className:"draggable-item",children:e.text})},e.id))),e.placeholder]})})})}function D_(){const[e]=Oe(),[t,n]=(0,i.useState)([]);(0,i.useEffect)((()=>{"default"===e.get("template")&&n($b)}),[e]);return(0,Le.jsxs)("div",{style:{padding:"2rem"},children:[(0,Le.jsx)("h1",{children:"Create New Questionnaire"}),(0,Le.jsx)(AC,{onDragEnd:e=>{if(!e.destination)return;const r=Array.from(t),[i]=r.splice(e.source.index,1);r.splice(e.destination.index,0,i),n(r)},children:(0,Le.jsx)(N_,{questions:t,setQuestions:n})})]})}function k_(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var A_=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),R_=()=>Math.random().toString(36).substring(7).split("").join("."),P_={INIT:`@@redux/INIT${R_()}`,REPLACE:`@@redux/REPLACE${R_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${R_()}`};function O_(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function L_(e,t,n){if("function"!==typeof e)throw new Error(k_(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(k_(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(k_(1));return n(L_)(e,t)}let r=e,i=t,o=new Map,a=o,s=0,l=!1;function c(){a===o&&(a=new Map,o.forEach(((e,t)=>{a.set(t,e)})))}function u(){if(l)throw new Error(k_(3));return i}function d(e){if("function"!==typeof e)throw new Error(k_(4));if(l)throw new Error(k_(5));let t=!0;c();const n=s++;return a.set(n,e),function(){if(t){if(l)throw new Error(k_(6));t=!1,c(),a.delete(n),o=null}}}function h(e){if(!O_(e))throw new Error(k_(7));if("undefined"===typeof e.type)throw new Error(k_(8));if("string"!==typeof e.type)throw new Error(k_(17));if(l)throw new Error(k_(9));try{l=!0,i=r(i,e)}finally{l=!1}return(o=a).forEach((e=>{e()})),e}h({type:P_.INIT});return{dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(k_(10));r=e,h({type:P_.REPLACE})},[A_]:function(){const e=d;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(k_(11));function n(){const e=t;e.next&&e.next(u())}n();return{unsubscribe:e(n)}},[A_](){return this}}}}}function M_(e,t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t(e.apply(this,r))}}function j_(e,t){if("function"===typeof e)return M_(e,t);if("object"!==typeof e||null===e)throw new Error(k_(16));const n={};for(const r in e){const i=e[r];"function"===typeof i&&(n[r]=M_(i,t))}return n}function B_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce(((e,t)=>function(){return e(t(...arguments))}))}n(237);var F_=i.version.startsWith("19"),U_=Symbol.for(F_?"react.transitional.element":"react.element"),V_=Symbol.for("react.portal"),z_=Symbol.for("react.fragment"),G_=Symbol.for("react.strict_mode"),$_=Symbol.for("react.profiler"),q_=Symbol.for("react.consumer"),W_=Symbol.for("react.context"),H_=Symbol.for("react.forward_ref"),K_=Symbol.for("react.suspense"),Q_=Symbol.for("react.suspense_list"),Y_=Symbol.for("react.memo"),X_=Symbol.for("react.lazy"),J_=H_,Z_=Y_;function eT(e){if("object"===typeof e&&null!==e){const{$$typeof:t}=e;switch(t){case U_:switch(e=e.type){case z_:case $_:case G_:case K_:case Q_:return e;default:switch(e=e&&e.$$typeof){case W_:case H_:case X_:case Y_:case q_:return e;default:return t}}case V_:return t}}}function tT(e,t,n,r,i){let o,a,s,l,c,{areStatesEqual:u,areOwnPropsEqual:d,areStatePropsEqual:h}=i,f=!1;function p(i,f){const p=!d(f,a),g=!u(i,o,f,a);return o=i,a=f,p&&g?(s=e(o,a),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a),c):p?(e.dependsOnOwnProps&&(s=e(o,a)),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a),c):g?function(){const t=e(o,a),r=!h(t,s);return s=t,r&&(c=n(s,l,a)),c}():c}return function(i,u){return f?p(i,u):(o=i,a=u,s=e(o,a),l=t(r,a),c=n(s,l,a),f=!0,c)}}function nT(e){return function(t){const n=e(t);function r(){return n}return r.dependsOnOwnProps=!1,r}}function rT(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function iT(e,t){return function(t,n){let{displayName:r}=n;const i=function(e,t){return i.dependsOnOwnProps?i.mapToProps(e,t):i.mapToProps(e,void 0)};return i.dependsOnOwnProps=!0,i.mapToProps=function(t,n){i.mapToProps=e,i.dependsOnOwnProps=rT(e);let r=i(t,n);return"function"===typeof r&&(i.mapToProps=r,i.dependsOnOwnProps=rT(r),r=i(t,n)),r},i}}function oT(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function aT(e,t,n){return{...n,...e,...t}}function sT(e){e()}var lT={notify(){},get:()=>[]};function cT(e,t){let n,r=lT,i=0,o=!1;function a(){c.onStateChange&&c.onStateChange()}function s(){i++,n||(n=t?t.addNestedSub(a):e.subscribe(a),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){sT((()=>{let t=e;for(;t;)t.callback(),t=t.next}))},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function l(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=lT)}const c={addNestedSub:function(e){s();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:a,isSubscribed:function(){return o},trySubscribe:function(){o||(o=!0,s())},tryUnsubscribe:function(){o&&(o=!1,l())},getListeners:()=>r};return c}var uT=(()=>!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement))(),dT=(()=>"undefined"!==typeof navigator&&"ReactNative"===navigator.product)(),hT=(()=>uT||dT?i.useLayoutEffect:i.useEffect)();function fT(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function pT(e,t){if(fT(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!fT(e[n[i]],t[n[i]]))return!1;return!0}var gT={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},mT={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},vT={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},yT={[J_]:{$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},[Z_]:vT};function bT(e){return eT(e)===Y_?vT:yT[e.$$typeof]||gT}var wT=Object.defineProperty,ET=Object.getOwnPropertyNames,xT=Object.getOwnPropertySymbols,IT=Object.getOwnPropertyDescriptor,ST=Object.getPrototypeOf,CT=Object.prototype;function _T(e,t){if("string"!==typeof t){if(CT){const n=ST(t);n&&n!==CT&&_T(e,n)}let n=ET(t);xT&&(n=n.concat(xT(t)));const r=bT(e),i=bT(t);for(let o=0;o<n.length;++o){const a=n[o];if(!mT[a]&&(!i||!i[a])&&(!r||!r[a])){const n=IT(t,a);try{wT(e,a,n)}catch(OR){}}}}return e}var TT=Symbol.for("react-redux-context"),NT="undefined"!==typeof globalThis?globalThis:{};function DT(){if(!i.createContext)return{};const e=NT[TT]??=new Map;let t=e.get(i.createContext);return t||(t=i.createContext(null),e.set(i.createContext,t)),t}var kT=DT(),AT=[null,null];function RT(e,t,n,r,i,o){e.current=r,n.current=!1,i.current&&(i.current=null,o())}function PT(e,t){return e===t}var OT=function(e,t,n){let{pure:r,areStatesEqual:o=PT,areOwnPropsEqual:a=pT,areStatePropsEqual:s=pT,areMergedPropsEqual:l=pT,forwardRef:c=!1,context:u=kT}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const d=u,h=function(e){return e?"function"===typeof e?iT(e):oT(e,"mapStateToProps"):nT((()=>({})))}(e),f=function(e){return e&&"object"===typeof e?nT((t=>function(e,t){const n={};for(const r in e){const i=e[r];"function"===typeof i&&(n[r]=function(){return t(i(...arguments))})}return n}(e,t))):e?"function"===typeof e?iT(e):oT(e,"mapDispatchToProps"):nT((e=>({dispatch:e})))}(t),p=function(e){return e?"function"===typeof e?function(e){return function(t,n){let r,{displayName:i,areMergedPropsEqual:o}=n,a=!1;return function(t,n,i){const s=e(t,n,i);return a?o(s,r)||(r=s):(a=!0,r=s),r}}}(e):oT(e,"mergeProps"):()=>aT}(n),g=Boolean(e);return e=>{const t=e.displayName||e.name||"Component",n=`Connect(${t})`,r={shouldHandleStateChanges:g,displayName:n,wrappedComponentName:t,WrappedComponent:e,initMapStateToProps:h,initMapDispatchToProps:f,initMergeProps:p,areStatesEqual:o,areStatePropsEqual:s,areOwnPropsEqual:a,areMergedPropsEqual:l};function u(t){const[n,o,a]=i.useMemo((()=>{const{reactReduxForwardedRef:e,...n}=t;return[t.context,e,n]}),[t]),s=i.useMemo((()=>d),[n,d]),l=i.useContext(s),c=Boolean(t.store)&&Boolean(t.store.getState)&&Boolean(t.store.dispatch),u=Boolean(l)&&Boolean(l.store);const h=c?t.store:l.store,f=u?l.getServerState:h.getState,p=i.useMemo((()=>function(e,t){let{initMapStateToProps:n,initMapDispatchToProps:r,initMergeProps:i,...o}=t;return tT(n(e,o),r(e,o),i(e,o),e,o)}(h.dispatch,r)),[h]),[m,v]=i.useMemo((()=>{if(!g)return AT;const e=cT(h,c?void 0:l.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[h,c,l]),y=i.useMemo((()=>c?l:{...l,subscription:m}),[c,l,m]),b=i.useRef(void 0),w=i.useRef(a),E=i.useRef(void 0),x=i.useRef(!1),I=i.useRef(!1),S=i.useRef(void 0);hT((()=>(I.current=!0,()=>{I.current=!1})),[]);const C=i.useMemo((()=>()=>E.current&&a===w.current?E.current:p(h.getState(),a)),[h,a]),_=i.useMemo((()=>e=>m?function(e,t,n,r,i,o,a,s,l,c,u){if(!e)return()=>{};let d=!1,h=null;const f=()=>{if(d||!s.current)return;const e=t.getState();let n,f;try{n=r(e,i.current)}catch(OR){f=OR,h=OR}f||(h=null),n===o.current?a.current||c():(o.current=n,l.current=n,a.current=!0,u())};return n.onStateChange=f,n.trySubscribe(),f(),()=>{if(d=!0,n.tryUnsubscribe(),n.onStateChange=null,h)throw h}}(g,h,m,p,w,b,x,I,E,v,e):()=>{}),[m]);var T,N,D;let k;T=RT,N=[w,b,x,a,E,v],hT((()=>T(...N)),D);try{k=i.useSyncExternalStore(_,C,f?()=>p(f(),a):C)}catch(R){throw S.current&&(R.message+=`\nThe error may be correlated with this previous error:\n${S.current.stack}\n\n`),R}hT((()=>{S.current=void 0,E.current=void 0,b.current=k}));const A=i.useMemo((()=>i.createElement(e,{...k,ref:o})),[o,e,k]);return i.useMemo((()=>g?i.createElement(s.Provider,{value:y},A):A),[s,A,y])}const m=i.memo(u);if(m.WrappedComponent=e,m.displayName=u.displayName=n,c){const t=i.forwardRef((function(e,t){return i.createElement(m,{...e,reactReduxForwardedRef:t})})),r=t;return r.displayName=n,r.WrappedComponent=e,_T(r,e)}return _T(m,e)}};var LT=function(e){const{children:t,context:n,serverState:r,store:o}=e,a=i.useMemo((()=>{const e=cT(o);return{store:o,subscription:e,getServerState:r?()=>r:void 0}}),[o,r]),s=i.useMemo((()=>o.getState()),[o]);hT((()=>{const{subscription:e}=a;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==o.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[a,s]);const l=n||kT;return i.createElement(l.Provider,{value:a},t)};function MT(e,t){}MT.bind(null,"warn"),MT.bind(null,"error");function jT(){}function BT(e,t,n){const r=t.map((t=>{const r=function(e,t){return{...e,...t}}(n,t.options);return e.addEventListener(t.eventName,t.fn,r),function(){e.removeEventListener(t.eventName,t.fn,r)}}));return function(){r.forEach((e=>{e()}))}}const FT="Invariant failed";class UT extends Error{}function VT(e,t){throw new UT(FT)}UT.prototype.toString=function(){return this.message};class zT extends i.Component{constructor(){super(...arguments),this.callbacks=null,this.unbind=jT,this.onWindowError=e=>{const t=this.getCallbacks();t.isDragging()&&t.tryAbort();e.error instanceof UT&&e.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=e=>{this.callbacks=e}}componentDidMount(){this.unbind=BT(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(!(e instanceof UT))throw e;this.setState({})}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const GT=e=>e+1,$T=(e,t)=>{const n=e.droppableId===t.droppableId,r=GT(e.index),i=GT(t.index);return n?`\n      You have moved the item from position ${r}\n      to position ${i}\n    `:`\n    You have moved the item from position ${r}\n    in list ${e.droppableId}\n    to list ${t.droppableId}\n    in position ${i}\n  `},qT=(e,t,n)=>t.droppableId===n.droppableId?`\n      The item ${e}\n      has been combined with ${n.draggableId}`:`\n      The item ${e}\n      in list ${t.droppableId}\n      has been combined with ${n.draggableId}\n      in list ${n.droppableId}\n    `,WT=e=>`\n  The item has returned to its starting position\n  of ${GT(e.index)}\n`,HT={dragHandleUsageInstructions:"\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",onDragStart:e=>`\n  You have lifted an item in position ${GT(e.source.index)}\n`,onDragUpdate:e=>{const t=e.destination;if(t)return $T(e.source,t);const n=e.combine;return n?qT(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},onDragEnd:e=>{if("CANCEL"===e.reason)return`\n      Movement cancelled.\n      ${WT(e.source)}\n    `;const t=e.destination,n=e.combine;return t?`\n      You have dropped the item.\n      ${$T(e.source,t)}\n    `:n?`\n      You have dropped the item.\n      ${qT(e.draggableId,e.source,n)}\n    `:`\n    The item has been dropped while not over a drop area.\n    ${WT(e.source)}\n  `}};function KT(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(n=e[i],r=t[i],!(n===r||Number.isNaN(n)&&Number.isNaN(r)))return!1;var n,r;return!0}function QT(e,t){const n=(0,i.useState)((()=>({inputs:t,result:e()})))[0],r=(0,i.useRef)(!0),o=(0,i.useRef)(n),a=r.current||Boolean(t&&o.current.inputs&&KT(t,o.current.inputs))?o.current:{inputs:t,result:e()};return(0,i.useEffect)((()=>{r.current=!1,o.current=a}),[a]),a.result}function YT(e,t){return QT((()=>e),t)}const XT={x:0,y:0},JT=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),ZT=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),eN=(e,t)=>e.x===t.x&&e.y===t.y,tN=e=>({x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}),nN=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return"x"===e?{x:t,y:n}:{x:n,y:t}},rN=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),iN=(e,t)=>Math.min(...t.map((t=>rN(e,t)))),oN=e=>t=>({x:e(t.x),y:e(t.y)});const aN=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),sN=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],lN=(e,t)=>t&&t.shouldClipSubject?((e,t)=>{const n=dE({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n})(t.pageMarginBox,e):dE(e);var cN=e=>{let{page:t,withPlaceholder:n,axis:r,frame:i}=e;const o=((e,t)=>t?aN(e,t.scroll.diff.displacement):e)(t.marginBox,i),a=((e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e)(o,r,n);return{page:t,withPlaceholder:n,active:lN(a,i)}},uN=(e,t)=>{e.frame||VT();const n=e.frame,r=ZT(t,n.scroll.initial),i=tN(r),o={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}},a=cN({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o});return{...e,frame:o,subject:a}};function dN(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:KT,n=null;function r(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;const a=e.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){n=null},r}const hN=dN((e=>e.reduce(((e,t)=>(e[t.descriptor.id]=t,e)),{}))),fN=dN((e=>e.reduce(((e,t)=>(e[t.descriptor.id]=t,e)),{}))),pN=dN((e=>Object.values(e))),gN=dN((e=>Object.values(e)));var mN=dN(((e,t)=>{const n=gN(t).filter((t=>e===t.descriptor.droppableId)).sort(((e,t)=>e.descriptor.index-t.descriptor.index));return n}));function vN(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function yN(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var bN=dN(((e,t)=>t.filter((t=>t.descriptor.id!==e.descriptor.id)))),wN=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const EN={point:XT,value:0},xN={invisible:{},visible:{},all:[]},IN={displaced:xN,displacedBy:EN,at:null};var SN=(e,t)=>n=>e<=n&&n<=t,CN=e=>{const t=SN(e.top,e.bottom),n=SN(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const i=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(i&&o)return!0;const a=r.top<e.top&&r.bottom>e.bottom,s=r.left<e.left&&r.right>e.right;if(a&&s)return!0;return a&&o||s&&i}},_N=e=>{const t=SN(e.top,e.bottom),n=SN(e.left,e.right);return e=>t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)};const TN={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},NN={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};const DN=e=>{let{target:t,destination:n,viewport:r,withDroppableDisplacement:i,isVisibleThroughFrameFn:o}=e;const a=i?((e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:XT;return aN(e,n)})(t,n):t;return((e,t,n)=>!!t.subject.active&&n(t.subject.active)(e))(a,n,o)&&((e,t,n)=>n(t)(e))(a,r,o)},kN=e=>DN({...e,isVisibleThroughFrameFn:_N});function AN(e){let{afterDragging:t,destination:n,displacedBy:r,viewport:i,forceShouldAnimate:o,last:a}=e;return t.reduce((function(e,t){const s=function(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return dE(hE(n,r))}(t,r),l=t.descriptor.id;e.all.push(l);var c;if(!(c={target:s,destination:n,viewport:i,withDroppableDisplacement:!0},DN({...c,isVisibleThroughFrameFn:CN})))return e.invisible[t.descriptor.id]=!0,e;const u=((e,t,n)=>{if("boolean"===typeof n)return n;if(!t)return!0;const{invisible:r,visible:i}=t;if(r[e])return!1;const o=i[e];return!o||o.shouldAnimate})(l,a,o),d={draggableId:l,shouldAnimate:u};return e.visible[l]=d,e}),{all:[],visible:{},invisible:{}})}function RN(e){let{insideDestination:t,inHomeList:n,displacedBy:r,destination:i}=e;const o=function(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(t,{inHomeList:n});return{displaced:xN,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:o}}}}function PN(e){let{draggable:t,insideDestination:n,destination:r,viewport:i,displacedBy:o,last:a,index:s,forceShouldAnimate:l}=e;const c=wN(t,r);if(null==s)return RN({insideDestination:n,inHomeList:c,displacedBy:o,destination:r});const u=n.find((e=>e.descriptor.index===s));if(!u)return RN({insideDestination:n,inHomeList:c,displacedBy:o,destination:r});const d=bN(t,n),h=n.indexOf(u);return{displaced:AN({afterDragging:d.slice(h),destination:r,displacedBy:o,last:a,viewport:i.frame,forceShouldAnimate:l}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function ON(e,t){return Boolean(t.effected[e])}var LN=e=>{let{isMovingForward:t,isInHomeList:n,draggable:r,draggables:i,destination:o,insideDestination:a,previousImpact:s,viewport:l,afterCritical:c}=e;const u=s.at;if(u||VT(),"REORDER"===u.type){const e=(e=>{let{isMovingForward:t,isInHomeList:n,insideDestination:r,location:i}=e;if(!r.length)return null;const o=i.index,a=t?o+1:o-1,s=r[0].descriptor.index,l=r[r.length-1].descriptor.index;return a<s||a>(n?l:l+1)?null:a})({isMovingForward:t,isInHomeList:n,location:u.destination,insideDestination:a});return null==e?null:PN({draggable:r,insideDestination:a,destination:o,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:e})}const d=(e=>{let{isMovingForward:t,destination:n,draggables:r,combine:i,afterCritical:o}=e;if(!n.isCombineEnabled)return null;const a=i.draggableId,s=r[a].descriptor.index;return ON(a,o)?t?s:s-1:t?s+1:s})({isMovingForward:t,destination:o,displaced:s.displaced,draggables:i,combine:u.combine,afterCritical:c});return null==d?null:PN({draggable:r,insideDestination:a,destination:o,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:d})},MN=e=>{let{afterCritical:t,impact:n,draggables:r}=e;const i=yN(n);i||VT();const o=i.draggableId,a=r[o].page.borderBox.center,s=(e=>{let{displaced:t,afterCritical:n,combineWith:r,displacedBy:i}=e;const o=Boolean(t.visible[r]||t.invisible[r]);return ON(r,n)?o?XT:tN(i.point):o?i.point:XT})({displaced:n.displaced,afterCritical:t,combineWith:o,displacedBy:n.displacedBy});return JT(a,s)};const jN=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,BN=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,FN=e=>{let{axis:t,moveRelativeTo:n,isMoving:r}=e;return nN(t.line,n.marginBox[t.end]+jN(t,r),BN(t,n.marginBox,r))},UN=e=>{let{axis:t,moveRelativeTo:n,isMoving:r}=e;return nN(t.line,n.marginBox[t.start]-((e,t)=>t.margin[e.end]+t.borderBox[e.size]/2)(t,r),BN(t,n.marginBox,r))};var VN=e=>{let{impact:t,draggable:n,draggables:r,droppable:i,afterCritical:o}=e;const a=mN(i.descriptor.id,r),s=n.page,l=i.axis;if(!a.length)return(e=>{let{axis:t,moveInto:n,isMoving:r}=e;return nN(t.line,n.contentBox[t.start]+jN(t,r),BN(t,n.contentBox,r))})({axis:l,moveInto:i.page,isMoving:s});const{displaced:c,displacedBy:u}=t,d=c.all[0];if(d){const e=r[d];if(ON(d,o))return UN({axis:l,moveRelativeTo:e.page,isMoving:s});const t=vE(e.page,u.point);return UN({axis:l,moveRelativeTo:t,isMoving:s})}const h=a[a.length-1];if(h.descriptor.id===n.descriptor.id)return s.borderBox.center;if(ON(h.descriptor.id,o)){const e=vE(h.page,tN(o.displacedBy.point));return FN({axis:l,moveRelativeTo:e,isMoving:s})}return FN({axis:l,moveRelativeTo:h.page,isMoving:s})},zN=(e,t)=>{const n=e.frame;return n?JT(t,n.scroll.diff.displacement):t};var GN=e=>{const t=(e=>{let{impact:t,draggable:n,droppable:r,draggables:i,afterCritical:o}=e;const a=n.page.borderBox.center,s=t.at;return r&&s?"REORDER"===s.type?VN({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:o}):MN({impact:t,draggables:i,afterCritical:o}):a})(e),n=e.droppable;return n?zN(n,t):t},$N=(e,t)=>{const n=ZT(t,e.scroll.initial),r=tN(n);return{frame:dE({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function qN(e,t){return e.map((e=>t[e]))}var WN=e=>{let{pageBorderBoxCenter:t,draggable:n,viewport:r}=e;const i=((e,t)=>JT(e.scroll.diff.displacement,t))(r,t),o=ZT(i,n.page.borderBox.center);return JT(n.client.borderBox.center,o)},HN=e=>{let{draggable:t,destination:n,newPageBorderBoxCenter:r,viewport:i,withDroppableDisplacement:o,onlyOnMainAxis:a=!1}=e;const s=ZT(r,t.page.borderBox.center),l={target:aN(t.page.borderBox,s),destination:n,withDroppableDisplacement:o,viewport:i};return a?(e=>{return DN({...e,isVisibleThroughFrameFn:(t=e.destination.axis,e=>{const n=SN(e.top,e.bottom),r=SN(e.left,e.right);return e=>t===TN?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)})});var t})(l):kN(l)},KN=e=>{let{isMovingForward:t,draggable:n,destination:r,draggables:i,previousImpact:o,viewport:a,previousPageBorderBoxCenter:s,previousClientSelection:l,afterCritical:c}=e;if(!r.isEnabled)return null;const u=mN(r.descriptor.id,i),d=wN(n,r),h=(e=>{let{isMovingForward:t,draggable:n,destination:r,insideDestination:i,previousImpact:o}=e;if(!r.isCombineEnabled)return null;if(!vN(o))return null;function a(e){const t={type:"COMBINE",combine:{draggableId:e,droppableId:r.descriptor.id}};return{...o,at:t}}const s=o.displaced.all,l=s.length?s[0]:null;if(t)return l?a(l):null;const c=bN(n,i);if(!l)return c.length?a(c[c.length-1].descriptor.id):null;const u=c.findIndex((e=>e.descriptor.id===l));-1===u&&VT();const d=u-1;return d<0?null:a(c[d].descriptor.id)})({isMovingForward:t,draggable:n,destination:r,insideDestination:u,previousImpact:o})||LN({isMovingForward:t,isInHomeList:d,draggable:n,draggables:i,destination:r,insideDestination:u,previousImpact:o,viewport:a,afterCritical:c});if(!h)return null;const f=GN({impact:h,draggable:n,droppable:r,draggables:i,afterCritical:c});if(HN({draggable:n,destination:r,newPageBorderBoxCenter:f,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})){return{clientSelection:WN({pageBorderBoxCenter:f,draggable:n,viewport:a}),impact:h,scrollJumpRequest:null}}const p=ZT(f,s),g=(e=>{let{impact:t,viewport:n,destination:r,draggables:i,maxScrollChange:o}=e;const a=$N(n,JT(n.scroll.current,o)),s=r.frame?uN(r,JT(r.frame.scroll.current,o)):r,l=t.displaced,c=AN({afterDragging:qN(l.all,i),destination:r,displacedBy:t.displacedBy,viewport:a.frame,last:l,forceShouldAnimate:!1}),u=AN({afterDragging:qN(l.all,i),destination:s,displacedBy:t.displacedBy,viewport:n.frame,last:l,forceShouldAnimate:!1}),d={},h={},f=[l,c,u];return l.all.forEach((e=>{const t=function(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}(e,f);t?h[e]=t:d[e]=!0})),{...t,displaced:{all:l.all,invisible:d,visible:h}}})({impact:h,viewport:a,destination:r,draggables:i,maxScrollChange:p});return{clientSelection:l,impact:g,scrollJumpRequest:p}};const QN=e=>{const t=e.subject.active;return t||VT(),t};const YN=(e,t)=>{const n=e.page.borderBox.center;return ON(e.descriptor.id,t)?ZT(n,t.displacedBy.point):n},XN=(e,t)=>{const n=e.page.borderBox;return ON(e.descriptor.id,t)?aN(n,tN(t.displacedBy.point)):n};var JN=dN((function(e,t){const n=t[e.line];return{value:n,point:nN(e.line,n)}}));const ZN=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),eD=(e,t,n)=>{const r=e.frame;wN(t,e)&&VT(),e.subject.withPlaceholder&&VT();const i=JN(e.axis,t.displaceBy).point,o=((e,t,n)=>{const r=e.axis;if("virtual"===e.descriptor.mode)return nN(r.line,t[r.line]);const i=e.subject.page.contentBox[r.size],o=mN(e.descriptor.id,n).reduce(((e,t)=>e+t.client.marginBox[r.size]),0)+t[r.line]-i;return o<=0?null:nN(r.line,o)})(e,i,n),a={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const t=cN({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame});return{...e,subject:t}}const s=o?JT(r.scroll.max,o):r.scroll.max,l=ZN(r,s),c=cN({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:l});return{...e,subject:c,frame:l}};var tD=e=>{let{isMovingForward:t,previousPageBorderBoxCenter:n,draggable:r,isOver:i,draggables:o,droppables:a,viewport:s,afterCritical:l}=e;const c=(e=>{let{isMovingForward:t,pageBorderBoxCenter:n,source:r,droppables:i,viewport:o}=e;const a=r.subject.active;if(!a)return null;const s=r.axis,l=SN(a[s.start],a[s.end]),c=pN(i).filter((e=>e!==r)).filter((e=>e.isEnabled)).filter((e=>Boolean(e.subject.active))).filter((e=>CN(o.frame)(QN(e)))).filter((e=>{const n=QN(e);return t?a[s.crossAxisEnd]<n[s.crossAxisEnd]:n[s.crossAxisStart]<a[s.crossAxisStart]})).filter((e=>{const t=QN(e),n=SN(t[s.start],t[s.end]);return l(t[s.start])||l(t[s.end])||n(a[s.start])||n(a[s.end])})).sort(((e,n)=>{const r=QN(e)[s.crossAxisStart],i=QN(n)[s.crossAxisStart];return t?r-i:i-r})).filter(((e,t,n)=>QN(e)[s.crossAxisStart]===QN(n[0])[s.crossAxisStart]));if(!c.length)return null;if(1===c.length)return c[0];const u=c.filter((e=>SN(QN(e)[s.start],QN(e)[s.end])(n[s.line])));return 1===u.length?u[0]:u.length>1?u.sort(((e,t)=>QN(e)[s.start]-QN(t)[s.start]))[0]:c.sort(((e,t)=>{const r=iN(n,sN(QN(e))),i=iN(n,sN(QN(t)));return r!==i?r-i:QN(e)[s.start]-QN(t)[s.start]}))[0]})({isMovingForward:t,pageBorderBoxCenter:n,source:i,droppables:a,viewport:s});if(!c)return null;const u=mN(c.descriptor.id,o),d=(e=>{let{pageBorderBoxCenter:t,viewport:n,destination:r,insideDestination:i,afterCritical:o}=e;const a=i.filter((e=>kN({target:XN(e,o),destination:r,viewport:n.frame,withDroppableDisplacement:!0}))).sort(((e,n)=>{const i=rN(t,zN(r,YN(e,o))),a=rN(t,zN(r,YN(n,o)));return i<a?-1:a<i?1:e.descriptor.index-n.descriptor.index}));return a[0]||null})({pageBorderBoxCenter:n,viewport:s,destination:c,insideDestination:u,afterCritical:l}),h=(e=>{let{previousPageBorderBoxCenter:t,moveRelativeTo:n,insideDestination:r,draggable:i,draggables:o,destination:a,viewport:s,afterCritical:l}=e;if(!n){if(r.length)return null;const e={displaced:xN,displacedBy:EN,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},t=GN({impact:e,draggable:i,droppable:a,draggables:o,afterCritical:l}),n=wN(i,a)?a:eD(a,i,o);return HN({draggable:i,destination:n,newPageBorderBoxCenter:t,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?e:null}const c=Boolean(t[a.axis.line]<=n.page.borderBox.center[a.axis.line]),u=(()=>{const e=n.descriptor.index;return n.descriptor.id===i.descriptor.id||c?e:e+1})(),d=JN(a.axis,i.displaceBy);return PN({draggable:i,insideDestination:r,destination:a,viewport:s,displacedBy:d,last:xN,index:u})})({previousPageBorderBoxCenter:n,destination:c,draggable:r,draggables:o,moveRelativeTo:d,insideDestination:u,viewport:s,afterCritical:l});if(!h)return null;const f=GN({impact:h,draggable:r,droppable:c,draggables:o,afterCritical:l});return{clientSelection:WN({pageBorderBoxCenter:f,draggable:r,viewport:s}),impact:h,scrollJumpRequest:null}},nD=e=>{const t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null};var rD=e=>{let{state:t,type:n}=e;const r=((e,t)=>{const n=nD(e);return n?t[n]:null})(t.impact,t.dimensions.droppables),i=Boolean(r),o=t.dimensions.droppables[t.critical.droppable.id],a=r||o,s=a.axis.direction,l="vertical"===s&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===s&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(l&&!i)return null;const c="MOVE_DOWN"===n||"MOVE_RIGHT"===n,u=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,{draggables:h,droppables:f}=t.dimensions;return l?KN({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,destination:a,draggables:h,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):tD({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,isOver:a,draggables:h,droppables:f,viewport:t.viewport,afterCritical:t.afterCritical})};function iD(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function oD(e){const t=SN(e.top,e.bottom),n=SN(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}function aD(e){let{pageBorderBox:t,draggable:n,droppables:r}=e;const i=pN(r).filter((e=>{if(!e.isEnabled)return!1;const n=e.subject.active;if(!n)return!1;if(i=n,!((r=t).left<i.right&&r.right>i.left&&r.top<i.bottom&&r.bottom>i.top))return!1;var r,i;if(oD(n)(t.center))return!0;const o=e.axis,a=n.center[o.crossAxisLine],s=t[o.crossAxisStart],l=t[o.crossAxisEnd],c=SN(n[o.crossAxisStart],n[o.crossAxisEnd]),u=c(s),d=c(l);return!u&&!d||(u?s<a:l>a)}));return i.length?1===i.length?i[0].descriptor.id:function(e){let{pageBorderBox:t,draggable:n,candidates:r}=e;const i=n.page.borderBox.center,o=r.map((e=>{const n=e.axis,r=nN(e.axis.line,t.center[n.line],e.page.borderBox.center[n.crossAxisLine]);return{id:e.descriptor.id,distance:rN(i,r)}})).sort(((e,t)=>t.distance-e.distance));return o[0]?o[0].id:null}({pageBorderBox:t,draggable:n,candidates:i}):null}const sD=(e,t)=>dE(aN(e,t));function lD(e){let{displaced:t,id:n}=e;return Boolean(t.visible[n]||t.invisible[n])}var cD=e=>{let{pageOffset:t,draggable:n,draggables:r,droppables:i,previousImpact:o,viewport:a,afterCritical:s}=e;const l=sD(n.page.borderBox,t),c=aD({pageBorderBox:l,draggable:n,droppables:i});if(!c)return IN;const u=i[c],d=mN(u.descriptor.id,r),h=((e,t)=>{const n=e.frame;return n?sD(t,n.scroll.diff.value):t})(u,l);return(e=>{let{draggable:t,pageBorderBoxWithDroppableScroll:n,previousImpact:r,destination:i,insideDestination:o,afterCritical:a}=e;if(!i.isCombineEnabled)return null;const s=i.axis,l=JN(i.axis,t.displaceBy),c=l.value,u=n[s.start],d=n[s.end],h=bN(t,o).find((e=>{const t=e.descriptor.id,n=e.page.borderBox,i=n[s.size]/4,o=ON(t,a),l=lD({displaced:r.displaced,id:t});return o?l?d>n[s.start]+i&&d<n[s.end]-i:u>n[s.start]-c+i&&u<n[s.end]-c-i:l?d>n[s.start]+c+i&&d<n[s.end]+c-i:u>n[s.start]+i&&u<n[s.end]-i}));return h?{displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:h.descriptor.id,droppableId:i.descriptor.id}}}:null})({pageBorderBoxWithDroppableScroll:h,draggable:n,previousImpact:o,destination:u,insideDestination:d,afterCritical:s})||(e=>{let{pageBorderBoxWithDroppableScroll:t,draggable:n,destination:r,insideDestination:i,last:o,viewport:a,afterCritical:s}=e;const l=r.axis,c=JN(r.axis,n.displaceBy),u=c.value,d=t[l.start],h=t[l.end],f=bN(n,i).find((e=>{const t=e.descriptor.id,n=e.page.borderBox.center[l.line],r=ON(t,s),i=lD({displaced:o,id:t});return r?i?h<=n:d<n-u:i?h<=n+u:d<n}))||null,p=function(e){let{draggable:t,closest:n,inHomeList:r}=e;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:f,inHomeList:wN(n,r)});return PN({draggable:n,insideDestination:i,destination:r,viewport:a,last:o,displacedBy:c,index:p})})({pageBorderBoxWithDroppableScroll:h,draggable:n,destination:u,insideDestination:d,last:o.displaced,viewport:a,afterCritical:s})},uD=(e,t)=>({...e,[t.descriptor.id]:t});const dD=e=>{let{previousImpact:t,impact:n,droppables:r}=e;const i=nD(t),o=nD(n);if(!i)return r;if(i===o)return r;const a=r[i];if(!a.subject.withPlaceholder)return r;const s=(e=>{const t=e.subject.withPlaceholder;t||VT();const n=e.frame;if(!n){const t=cN({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:t}}const r=t.oldFrameMaxScroll;r||VT();const i=ZN(n,r),o=cN({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return{...e,subject:o,frame:i}})(a);return uD(r,s)};var hD=e=>{let{state:t,clientSelection:n,dimensions:r,viewport:i,impact:o,scrollJumpRequest:a}=e;const s=i||t.viewport,l=r||t.dimensions,c=n||t.current.client.selection,u=ZT(c,t.initial.client.selection),d={offset:u,selection:c,borderBoxCenter:JT(t.initial.client.borderBoxCenter,u)},h={selection:JT(d.selection,s.scroll.current),borderBoxCenter:JT(d.borderBoxCenter,s.scroll.current),offset:JT(d.offset,s.scroll.diff.value)},f={client:d,page:h};if("COLLECTING"===t.phase)return{...t,dimensions:l,viewport:s,current:f};const p=l.draggables[t.critical.draggable.id],g=o||cD({pageOffset:h.offset,draggable:p,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:s,afterCritical:t.afterCritical}),m=(e=>{let{draggable:t,draggables:n,droppables:r,previousImpact:i,impact:o}=e;const a=dD({previousImpact:i,impact:o,droppables:r}),s=nD(o);if(!s)return a;const l=r[s];if(wN(t,l))return a;if(l.subject.withPlaceholder)return a;const c=eD(l,t,n);return uD(a,c)})({draggable:p,impact:g,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables});return{...t,current:f,dimensions:{draggables:l.draggables,droppables:m},impact:g,viewport:s,scrollJumpRequest:a||null,forceShouldAnimate:!a&&null}};var fD=e=>{let{impact:t,viewport:n,draggables:r,destination:i,forceShouldAnimate:o}=e;const a=t.displaced,s=function(e,t){return e.map((e=>t[e]))}(a.all,r),l=AN({afterDragging:s,destination:i,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:o,last:a});return{...t,displaced:l}},pD=e=>{let{impact:t,draggable:n,droppable:r,draggables:i,viewport:o,afterCritical:a}=e;const s=GN({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:a});return WN({pageBorderBoxCenter:s,draggable:n,viewport:o})},gD=e=>{let{state:t,dimensions:n,viewport:r}=e;"SNAP"!==t.movementMode&&VT();const i=t.impact,o=r||t.viewport,a=n||t.dimensions,{draggables:s,droppables:l}=a,c=s[t.critical.draggable.id],u=nD(i);u||VT();const d=l[u],h=fD({impact:i,viewport:o,destination:d,draggables:s}),f=pD({impact:h,draggable:c,droppable:d,draggables:s,viewport:o,afterCritical:t.afterCritical});return hD({impact:h,clientSelection:f,state:t,dimensions:a,viewport:o})},mD=e=>{let{draggable:t,home:n,draggables:r,viewport:i}=e;const o=JN(n.axis,t.displaceBy),a=mN(n.descriptor.id,r),s=a.indexOf(t);-1===s&&VT();const l=a.slice(s+1),c=l.reduce(((e,t)=>(e[t.descriptor.id]=!0,e)),{}),u={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:o,effected:c};var d;return{impact:{displaced:AN({afterDragging:l,destination:n,displacedBy:o,last:null,viewport:i.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:(d=t.descriptor,{index:d.index,droppableId:d.droppableId})}},afterCritical:u}};const vD=e=>{0},yD=e=>{0};var bD=e=>{let{additions:t,updatedDroppables:n,viewport:r}=e;const i=r.scroll.diff.value;return t.map((e=>{const t=e.descriptor.droppableId,o=(e=>{const t=e.frame;return t||VT(),t})(n[t]),a=o.scroll.diff.value,s=(e=>{let{draggable:t,offset:n,initialWindowScroll:r}=e;const i=vE(t.client,n),o=yE(i,r);return{...t,placeholder:{...t.placeholder,client:i},client:i,page:o}})({draggable:e,offset:JT(i,a),initialWindowScroll:r.scroll.initial});return s}))};const wD=e=>"SNAP"===e.movementMode,ED=(e,t,n)=>{const r=((e,t)=>({draggables:e.draggables,droppables:uD(e.droppables,t)}))(e.dimensions,t);return!wD(e)||n?hD({state:e,dimensions:r}):gD({state:e,dimensions:r})};function xD(e){return e.isDragging&&"SNAP"===e.movementMode?{...e,scrollJumpRequest:null}:e}const ID={phase:"IDLE",completed:null,shouldFlush:!1};var SD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ID,t=arguments.length>1?arguments[1]:void 0;if("FLUSH"===t.type)return{...ID,shouldFlush:!0};if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&VT();const{critical:n,clientSelection:r,viewport:i,dimensions:o,movementMode:a}=t.payload,s=o.draggables[n.draggable.id],l=o.droppables[n.droppable.id],c={selection:r,borderBoxCenter:s.client.borderBox.center,offset:XT},u={client:c,page:{selection:JT(c.selection,i.scroll.initial),borderBoxCenter:JT(c.selection,i.scroll.initial),offset:JT(c.selection,i.scroll.diff.value)}},d=pN(o.droppables).every((e=>!e.isFixedOnPage)),{impact:h,afterCritical:f}=mD({draggable:s,home:l,draggables:o.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:a,dimensions:o,initial:u,current:u,isWindowScrollAllowed:d,impact:h,afterCritical:f,onLiftImpact:h,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&VT();return{...e,phase:"COLLECTING"}}if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&VT(),(e=>{let{state:t,published:n}=e;vD();const r=n.modified.map((e=>{const n=t.dimensions.droppables[e.droppableId];return uN(n,e.scroll)})),i={...t.dimensions.droppables,...hN(r)},o=fN(bD({additions:n.additions,updatedDroppables:i,viewport:t.viewport})),a={...t.dimensions.draggables,...o};n.removals.forEach((e=>{delete a[e]}));const s={droppables:i,draggables:a},l=nD(t.impact),c=l?s.droppables[l]:null,u=s.draggables[t.critical.draggable.id],d=s.droppables[t.critical.droppable.id],{impact:h,afterCritical:f}=mD({draggable:u,home:d,draggables:a,viewport:t.viewport}),p=c&&c.isCombineEnabled?t.impact:h,g=cD({pageOffset:t.current.page.offset,draggable:s.draggables[t.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:p,viewport:t.viewport,afterCritical:f});yD();const m={...t,phase:"DRAGGING",impact:g,onLiftImpact:h,dimensions:s,afterCritical:f,forceShouldAnimate:!1};return"COLLECTING"===t.phase?m:{...m,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}})({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;iD(e)||VT();const{client:n}=t.payload;return eN(n,e.current.client.selection)?e:hD({state:e,clientSelection:n,impact:wD(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return xD(e);if("COLLECTING"===e.phase)return xD(e);iD(e)||VT();const{id:n,newScroll:r}=t.payload,i=e.dimensions.droppables[n];if(!i)return e;const o=uN(i,r);return ED(e,o,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;iD(e)||VT();const{id:n,isEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||VT(),i.isEnabled===r&&VT();const o={...i,isEnabled:r};return ED(e,o,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;iD(e)||VT();const{id:n,isCombineEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||VT(),i.isCombineEnabled===r&&VT();const o={...i,isCombineEnabled:r};return ED(e,o,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;iD(e)||VT(),e.isWindowScrollAllowed||VT();const n=t.payload.newScroll;if(eN(e.viewport.scroll.current,n))return xD(e);const r=$N(e.viewport,n);return wD(e)?gD({state:e,viewport:r}):hD({state:e,viewport:r})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!iD(e))return e;const n=t.payload.maxScroll;if(eN(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&VT();const n=rD({state:e,type:t.type});return n?hD({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){const n=t.payload.reason;"COLLECTING"!==e.phase&&VT();return{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if("DROP_ANIMATE"===t.type){const{completed:n,dropDuration:r,newHomeClientOffset:i}=t.payload;"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&VT();return{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:e.dimensions}}if("DROP_COMPLETE"===t.type){const{completed:e}=t.payload;return{phase:"IDLE",completed:e,shouldFlush:!1}}return e};function CD(e,t){return e instanceof Object&&"type"in e&&e.type===t}const _D=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),TD=()=>({type:"COLLECTION_STARTING",payload:null}),ND=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),DD=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),kD=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),AD=e=>({type:"MOVE",payload:e}),RD=()=>({type:"MOVE_UP",payload:null}),PD=()=>({type:"MOVE_DOWN",payload:null}),OD=()=>({type:"MOVE_RIGHT",payload:null}),LD=()=>({type:"MOVE_LEFT",payload:null}),MD=e=>({type:"DROP_COMPLETE",payload:e}),jD=e=>({type:"DROP",payload:e}),BD=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});const FD="cubic-bezier(.2,1,.1,1)",UD={drop:0,combining:.7},VD={drop:.75},zD={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},GD=`${zD.outOfTheWay}s ${"cubic-bezier(0.2, 0, 0, 1)"}`,$D={fluid:`opacity ${GD}`,snap:`transform ${GD}, opacity ${GD}`,drop:e=>{const t=`${e}s ${FD}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${GD}`,placeholder:`height ${GD}, width ${GD}, margin ${GD}`},qD=e=>eN(e,XT)?void 0:`translate(${e.x}px, ${e.y}px)`,WD=qD,HD=(e,t)=>{const n=qD(e);if(n)return t?`${n} scale(${VD.drop})`:n},{minDropTime:KD,maxDropTime:QD}=zD,YD=QD-KD;const XD=e=>{let{getState:t,dispatch:n}=e;return e=>r=>{if(!CD(r,"DROP"))return void e(r);const i=t(),o=r.payload.reason;if("COLLECTING"===i.phase)return void n((e=>({type:"DROP_PENDING",payload:e}))({reason:o}));if("IDLE"===i.phase)return;"DROP_PENDING"===i.phase&&i.isWaiting&&VT(),"DRAGGING"!==i.phase&&"DROP_PENDING"!==i.phase&&VT();const a=i.critical,s=i.dimensions,l=s.draggables[i.critical.draggable.id],{impact:c,didDropInsideDroppable:u}=(e=>{let{draggables:t,reason:n,lastImpact:r,home:i,viewport:o,onLiftImpact:a}=e;if(!r.at||"DROP"!==n)return{impact:fD({draggables:t,impact:a,destination:i,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1};return"REORDER"===r.at.type?{impact:r,didDropInsideDroppable:!0}:{impact:{...r,displaced:xN},didDropInsideDroppable:!0}})({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),d=u?vN(c):null,h=u?yN(c):null,f={index:a.draggable.index,droppableId:a.droppable.id},p={draggableId:l.descriptor.id,type:l.descriptor.type,source:f,reason:o,mode:i.movementMode,destination:d,combine:h},g=(e=>{let{impact:t,draggable:n,dimensions:r,viewport:i,afterCritical:o}=e;const{draggables:a,droppables:s}=r,l=nD(t),c=l?s[l]:null,u=s[n.descriptor.droppableId],d=pD({impact:t,draggable:n,draggables:a,afterCritical:o,droppable:c||u,viewport:i});return ZT(d,n.client.borderBox.center)})({impact:c,draggable:l,dimensions:s,viewport:i.viewport,afterCritical:i.afterCritical}),m={critical:i.critical,afterCritical:i.afterCritical,result:p,impact:c};if(!(!eN(i.current.client.offset,g)||Boolean(p.combine)))return void n(MD({completed:m}));const v=(e=>{let{current:t,destination:n,reason:r}=e;const i=rN(t,n);if(i<=0)return KD;if(i>=1500)return QD;const o=KD+YD*(i/1500);return Number(("CANCEL"===r?.6*o:o).toFixed(2))})({current:i.current.client.offset,destination:g,reason:o});n((e=>({type:"DROP_ANIMATE",payload:e}))({newHomeClientOffset:g,dropDuration:v,completed:m}))}};var JD=()=>({x:window.pageXOffset,y:window.pageYOffset});function ZD(e){let{onWindowScroll:t}=e;const n=SE((function(){t(JD())})),r=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}(n);let i=jT;function o(){return i!==jT}return{start:function(){o()&&VT(),i=BT(window,[r])},stop:function(){o()||VT(),n.cancel(),i(),i=jT},isActive:o}}const ek=e=>{const t=ZD({onWindowScroll:t=>{e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return e=>n=>{!t.isActive()&&CD(n,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&(e=>CD(e,"DROP_COMPLETE")||CD(e,"DROP_ANIMATE")||CD(e,"FLUSH"))(n)&&t.stop(),e(n)}};var tk=()=>{const e=[];return{add:t=>{const n=setTimeout((()=>(t=>{const n=e.findIndex((e=>e.timerId===t));-1===n&&VT();const[r]=e.splice(n,1);r.callback()})(n))),r={timerId:n,callback:t};e.push(r)},flush:()=>{if(!e.length)return;const t=[...e];e.length=0,t.forEach((e=>{clearTimeout(e.timerId),e.callback()}))}}};const nk=(e,t)=>{vD(),t(),yD()},rk=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function ik(e,t,n,r){if(!e)return void n(r(t));const i=(e=>{let t=!1,n=!1;const r=setTimeout((()=>{n=!0})),i=i=>{t||n||(t=!0,e(i),clearTimeout(r))};return i.wasCalled=()=>t,i})(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}var ok=(e,t)=>{const n=((e,t)=>{const n=tk();let r=null;const i=n=>{r||VT(),r=null,nk(0,(()=>ik(e().onDragEnd,n,t,HT.onDragEnd)))};return{beforeCapture:(t,n)=>{r&&VT(),nk(0,(()=>{const r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})}))},beforeStart:(t,n)=>{r&&VT(),nk(0,(()=>{const r=e().onBeforeDragStart;r&&r(rk(t,n))}))},start:(i,o)=>{r&&VT();const a=rk(i,o);r={mode:o,lastCritical:i,lastLocation:a.source,lastCombine:null},n.add((()=>{nk(0,(()=>ik(e().onDragStart,a,t,HT.onDragStart)))}))},update:(i,o)=>{const a=vN(o),s=yN(o);r||VT();const l=!((e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r})(i,r.lastCritical);l&&(r.lastCritical=i);const c=(d=a,!(null==(u=r.lastLocation)&&null==d||null!=u&&null!=d&&u.droppableId===d.droppableId&&u.index===d.index));var u,d;c&&(r.lastLocation=a);const h=!((e,t)=>null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId)(r.lastCombine,s);if(h&&(r.lastCombine=s),!l&&!c&&!h)return;const f={...rk(i,r.mode),combine:s,destination:a};n.add((()=>{nk(0,(()=>ik(e().onDragUpdate,f,t,HT.onDragUpdate)))}))},flush:()=>{r||VT(),n.flush()},drop:i,abort:()=>{if(!r)return;const e={...rk(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};i(e)}}})(e,t);return e=>t=>r=>{if(CD(r,"BEFORE_INITIAL_CAPTURE"))return void n.beforeCapture(r.payload.draggableId,r.payload.movementMode);if(CD(r,"INITIAL_PUBLISH")){const e=r.payload.critical;return n.beforeStart(e,r.payload.movementMode),t(r),void n.start(e,r.payload.movementMode)}if(CD(r,"DROP_COMPLETE")){const e=r.payload.completed.result;return n.flush(),t(r),void n.drop(e)}if(t(r),CD(r,"FLUSH"))return void n.abort();const i=e.getState();"DRAGGING"===i.phase&&n.update(i.critical,i.impact)}};const ak=e=>t=>n=>{if(!CD(n,"DROP_ANIMATION_FINISHED"))return void t(n);const r=e.getState();"DROP_ANIMATING"!==r.phase&&VT(),e.dispatch(MD({completed:r.completed}))},sk=e=>{let t=null,n=null;return r=>i=>{if((CD(i,"FLUSH")||CD(i,"DROP_COMPLETE")||CD(i,"DROP_ANIMATION_FINISHED"))&&(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(i),!CD(i,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame((()=>{n=null,t=BT(window,[o])}))}};var lk=e=>t=>n=>r=>{if((e=>CD(e,"DROP_COMPLETE")||CD(e,"DROP_ANIMATE")||CD(e,"FLUSH"))(r))return e.stop(),void n(r);if(CD(r,"INITIAL_PUBLISH")){n(r);const i=t.getState();return"DRAGGING"!==i.phase&&VT(),void e.start(i)}n(r),e.scroll(t.getState())};const ck=e=>t=>n=>{if(t(n),!CD(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(jD({reason:r.reason})))},uk=B_;var dk=e=>{let{dimensionMarshal:t,focusMarshal:n,styleMarshal:r,getResponders:i,announce:o,autoScroller:a}=e;return L_(SD,uk(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(k_(15))};const a={getState:i.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return o(e,...n)}},s=t.map((e=>e(a)));return o=B_(...s)(i.dispatch),{...i,dispatch:o}}}((s=r,()=>e=>t=>{CD(t,"INITIAL_PUBLISH")&&s.dragging(),CD(t,"DROP_ANIMATE")&&s.dropping(t.payload.completed.result.reason),(CD(t,"FLUSH")||CD(t,"DROP_COMPLETE"))&&s.resting(),e(t)}),(e=>()=>t=>n=>{(CD(n,"DROP_COMPLETE")||CD(n,"FLUSH")||CD(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)})(t),(e=>t=>{let{getState:n,dispatch:r}=t;return t=>i=>{if(!CD(i,"LIFT"))return void t(i);const{id:o,clientSelection:a,movementMode:s}=i.payload,l=n();"DROP_ANIMATING"===l.phase&&r(MD({completed:l.completed})),"IDLE"!==n().phase&&VT(),r({type:"FLUSH",payload:null}),r({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:o,movementMode:s}});const c={draggableId:o,scrollOptions:{shouldPublishImmediately:"SNAP"===s}},{critical:u,dimensions:d,viewport:h}=e.startPublishing(c);r({type:"INITIAL_PUBLISH",payload:{critical:u,dimensions:d,clientSelection:a,movementMode:s,viewport:h}})}})(t),XD,ak,sk,ck,lk(a),ek,(e=>{let t=!1;return()=>n=>r=>{if(CD(r,"INITIAL_PUBLISH"))return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if(CD(r,"FLUSH"))return t=!1,void e.tryRestoreFocusRecorded();if(CD(r,"DROP_COMPLETE")){t=!1;const n=r.payload.completed.result;n.combine&&e.tryShiftRecord(n.draggableId,n.combine.draggableId),e.tryRestoreFocusRecorded()}}}})(n),ok(i,o))));var s};var hk=e=>{let{scrollHeight:t,scrollWidth:n,height:r,width:i}=e;const o=ZT({x:n,y:t},{x:i,y:r});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},fk=()=>{const e=document.documentElement;return e||VT(),e},pk=()=>{const e=fk();return hk({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},gk=e=>{let{critical:t,scrollOptions:n,registry:r}=e;vD();const i=(()=>{const e=JD(),t=pk(),n=e.y,r=e.x,i=fk(),o=i.clientWidth,a=i.clientHeight;return{frame:dE({top:n,left:r,right:r+o,bottom:n+a}),scroll:{initial:e,current:e,max:t,diff:{value:XT,displacement:XT}}}})(),o=i.scroll.current,a=t.droppable,s=r.droppable.getAllByType(a.type).map((e=>e.callbacks.getDimensionAndWatchScroll(o,n))),l=r.draggable.getAllByType(t.draggable.type).map((e=>e.getDimension(o))),c={draggables:fN(l),droppables:hN(s)};yD();return{dimensions:c,critical:t,viewport:i}};function mk(e,t,n){if(n.descriptor.id===t.id)return!1;if(n.descriptor.type!==t.type)return!1;return"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode}var vk=(e,t)=>{let n=null;const r=function(e){let{registry:t,callbacks:n}=e,r={additions:{},removals:{},modified:{}},i=null;const o=()=>{i||(n.collectionStarting(),i=requestAnimationFrame((()=>{i=null,vD();const{additions:e,removals:o,modified:a}=r,s=Object.keys(e).map((e=>t.draggable.getById(e).getDimension(XT))).sort(((e,t)=>e.descriptor.index-t.descriptor.index)),l=Object.keys(a).map((e=>({droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}))),c={additions:s,removals:Object.keys(o),modified:l};r={additions:{},removals:{},modified:{}},yD(),n.publish(c)})))};return{add:e=>{const t=e.descriptor.id;r.additions[t]=e,r.modified[e.descriptor.droppableId]=!0,r.removals[t]&&delete r.removals[t],o()},remove:e=>{const t=e.descriptor;r.removals[t.id]=!0,r.modified[t.droppableId]=!0,r.additions[t.id]&&delete r.additions[t.id],o()},stop:()=>{i&&(cancelAnimationFrame(i),i=null,r={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=t=>{n||VT();const i=n.critical.draggable;"ADDITION"===t.type&&mk(e,i,t.value)&&r.add(t.value),"REMOVAL"===t.type&&mk(e,i,t.value)&&r.remove(t.value)},o={updateDroppableIsEnabled:(r,i)=>{e.droppable.exists(r)||VT(),n&&t.updateDroppableIsEnabled({id:r,isEnabled:i})},updateDroppableIsCombineEnabled:(r,i)=>{n&&(e.droppable.exists(r)||VT(),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:i}))},scrollDroppable:(t,r)=>{n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:(r,i)=>{n&&(e.droppable.exists(r)||VT(),t.updateDroppableScroll({id:r,newScroll:i}))},startPublishing:t=>{n&&VT();const r=e.draggable.getById(t.draggableId),o=e.droppable.getById(r.descriptor.droppableId),a={draggable:r.descriptor,droppable:o.descriptor},s=e.subscribe(i);return n={critical:a,unsubscribe:s},gk({critical:a,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:()=>{if(!n)return;r.stop();const t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach((e=>e.callbacks.dragStopped())),n.unsubscribe(),n=null}};return o},yk=(e,t)=>"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason),bk=e=>{window.scrollBy(e.x,e.y)};const wk=dN((e=>pN(e).filter((e=>!!e.isEnabled&&!!e.frame))));var Ek=e=>{let{center:t,destination:n,droppables:r}=e;if(n){const e=r[n];return e.frame?e:null}const i=((e,t)=>{const n=wk(t).find((t=>(t.frame||VT(),oD(t.frame.pageMarginBox)(e))))||null;return n})(t,r);return i};const xk={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var Ik=e=>{let{startOfRange:t,endOfRange:n,current:r}=e;const i=n-t;if(0===i)return 0;return(r-t)/i},Sk=e=>{let{distanceToEdge:t,thresholds:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o}=e;const a=function(e,t){const n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>xk)();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return n.maxPixelScroll;if(e===t.startScrollingFrom)return 1;const r=1-Ik({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),i=n.maxPixelScroll*n.ease(r);return Math.ceil(i)}(t,n,o);return 0===a?0:i?Math.max(((e,t,n)=>{const r=n(),i=r.durationDampening.accelerateAt,o=r.durationDampening.stopDampeningAt,a=t,s=o,l=Date.now()-a;if(l>=o)return e;if(l<i)return 1;const c=Ik({startOfRange:i,endOfRange:s,current:l}),u=e*r.ease(c);return Math.ceil(u)})(a,r,o),1):a},Ck=e=>{let{container:t,distanceToEdges:n,dragStartTime:r,axis:i,shouldUseTimeDampening:o,getAutoScrollerOptions:a}=e;const s=function(e,t){const n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>xk)();return{startScrollingFrom:e[t.size]*n.startFromPercentage,maxScrollValueAt:e[t.size]*n.maxScrollAtPercentage}}(t,i,a);return n[i.end]<n[i.start]?Sk({distanceToEdge:n[i.end],thresholds:s,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a}):-1*Sk({distanceToEdge:n[i.start],thresholds:s,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a})};const _k=oN((e=>0===e?0:e));var Tk=e=>{let{dragStartTime:t,container:n,subject:r,center:i,shouldUseTimeDampening:o,getAutoScrollerOptions:a}=e;const s={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},l=Ck({container:n,distanceToEdges:s,dragStartTime:t,axis:TN,shouldUseTimeDampening:o,getAutoScrollerOptions:a}),c=Ck({container:n,distanceToEdges:s,dragStartTime:t,axis:NN,shouldUseTimeDampening:o,getAutoScrollerOptions:a}),u=_k({x:c,y:l});if(eN(u,XT))return null;const d=(e=>{let{container:t,subject:n,proposedScroll:r}=e;const i=n.height>t.height,o=n.width>t.width;return o||i?o&&i?null:{x:o?0:r.x,y:i?0:r.y}:r})({container:n,subject:r,proposedScroll:u});return d?eN(d,XT)?null:d:null};const Nk=oN((e=>0===e?0:e>0?1:-1)),Dk=(()=>{const e=(e,t)=>e<0?e:e>t?e-t:0;return t=>{let{current:n,max:r,change:i}=t;const o=JT(n,i),a={x:e(o.x,r.x),y:e(o.y,r.y)};return eN(a,XT)?null:a}})(),kk=e=>{let{max:t,current:n,change:r}=e;const i={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},o=Nk(r),a=Dk({max:i,current:n,change:o});return!a||(0!==o.x&&0===a.x||0!==o.y&&0===a.y)},Ak=(e,t)=>kk({current:e.scroll.current,max:e.scroll.max,change:t}),Rk=(e,t)=>{const n=e.frame;return!!n&&kk({current:n.scroll.current,max:n.scroll.max,change:t})};var Pk=e=>{let{state:t,dragStartTime:n,shouldUseTimeDampening:r,scrollWindow:i,scrollDroppable:o,getAutoScrollerOptions:a}=e;const s=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const e=(e=>{let{viewport:t,subject:n,center:r,dragStartTime:i,shouldUseTimeDampening:o,getAutoScrollerOptions:a}=e;const s=Tk({dragStartTime:i,container:t.frame,subject:n,center:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a});return s&&Ak(t,s)?s:null})({dragStartTime:n,viewport:t.viewport,subject:l,center:s,shouldUseTimeDampening:r,getAutoScrollerOptions:a});if(e)return void i(e)}const c=Ek({center:s,destination:nD(t.impact),droppables:t.dimensions.droppables});if(!c)return;const u=(e=>{let{droppable:t,subject:n,center:r,dragStartTime:i,shouldUseTimeDampening:o,getAutoScrollerOptions:a}=e;const s=t.frame;if(!s)return null;const l=Tk({dragStartTime:i,container:s.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a});return l&&Rk(t,l)?l:null})({dragStartTime:n,droppable:c,subject:l,center:s,shouldUseTimeDampening:r,getAutoScrollerOptions:a});u&&o(c.descriptor.id,u)},Ok=e=>{let{move:t,scrollDroppable:n,scrollWindow:r}=e;const i=(e,t)=>{if(!Rk(e,t))return t;const r=((e,t)=>{const n=e.frame;return n&&Rk(e,t)?Dk({current:n.scroll.current,max:n.scroll.max,change:t}):null})(e,t);if(!r)return n(e.descriptor.id,t),null;const i=ZT(t,r);n(e.descriptor.id,i);return ZT(t,i)},o=(e,t,n)=>{if(!e)return n;if(!Ak(t,n))return n;const i=((e,t)=>{if(!Ak(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return Dk({current:r,max:n,change:t})})(t,n);if(!i)return r(n),null;const o=ZT(n,i);r(o);return ZT(n,o)};return e=>{const n=e.scrollJumpRequest;if(!n)return;const r=nD(e.impact);r||VT();const a=i(e.dimensions.droppables[r],n);if(!a)return;const s=e.viewport,l=o(e.isWindowScrollAllowed,s,a);l&&((e,n)=>{const r=JT(e.current.client.selection,n);t({client:r})})(e,l)}},Lk=e=>{let{scrollDroppable:t,scrollWindow:n,move:r,getAutoScrollerOptions:i}=e;const o=(e=>{let{scrollWindow:t,scrollDroppable:n,getAutoScrollerOptions:r=()=>xk}=e;const i=SE(t),o=SE(n);let a=null;const s=e=>{a||VT();const{shouldUseTimeDampening:t,dragStartTime:n}=a;Pk({state:e,scrollWindow:i,scrollDroppable:o,dragStartTime:n,shouldUseTimeDampening:t,getAutoScrollerOptions:r})};return{start:e=>{vD(),a&&VT();const t=Date.now();let n=!1;const i=()=>{n=!0};Pk({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:i,scrollDroppable:i,getAutoScrollerOptions:r}),a={dragStartTime:t,shouldUseTimeDampening:n},yD(),n&&s(e)},stop:()=>{a&&(i.cancel(),o.cancel(),a=null)},scroll:s}})({scrollWindow:n,scrollDroppable:t,getAutoScrollerOptions:i}),a=Ok({move:r,scrollWindow:n,scrollDroppable:t});return{scroll:e=>{i().disabled||"DRAGGING"!==e.phase||("FLUID"!==e.movementMode?e.scrollJumpRequest&&a(e):o.scroll(e))},start:o.start,stop:o.stop}};const Mk="data-rfd",jk=(()=>{const e=`${Mk}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),Bk=(()=>{const e=`${Mk}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),Fk=(()=>{const e=`${Mk}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),Uk={contextId:`${Mk}-scroll-container-context-id`},Vk=(e,t)=>e.map((e=>{const n=e.styles[t];return n?`${e.selector} { ${n} }`:""})).join(" ");const zk="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?i.useLayoutEffect:i.useEffect,Gk=()=>{const e=document.querySelector("head");return e||VT(),e},$k=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function qk(e,t){const n=QT((()=>(e=>{const t=(n=e,e=>`[${e}="${n}"]`);var n;const r=(()=>{const e="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ";return{selector:t(jk.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:e,dragging:"pointer-events: none;",dropAnimating:e}}})(),i=[(()=>{const e=`\n      transition: ${$D.outOfTheWay};\n    `;return{selector:t(Bk.contextId),styles:{dragging:e,dropAnimating:e,userCancel:e}}})(),r,{selector:t(Fk.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:Vk(i,"always"),resting:Vk(i,"resting"),dragging:Vk(i,"dragging"),dropAnimating:Vk(i,"dropAnimating"),userCancel:Vk(i,"userCancel")}})(e)),[e]),r=(0,i.useRef)(null),o=(0,i.useRef)(null),a=YT(dN((e=>{const t=o.current;t||VT(),t.textContent=e})),[]),s=YT((e=>{const t=r.current;t||VT(),t.textContent=e}),[]);zk((()=>{(r.current||o.current)&&VT();const i=$k(t),l=$k(t);return r.current=i,o.current=l,i.setAttribute(`${Mk}-always`,e),l.setAttribute(`${Mk}-dynamic`,e),Gk().appendChild(i),Gk().appendChild(l),s(n.always),a(n.resting),()=>{const e=e=>{const t=e.current;t||VT(),Gk().removeChild(t),e.current=null};e(r),e(o)}}),[t,s,a,n.always,n.resting,e]);const l=YT((()=>a(n.dragging)),[a,n.dragging]),c=YT((e=>{a("DROP"!==e?n.userCancel:n.dropAnimating)}),[a,n.dropAnimating,n.userCancel]),u=YT((()=>{o.current&&a(n.resting)}),[a,n.resting]);return QT((()=>({dragging:l,dropping:c,resting:u})),[l,c,u])}function Wk(e,t){return Array.from(e.querySelectorAll(t))}var Hk=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function Kk(e){return e instanceof Hk(e).HTMLElement}function Qk(e,t){const n=`[${jk.contextId}="${e}"]`,r=Wk(document,n);if(!r.length)return null;const i=r.find((e=>e.getAttribute(jk.draggableId)===t));return i&&Kk(i)?i:null}function Yk(){const e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach((t=>t(e)))}function r(t){return e.draggables[t]||null}const i={register:t=>{e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:(t,n)=>{const r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:t=>{const i=t.descriptor.id,o=r(i);o&&t.uniqueId===o.uniqueId&&(delete e.draggables[i],e.droppables[t.descriptor.droppableId]&&n({type:"REMOVAL",value:t}))},getById:function(e){const t=r(e);return t||VT(),t},findById:r,exists:e=>Boolean(r(e)),getAllByType:t=>Object.values(e.draggables).filter((e=>e.descriptor.type===t))};function o(t){return e.droppables[t]||null}const a={register:t=>{e.droppables[t.descriptor.id]=t},unregister:t=>{const n=o(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){const t=o(e);return t||VT(),t},findById:o,exists:e=>Boolean(o(e)),getAllByType:t=>Object.values(e.droppables).filter((e=>e.descriptor.type===t))};return{draggable:i,droppable:a,subscribe:function(e){return t.push(e),function(){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var Xk=i.createContext(null),Jk=()=>{const e=document.body;return e||VT(),e};const Zk={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};const eA={separator:"::"};function tA(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:eA;const n=i.useId();return QT((()=>`${e}${t.separator}${n}`),[t.separator,e,n])}var nA=i.createContext(null);function rA(e){0}function iA(e,t){rA()}function oA(){iA()}function aA(e){const t=(0,i.useRef)(e);return(0,i.useEffect)((()=>{t.current=e})),t}function sA(e){return"IDLE"!==e.phase&&"DROP_ANIMATING"!==e.phase&&e.isDragging}const lA=9,cA=13,uA=33,dA=34,hA=35,fA=36,pA={[cA]:!0,[lA]:!0};var gA=e=>{pA[e.keyCode]&&e.preventDefault()};const mA=(()=>{const e="visibilitychange";if("undefined"===typeof document)return e;return[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find((e=>`on${e}`in document))||e})();const vA={type:"IDLE"};function yA(e){let{cancel:t,completed:n,getPhase:r,setPhase:i}=e;return[{eventName:"mousemove",fn:e=>{const{button:t,clientX:n,clientY:o}=e;if(0!==t)return;const a={x:n,y:o},s=r();if("DRAGGING"===s.type)return e.preventDefault(),void s.actions.move(a);"PENDING"!==s.type&&VT();const l=s.point;if(c=l,u=a,!(Math.abs(u.x-c.x)>=5||Math.abs(u.y-c.y)>=5))return;var c,u;e.preventDefault();const d=s.actions.fluidLift(a);i({type:"DRAGGING",actions:d})}},{eventName:"mouseup",fn:e=>{const i=r();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"mousedown",fn:e=>{"DRAGGING"===r().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:e=>{if("PENDING"!==r().type)return 27===e.keyCode?(e.preventDefault(),void t()):void gA(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{"PENDING"===r().type&&t()}},{eventName:"webkitmouseforcedown",fn:e=>{const n=r();"IDLE"===n.type&&VT(),n.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:mA,fn:t}]}function bA(){}const wA={[dA]:!0,[uA]:!0,[fA]:!0,[hA]:!0};function EA(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:r=>27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(wA[r.keyCode]?r.preventDefault():gA(r))},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:mA,fn:n}]}const xA={type:"IDLE"};const IA=["input","button","textarea","select","option","optgroup","video","audio"];function SA(e,t){if(null==t)return!1;if(IA.includes(t.tagName.toLowerCase()))return!0;const n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&SA(e,t.parentElement)}function CA(e,t){const n=t.target;return!!Kk(n)&&SA(e,n)}var _A=e=>dE(e.getBoundingClientRect()).center;const TA=(()=>{const e="matches";if("undefined"===typeof document)return e;return[e,"msMatchesSelector","webkitMatchesSelector"].find((e=>e in Element.prototype))||e})();function NA(e,t){return null==e?null:e[TA](t)?e:NA(e.parentElement,t)}function DA(e,t){return e.closest?e.closest(t):NA(e,t)}function kA(e,t){const n=t.target;if(!function(e){return e instanceof Hk(e).Element}(n))return null;const r=function(e){return`[${jk.contextId}="${e}"]`}(e),i=DA(n,r);return i&&Kk(i)?i:null}function AA(e){e.preventDefault()}function RA(e){let{expected:t,phase:n,isLockActive:r,shouldWarn:i}=e;return!!r()&&t===n}function PA(e){let{lockAPI:t,store:n,registry:r,draggableId:i}=e;if(t.isClaimed())return!1;const o=r.draggable.findById(i);return!!o&&(!!o.options.isEnabled&&!!yk(n.getState(),i))}function OA(e){let{lockAPI:t,contextId:n,store:r,registry:i,draggableId:o,forceSensorStop:a,sourceEvent:s}=e;if(!PA({lockAPI:t,store:r,registry:i,draggableId:o}))return null;const l=i.draggable.getById(o),c=function(e,t){const n=`[${Bk.contextId}="${e}"]`,r=Wk(document,n).find((e=>e.getAttribute(Bk.id)===t));return r&&Kk(r)?r:null}(n,l.descriptor.id);if(!c)return null;if(s&&!l.options.canDragInteractiveElements&&CA(c,s))return null;const u=t.claim(a||jT);let d="PRE_DRAG";function h(){return l.options.shouldRespectForcePress}function f(){return t.isActive(u)}const p=function(e,t){RA({expected:e,phase:d,isLockActive:f,shouldWarn:!0})&&r.dispatch(t())}.bind(null,"DRAGGING");function g(e){function n(){t.release(),d="COMPLETED"}function i(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shouldBlockNextClick:!1};if(e.cleanup(),i.shouldBlockNextClick){const e=BT(window,[{eventName:"click",fn:AA,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(e)}n(),r.dispatch(jD({reason:t}))}return"PRE_DRAG"!==d&&(n(),VT()),r.dispatch((e=>({type:"LIFT",payload:e}))(e.liftActionArgs)),d="DRAGGING",{isActive:()=>RA({expected:"DRAGGING",phase:d,isLockActive:f,shouldWarn:!1}),shouldRespectForcePress:h,drop:e=>i("DROP",e),cancel:e=>i("CANCEL",e),...e.actions}}const m={isActive:()=>RA({expected:"PRE_DRAG",phase:d,isLockActive:f,shouldWarn:!1}),shouldRespectForcePress:h,fluidLift:function(e){const t=SE((e=>{p((()=>AD({client:e})))}));return{...g({liftActionArgs:{id:o,clientSelection:e,movementMode:"FLUID"},cleanup:()=>t.cancel(),actions:{move:t}}),move:t}},snapLift:function(){const e={moveUp:()=>p(RD),moveRight:()=>p(OD),moveDown:()=>p(PD),moveLeft:()=>p(LD)};return g({liftActionArgs:{id:o,clientSelection:_A(c),movementMode:"SNAP"},cleanup:jT,actions:e})},abort:function(){RA({expected:"PRE_DRAG",phase:d,isLockActive:f,shouldWarn:!0})&&t.release()}};return m}const LA=[function(e){const t=(0,i.useRef)(vA),n=(0,i.useRef)(jT),r=QT((()=>({eventName:"mousedown",fn:function(t){if(t.defaultPrevented)return;if(0!==t.button)return;if(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)return;const r=e.findClosestDraggableId(t);if(!r)return;const i=e.tryGetLock(r,s,{sourceEvent:t});if(!i)return;t.preventDefault();const o={x:t.clientX,y:t.clientY};n.current(),u(i,o)}})),[e]),o=QT((()=>({eventName:"webkitmouseforcewillbegin",fn:t=>{if(t.defaultPrevented)return;const n=e.findClosestDraggableId(t);if(!n)return;const r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}})),[e]),a=YT((function(){n.current=BT(window,[o,r],{passive:!1,capture:!0})}),[o,r]),s=YT((()=>{"IDLE"!==t.current.type&&(t.current=vA,n.current(),a())}),[a]),l=YT((()=>{const e=t.current;s(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[s]),c=YT((function(){const e=yA({cancel:l,completed:s,getPhase:()=>t.current,setPhase:e=>{t.current=e}});n.current=BT(window,e,{capture:!0,passive:!1})}),[l,s]),u=YT((function(e,n){"IDLE"!==t.current.type&&VT(),t.current={type:"PENDING",point:n,actions:e},c()}),[c]);zk((function(){return a(),function(){n.current()}}),[a])},function(e){const t=(0,i.useRef)(bA),n=QT((()=>({eventName:"keydown",fn:function(n){if(n.defaultPrevented)return;if(32!==n.keyCode)return;const i=e.findClosestDraggableId(n);if(!i)return;const o=e.tryGetLock(i,l,{sourceEvent:n});if(!o)return;n.preventDefault();let a=!0;const s=o.snapLift();function l(){a||VT(),a=!1,t.current(),r()}t.current(),t.current=BT(window,EA(s,l),{capture:!0,passive:!1})}})),[e]),r=YT((function(){t.current=BT(window,[n],{passive:!1,capture:!0})}),[n]);zk((function(){return r(),function(){t.current()}}),[r])},function(e){const t=(0,i.useRef)(xA),n=(0,i.useRef)(jT),r=YT((function(){return t.current}),[]),o=YT((function(e){t.current=e}),[]),a=QT((()=>({eventName:"touchstart",fn:function(t){if(t.defaultPrevented)return;const r=e.findClosestDraggableId(t);if(!r)return;const i=e.tryGetLock(r,l,{sourceEvent:t});if(!i)return;const o=t.touches[0],{clientX:a,clientY:s}=o,c={x:a,y:s};n.current(),h(i,c)}})),[e]),s=YT((function(){n.current=BT(window,[a],{capture:!0,passive:!1})}),[a]),l=YT((()=>{const e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),o(xA),n.current(),s())}),[s,o]),c=YT((()=>{const e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[l]),u=YT((function(){const e={capture:!0,passive:!1},t={cancel:c,completed:l,getPhase:r},i=BT(window,function(e){let{cancel:t,completed:n,getPhase:r}=e;return[{eventName:"touchmove",options:{capture:!1},fn:e=>{const n=r();if("DRAGGING"!==n.type)return void t();n.hasMoved=!0;const{clientX:i,clientY:o}=e.touches[0],a={x:i,y:o};e.preventDefault(),n.actions.move(a)}},{eventName:"touchend",fn:e=>{const i=r();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"touchcancel",fn:e=>{"DRAGGING"===r().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:e=>{const n=r();"IDLE"===n.type&&VT();const i=e.touches[0];if(!i)return;if(!(i.force>=.15))return;const o=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return o?n.hasMoved?void e.preventDefault():void t():void e.preventDefault();o&&t()}},{eventName:mA,fn:t}]}(t),e),o=BT(window,function(e){let{cancel:t,getPhase:n}=e;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:e=>{e.preventDefault()}},{eventName:"keydown",fn:e=>{"DRAGGING"===n().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:mA,fn:t}]}(t),e);n.current=function(){i(),o()}}),[c,r,l]),d=YT((function(){const e=r();"PENDING"!==e.type&&VT();const t=e.actions.fluidLift(e.point);o({type:"DRAGGING",actions:t,hasMoved:!1})}),[r,o]),h=YT((function(e,t){"IDLE"!==r().type&&VT();const n=setTimeout(d,120);o({type:"PENDING",point:t,actions:e,longPressTimerId:n}),u()}),[u,r,o,d]);zk((function(){return s(),function(){n.current();const e=r();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),o(xA))}}),[r,s,o]),zk((function(){return BT(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])}),[])}];function MA(e){let{contextId:t,store:n,registry:r,customSensors:o,enableDefaultSensors:a}=e;const s=[...a?LA:[],...o||[]],l=(0,i.useState)((()=>function(){let e=null;function t(){e||VT(),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&VT();const n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()))[0],c=YT((function(e,t){sA(e)&&!sA(t)&&l.tryAbandon()}),[l]);zk((function(){let e=n.getState();return n.subscribe((()=>{const t=n.getState();c(e,t),e=t}))}),[l,n,c]),zk((()=>l.tryAbandon),[l.tryAbandon]);const u=YT((e=>PA({lockAPI:l,registry:r,store:n,draggableId:e})),[l,r,n]),d=YT(((e,i,o)=>OA({lockAPI:l,registry:r,contextId:t,store:n,draggableId:e,forceSensorStop:i||null,sourceEvent:o&&o.sourceEvent?o.sourceEvent:null})),[t,l,r,n]),h=YT((e=>function(e,t){const n=kA(e,t);return n?n.getAttribute(jk.draggableId):null}(t,e)),[t]),f=YT((e=>{const t=r.draggable.findById(e);return t?t.options:null}),[r.draggable]),p=YT((function(){l.isClaimed()&&(l.tryAbandon(),"IDLE"!==n.getState().phase&&n.dispatch({type:"FLUSH",payload:null}))}),[l,n]),g=YT((()=>l.isClaimed()),[l]),m=QT((()=>({canGetLock:u,tryGetLock:d,findClosestDraggableId:h,findOptionsForDraggable:f,tryReleaseLock:p,isLockClaimed:g})),[u,d,h,f,p,g]);rA();for(let i=0;i<s.length;i++)s[i](m)}function jA(e){return e.current||VT(),e.current}function BA(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:o,dragHandleUsageInstructions:a}=e,l=(0,i.useRef)(null);oA();const c=aA(e),u=YT((()=>(e=>({onBeforeCapture:t=>{(0,s.flushSync)((()=>{e.onBeforeCapture&&e.onBeforeCapture(t)}))},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}))(c.current)),[c]),d=YT((()=>(e=>({...xk,...e.autoScrollerOptions,durationDampening:{...xk.durationDampening,...e.autoScrollerOptions}}))(c.current)),[c]),h=function(e){const t=QT((()=>(e=>`rfd-announcement-${e}`)(e)),[e]),n=(0,i.useRef)(null);(0,i.useEffect)((function(){const e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),aw(e.style,Zk),Jk().appendChild(e),function(){setTimeout((function(){const t=Jk();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)}))}}),[t]);const r=YT((e=>{const t=n.current;t&&(t.textContent=e)}),[]);return r}(t),f=function(e){let{contextId:t,text:n}=e;const r=tA("hidden-text",{separator:"-"}),o=QT((()=>function(e){let{contextId:t,uniqueId:n}=e;return`rfd-hidden-text-${t}-${n}`}({contextId:t,uniqueId:r})),[r,t]);return(0,i.useEffect)((function(){const e=document.createElement("div");return e.id=o,e.textContent=n,e.style.display="none",Jk().appendChild(e),function(){const t=Jk();t.contains(e)&&t.removeChild(e)}}),[o,n]),o}({contextId:t,text:a}),p=qk(t,o),g=YT((e=>{jA(l).dispatch(e)}),[]),m=QT((()=>j_({publishWhileDragging:_D,updateDroppableScroll:ND,updateDroppableIsEnabled:DD,updateDroppableIsCombineEnabled:kD,collectionStarting:TD},g)),[g]),v=function(){const e=QT(Yk,[]);return(0,i.useEffect)((()=>function(){e.clean()}),[e]),e}(),y=QT((()=>vk(v,m)),[v,m]),b=QT((()=>Lk({scrollWindow:bk,scrollDroppable:y.scrollDroppable,getAutoScrollerOptions:d,...j_({move:AD},g)})),[y.scrollDroppable,g,d]),w=function(e){const t=(0,i.useRef)({}),n=(0,i.useRef)(null),r=(0,i.useRef)(null),o=(0,i.useRef)(!1),a=YT((function(e,n){const r={id:e,focus:n};return t.current[e]=r,function(){const n=t.current;n[e]!==r&&delete n[e]}}),[]),s=YT((function(t){const n=Qk(e,t);n&&n!==document.activeElement&&n.focus()}),[e]),l=YT((function(e,t){n.current===e&&(n.current=t)}),[]),c=YT((function(){r.current||o.current&&(r.current=requestAnimationFrame((()=>{r.current=null;const e=n.current;e&&s(e)})))}),[s]),u=YT((function(e){n.current=null;const t=document.activeElement;t&&t.getAttribute(jk.draggableId)===e&&(n.current=e)}),[]);return zk((()=>(o.current=!0,function(){o.current=!1;const e=r.current;e&&cancelAnimationFrame(e)})),[]),QT((()=>({register:a,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l})),[a,u,c,l])}(t),E=QT((()=>dk({announce:h,autoScroller:b,dimensionMarshal:y,focusMarshal:w,getResponders:u,styleMarshal:p})),[h,b,y,w,u,p]);l.current=E;const x=YT((()=>{const e=jA(l);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})}),[]),I=YT((()=>{const e=jA(l).getState();return"DROP_ANIMATING"===e.phase||"IDLE"!==e.phase&&e.isDragging}),[]);n(QT((()=>({isDragging:I,tryAbort:x})),[I,x]));const S=YT((e=>yk(jA(l).getState(),e)),[]),C=YT((()=>iD(jA(l).getState())),[]),_=QT((()=>({marshal:y,focus:w,contextId:t,canLift:S,isMovementAllowed:C,dragHandleUsageInstructionsId:f,registry:v})),[t,y,f,w,S,C,v]);return MA({contextId:t,store:E,registry:v,customSensors:r||null,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,i.useEffect)((()=>x),[x]),i.createElement(nA.Provider,{value:_},i.createElement(LT,{context:Xk,store:E},e.children))}function FA(e){const t=i.useId(),n=e.dragHandleUsageInstructions||HT.dragHandleUsageInstructions;return i.createElement(zT,null,(r=>i.createElement(BA,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children)))}const UA=5e3,VA=4500,zA=(e,t)=>t?$D.drop(t.duration):e?$D.snap:$D.fluid,GA=(e,t)=>{if(e)return t?UD.drop:UD.combining};function $A(e){return"DRAGGING"===e.type?function(e){const t=e.dimension.client,{offset:n,combineWith:r,dropping:i}=e,o=Boolean(r),a=(e=>null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode)(e),s=Boolean(i),l=s?HD(n,o):WD(n);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:zA(a,i),transform:l,opacity:GA(o,s),zIndex:s?VA:UA,pointerEvents:"none"}}(e):{transform:WD((t=e).offset),transition:t.shouldAnimateDisplacement?void 0:"none"};var t}function qA(e){const t=tA("draggable"),{descriptor:n,registry:r,getDraggableRef:o,canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:l}=e,c=QT((()=>({canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:l})),[a,l,s]),u=YT((e=>{const t=o();return t||VT(),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:XT;const r=window.getComputedStyle(t),i=t.getBoundingClientRect(),o=bE(i,r),a=yE(o,n);return{descriptor:e,placeholder:{client:o,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:o.marginBox.width,y:o.marginBox.height},client:o,page:a}}(n,t,e)}),[n,o]),d=QT((()=>({uniqueId:t,descriptor:n,options:c,getDimension:u})),[n,u,c,t]),h=(0,i.useRef)(d),f=(0,i.useRef)(!0);zk((()=>(r.draggable.register(h.current),()=>r.draggable.unregister(h.current))),[r.draggable]),zk((()=>{if(f.current)return void(f.current=!1);const e=h.current;h.current=d,r.draggable.update(d,e)}),[d,r.draggable])}var WA=i.createContext(null);function HA(e){const t=(0,i.useContext)(e);return t||VT(),t}function KA(e){e.preventDefault()}var QA=(e,t)=>e===t,YA=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};function XA(){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,combineWith:null}}const JA={mapped:{type:"SECONDARY",offset:XT,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:XA(null)}};const ZA=OT((()=>{const e=function(){const e=dN(((e,t)=>({x:e,y:t}))),t=dN((function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return{isDragging:!0,isClone:t,isDropAnimating:Boolean(i),dropAnimation:i,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}})),n=dN((function(e,n,r,i){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;return{mapped:{type:"DRAGGING",dropping:null,draggingOver:o,combineWith:a,mode:n,offset:e,dimension:r,forceShouldAnimate:arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,snapshot:t(n,i,o,a,null)}}}));return(r,i)=>{if(sA(r)){if(r.critical.draggable.id!==i.draggableId)return null;const t=r.current.client.offset,a=r.dimensions.draggables[i.draggableId],s=nD(r.impact),l=(o=r.impact).at&&"COMBINE"===o.at.type?o.at.combine.draggableId:null,c=r.forceShouldAnimate;return n(e(t.x,t.y),r.movementMode,a,i.isClone,s,l,c)}var o;if("DROP_ANIMATING"===r.phase){const e=r.completed;if(e.result.draggableId!==i.draggableId)return null;const n=i.isClone,o=r.dimensions.draggables[i.draggableId],a=e.result,s=a.mode,l=YA(a),c=(e=>e.combine?e.combine.draggableId:null)(a),u={duration:r.dropDuration,curve:FD,moveTo:r.newHomeClientOffset,opacity:c?UD.drop:null,scale:c?VD.drop:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:o,dropping:u,draggingOver:l,combineWith:c,mode:s,forceShouldAnimate:null,snapshot:t(s,n,l,c,u)}}}return null}}(),t=function(){const e=dN(((e,t)=>({x:e,y:t}))),t=dN(XA),n=dN((function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:arguments.length>2?arguments[2]:void 0,snapshot:t(n)}}})),r=e=>e?n(XT,e,!0):null,i=(t,i,o,a)=>{const s=o.displaced.visible[t],l=Boolean(a.inVirtualList&&a.effected[t]),c=yN(o),u=c&&c.draggableId===t?i:null;if(!s){if(!l)return r(u);if(o.displaced.invisible[t])return null;const i=tN(a.displacedBy.point),s=e(i.x,i.y);return n(s,u,!0)}if(l)return r(u);const d=o.displacedBy.point,h=e(d.x,d.y);return n(h,u,s.shouldAnimate)};return(e,t)=>{if(sA(e))return e.critical.draggable.id===t.draggableId?null:i(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){const n=e.completed;return n.result.draggableId===t.draggableId?null:i(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return(n,r)=>e(n,r)||t(n,r)||JA}),{dropAnimationFinished:BD},null,{context:Xk,areStatePropsEqual:QA})((e=>{const t=(0,i.useRef)(null),n=YT((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t.current=e}),[]),r=YT((()=>t.current),[]),{contextId:o,dragHandleUsageInstructionsId:a,registry:l}=HA(nA),{type:c,droppableId:u}=HA(WA),d=QT((()=>({id:e.draggableId,index:e.index,type:c,droppableId:u})),[e.draggableId,e.index,c,u]),{children:h,draggableId:f,isEnabled:p,shouldRespectForcePress:g,canDragInteractiveElements:m,isClone:v,mapped:y,dropAnimationFinished:b}=e;if(iA(),rA(),!v){qA(QT((()=>({descriptor:d,registry:l,getDraggableRef:r,canDragInteractiveElements:m,shouldRespectForcePress:g,isEnabled:p})),[d,l,r,m,g,p]))}const w=QT((()=>p?{tabIndex:0,role:"button","aria-describedby":a,"data-rfd-drag-handle-draggable-id":f,"data-rfd-drag-handle-context-id":o,draggable:!1,onDragStart:KA}:null),[o,a,f,p]),E=YT((e=>{"DRAGGING"===y.type&&y.dropping&&"transform"===e.propertyName&&(0,s.flushSync)(b)}),[b,y]),x=QT((()=>{const e=$A(y),t="DRAGGING"===y.type&&y.dropping?E:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":o,"data-rfd-draggable-id":f,style:e,onTransitionEnd:t},dragHandleProps:w}}),[o,w,f,y,E,n]),I=QT((()=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}})),[d.droppableId,d.id,d.index,d.type]);return i.createElement(i.Fragment,null,h(x,y.snapshot,I))}));function eR(e){return HA(WA).isUsingCloneFor!==e.draggableId||e.isClone?i.createElement(ZA,e):null}function tR(e){const t="boolean"!==typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),r=Boolean(e.shouldRespectForcePress);return i.createElement(eR,aw({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const nR=e=>t=>e===t,rR=nR("scroll"),iR=nR("auto"),oR=(nR("visible"),(e,t)=>t(e.overflowX)||t(e.overflowY)),aR=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return oR(n,rR)||oR(n,iR)},sR=e=>null==e||e===document.body||e===document.documentElement?null:aR(e)?e:sR(e.parentElement);var lR=e=>({x:e.scrollLeft,y:e.scrollTop});const cR=e=>{if(!e)return!1;return"fixed"===window.getComputedStyle(e).position||cR(e.parentElement)};var uR=e=>{let{ref:t,descriptor:n,env:r,windowScroll:i,direction:o,isDropDisabled:a,isCombineEnabled:s,shouldClipSubject:l}=e;const c=r.closestScrollable,u=((e,t)=>{const n=wE(e);if(!t)return n;if(e!==t)return n;const r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,o=r+t.scrollHeight,a=i+t.scrollWidth,s=hE({top:r,right:a,bottom:o,left:i},n.border);return gE({borderBox:s,margin:n.margin,border:n.border,padding:n.padding})})(t,c),d=yE(u,i),h=(()=>{if(!c)return null;const e=wE(c),t={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:e,page:yE(e,i),scroll:lR(c),scrollSize:t,shouldClipSubject:l}})(),f=(e=>{let{descriptor:t,isEnabled:n,isCombineEnabled:r,isFixedOnPage:i,direction:o,client:a,page:s,closest:l}=e;const c=(()=>{if(!l)return null;const{scrollSize:e,client:t}=l,n=hk({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:n,diff:{value:XT,displacement:XT}}}})(),u="vertical"===o?TN:NN;return{descriptor:t,isCombineEnabled:r,isFixedOnPage:i,axis:u,isEnabled:n,client:a,page:s,frame:c,subject:cN({page:s,withPlaceholder:null,axis:u,frame:c})}})({descriptor:n,isEnabled:!a,isCombineEnabled:s,isFixedOnPage:r.isFixedOnPage,direction:o,client:u,page:d,closest:h});return f};const dR={passive:!1},hR={passive:!0};var fR=e=>e.shouldPublishImmediately?dR:hR;const pR=e=>e&&e.env.closestScrollable||null;function gR(e){const t=(0,i.useRef)(null),n=HA(nA),r=tA("droppable"),{registry:o,marshal:a}=n,s=aA(e),l=QT((()=>({id:e.droppableId,type:e.type,mode:e.mode})),[e.droppableId,e.mode,e.type]),c=(0,i.useRef)(l),u=QT((()=>dN(((e,n)=>{t.current||VT();const r={x:e,y:n};a.updateDroppableScroll(l.id,r)}))),[l.id,a]),d=YT((()=>{const e=t.current;return e&&e.env.closestScrollable?lR(e.env.closestScrollable):XT}),[]),h=YT((()=>{const e=d();u(e.x,e.y)}),[d,u]),f=QT((()=>SE(h)),[h]),p=YT((()=>{const e=t.current,n=pR(e);e&&n||VT();e.scrollOptions.shouldPublishImmediately?h():f()}),[f,h]),g=YT(((e,r)=>{t.current&&VT();const i=s.current,o=i.getDroppableRef();o||VT();const a=(e=>({closestScrollable:sR(e),isFixedOnPage:cR(e)}))(o),c={ref:o,descriptor:l,env:a,scrollOptions:r};t.current=c;const u=uR({ref:o,descriptor:l,env:a,windowScroll:e,direction:i.direction,isDropDisabled:i.isDropDisabled,isCombineEnabled:i.isCombineEnabled,shouldClipSubject:!i.ignoreContainerClipping}),d=a.closestScrollable;return d&&(d.setAttribute(Uk.contextId,n.contextId),d.addEventListener("scroll",p,fR(c.scrollOptions))),u}),[n.contextId,l,p,s]),m=YT((()=>{const e=t.current,n=pR(e);return e&&n||VT(),lR(n)}),[]),v=YT((()=>{const e=t.current;e||VT();const n=pR(e);t.current=null,n&&(f.cancel(),n.removeAttribute(Uk.contextId),n.removeEventListener("scroll",p,fR(e.scrollOptions)))}),[p,f]),y=YT((e=>{const n=t.current;n||VT();const r=pR(n);r||VT(),r.scrollTop+=e.y,r.scrollLeft+=e.x}),[]),b=QT((()=>({getDimensionAndWatchScroll:g,getScrollWhileDragging:m,dragStopped:v,scroll:y})),[v,g,m,y]),w=QT((()=>({uniqueId:r,descriptor:l,callbacks:b})),[b,l,r]);zk((()=>(c.current=w.descriptor,o.droppable.register(w),()=>{t.current&&v(),o.droppable.unregister(w)})),[b,l,v,w,a,o.droppable]),zk((()=>{t.current&&a.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)}),[e.isDropDisabled,a]),zk((()=>{t.current&&a.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,a])}function mR(){}const vR={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},yR=e=>{let{isAnimatingOpenOnMount:t,placeholder:n,animate:r}=e;const i=(e=>{let{isAnimatingOpenOnMount:t,placeholder:n,animate:r}=e;return t||"close"===r?vR:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}})({isAnimatingOpenOnMount:t,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==r?$D.placeholder:null}};var bR=i.memo((e=>{const t=(0,i.useRef)(null),n=YT((()=>{t.current&&(clearTimeout(t.current),t.current=null)}),[]),{animate:r,onTransitionEnd:o,onClose:a,contextId:s}=e,[l,c]=(0,i.useState)("open"===e.animate);(0,i.useEffect)((()=>l?"open"!==r?(n(),c(!1),mR):t.current?mR:(t.current=setTimeout((()=>{t.current=null,c(!1)})),n):mR),[r,l,n]);const u=YT((e=>{"height"===e.propertyName&&(o(),"close"===r&&a())}),[r,a,o]),d=yR({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return i.createElement(e.placeholder.tagName,{style:d,"data-rfd-placeholder-context-id":s,onTransitionEnd:u,ref:e.innerRef})}));class wR extends i.PureComponent{constructor(){super(...arguments),this.state={isVisible:Boolean(this.props.on),data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{"close"===this.state.animate&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const ER={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||VT(),document.body}},xR=e=>{let t,n={...e};for(t in ER)void 0===e[t]&&(n={...n,[t]:ER[t]});return n},IR=(e,t)=>e===t.droppable.type,SR=(e,t)=>t.draggables[e.draggable.id],CR=OT((()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=dN((e=>({draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}))),r=dN(((r,i,o,a,s,l)=>{const c=s.descriptor.id;if(s.descriptor.droppableId===r){const e=l?{render:l,dragging:n(s.descriptor)}:null,t={isDraggingOver:o,draggingOverWith:o?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!1,snapshot:t,useClone:e}}if(!i)return t;if(!a)return e;const u={isDraggingOver:o,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!0,snapshot:u,useClone:null}}));return(n,i)=>{const o=xR(i),a=o.droppableId,s=o.type,l=!o.isDropDisabled,c=o.renderClone;if(sA(n)){const e=n.critical;if(!IR(s,e))return t;const i=SR(e,n.dimensions),o=nD(n.impact)===a;return r(a,l,o,o,i,c)}if("DROP_ANIMATING"===n.phase){const e=n.completed;if(!IR(s,e.critical))return t;const i=SR(e.critical,n.dimensions);return r(a,l,YA(e.result)===a,nD(e.impact)===a,i,c)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){const r=n.completed;if(!IR(s,r.critical))return t;const i=nD(r.impact)===a,o=Boolean(r.impact.at&&"COMBINE"===r.impact.at.type),l=r.critical.droppable.id===a;return i?o?e:t:l?e:t}return t}}),{updateViewportMaxScroll:e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e})},((e,t,n)=>({...xR(n),...e,...t})),{context:Xk,areStatePropsEqual:QA})((e=>{const t=(0,i.useContext)(nA);t||VT();const{contextId:n,isMovementAllowed:r}=t,o=(0,i.useRef)(null),a=(0,i.useRef)(null),{children:l,droppableId:c,type:u,mode:d,direction:h,ignoreContainerClipping:f,isDropDisabled:p,isCombineEnabled:g,snapshot:m,useClone:v,updateViewportMaxScroll:y,getContainerForClone:b}=e,w=YT((()=>o.current),[]),E=YT((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;o.current=e}),[]),x=(YT((()=>a.current),[]),YT((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;a.current=e}),[]));iA();const I=YT((()=>{r()&&y({maxScroll:pk()})}),[r,y]);gR({droppableId:c,type:u,mode:d,direction:h,isDropDisabled:p,isCombineEnabled:g,ignoreContainerClipping:f,getDroppableRef:w});const S=QT((()=>i.createElement(wR,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(e=>{let{onClose:t,data:r,animate:o}=e;return i.createElement(bR,{placeholder:r,onClose:t,innerRef:x,animate:o,contextId:n,onTransitionEnd:I})}))),[n,I,e.placeholder,e.shouldAnimatePlaceholder,x]),C=QT((()=>({innerRef:E,placeholder:S,droppableProps:{"data-rfd-droppable-id":c,"data-rfd-droppable-context-id":n}})),[n,c,S,E]),_=v?v.dragging.draggableId:null,T=QT((()=>({droppableId:c,type:u,isUsingCloneFor:_})),[c,_,u]);return i.createElement(WA.Provider,{value:T},l(C,m),function(){if(!v)return null;const{dragging:e,render:t}=v,n=i.createElement(eR,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},((n,r)=>t(n,r,e)));return s.createPortal(n,b())}())})),_R=["What is your company name?","What industry are you in?","How long have you been in business?","What is your company size?","What is your business model?","What are your main products or services?","What is your unique selling proposition?"],TR=["Who is your target audience?","What is the age range of your target market?","What are your customers' pain points?","Where are your customers located?","What is the income level of your target market?","What are your customers' buying habits?"],NR=["What colors represent your brand?","What emotions should your brand evoke?","Do you have any existing brand guidelines?","What brands inspire you?","What design styles do you prefer?","What should your brand communicate?"];function DR(e){let{value:t,onChange:n,type:r="text",suggestions:o=[]}=e;const[a,s]=(0,i.useState)(!1),[l,c]=(0,i.useState)([]),u=(0,i.useRef)(null),d=(0,i.useRef)(null);(0,i.useEffect)((()=>{if(t){const e=o.filter((e=>e.toLowerCase().includes(t.toLowerCase())));c(e)}else c(o)}),[t,o]),(0,i.useEffect)((()=>{const e=e=>{d.current&&!d.current.contains(e.target)&&u.current&&!u.current.contains(e.target)&&s(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}),[]);const h=()=>{s(!0)};return(0,Le.jsxs)("div",{className:"position-relative",style:{width:"100%"},children:["textarea"===r?(0,Le.jsx)("textarea",{ref:u,value:t,onChange:e=>n(e.target.value),onFocus:h,className:"form-control",rows:"3"}):(0,Le.jsx)("input",{ref:u,type:"text",value:t,onChange:e=>n(e.target.value),onFocus:h,className:"form-control"}),a&&l.length>0&&(0,Le.jsx)("div",{ref:d,className:"suggestions-dropdown",children:l.map(((e,t)=>(0,Le.jsx)("div",{className:"suggestion-item",onClick:()=>(e=>{n(e),s(!1)})(e),children:e},t)))})]})}const kR=e=>{let{question:t,onChange:n,onFileUpload:r}=e;const[o,a]=(0,i.useState)(0),[s,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(""),[d,h]=(0,i.useState)(null),f=["image/jpeg","image/jpg","image/png","application/pdf"],p=async e=>{if((e=>(u(""),!!e&&(f.includes(e.type)?!(e.size>5242880)||(u("File size must be less than 5MB."),!1):(u("Only JPG, JPEG, PNG and PDF files are allowed."),!1))))(e))try{if(l(!0),u(""),e.type.startsWith("image/")){const t=new FileReader;t.onloadend=()=>{h(t.result)},t.readAsDataURL(e)}else h(null);const t=kb(Ab(),`uploads/${Ob.currentUser.uid}/${Date.now()}_${e.name}`);await Nb(t,e);const n=await Db(t);r(n)}catch(c){console.error("Error uploading file:",c),u("Failed to upload file. Please try again.")}finally{l(!1),a(0)}},g=()=>t.text.toLowerCase().includes("color")||t.text.toLowerCase().includes("design")||t.text.toLowerCase().includes("brand")?NR:t.text.toLowerCase().includes("audience")||t.text.toLowerCase().includes("customer")||t.text.toLowerCase().includes("market")?TR:_R;switch(t.type){case"textarea":return(0,Le.jsx)(DR,{value:t.text,onChange:n,type:"textarea",suggestions:g()});case"file":return(0,Le.jsxs)("div",{className:"w-100",children:[(0,Le.jsx)("div",{className:"mb-2",children:(0,Le.jsx)(DR,{value:t.text,onChange:n,suggestions:g()})}),(0,Le.jsxs)("div",{children:[(0,Le.jsx)("input",{type:"file",accept:".jpg,.jpeg,.png,.pdf",onChange:e=>p(e.target.files[0]),className:"form-control",style:{maxWidth:"300px"},disabled:s}),c&&(0,Le.jsx)("div",{className:"text-danger mt-2",style:{maxWidth:"300px"},children:c}),s&&(0,Le.jsx)("div",{className:"progress mt-2",style:{maxWidth:"300px"},children:(0,Le.jsxs)("div",{className:"progress-bar",role:"progressbar",style:{width:`${o}%`},children:[o,"%"]})}),(d||t.fileUrl)&&(0,Le.jsx)("div",{className:"mt-2",style:{maxWidth:"200px"},children:t.fileUrl&&t.fileUrl.toLowerCase().endsWith(".pdf")?(0,Le.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Le.jsx)("i",{className:"fas fa-file-pdf me-2",style:{fontSize:"24px"}}),(0,Le.jsx)("a",{href:t.fileUrl,target:"_blank",rel:"noopener noreferrer",children:"View PDF"})]}):(0,Le.jsx)("img",{src:d||t.fileUrl,alt:"Upload preview",className:"img-fluid",style:{width:"200px",objectFit:"contain",border:"1px solid #dee2e6",borderRadius:"4px"}})})]})]});default:return(0,Le.jsx)(DR,{value:t.text,onChange:n,suggestions:g()})}},AR=i.memo((e=>{let{group:t,groupIndex:n,onQuestionChange:r,onQuestionDelete:o,onGroupNameChange:a,isExpanded:s,onToggleExpand:l,onAddQuestion:c}=e;const[u,d]=(0,i.useState)("text"),h=()=>{c(n,u)};return(0,Le.jsx)(tR,{draggableId:t.id,index:n,children:e=>(0,Le.jsxs)("div",{ref:e.innerRef,...e.draggableProps,className:"card mb-3",children:[(0,Le.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",...e.dragHandleProps,children:[(0,Le.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Le.jsx)("button",{className:"btn btn-link p-0 me-2",onClick:()=>l(t.id),title:s?"Collapse group":"Expand group",children:(0,Le.jsx)("i",{className:"fas fa-chevron-"+(s?"down":"right")})}),(0,Le.jsx)("input",{type:"text",value:t.name,onChange:e=>a(n,e.target.value),className:"form-control",placeholder:"Group Name",style:{minWidth:"500px"}})]}),(0,Le.jsxs)("span",{className:"text-muted",children:[t.questions.length," question",1!==t.questions.length?"s":""]})]}),(0,Le.jsx)(CR,{droppableId:t.id,type:"question",children:e=>(0,Le.jsxs)("div",{ref:e.innerRef,...e.droppableProps,className:"card-body "+(s?"":"d-none"),children:[t.questions.map(((e,t)=>(0,Le.jsx)(tR,{draggableId:e.id,index:t,children:i=>(0,Le.jsxs)("div",{ref:i.innerRef,...i.draggableProps,className:"p-3 mb-2 rounded d-flex align-items-center bg-white border draggable-item",children:[(0,Le.jsx)("div",{...i.dragHandleProps,className:"me-3",children:"\u22ee\u22ee"}),(0,Le.jsx)(kR,{question:e,onChange:e=>r(n,t,e),onFileUpload:e=>{}}),(0,Le.jsx)("button",{onClick:()=>o(n,t),className:"btn btn-outline-danger ms-2 delete-question",type:"button",title:"Delete question",children:"x"})]})},e.id))),e.placeholder,(0,Le.jsxs)("div",{className:"d-flex mt-3",children:[(0,Le.jsxs)("select",{className:"form-select me-2 mr-3",style:{width:"auto"},value:u,onChange:e=>d(e.target.value),children:[(0,Le.jsx)("option",{value:"text",children:"Text Input"}),(0,Le.jsx)("option",{value:"textarea",children:"Text Area"}),(0,Le.jsx)("option",{value:"file",children:"File Upload"})]}),(0,Le.jsx)("button",{className:"btn btn-primary",onClick:h,children:"Add Question"})]})]})})]})})})),RR=()=>{const{templateId:e,type:t}=re(),[n]=Oe(),r=n.get("baseTemplate"),[o,a]=(0,i.useState)([]),[s,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(new Set),d=ne(),[h,f]=(0,i.useState)(""),[p,g]=(0,i.useState)(!1);(0,i.useEffect)((()=>{(async()=>{try{const n=Ob.currentUser;if(!n)throw new Error("No authenticated user");if("create"===e){if(r&&"default"!==r){const e=fv(Lb,"users",n.uid,"questionnaireTemplates",r),t=await ay(e);if(t.exists())return void a(t.data().groups)}switch(t){case"website":a(qb);break;case"app":a(Wb);break;default:a($b)}return}const i=fv(Lb,"users",n.uid,"questionnaireTemplates",e),o=await ay(i);if(o.exists())a(o.data().groups);else switch(console.error("Template not found"),t){case"website":a(qb);break;case"app":a(Wb);break;default:a($b)}}catch(n){console.error("Error loading template:",n),a($b)}})()}),[e,t,r]);const m=(e,t,n)=>{const r=[...o];r[e].questions[t].text=n,a(r)},v=(e,t)=>{const n=[...o];n[e].questions.splice(t,1),a(n)},y=(e,t)=>{const n=[...o];n[e].name=t,a(n)},b=e=>{u((t=>{const n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n}))},w=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";const n=[...o];n[e].questions.push({id:`question-${Date.now()}`,text:"New Question",type:t,accept:"file"===t?"image/*,.pdf":void 0,fileUrl:null}),a(n)};return(0,Le.jsxs)("div",{className:"p-4",children:[(0,Le.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,Le.jsx)("h2",{children:"Edit Questions"}),(0,Le.jsxs)("div",{children:[(0,Le.jsx)("button",{className:"btn btn-secondary me-2 mr-3",onClick:()=>d("/dashboard"),children:"Cancel"}),"default"!==e&&(0,Le.jsx)("button",{className:"btn btn-danger me-2 mr-3",onClick:async()=>{var t;if("default"!==e){if(window.confirm("Are you sure you want to delete this template? This action cannot be undone."))try{const n=Ob.currentUser;if(!n)throw new Error("No authenticated user");const r=fv(Lb,"users",n.uid,"questionnaireTemplates",e);await(t=r,dy(av(t.firestore,gv),[new Cf(t._key,hf.none())])),d("/dashboard")}catch(n){console.error("Error deleting template:",n),alert("Failed to delete template. Please try again.")}}else alert("Cannot delete the default template")},children:"Delete Template"}),(0,Le.jsx)("button",{className:"btn btn-primary",onClick:()=>g(!0),disabled:s,children:s?"Saving...":"Save Template"})]})]}),(0,Le.jsx)(FA,{onDragEnd:e=>{if(!e.destination)return;const{source:t,destination:n,type:r}=e;if("group"===r){const e=Array.from(o),[r]=e.splice(t.index,1);return e.splice(n.index,0,r),void a(e)}const i=o.find((e=>e.id===t.droppableId)),s=o.find((e=>e.id===n.droppableId)),l=[...o],c=o.findIndex((e=>e.id===t.droppableId)),u=o.findIndex((e=>e.id===n.droppableId));if(t.droppableId===n.droppableId){const e=Array.from(i.questions),[r]=e.splice(t.index,1);e.splice(n.index,0,r),l[c].questions=e}else{const e=Array.from(i.questions),r=Array.from(s.questions),[o]=e.splice(t.index,1);r.splice(n.index,0,o),l[c].questions=e,l[u].questions=r}a(l)},children:(0,Le.jsx)(CR,{droppableId:"groups",type:"group",children:e=>(0,Le.jsxs)("div",{ref:e.innerRef,...e.droppableProps,children:[o.map(((e,t)=>(0,Le.jsx)("div",{className:"mb-4",children:(0,Le.jsx)(AR,{group:e,groupIndex:t,onQuestionChange:m,onQuestionDelete:v,onGroupNameChange:y,isExpanded:c.has(e.id),onToggleExpand:b,onAddQuestion:w})},e.id))),e.placeholder]})})}),(0,Le.jsx)("div",{className:"mt-4",children:(0,Le.jsx)("button",{className:"btn btn-primary",onClick:()=>{const e=`group-${Date.now()}`,t={id:e,name:"New Group",questions:[]};a([...o,t]),u((t=>new Set([...t,e])))},children:"Add New Group"})}),p&&(0,Le.jsx)("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,Le.jsx)("div",{className:"modal-dialog",children:(0,Le.jsx)("div",{className:"modal-content",children:(0,Le.jsxs)("form",{onSubmit:t=>{t.preventDefault(),g(!1),async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if("default"!==e||t)try{l(!0);const n=Ob.currentUser;if(!n)throw new Error("No authenticated user");const r="default"===e?`template-${Date.now()}`:e,i=fv(Lb,"users",n.uid,"questionnaireTemplates",r);await cy(i,{name:t||h||"Untitled Template",groups:o,updatedAt:new Date,type:"branding"},{merge:!0}),d("/dashboard")}catch(n){console.error("Error saving template:",n),alert("Failed to save template. Please try again.")}finally{l(!1)}else g(!0)}(h)},children:[(0,Le.jsx)("div",{className:"modal-header",children:(0,Le.jsx)("h5",{className:"modal-title",children:"Name Your Template"})}),(0,Le.jsx)("div",{className:"modal-body",children:(0,Le.jsxs)("div",{className:"form-group",children:[(0,Le.jsx)("label",{htmlFor:"templateName",className:"form-label",children:"Template Name"}),(0,Le.jsx)("input",{type:"text",className:"form-control",id:"templateName",value:h,onChange:e=>f(e.target.value),placeholder:"Enter template name",required:!0,autoFocus:!0})]})}),(0,Le.jsxs)("div",{className:"modal-footer",children:[(0,Le.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>g(!1),children:"Cancel"}),(0,Le.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:!h.trim(),children:"Save Template"})]})]})})})})]})};const PR=function(){return(0,Le.jsx)(je,{children:(0,Le.jsx)(Ne,{children:(0,Le.jsxs)(Ee,{children:[(0,Le.jsx)(be,{path:"/",element:(0,Le.jsx)(Qb,{})}),(0,Le.jsx)(be,{path:"/signup",element:(0,Le.jsx)(Jb,{children:(0,Le.jsx)(tw,{})})}),(0,Le.jsx)(be,{path:"/login",element:(0,Le.jsx)(Jb,{children:(0,Le.jsx)(rw,{})})}),(0,Le.jsx)(be,{path:"/dashboard",element:(0,Le.jsx)(ew,{role:"designer",children:(0,Le.jsx)(Jb,{children:(0,Le.jsx)(Gb,{})})})}),(0,Le.jsx)(be,{path:"/client-dashboard",element:(0,Le.jsx)(ew,{role:"client",children:(0,Le.jsx)(Jb,{children:(0,Le.jsx)(Zb,{})})})}),(0,Le.jsx)(be,{path:"/onboarding/:type/:projectId/*",element:(0,Le.jsx)(ew,{role:"designer",children:(0,Le.jsx)(Jb,{children:(0,Le.jsx)(Kb,{})})})}),(0,Le.jsx)(be,{path:"/edit-questions",element:(0,Le.jsx)(ew,{role:"designer",children:(0,Le.jsx)(Jb,{children:(0,Le.jsx)(I_,{})})})}),(0,Le.jsx)(be,{path:"/choose-template/:type",element:(0,Le.jsx)(ew,{role:"designer",children:(0,Le.jsx)(Jb,{children:(0,Le.jsx)(S_,{})})})}),(0,Le.jsx)(be,{path:"/start-project/:type/:templateId",element:(0,Le.jsx)(ew,{role:"designer",children:(0,Le.jsx)(Jb,{children:(0,Le.jsx)(__,{})})})}),(0,Le.jsx)(be,{path:"/view-brief/:briefId",element:(0,Le.jsx)(ew,{role:"designer",children:(0,Le.jsx)(Jb,{children:(0,Le.jsx)(T_,{})})})}),(0,Le.jsx)(be,{path:"/dashboard/create-draft",element:(0,Le.jsx)(ew,{role:"designer",children:(0,Le.jsx)(Jb,{children:(0,Le.jsx)(D_,{})})})}),(0,Le.jsx)(be,{path:"/template/:templateId/edit",element:(0,Le.jsx)(ew,{role:"designer",children:(0,Le.jsx)(Jb,{children:(0,Le.jsx)(RR,{})})})}),(0,Le.jsx)(be,{path:"/template/create/:type",element:(0,Le.jsx)(ew,{role:"designer",children:(0,Le.jsx)(Jb,{children:(0,Le.jsx)(RR,{})})})}),(0,Le.jsx)(be,{path:"/wizard/:type/:templateId",element:(0,Le.jsx)(ew,{children:(0,Le.jsx)(Jb,{children:(0,Le.jsx)(Kb,{})})})})]})})})};a.createRoot(document.getElementById("root")).render((0,Le.jsx)(i.StrictMode,{children:(0,Le.jsx)(PR,{})}))})();
//# sourceMappingURL=main.ce83c021.js.map